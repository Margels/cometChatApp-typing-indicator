var __BUNDLE_START_TIME__=this.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=this.process||{},__METRO_GLOBAL_PREFIX__='';process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";
!(function(r){"use strict";r.__r=o,r[__METRO_GLOBAL_PREFIX__+"__d"]=function(r,i,n){if(null!=e[i])return;var o={dependencyMap:n,factory:r,hasError:!1,importedAll:t,importedDefault:t,isInitialized:!1,publicModule:{exports:{}}};e[i]=o},r.__c=n,r.__registerSegment=function(r,t,i){s[r]=t,i&&i.forEach(function(t){e[t]||v.has(t)||v.set(t,r)})};var e=n(),t={},i={}.hasOwnProperty;function n(){return e=Object.create(null)}function o(r){var t=r,i=e[t];return i&&i.isInitialized?i.publicModule.exports:d(t,i)}function l(r){var i=r;if(e[i]&&e[i].importedDefault!==t)return e[i].importedDefault;var n=o(i),l=n&&n.__esModule?n.default:n;return e[i].importedDefault=l}function u(r){var n=r;if(e[n]&&e[n].importedAll!==t)return e[n].importedAll;var l,u=o(n);if(u&&u.__esModule)l=u;else{if(l={},u)for(var a in u)i.call(u,a)&&(l[a]=u[a]);l.default=u}return e[n].importedAll=l}o.importDefault=l,o.importAll=u;var a=!1;function d(e,t){if(!a&&r.ErrorUtils){var i;a=!0;try{i=h(e,t)}catch(e){r.ErrorUtils.reportFatalError(e)}return a=!1,i}return h(e,t)}var f=16,c=65535;function p(r){return{segmentId:r>>>f,localId:r&c}}o.unpackModuleId=p,o.packModuleId=function(r){return(r.segmentId<<f)+r.localId};var s=[],v=new Map;function h(t,i){if(!i&&s.length>0){var n,a=null!==(n=v.get(t))&&void 0!==n?n:0,d=s[a];null!=d&&(d(t),i=e[t],v.delete(t))}var f=r.nativeRequire;if(!i&&f){var c=p(t),h=c.segmentId;f(c.localId,h),i=e[t]}if(!i)throw Error('Requiring unknown module "'+t+'".');if(i.hasError)throw _(t,i.error);i.isInitialized=!0;var m=i,g=m.factory,I=m.dependencyMap;try{var M=i.publicModule;return M.id=t,g(r,o,l,u,M,M.exports,I),i.factory=void 0,i.dependencyMap=void 0,M.exports}catch(r){throw i.hasError=!0,i.error=r,i.isInitialized=!1,i.publicModule.exports=void 0,r}}function _(r,e){return Error('Requiring module "'+r+'", which threw an exception: '+e)}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var e=(function(){function n(n,e){return n}function e(n){var e={};return n.forEach(function(n,r){e[n]=!0}),e}function r(n,r,u){if(n.formatValueCalls++,n.formatValueCalls>200)return"[TOO BIG formatValueCalls "+n.formatValueCalls+" exceeded limit of 200]";var f=t(n,r);if(f)return f;var c=Object.keys(r),s=e(c);if(d(r)&&(c.indexOf('message')>=0||c.indexOf('description')>=0))return o(r);if(0===c.length){if(v(r)){var g=r.name?': '+r.name:'';return n.stylize('[Function'+g+']','special')}if(p(r))return n.stylize(RegExp.prototype.toString.call(r),'regexp');if(y(r))return n.stylize(Date.prototype.toString.call(r),'date');if(d(r))return o(r)}var h,b,m='',j=!1,O=['{','}'];(h=r,Array.isArray(h)&&(j=!0,O=['[',']']),v(r))&&(m=' [Function'+(r.name?': '+r.name:'')+']');return p(r)&&(m=' '+RegExp.prototype.toString.call(r)),y(r)&&(m=' '+Date.prototype.toUTCString.call(r)),d(r)&&(m=' '+o(r)),0!==c.length||j&&0!=r.length?u<0?p(r)?n.stylize(RegExp.prototype.toString.call(r),'regexp'):n.stylize('[Object]','special'):(n.seen.push(r),b=j?i(n,r,u,s,c):c.map(function(e){return l(n,r,u,s,e,j)}),n.seen.pop(),a(b,m,O)):O[0]+m+O[1]}function t(n,e){if(s(e))return n.stylize('undefined','undefined');if('string'==typeof e){var r="'"+JSON.stringify(e).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(r,'string')}return c(e)?n.stylize(''+e,'number'):u(e)?n.stylize(''+e,'boolean'):f(e)?n.stylize('null','null'):void 0}function o(n){return'['+Error.prototype.toString.call(n)+']'}function i(n,e,r,t,o){for(var i=[],a=0,u=e.length;a<u;++a)b(e,String(a))?i.push(l(n,e,r,t,String(a),!0)):i.push('');return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(n,e,r,t,o,!0))}),i}function l(n,e,t,o,i,l){var a,u,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=c.set?n.stylize('[Getter/Setter]','special'):n.stylize('[Getter]','special'):c.set&&(u=n.stylize('[Setter]','special')),b(o,i)||(a='['+i+']'),u||(n.seen.indexOf(c.value)<0?(u=f(t)?r(n,c.value,null):r(n,c.value,t-1)).indexOf('\n')>-1&&(u=l?u.split('\n').map(function(n){return'  '+n}).join('\n').substr(2):'\n'+u.split('\n').map(function(n){return'   '+n}).join('\n')):u=n.stylize('[Circular]','special')),s(a)){if(l&&i.match(/^\d+$/))return u;(a=JSON.stringify(''+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=n.stylize(a,'name')):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=n.stylize(a,'string'))}return a+': '+u}function a(n,e,r){return n.reduce(function(n,e){return 0,e.indexOf('\n')>=0&&0,n+e.replace(/\u001b\[\d\d?m/g,'').length+1},0)>60?r[0]+(''===e?'':e+'\n ')+' '+n.join(',\n  ')+' '+r[1]:r[0]+e+' '+n.join(', ')+' '+r[1]}function u(n){return'boolean'==typeof n}function f(n){return null===n}function c(n){return'number'==typeof n}function s(n){return void 0===n}function p(n){return g(n)&&'[object RegExp]'===h(n)}function g(n){return'object'==typeof n&&null!==n}function y(n){return g(n)&&'[object Date]'===h(n)}function d(n){return g(n)&&('[object Error]'===h(n)||n instanceof Error)}function v(n){return'function'==typeof n}function h(n){return Object.prototype.toString.call(n)}function b(n,e){return Object.prototype.hasOwnProperty.call(n,e)}return function(e,t){return r({seen:[],formatValueCalls:0,stylize:n},e,t.depth)}})(),r='(index)',t={trace:0,info:1,warn:2,error:3},o=[];o[t.trace]='debug',o[t.info]='log',o[t.warn]='warning',o[t.error]='error';var i=1;function l(r){return function(){var l;l=1===arguments.length&&'string'==typeof arguments[0]?arguments[0]:Array.prototype.map.call(arguments,function(n){return e(n,{depth:10})}).join(', ');var a=arguments[0],u=r;'string'==typeof a&&'Warning: '===a.slice(0,9)&&u>=t.error&&(u=t.warn),n.__inspectorLog&&n.__inspectorLog(o[u],l,[].slice.call(arguments),i),s.length&&(l=p('',l)),n.nativeLoggingHook(l,u)}}function a(n,e){return Array.apply(null,Array(e)).map(function(){return n})}var u="\u2502",f="\u2510",c="\u2518",s=[];function p(n,e){return s.join('')+n+' '+(e||'')}if(n.nativeLoggingHook){n.console;n.console={error:l(t.error),info:l(t.info),log:l(t.info),warn:l(t.warn),trace:l(t.trace),debug:l(t.trace),table:function(e){if(!Array.isArray(e)){var o=e;for(var i in e=[],o)if(o.hasOwnProperty(i)){var l=o[i];l[r]=i,e.push(l)}}if(0!==e.length){var u=Object.keys(e[0]).sort(),f=[],c=[];u.forEach(function(n,r){c[r]=n.length;for(var t=0;t<e.length;t++){var o=(e[t][n]||'?').toString();f[t]=f[t]||[],f[t][r]=o,c[r]=Math.max(c[r],o.length)}});for(var s=y(c.map(function(n){return a('-',n).join('')}),'-'),p=[y(u),s],g=0;g<e.length;g++)p.push(y(f[g]));n.nativeLoggingHook('\n'+p.join('\n'),t.info)}else n.nativeLoggingHook('',t.info);function y(n,e){var r=n.map(function(n,e){return n+a(' ',c[e]-n.length).join('')});return e=e||' ',r.join(e+'|'+e)}},group:function(e){n.nativeLoggingHook(p(f,e),t.info),s.push(u)},groupEnd:function(){s.pop(),n.nativeLoggingHook(p(c),t.info)},groupCollapsed:function(e){n.nativeLoggingHook(p(c,e),t.info),s.push(u)},assert:function(e,r){e||n.nativeLoggingHook('Assertion failed: '+r,t.error)}},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}else if(!n.console){function g(){}var y=n.print||g;n.console={debug:y,error:y,info:y,log:y,trace:y,warn:y,assert:function(n,e){n||y('Assertion failed: '+e)},clear:g,dir:g,dirxml:g,group:g,groupCollapsed:g,groupEnd:g,profile:g,profileEnd:g,table:g},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var r=0,t=function(n,r){throw n},l={setGlobalHandler:function(n){t=n},getGlobalHandler:function(){return t},reportError:function(n){t&&t(n,!1)},reportFatalError:function(n){t&&t(n,!0)},applyWithGuard:function(n,t,u,o,e){try{return r++,n.apply(t,u)}catch(n){l.reportError(n)}finally{r--}return null},applyWithGuardIfNeeded:function(n,r,t){return l.inGuard()?n.apply(r,t):(l.applyWithGuard(n,r,t),null)},inGuard:function(){return!!r},guard:function(n,r,t){var u;if('function'!=typeof n)return console.warn('A function must be passed to ErrorUtils.guard, got ',n),null;var o=null!=(u=null!=r?r:n.name)?u:'<generated guard>';return function(){for(var r=arguments.length,u=new Array(r),e=0;e<r;e++)u[e]=arguments[e];return l.applyWithGuard(n,null!=t?t:this,u,null,o)}}};n.ErrorUtils=l})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window&&window,(function(){'use strict';var e=Object.prototype.hasOwnProperty;'function'!=typeof Object.entries&&(Object.entries=function(n){if(null==n)throw new TypeError('Object.entries called on non-object');var o=[];for(var t in n)e.call(n,t)&&o.push([t,n[t]]);return o}),'function'!=typeof Object.values&&(Object.values=function(n){if(null==n)throw new TypeError('Object.values called on non-object');var o=[];for(var t in n)e.call(n,t)&&o.push(n[t]);return o})})();
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4])),u=e(r(d[5])),l=e(r(d[6])),c=r(d[7]),f=e(r(d[8])),h=e(r(d[9]));function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}c.LogBox.ignoreLogs(["new NativeEventEmitter"]),c.LogBox.ignoreAllLogs();var p=(function(e){(0,o.default)(T,e);var p,C,L=(p=T,C=E(),function(){var e,t=(0,u.default)(p);if(C){var n=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,s.default)(this,e)});function T(e){var n;return(0,t.default)(this,T),(n=L.call(this,e)).state={libraryName:""},n.addEventListner(),console.log("this.props.hidePauseVideoButton",n.props.hidePauseVideoButton),n}return(0,n.default)(T,[{key:"render",value:function(){var e,t=this;return l.default.createElement(c.SafeAreaView,{style:{flex:1}},l.default.createElement(c.View,{style:{flex:1}},l.default.createElement(f.default,{sessionId:this.props.sessionId,isInitiator:this.props.isInitiator,enableDefaultLayout:this.props.enableDefaultLayout,isAudioOnly:this.props.isAudioOnly,onEndCall:function(){t.onEndCall()},onCallEndButtonPressed:function(){t.onCallEndButtonPressed()},onUserJoinned:function(e){t.onUserJoinned(e)},onUserLeft:function(e){t.onUserLeft(e)},onUserListChanged:function(e){t.onUserListChanged(e)},onAudioDeviceListChanged:function(e){t.onAudioModeChanged(e)},getAudioModesOnSuccess:function(e){t.getAudioModesOnSuccess(e)},onSwitchedToVideoCall:function(e){t.onSwitchedToVideoCall(e)},onUserMuted:function(e){t.onUserMuted(e)},onRecordingToggled:function(e){t.onRecordingToggled(e)},hideAudioMuteButton:this.props.hideAudioMuteButton,hideEndCallButton:this.props.hideEndCallButton,hidePauseVideoButton:this.props.hidePauseVideoButton,hideVideoSwitchButton:this.props.hideVideoSwitchButton,showCallRecordingButton:this.props.showRecordingButton,startRecordingOnCallStart:this.props.startRecordingOnCallStart,hideAudioModeButton:this.props.hideAudioModeButton,RTCUser:this.props.RTCUser,RTCReceiver:this.props.RTCReceiver,RTCInitiator:this.props.RTCInitiator,REGION:this.props.REGION,isConference:this.props.isConference,isSingleMode:this.props.isSingleMode,mode:this.props.mode,domain:this.props.domain,defaultAudioMode:this.props.defaultAudioMode,startAudioMuted:this.props.startAudioMuted,startVideoMuted:this.props.startVideoMuted,appId:this.props.appId,analyticsSettings:this.props.analyticsSettings,showSwitchToVideoCallButton:this.props.showSwitchToVideoCallButton,avatarMode:null==(e=this.props.avatarMode)?void 0:e.toLowerCase()})))}},{key:"onEndCall",value:function(){h.default.onCallEnded()}},{key:"onCallEndButtonPressed",value:function(){h.default&&h.default.onCallEndButtonPressed()}},{key:"onUserJoinned",value:function(e){h.default.onUserJoinned(e)}},{key:"onUserLeft",value:function(e){h.default.onUserLeft(e)}},{key:"onUserListChanged",value:function(e){h.default.onUserListChanged(e)}},{key:"onAudioModeChanged",value:function(e){h.default.onAudioModeChanged(e)}},{key:"getAudioModesOnSuccess",value:function(e){h.default.getAudioModesOnSuccess(e)}},{key:"onSwitchedToVideoCall",value:function(e){h.default.onCallSwitchedToVideo(e.sessionId,e.initiator,e.responder)}},{key:"onUserMuted",value:function(e){h.default.onUserMuted(e)}},{key:"onRecordingToggled",value:function(e){h.default.onRecordingToggled(e)}},{key:"addEventListner",value:function(){this.eventListener=new c.NativeEventEmitter(h.default),this.eventListener.addListener("EVENT_END_CALL_SESSION",function(e){f.default.endCallSession()}),this.eventListener.addListener("EVENT_SWITCH_CAMERA_SOURCE",function(e){f.default.switchCameraSource()}),this.eventListener.addListener("EVENT_MUTE_AUDIO",function(e){f.default.muteAudio()}),this.eventListener.addListener("EVENT_UNMUTE_AUDIO",function(e){f.default.unMuteAudio()}),this.eventListener.addListener("EVENT_PAUSE_VIDEO",function(e){f.default.pauseVideo()}),this.eventListener.addListener("EVENT_UNPAUSE_VIDEO",function(e){f.default.unPauseVideo()}),this.eventListener.addListener("EVENT_AUDIO_MODE_SPEAKER",function(e){f.default.setAudioModeToSpeaker()}),this.eventListener.addListener("EVENT_AUDIO_MODE_EARPIECE",function(e){f.default.setAudioModeToEarPiece()}),this.eventListener.addListener("EVENT_UNMOUNT_COMPONENT",function(e){}),this.eventListener.addListener("EVENT_REMOUNT_COMPONENT",function(e){}),this.eventListener.addListener("EVENT_ENTER_PIP_MODE",function(e){f.default.enterPIPMode()}),this.eventListener.addListener("EVENT_EXIT_PIP_MODE",function(e){f.default.exitPIPMode()}),this.eventListener.addListener("EVENT_SWITCH_TO_VIDEO_CALL",function(e){f.default.switchToVideoCall()}),this.eventListener.addListener("EVENT_START_CALL_RECORDING",function(e){f.default.startCallRecording()}),this.eventListener.addListener("EVENT_STOP_CALL_RECORDING",function(e){f.default.stopCallRecording()})}}]),T})(l.default.Component);c.StyleSheet.create({container:{flex:1}});c.AppRegistry.registerComponent("CometChatRTCComponent",function(){return p})},0,[1,2,3,4,6,9,10,14,394,576]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){return n&&n.__esModule?n:{default:n}}},1,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}},2,[]);
__d(function(g,r,_i,a,m,e,d){function n(n,t){for(var o=0;o<t.length;o++){var u=t[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}m.exports=function(t,o,u){return o&&n(t.prototype,o),u&&n(t,u),t}},3,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(o,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),n&&t(o,n)}},4,[5]);
__d(function(g,r,i,a,m,e,d){function t(o,n){return m.exports=t=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t},t(o,n)}m.exports=t},5,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]);m.exports=function(o,c){return!c||"object"!==n(c)&&"function"!=typeof c?t(o):c}},6,[7,8]);
__d(function(g,r,i,a,m,e,d){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(t)}function t(n){return"function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?m.exports=t=function(t){return o(t)}:m.exports=t=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)},t(n)}m.exports=t},7,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}},8,[]);
__d(function(g,r,i,a,m,e,d){function t(o){return m.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t(o)}m.exports=t},9,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},10,[11]);
__d(function(_g,_r,i,_a,_m,_e,_d){'use strict';var e=_r(_d[0]),t=60103,r=60106;_e.Fragment=60107,_e.StrictMode=60108,_e.Profiler=60114;var n=60109,o=60110,u=60112;_e.Suspense=60113;var f=60115,a=60116;if("function"==typeof Symbol&&Symbol.for){var c=Symbol.for;t=c("react.element"),r=c("react.portal"),_e.Fragment=c("react.fragment"),_e.StrictMode=c("react.strict_mode"),_e.Profiler=c("react.profiler"),n=c("react.provider"),o=c("react.context"),u=c("react.forward_ref"),_e.Suspense=c("react.suspense"),f=c("react.memo"),a=c("react.lazy")}var l="function"==typeof Symbol&&Symbol.iterator;function s(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=l&&e[l]||e["@@iterator"])?e:null}function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d={};function v(e,t,r){this.props=e,this.context=t,this.refs=d,this.updater=r||y}function h(){}function _(e,t,r){this.props=e,this.context=t,this.refs=d,this.updater=r||y}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=v.prototype;var m=_.prototype=new h;m.constructor=_,e(m,v.prototype),m.isPureReactComponent=!0;var b={current:null},S=Object.prototype.hasOwnProperty,$={key:!0,ref:!0,__self:!0,__source:!0};function w(e,r,n){var o,u={},f=null,a=null;if(null!=r)for(o in void 0!==r.ref&&(a=r.ref),void 0!==r.key&&(f=""+r.key),r)S.call(r,o)&&!$.hasOwnProperty(o)&&(u[o]=r[o]);var c=arguments.length-2;if(1===c)u.children=n;else if(1<c){for(var l=Array(c),s=0;s<c;s++)l[s]=arguments[s+2];u.children=l}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===u[o]&&(u[o]=c[o]);return{$$typeof:t,type:e,key:f,ref:a,props:u,_owner:b.current}}function g(e,r){return{$$typeof:t,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function C(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}var E=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?C(""+e.key):t.toString(36)}function j(e,n,o,u,f){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case t:case r:c=!0}}if(c)return f=f(c=e),e=""===u?"."+R(c,0):u,Array.isArray(f)?(o="",null!=e&&(o=e.replace(E,"$&/")+"/"),j(f,n,o,"",function(e){return e})):null!=f&&(k(f)&&(f=g(f,o+(!f.key||c&&c.key===f.key?"":(""+f.key).replace(E,"$&/")+"/")+e)),n.push(f)),1;if(c=0,u=""===u?".":u+":",Array.isArray(e))for(var l=0;l<e.length;l++){var y=u+R(a=e[l],l);c+=j(a,n,o,y,f)}else if("function"==typeof(y=s(e)))for(e=y.call(e),l=0;!(a=e.next()).done;)c+=j(a=a.value,n,o,y=u+R(a,l++),f);else if("object"===a)throw n=""+e,Error(p(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n));return c}function P(e,t,r){if(null==e)return e;var n=[],o=0;return j(e,n,"","",function(e){return t.call(r,e,o++)}),n}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var A={current:null};function x(){var e=A.current;if(null===e)throw Error(p(321));return e}var I={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:e};_e.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error(p(143));return e}},_e.Component=v,_e.PureComponent=_,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,_e.cloneElement=function(r,n,o){if(null===r||void 0===r)throw Error(p(267,r));var u=e({},r.props),f=r.key,a=r.ref,c=r._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,c=b.current),void 0!==n.key&&(f=""+n.key),r.type&&r.type.defaultProps)var l=r.type.defaultProps;for(s in n)S.call(n,s)&&!$.hasOwnProperty(s)&&(u[s]=void 0===n[s]&&void 0!==l?l[s]:n[s])}var s=arguments.length-2;if(1===s)u.children=o;else if(1<s){l=Array(s);for(var y=0;y<s;y++)l[y]=arguments[y+2];u.children=l}return{$$typeof:t,type:r.type,key:f,ref:a,props:u,_owner:c}},_e.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:n,_context:e},e.Consumer=e},_e.createElement=w,_e.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},_e.createRef=function(){return{current:null}},_e.forwardRef=function(e){return{$$typeof:u,render:e}},_e.isValidElement=k,_e.lazy=function(e){return{$$typeof:a,_payload:{_status:-1,_result:e},_init:O}},_e.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},_e.useCallback=function(e,t){return x().useCallback(e,t)},_e.useContext=function(e,t){return x().useContext(e,t)},_e.useDebugValue=function(){},_e.useEffect=function(e,t){return x().useEffect(e,t)},_e.useImperativeHandle=function(e,t,r){return x().useImperativeHandle(e,t,r)},_e.useLayoutEffect=function(e,t){return x().useLayoutEffect(e,t)},_e.useMemo=function(e,t){return x().useMemo(e,t)},_e.useReducer=function(e,t,r){return x().useReducer(e,t,r)},_e.useRef=function(e){return x().useRef(e)},_e.useState=function(e){return x().useState(e)},_e.version="17.0.2"},11,[12]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]),n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||void 0===t)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(t)}m.exports=(function(){try{if(!Object.assign)return!1;var n=new String('abc');if(n[5]='de','5'===Object.getOwnPropertyNames(n)[0])return!1;for(var o={},c=0;c<10;c++)o['_'+String.fromCharCode(c)]=c;if('0123456789'!==Object.getOwnPropertyNames(o).map(function(t){return o[t]}).join(''))return!1;var i={};return'abcdefghijklmnopqrst'.split('').forEach(function(t){i[t]=t}),'abcdefghijklmnopqrst'===Object.keys(t({},i)).join('')}catch(t){return!1}})()?Object.assign:function(t,f){for(var u,s,b=i(t),l=1;l<arguments.length;l++){for(var p in u=Object(arguments[l]))o.call(u,p)&&(b[p]=u[p]);if(n){s=n(u);for(var j=0;j<s.length;j++)c.call(u,s[j])&&(b[s[j]]=u[s[j]])}}return b}},12,[13]);
__d(function(g,r,_i,a,m,e,d){function t(){return m.exports=t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(t[p]=o[p])}return t},t.apply(this,arguments)}m.exports=t},13,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var t=r(d[1]);m.exports={get AccessibilityInfo(){return r(d[2]).default},get ActivityIndicator(){return r(d[3])},get Button(){return r(d[4])},get DatePickerIOS(){return t('DatePickerIOS-merged',"DatePickerIOS has been merged with DatePickerAndroid and will be removed in a future release. It can now be installed and imported from '@react-native-community/datetimepicker' instead of 'react-native'. See https://github.com/react-native-datetimepicker/datetimepicker"),r(d[5])},get DrawerLayoutAndroid(){return r(d[6])},get FlatList(){return r(d[7])},get Image(){return r(d[8])},get ImageBackground(){return r(d[9])},get InputAccessoryView(){return r(d[10])},get KeyboardAvoidingView(){return r(d[11]).default},get MaskedViewIOS(){return t('maskedviewios-moved',"MaskedViewIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-masked-view/masked-view' instead of 'react-native'. See https://github.com/react-native-masked-view/masked-view"),r(d[12])},get Modal(){return r(d[13])},get Pressable(){return r(d[14]).default},get ProgressBarAndroid(){return t('progress-bar-android-moved',"ProgressBarAndroid has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/progress-bar-android' instead of 'react-native'. See https://github.com/react-native-progress-view/progress-bar-android"),r(d[15])},get ProgressViewIOS(){return t('progress-view-ios-moved',"ProgressViewIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/progress-view' instead of 'react-native'. See https://github.com/react-native-progress-view/progress-view"),r(d[16])},get RefreshControl(){return r(d[17])},get SafeAreaView(){return r(d[18]).default},get ScrollView(){return r(d[19])},get SectionList(){return r(d[20]).default},get SegmentedControlIOS(){return t('segmented-control-ios-moved',"SegmentedControlIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-segmented-control/segmented-control' instead of 'react-native'. See https://github.com/react-native-segmented-control/segmented-control"),r(d[21])},get Slider(){return t('slider-moved',"Slider has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/slider' instead of 'react-native'. See https://github.com/callstack/react-native-slider"),r(d[22])},get StatusBar(){return r(d[23])},get Switch(){return r(d[24]).default},get Text(){return r(d[25])},get TextInput(){return r(d[26])},get Touchable(){return r(d[27])},get TouchableHighlight(){return r(d[28])},get TouchableNativeFeedback(){return r(d[29])},get TouchableOpacity(){return r(d[30])},get TouchableWithoutFeedback(){return r(d[31])},get View(){return r(d[32])},get VirtualizedList(){return r(d[33])},get VirtualizedSectionList(){return r(d[34])},get ActionSheetIOS(){return r(d[35])},get Alert(){return r(d[36])},get Animated(){return r(d[37])},get Appearance(){return r(d[38])},get AppRegistry(){return r(d[39])},get AppState(){return r(d[40])},get AsyncStorage(){return t('async-storage-moved',"AsyncStorage has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-async-storage/async-storage' instead of 'react-native'. See https://github.com/react-native-async-storage/async-storage"),r(d[41])},get BackHandler(){return r(d[42])},get Clipboard(){return t('clipboard-moved',"Clipboard has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-clipboard/clipboard' instead of 'react-native'. See https://github.com/react-native-clipboard/clipboard"),r(d[43])},get DatePickerAndroid(){return t('DatePickerAndroid-merged',"DatePickerAndroid has been merged with DatePickerIOS and will be removed in a future release. It can now be installed and imported from '@react-native-community/datetimepicker' instead of 'react-native'. See https://github.com/react-native-datetimepicker/datetimepicker"),r(d[44])},get DeviceInfo(){return r(d[45])},get DevSettings(){return r(d[46])},get Dimensions(){return r(d[47])},get Easing(){return r(d[48])},get findNodeHandle(){return r(d[49]).findNodeHandle},get I18nManager(){return r(d[50])},get ImagePickerIOS(){return t('imagePickerIOS-moved',"ImagePickerIOS has been extracted from react-native core and will be removed in a future release. Please upgrade to use either '@react-native-community/react-native-image-picker' or 'expo-image-picker'. If you cannot upgrade to a different library, please install the deprecated '@react-native-community/image-picker-ios' package. See https://github.com/rnc-archive/react-native-image-picker-ios"),r(d[51])},get InteractionManager(){return r(d[52])},get Keyboard(){return r(d[53])},get LayoutAnimation(){return r(d[54])},get Linking(){return r(d[55])},get LogBox(){return r(d[56])},get NativeDialogManagerAndroid(){return r(d[57]).default},get NativeEventEmitter(){return r(d[58]).default},get Networking(){return r(d[59])},get PanResponder(){return r(d[60])},get PermissionsAndroid(){return r(d[61])},get PixelRatio(){return r(d[62])},get PushNotificationIOS(){return t('pushNotificationIOS-moved',"PushNotificationIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/push-notification-ios' instead of 'react-native'. See https://github.com/react-native-push-notification-ios/push-notification-ios"),r(d[63])},get Settings(){return r(d[64])},get Share(){return r(d[65])},get StyleSheet(){return r(d[66])},get Systrace(){return r(d[67])},get ToastAndroid(){return r(d[68])},get TurboModuleRegistry(){return r(d[69])},get UIManager(){return r(d[70])},get unstable_batchedUpdates(){return r(d[49]).unstable_batchedUpdates},get useColorScheme(){return r(d[71]).default},get useWindowDimensions(){return r(d[72]).default},get UTFSequence(){return r(d[73])},get Vibration(){return r(d[74])},get YellowBox(){return r(d[75])},get DeviceEventEmitter(){return r(d[76]).default},get DynamicColorIOS(){return r(d[77]).DynamicColorIOS},get NativeAppEventEmitter(){return r(d[78])},get NativeModules(){return r(d[79])},get Platform(){return r(d[80])},get PlatformColor(){return r(d[81]).PlatformColor},get processColor(){return r(d[82])},get requireNativeComponent(){return r(d[83])},get RootTagContext(){return r(d[84]).RootTagContext},get unstable_enableLogBox(){return function(){return console.warn('LogBox is enabled by default so there is no need to call unstable_enableLogBox() anymore. This is a no op and will be removed in the next version.')}},get ColorPropType(){return r(d[85])},get EdgeInsetsPropType(){return r(d[86])},get PointPropType(){return r(d[87])},get ViewPropTypes(){return r(d[88])}}},14,[15,16,17,175,186,289,291,249,276,292,293,295,296,298,306,180,308,255,310,258,285,312,314,316,319,187,323,329,333,212,213,334,177,251,286,335,108,214,337,340,355,358,352,361,363,364,365,159,243,24,304,367,224,260,261,369,372,111,99,88,373,375,158,377,379,381,176,31,383,39,145,384,387,388,389,391,18,392,119,40,55,137,134,184,303,189,190,393,325]);
__d(function(g,r,i,_a,m,_e,_d){'use strict';m.exports=function(e,n,o,t,a,f,s,d){if(!e){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,t,a,f,s,d],l=0;(u=new Error(n.replace(/%s/g,function(){return c[l++]}))).name='Invariant Violation'}throw u.framesToPop=1,u}}},15,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={};m.exports=function(o,t){n[o]||(console.warn(t),n[o]=!0)}},16,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),l=r(d[2]),u=n(r(d[3])),o=n(r(d[4])),c=n(r(d[5])),s=n(r(d[6])),f='android'===u.default.OS?new Map([['change','touchExplorationDidChange'],['reduceMotionChanged','reduceMotionDidChange'],['screenReaderChanged','touchExplorationDidChange']]):new Map([['announcementFinished','announcementFinished'],['boldTextChanged','boldTextChanged'],['change','screenReaderChanged'],['grayscaleChanged','grayscaleChanged'],['invertColorsChanged','invertColorsChanged'],['reduceMotionChanged','reduceMotionChanged'],['reduceTransparencyChanged','reduceTransparencyChanged'],['screenReaderChanged','screenReaderChanged']]),C={isBoldTextEnabled:function(){return'android'===u.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=c.default?c.default.getCurrentBoldTextState(n,t):t(null)})},isGrayscaleEnabled:function(){return'android'===u.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=c.default?c.default.getCurrentGrayscaleState(n,t):t(null)})},isInvertColorsEnabled:function(){return'android'===u.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=c.default?c.default.getCurrentInvertColorsState(n,t):t(null)})},isReduceMotionEnabled:function(){return new Promise(function(n,t){'android'===u.default.OS?null!=o.default?o.default.isReduceMotionEnabled(n):t(null):null!=c.default?c.default.getCurrentReduceMotionState(n,t):t(null)})},isReduceTransparencyEnabled:function(){return'android'===u.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=c.default?c.default.getCurrentReduceTransparencyState(n,t):t(null)})},isScreenReaderEnabled:function(){return new Promise(function(n,t){'android'===u.default.OS?null!=o.default?o.default.isTouchExplorationEnabled(n):t(null):null!=c.default?c.default.getCurrentVoiceOverState(n,t):t(null)})},addEventListener:function(n,l){var u=f.get(n);return null==u?{remove:function(){}}:t.default.addListener(u,l)},setAccessibilityFocus:function(n){(0,s.default)(n,'focus')},sendAccessibilityEvent_unstable:function(n,t){'ios'===u.default.OS&&'click'===t||(0,l.sendAccessibilityEvent)(n,t)},announceForAccessibility:function(n){'android'===u.default.OS?null==o.default||o.default.announceForAccessibility(n):null==c.default||c.default.announceForAccessibility(n)},removeEventListener:function(n,l){null!=f.get(n)&&t.default.removeListener('deviceEventName',l)},getRecommendedTimeoutMillis:function(n){return'android'===u.default.OS?new Promise(function(t,l){null!=o.default&&o.default.getRecommendedTimeoutMillis?o.default.getRecommendedTimeoutMillis(n,t):t(n)}):Promise.resolve(n)}};e.default=C},17,[1,18,24,55,174,171,170]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=new(t(r(d[1])).default);e.default=u},18,[1,19]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);e.default=t},19,[20]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]),i=t(r(d[1])),n=t(r(d[2])),s=t(r(d[3])),o=t(r(d[4])),u=r(d[5]),c=function(){return!0},b=(function(){function t(n){(0,i.default)(this,t),this._subscriber=new o.default,null!=n&&(console.warn('EventEmitter(...): Constructor argument is deprecated.'),this._subscriber=n)}return(0,n.default)(t,[{key:"addListener",value:function(t,i,n){return this._subscriber.addSubscription(t,new s.default(this,this._subscriber,i,n))}},{key:"removeAllListeners",value:function(t){this._subscriber.removeAllSubscriptions(t)}},{key:"removeSubscription",value:function(t){console.warn("EventEmitter.removeSubscription(...): Method has been deprecated. Please instead use `remove()` on the subscription itself."),this.__removeSubscription(t)}},{key:"__removeSubscription",value:function(t){u(t.emitter===this,'Subscription does not belong to this emitter.'),this._subscriber.removeSubscription(t)}},{key:"listenerCount",value:function(t){var i=this._subscriber.getSubscriptionsForType(t);return i?i.filter(c).length:0}},{key:"emit",value:function(t){var i=this._subscriber.getSubscriptionsForType(t);if(i){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];for(var u=0,c=i.length;u<c;u++){var b=i[u];b&&b.listener&&b.listener.apply(b.context,s)}}}},{key:"removeListener",value:function(t,i){console.warn("EventEmitter.removeListener('"+t+"', ...): Method has been deprecated. Please instead use `remove()` on the subscription returned by `EventEmitter.addListener`.");var n=this._subscriber.getSubscriptionsForType(t);if(n)for(var s=0,o=n.length;s<o;s++){var u=n[s];u&&u.listener===i&&u.remove()}}}]),t})();m.exports=b},20,[1,2,3,21,23,15]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),f=t(r(d[5]));function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var l=(function(t){(0,u.default)(h,t);var l,s,v=(l=h,s=o(),function(){var t,e=(0,f.default)(l);if(s){var n=(0,f.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,c.default)(this,t)});function h(t,n,u,c){var f;return(0,e.default)(this,h),(f=v.call(this,n)).emitter=t,f.listener=u,f.context=c,f}return(0,n.default)(h,[{key:"remove",value:function(){this.emitter.__removeSubscription(this)}}]),h})(t(r(d[6])).default);m.exports=l},21,[1,2,3,4,6,9,22]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),u=t(r(d[2])),n=(function(){function t(u){(0,s.default)(this,t),this.subscriber=u}return(0,u.default)(t,[{key:"remove",value:function(){this.subscriber.removeSubscription(this)}}]),t})();m.exports=n},22,[1,2,3]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),t=r(d[1]),n=r(d[2]),o=(function(){function o(){s(this,o),this._subscriptionsForType={}}return t(o,[{key:"addSubscription",value:function(s,t){n(t.subscriber===this,'The subscriber of the subscription is incorrectly set.'),this._subscriptionsForType[s]||(this._subscriptionsForType[s]=[]);var o=this._subscriptionsForType[s].length;return this._subscriptionsForType[s].push(t),t.eventType=s,t.key=o,t}},{key:"removeAllSubscriptions",value:function(s){null==s?this._subscriptionsForType={}:delete this._subscriptionsForType[s]}},{key:"removeSubscription",value:function(s){var t=s.eventType,n=s.key,o=this._subscriptionsForType[t];o&&delete o[n]}},{key:"getSubscriptionsForType",value:function(s){return this._subscriptionsForType[s]}}]),o})();m.exports=o},23,[2,3,15]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;t=r(d[0]),m.exports=t},24,[25]);
__d(function(e,n,t,r,l,a,i){"use strict";var u=n(i[0]);n(i[1]);var o=n(i[2]),s=n(i[3]),c=n(i[4]);function d(e,n,t,r,l,a,i,u,o){var s=Array.prototype.slice.call(arguments,3);try{n.apply(t,s)}catch(e){this.onError(e)}}var f=!1,p=null,h=!1,g=null,m={onError:function(e){f=!0,p=e}};function v(e,n,t,r,l,a,i,u,o){f=!1,p=null,d.apply(m,arguments)}function b(e,n,t,r,l,a,i,u,o){if(v.apply(this,arguments),f){if(!f)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var s=p;f=!1,p=null,h||(h=!0,g=s)}}var y=Array.isArray,S=null,k=null,w=null;function T(e,n,t){var r=e.type||"unknown-event";e.currentTarget=w(t),b(r,n,void 0,e),e.currentTarget=null}function x(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(y(n))throw Error("executeDirectDispatch(...): Invalid `event`.");return e.currentTarget=n?w(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function P(){return!0}function _(){return!1}function R(e,n,t,r){for(var l in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,this._dispatchInstances=this._dispatchListeners=null,e=this.constructor.Interface)e.hasOwnProperty(l)&&((n=e[l])?this[l]=n(t):"target"===l?this.target=r:this[l]=t[l]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?P:_,this.isPropagationStopped=_,this}function E(e,n,t,r){if(this.eventPool.length){var l=this.eventPool.pop();return this.call(l,e,n,t,r),l}return new this(e,n,t,r)}function C(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function N(e){e.getPooled=E,e.eventPool=[],e.release=C}u(R.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=P)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=P)},persist:function(){this.isPersistent=P},isPersistent:_,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=_,this._dispatchInstances=this._dispatchListeners=null}}),R.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},R.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var l=new n;return u(l,t.prototype),t.prototype=l,t.prototype.constructor=t,t.Interface=u({},r.Interface,e),t.extend=r.extend,N(t),t},N(R);var z=R.extend({touchHistory:function(){return null}});function I(e){return"topTouchStart"===e}function L(e){return"topTouchMove"===e}var U=["topTouchStart"],M=["topTouchMove"],F=["topTouchCancel","topTouchEnd"],D=[],A={touchBank:D,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function Q(e){return e.timeStamp||e.timestamp}function H(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function O(e){var n=H(e),t=D[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=Q(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=Q(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=Q(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:Q(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:Q(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:Q(e)},D[n]=t),A.mostRecentTimeStamp=Q(e)}function j(e){var n=D[H(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=Q(e),A.mostRecentTimeStamp=Q(e))}function B(e){var n=D[H(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=Q(e),A.mostRecentTimeStamp=Q(e))}var V,W={instrument:function(e){V=e},recordTouchTrack:function(e,n){if(null!=V&&V(e,n),L(e))n.changedTouches.forEach(j);else if(I(e))n.changedTouches.forEach(O),A.numberActiveTouches=n.touches.length,1===A.numberActiveTouches&&(A.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(B),A.numberActiveTouches=n.touches.length,1===A.numberActiveTouches))for(e=0;e<D.length;e++)if(null!=(n=D[e])&&n.touchActive){A.indexOfSingleActiveTouch=e;break}},touchHistory:A};function Y(e,n){if(null==n)throw Error("accumulate(...): Accumulated items must not be null or undefined.");return null==e?n:y(e)?e.concat(n):y(n)?[e].concat(n):[e,n]}function q(e,n){if(null==n)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?n:y(e)?y(n)?(e.push.apply(e,n),e):(e.push(n),e):y(n)?[e].concat(n):[e,n]}function X(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var $=null,G=0;function K(e,n){var t=$;$=e,null!==ie.GlobalResponderHandler&&ie.GlobalResponderHandler.onChange(t,e,n)}var J={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:U},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:M},responderStart:{registrationName:"onResponderStart",dependencies:U},responderMove:{registrationName:"onResponderMove",dependencies:M},responderEnd:{registrationName:"onResponderEnd",dependencies:F},responderRelease:{registrationName:"onResponderRelease",dependencies:F},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function Z(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function ee(e,n,t){for(var r=[];e;)r.push(e),e=Z(e);for(e=r.length;0<e--;)n(r[e],"captured",t);for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function ne(e,n){if(null===(e=e.stateNode))return null;if(null===(e=S(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}function te(e,n,t){(n=ne(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=q(t._dispatchListeners,n),t._dispatchInstances=q(t._dispatchInstances,e))}function re(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=ne(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=q(e._dispatchListeners,t),e._dispatchInstances=q(e._dispatchInstances,n))}}}function le(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;ee(n=n?Z(n):null,te,e)}}function ae(e){e&&e.dispatchConfig.phasedRegistrationNames&&ee(e._targetInst,te,e)}var ie={_getResponder:function(){return $},eventTypes:J,extractEvents:function(e,n,t,r){if(I(e))G+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=G))return null;--G}if(W.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<G&&"topSelectionChange"===e||I(e)||L(e))){var l=I(e)?J.startShouldSetResponder:L(e)?J.moveShouldSetResponder:"topSelectionChange"===e?J.selectionChangeShouldSetResponder:J.scrollShouldSetResponder;if($)e:{for(var a=$,i=0,u=a;u;u=Z(u))i++;u=0;for(var o=n;o;o=Z(o))u++;for(;0<i-u;)a=Z(a),i--;for(;0<u-i;)n=Z(n),u--;for(;i--;){if(a===n||a===n.alternate)break e;a=Z(a),n=Z(n)}a=null}else a=n;a=(n=a)===$,(l=z.getPooled(l,n,t,r)).touchHistory=W.touchHistory,X(l,a?le:ae);e:{if(a=l._dispatchListeners,n=l._dispatchInstances,y(a)){for(i=0;i<a.length&&!l.isPropagationStopped();i++)if(a[i](l,n[i])){a=n[i];break e}}else if(a&&a(l,n)){a=n;break e}a=null}if(l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),a&&a!==$)if((l=z.getPooled(J.responderGrant,a,t,r)).touchHistory=W.touchHistory,X(l,re),n=!0===x(l),$)if((i=z.getPooled(J.responderTerminationRequest,$,t,r)).touchHistory=W.touchHistory,X(i,re),u=!i._dispatchListeners||x(i),i.isPersistent()||i.constructor.release(i),u){(i=z.getPooled(J.responderTerminate,$,t,r)).touchHistory=W.touchHistory,X(i,re);var s=Y(s,[l,i]);K(a,n)}else(l=z.getPooled(J.responderReject,a,t,r)).touchHistory=W.touchHistory,X(l,re),s=Y(s,l);else s=Y(s,l),K(a,n);else s=null}else s=null;if(l=$&&I(e),a=$&&L(e),n=$&&("topTouchEnd"===e||"topTouchCancel"===e),(l=l?J.responderStart:a?J.responderMove:n?J.responderEnd:null)&&((l=z.getPooled(l,$,t,r)).touchHistory=W.touchHistory,X(l,re),s=Y(s,l)),l=$&&"topTouchCancel"===e,e=$&&!l&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(a=0;a<e.length;a++)if(null!==(n=e[a].target)&&void 0!==n&&0!==n){i=k(n);n:{for(n=$;i;){if(n===i||n===i.alternate){n=!0;break n}i=Z(i)}n=!1}if(n){e=!1;break e}}e=!0}return(e=l?J.responderTerminate:e?J.responderRelease:null)&&((t=z.getPooled(e,$,t,r)).touchHistory=W.touchHistory,X(t,re),s=Y(s,t),K(null)),s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){ie.GlobalResponderHandler=e}}},ue=null,oe={};function se(){if(ue)for(var e in oe){var n=oe[e],t=ue.indexOf(e);if(!(-1<t))throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!de[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var r in de[t]=n,t=n.eventTypes){var l=void 0,a=t[r],i=r;if(fe.hasOwnProperty(i))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+i+"`.");fe[i]=a;var u=a.phasedRegistrationNames;if(u){for(l in u)u.hasOwnProperty(l)&&ce(u[l],n);l=!0}else a.registrationName?(ce(a.registrationName,n),l=!0):l=!1;if(!l)throw Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`.")}}}}function ce(e,n){if(pe[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");pe[e]=n}var de=[],fe={},pe={};function he(e,n){if(null===(e=e.stateNode))return null;if(null===(e=S(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}var ge=o.ReactNativeViewConfigRegistry.customBubblingEventTypes,me=o.ReactNativeViewConfigRegistry.customDirectEventTypes;function ve(e,n,t){(n=he(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=q(t._dispatchListeners,n),t._dispatchInstances=q(t._dispatchInstances,e))}function be(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var n=e._targetInst,t=[];n;){t.push(n);do{n=n.return}while(n&&5!==n.tag);n=n||null}for(n=t.length;0<n--;)ve(t[n],"captured",e);for(n=0;n<t.length;n++)ve(t[n],"bubbled",e)}}function ye(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=he(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=q(e._dispatchListeners,t),e._dispatchInstances=q(e._dispatchInstances,n))}}}if(ue)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");ue=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),se();var Se,ke={ResponderEventPlugin:ie,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,r){if(null==n)return null;var l=ge[e],a=me[e];if(!l&&!a)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=R.getPooled(l||a,n,t,r),l)X(e,be);else{if(!a)return null;X(e,ye)}return e}}},we=!1;for(Se in ke)if(ke.hasOwnProperty(Se)){var Te=ke[Se];if(!oe.hasOwnProperty(Se)||oe[Se]!==Te){if(oe[Se])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+Se+"`.");oe[Se]=Te,we=!0}}we&&se();var xe=new Map,Pe=new Map;function _e(e){return xe.get(e)||null}function Re(e,n){return e(n)}var Ee=!1;function Ce(e,n){if(Ee)return e(n);Ee=!0;try{return Re(e,n)}finally{Ee=!1}}var Ne=null;function ze(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(y(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)T(e,n[r],t[r]);else n&&T(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var Ie={};function Le(e,n,t){var r=t||Ie,l=_e(e),a=null;null!=l&&(a=l.stateNode),Ce(function(){for(var e=a,t=null,i=de,u=0;u<i.length;u++){var o=i[u];o&&(o=o.extractEvents(n,l,r,e))&&(t=q(t,o))}if(null!==(e=t)&&(Ne=q(Ne,e)),e=Ne,Ne=null,e){if(X(e,ze),Ne)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(h)throw e=g,h=!1,g=null,e}})}o.RCTEventEmitter.register({receiveEvent:function(e,n,t){Le(e,n,t)},receiveTouches:function(e,n,t){if("topTouchEnd"===e||"topTouchCancel"===e){for(var r=[],l=0;l<t.length;l++){var a=t[l];r.push(n[a]),n[a]=null}for(l=t=0;l<n.length;l++)null!==(a=n[l])&&(n[t++]=a);n.length=t}else for(r=[],l=0;l<t.length;l++)r.push(n[t[l]]);for(t=0;t<r.length;t++){(l=r[t]).changedTouches=r,l.touches=n,a=null;var i=l.target;null===i||void 0===i||1>i||(a=i),Le(a,e,l)}}}),S=function(e){return Pe.get(e._nativeTag)||null},k=_e,w=function(e){var n=(e=e.stateNode)._nativeTag;if(void 0===n&&(n=(e=e.canonical)._nativeTag),!n)throw Error("All native instances should have a tag.");return e},ie.injection.injectGlobalResponderHandler({onChange:function(e,n,t){null!==n?o.UIManager.setJSResponder(n.stateNode._nativeTag,t):o.UIManager.clearJSResponder()}});var Ue=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Me=60103,Fe=60106,De=60107,Ae=60108,Qe=60114,He=60109,Oe=60110,je=60112,Be=60113,Ve=60120,We=60115,Ye=60116,qe=60129,Xe=60130,$e=60131,Ge=60132;if("function"==typeof Symbol&&Symbol.for){var Ke=Symbol.for;Me=Ke("react.element"),Fe=Ke("react.portal"),De=Ke("react.fragment"),Ae=Ke("react.strict_mode"),Qe=Ke("react.profiler"),He=Ke("react.provider"),Oe=Ke("react.context"),je=Ke("react.forward_ref"),Be=Ke("react.suspense"),Ve=Ke("react.suspense_list"),We=Ke("react.memo"),Ye=Ke("react.lazy"),Ke("react.scope"),qe=Ke("react.debug_trace_mode"),Xe=Ke("react.offscreen"),$e=Ke("react.legacy_hidden"),Ge=Ke("react.cache")}var Je="function"==typeof Symbol&&Symbol.iterator;function Ze(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Je&&e[Je]||e["@@iterator"])?e:null}function en(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case De:return"Fragment";case Fe:return"Portal";case Qe:return"Profiler";case Ae:return"StrictMode";case Be:return"Suspense";case Ve:return"SuspenseList";case Ge:return"Cache"}if("object"==typeof e)switch(e.$$typeof){case Oe:return(e.displayName||"Context")+".Consumer";case He:return(e._context.displayName||"Context")+".Provider";case je:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case We:return null!==(n=e.displayName||null)?n:en(e.type)||"Memo";case Ye:n=e._payload,e=e._init;try{return en(e(n))}catch(e){}}return null}function nn(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return en(n);case 23:return"LegacyHidden";case 8:return n===Ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function tn(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!=(2050&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function rn(e){if(tn(e)!==e)throw Error("Unable to find node on an unmounted component.")}function ln(e){var n=e.alternate;if(!n){if(null===(n=tn(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,r=n;;){var l=t.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(r=l.return)){t=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===t)return rn(l),e;if(a===r)return rn(l),n;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==r.return)t=l,r=a;else{for(var i=!1,u=l.child;u;){if(u===t){i=!0,t=l,r=a;break}if(u===r){i=!0,r=l,t=a;break}u=u.sibling}if(!i){for(u=a.child;u;){if(u===t){i=!0,t=a,r=l;break}if(u===r){i=!0,r=a,t=l;break}u=u.sibling}if(!i)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function an(e){return null!==(e=ln(e))?un(e):null}function un(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=un(e);if(null!==n)return n;e=e.sibling}return null}var on={},sn=null,cn=0,dn={unsafelyIgnoreFunctions:!0};function fn(e,n){return"object"!=typeof n||null===n||o.deepDiffer(e,n,dn)}function pn(e,n,t){if(y(n))for(var r=n.length;r--&&0<cn;)pn(e,n[r],t);else if(n&&0<cn)for(r in sn)if(sn[r]){var l=n[r];if(void 0!==l){var a=t[r];a&&("function"==typeof l&&(l=!0),void 0===l&&(l=null),"object"!=typeof a?e[r]=l:"function"!=typeof a.diff&&"function"!=typeof a.process||(l="function"==typeof a.process?a.process(l):l,e[r]=l),sn[r]=!1,cn--)}}}function hn(e,n,t,r){if(!e&&n===t)return e;if(!n||!t)return t?gn(e,t,r):n?mn(e,n,r):e;if(!y(n)&&!y(t))return vn(e,n,t,r);if(y(n)&&y(t)){var l,a=n.length<t.length?n.length:t.length;for(l=0;l<a;l++)e=hn(e,n[l],t[l],r);for(;l<n.length;l++)e=mn(e,n[l],r);for(;l<t.length;l++)e=gn(e,t[l],r);return e}return y(n)?vn(e,o.flattenStyle(n),t,r):vn(e,n,o.flattenStyle(t),r)}function gn(e,n,t){if(!n)return e;if(!y(n))return vn(e,on,n,t);for(var r=0;r<n.length;r++)e=gn(e,n[r],t);return e}function mn(e,n,t){if(!n)return e;if(!y(n))return vn(e,n,on,t);for(var r=0;r<n.length;r++)e=mn(e,n[r],t);return e}function vn(e,n,t,r){var l,a;for(a in t)if(l=r[a]){var i=n[a],u=t[a];"function"==typeof u&&(u=!0,"function"==typeof i&&(i=!0)),void 0===u&&(u=null,void 0===i&&(i=null)),sn&&(sn[a]=!1),e&&void 0!==e[a]?"object"!=typeof l?e[a]=u:"function"!=typeof l.diff&&"function"!=typeof l.process||(l="function"==typeof l.process?l.process(u):u,e[a]=l):i!==u&&("object"!=typeof l?fn(i,u)&&((e||(e={}))[a]=u):"function"==typeof l.diff||"function"==typeof l.process?(void 0===i||("function"==typeof l.diff?l.diff(i,u):fn(i,u)))&&(l="function"==typeof l.process?l.process(u):u,(e||(e={}))[a]=l):(sn=null,cn=0,e=hn(e,i,u,l),0<cn&&e&&(pn(e,u,l),sn=null)))}for(var o in n)void 0===t[o]&&(!(l=r[o])||e&&void 0!==e[o]||void 0!==(i=n[o])&&("object"!=typeof l||"function"==typeof l.diff||"function"==typeof l.process?((e||(e={}))[o]=null,sn||(sn={}),sn[o]||(sn[o]=!0,cn++)):e=mn(e,i,l)));return e}function bn(e,n){return function(){if(n&&("boolean"!=typeof e.__isMounted||e.__isMounted))return n.apply(e,arguments)}}var yn=(function(){function e(e,n){this._nativeTag=e,this._children=[],this.viewConfig=n}var n=e.prototype;return n.blur=function(){o.TextInputState.blurTextInput(this)},n.focus=function(){o.TextInputState.focusTextInput(this)},n.measure=function(e){o.UIManager.measure(this._nativeTag,bn(this,e))},n.measureInWindow=function(e){o.UIManager.measureInWindow(this._nativeTag,bn(this,e))},n.measureLayout=function(e,n,t){if("number"==typeof e)var r=e;else e._nativeTag&&(r=e._nativeTag);null!=r&&o.UIManager.measureLayout(this._nativeTag,r,bn(this,t),bn(this,n))},n.setNativeProps=function(e){null!=(e=vn(null,on,e,this.viewConfig.validAttributes))&&o.UIManager.updateView(this._nativeTag,this.viewConfig.uiViewClassName,e)},e})(),Sn=c.unstable_scheduleCallback,kn=c.unstable_cancelCallback,wn=c.unstable_shouldYield,Tn=c.unstable_requestPaint,xn=c.unstable_now,Pn=c.unstable_ImmediatePriority,_n=c.unstable_UserBlockingPriority,Rn=c.unstable_NormalPriority,En=c.unstable_IdlePriority,Cn=null,Nn=null;function zn(e){if(Nn&&"function"==typeof Nn.onCommitFiberRoot)try{Nn.onCommitFiberRoot(Cn,e,void 0,128==(128&e.current.flags))}catch(e){}}var In=64,Ln=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=268435455&t;if(0!==i){var u=i&~l;0!==u?r=Un(u):0!==(a&=i)&&(r=Un(a))}else 0!==(i=t&~l)?r=Un(i):0!==a&&(r=Un(a));if(0===r)return 0;if(0!==n&&n!==r&&0==(n&l)&&((l=r&-r)>=(a=n&-n)||16===l&&0!=(4194240&a)))return n;if(0!=(4&r)&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)l=1<<(t=31-jn(n)),r|=e[t],n&=~l;return r}function Fn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function Dn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function An(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Qn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-jn(n)]=t}function Hn(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var l=31-jn(t),a=1<<l;n[l]=0,r[l]=-1,e[l]=-1,t&=~a}}function On(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-jn(t),l=1<<r;l&n|e[r]&n&&(e[r]|=n),t&=~l}}var jn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Bn(e)/Vn|0)|0},Bn=Math.log,Vn=Math.LN2;var Wn=0;function Yn(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}function qn(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}var Xn=o.ReactNativeViewConfigRegistry.get,$n={},Gn=3;function Kn(){var e=Gn;return 1==e%10&&(e+=2),Gn=e+2,e}function Jn(e){if("number"==typeof e)xe.delete(e),Pe.delete(e);else{var n=e._nativeTag;xe.delete(n),Pe.delete(n),e._children.forEach(Jn)}}function Zn(e){if(0===e._children.length)return!1;var n=e._children.map(function(e){return"number"==typeof e?e:e._nativeTag});return o.UIManager.setChildren(e._nativeTag,n),!1}var et=setTimeout,nt=clearTimeout;function tt(e,n,t){return n="",t&&(n=" (created by "+t+")"),"\n    in "+(e||"Unknown")+n}function rt(e,n){return e?tt(e.displayName||e.name||null,n,null):""}var lt=Object.prototype.hasOwnProperty,at=[],it=-1;function ut(e){return{current:e}}function ot(e){0>it||(e.current=at[it],at[it]=null,it--)}function st(e,n){at[++it]=e.current,e.current=n}var ct={},dt=ut(ct),ft=ut(!1),pt=ct;function ht(e,n){var t=e.type.contextTypes;if(!t)return ct;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in t)a[l]=n[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function gt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mt(){ot(ft),ot(dt)}function vt(e,n,t){if(dt.current!==ct)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");st(dt,n),st(ft,t)}function bt(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var l in r=r.getChildContext())if(!(l in n))throw Error((nn(e)||"Unknown")+'.getChildContext(): key "'+l+'" is not defined in childContextTypes.');return u({},t,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ct,pt=dt.current,st(dt,e),st(ft,ft.current),!0}function St(e,n,t){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");t?(e=bt(e,n,pt),r.__reactInternalMemoizedMergedChildContext=e,ot(ft),ot(dt),st(dt,e)):ot(ft),st(ft,t)}var kt=null,wt=!1,Tt=!1;function xt(){if(!Tt&&null!==kt){Tt=!0;var e=0,n=Wn;try{var t=kt;for(Wn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}kt=null,wt=!1}catch(n){throw null!==kt&&(kt=kt.slice(e+1)),Sn(Pn,xt),n}finally{Wn=n,Tt=!1}}return null}var Pt=Ue.ReactCurrentBatchConfig;var _t="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function Rt(e,n){if(_t(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!lt.call(n,t[r])||!_t(e[t[r]],n[t[r]]))return!1;return!0}function Et(e){switch(e.tag){case 5:return tt(e.type,null,null);case 16:return tt("Lazy",null,null);case 13:return tt("Suspense",null,null);case 19:return tt("SuspenseList",null,null);case 0:case 2:case 15:return rt(e.type,null);case 11:return rt(e.type.render,null);case 1:return e=rt(e.type,null);default:return""}}function Ct(e){try{var n="";do{n+=Et(e),e=e.return}while(e);return n}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function Nt(e,n){if(e&&e.defaultProps){for(var t in n=u({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}var zt=ut(null),It=null,Lt=null,Ut=null;function Mt(){Ut=Lt=It=null}function Ft(e){var n=zt.current;ot(zt),e._currentValue=n}function Dt(e,n){for(;null!==e;){var t=e.alternate;if((e.childLanes&n)===n){if(null===t||(t.childLanes&n)===n)break;t.childLanes|=n}else e.childLanes|=n,null!==t&&(t.childLanes|=n);e=e.return}}function At(e,n){It=e,Ut=Lt=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&n)&&(dl=!0),e.firstContext=null)}function Qt(e){var n=e._currentValue;if(Ut!==e)if(e={context:e,memoizedValue:n,next:null},null===Lt){if(null===It)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Lt=e,It.dependencies={lanes:0,firstContext:e}}else Lt=Lt.next=e;return n}var Ht=null,Ot=!1;function jt(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bt(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Wt(e,n){var t=e.updateQueue;null!==t&&(t=t.shared,null!==da&&0!=(1&e.mode)&&0==(8&ca)?(null===(e=t.interleaved)?(n.next=n,null===Ht?Ht=[t]:Ht.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n))}function Yt(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!=(4194240&t))){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,On(e,t)}}function qt(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var l=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?l=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?l=a=n:a=a.next=n}else l=a=n;return t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Xt(e,n,t,r){var l=e.updateQueue;Ot=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(null!==o){l.shared.pending=null;var s=o,c=s.next;s.next=null,null===i?a=c:i.next=c,i=s;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=s))}if(null!==a){var f=l.baseState;for(i=0,d=c=s=null,o=a;;){var p=o.lane,h=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(p=n,h=t,m.tag){case 1:if("function"==typeof(g=m.payload)){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=-16385&g.flags|128;case 0:if(null===(p="function"==typeof(g=m.payload)?g.call(h,f,p):g)||void 0===p)break e;f=u({},f,p);break e;case 2:Ot=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=l.effects)?l.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,s=f):d=d.next=h,i|=p;if(null===(o=o.next)){if(null===(o=l.shared.pending))break;o=(p=o).next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}if(null===d&&(s=f),l.baseState=s,l.firstBaseUpdate=c,l.lastBaseUpdate=d,null!==(n=l.shared.interleaved)){l=n;do{i|=l.lane,l=l.next}while(l!==n)}else null===a&&(l.shared.lanes=0);ba|=i,e.lanes=i,e.memoizedState=f}}function $t(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],l=r.callback;if(null!==l){if(r.callback=null,"function"!=typeof l)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+l);l.call(t)}}}var Gt=(new s.Component).refs;function Kt(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:u({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var Jt={isMounted:function(e){return!!(e=e._reactInternals)&&tn(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=La(),l=Ua(e),a=Vt(r,l);a.payload=n,void 0!==t&&null!==t&&(a.callback=t),Wt(e,a),null!==(n=Ma(e,l,r))&&Yt(n,e,l)},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=La(),l=Ua(e),a=Vt(r,l);a.tag=1,a.payload=n,void 0!==t&&null!==t&&(a.callback=t),Wt(e,a),null!==(n=Ma(e,l,r))&&Yt(n,e,l)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=La(),r=Ua(e),l=Vt(t,r);l.tag=2,void 0!==n&&null!==n&&(l.callback=n),Wt(e,l),null!==(n=Ma(e,r,t))&&Yt(n,e,r)}};function Zt(e,n,t,r,l,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!Rt(t,r)||!Rt(l,a))}function er(e,n,t){var r=!1,l=ct,a=n.contextType;return"object"==typeof a&&null!==a?a=Qt(a):(l=gt(n)?pt:dt.current,a=(r=null!==(r=n.contextTypes)&&void 0!==r)?ht(e,l):ct),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Jt,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),n}function nr(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Jt.enqueueReplaceState(n,n.state,null)}function tr(e,n,t,r){var l=e.stateNode;l.props=t,l.state=e.memoizedState,l.refs=Gt,jt(e);var a=n.contextType;"object"==typeof a&&null!==a?l.context=Qt(a):(a=gt(n)?pt:dt.current,l.context=ht(e,a)),l.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(Kt(e,n,a,t),l.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(n=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),n!==l.state&&Jt.enqueueReplaceState(l,l.state,null),Xt(e,t,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4)}function rr(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");var r=t.stateNode}if(!r)throw Error("Missing owner for string ref "+e+". This error is likely caused by a bug in React. Please file an issue.");var l=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===l?n.ref:((n=function(e){var n=r.refs;n===Gt&&(n=r.refs={}),null===e?delete n[l]:n[l]=e})._stringRef=l,n)}if("string"!=typeof e)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!t._owner)throw Error("Element ref was specified as a string ("+e+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return e}function lr(e,n){throw e=Object.prototype.toString.call(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}function ar(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function l(e,n){return(e=ui(e,n)).index=0,e.sibling=null,e}function a(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):t}function i(n){return e&&null===n.alternate&&(n.flags|=2),n}function u(e,n,t,r){return null===n||6!==n.tag?((n=di(t,e.mode,r)).return=e,n):((n=l(n,t)).return=e,n)}function o(e,n,t,r){var a=t.type;return a===De?c(e,n,t.props.children,r,t.key):null!==n&&n.elementType===a?((r=l(n,t.props)).ref=rr(e,n,t),r.return=e,r):((r=oi(t.type,t.key,t.props,null,e.mode,r)).ref=rr(e,n,t),r.return=e,r)}function s(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=fi(t,e.mode,r)).return=e,n):((n=l(n,t.children||[])).return=e,n)}function c(e,n,t,r,a){return null===n||7!==n.tag?((n=si(t,e.mode,r,a)).return=e,n):((n=l(n,t)).return=e,n)}function d(e,n,t){if("string"==typeof n||"number"==typeof n)return(n=di(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case Me:return(t=oi(n.type,n.key,n.props,null,e.mode,t)).ref=rr(e,null,n),t.return=e,t;case Fe:return(n=fi(n,e.mode,t)).return=e,n}if(y(n)||Ze(n))return(n=si(n,e.mode,t,null)).return=e,n;lr(e,n)}return null}function f(e,n,t,r){var l=null!==n?n.key:null;if("string"==typeof t||"number"==typeof t)return null!==l?null:u(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case Me:return t.key===l?o(e,n,t,r):null;case Fe:return t.key===l?s(e,n,t,r):null}if(y(t)||Ze(t))return null!==l?null:c(e,n,t,r,null);lr(e,t)}return null}function p(e,n,t,r,l){if("string"==typeof r||"number"==typeof r)return u(n,e=e.get(t)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Me:return o(n,e=e.get(null===r.key?t:r.key)||null,r,l);case Fe:return s(n,e=e.get(null===r.key?t:r.key)||null,r,l)}if(y(r)||Ze(r))return c(n,e=e.get(t)||null,r,l,null);lr(n,r)}return null}function h(l,i,u,o){for(var s=null,c=null,h=i,g=i=0,m=null;null!==h&&g<u.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(l,h,u[g],o);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&n(l,h),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v,h=m}if(g===u.length)return t(l,h),s;if(null===h){for(;g<u.length;g++)null!==(h=d(l,u[g],o))&&(i=a(h,i,g),null===c?s=h:c.sibling=h,c=h);return s}for(h=r(l,h);g<u.length;g++)null!==(m=p(h,l,g,u[g],o))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),i=a(m,i,g),null===c?s=m:c.sibling=m,c=m);return e&&h.forEach(function(e){return n(l,e)}),s}function g(l,i,u,o){var s=Ze(u);if("function"!=typeof s)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");if(null==(u=s.call(u)))throw Error("An iterable object provided no iterator.");for(var c=s=null,h=i,g=i=0,m=null,v=u.next();null!==h&&!v.done;g++,v=u.next()){h.index>g?(m=h,h=null):m=h.sibling;var b=f(l,h,v.value,o);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&n(l,h),i=a(b,i,g),null===c?s=b:c.sibling=b,c=b,h=m}if(v.done)return t(l,h),s;if(null===h){for(;!v.done;g++,v=u.next())null!==(v=d(l,v.value,o))&&(i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return s}for(h=r(l,h);!v.done;g++,v=u.next())null!==(v=p(h,l,g,v.value,o))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return e&&h.forEach(function(e){return n(l,e)}),s}return function(e,r,a,u){var o="object"==typeof a&&null!==a&&a.type===De&&null===a.key;if(o&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case Me:e:{var s=a.key;for(o=r;null!==o;){if(o.key===s){if((s=a.type)===De){if(7===o.tag){t(e,o.sibling),(r=l(o,a.props.children)).return=e,e=r;break e}}else if(o.elementType===s){t(e,o.sibling),(r=l(o,a.props)).ref=rr(e,o,a),r.return=e,e=r;break e}t(e,o);break}n(e,o),o=o.sibling}a.type===De?((r=si(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=oi(a.type,a.key,a.props,null,e.mode,u)).ref=rr(e,r,a),u.return=e,e=u)}return i(e);case Fe:e:{for(o=a.key;null!==r;){if(r.key===o){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){t(e,r.sibling),(r=l(r,a.children||[])).return=e,e=r;break e}t(e,r);break}n(e,r),r=r.sibling}(r=fi(a,e.mode,u)).return=e,e=r}return i(e)}if(y(a))return h(e,r,a,u);if(Ze(a))return g(e,r,a,u);lr(e,a)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(t(e,r.sibling),(r=l(r,a)).return=e,e=r):(t(e,r),(r=di(a,e.mode,u)).return=e,e=r),i(e);if(void 0===a&&!o)switch(e.tag){case 1:case 0:case 11:case 15:throw Error((nn(e)||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return t(e,r)}}var ir=ar(!0),ur=ar(!1),or={},sr=ut(or),cr=ut(or),dr=ut(or);function fr(e){if(e===or)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function pr(e,n){st(dr,n),st(cr,e),st(sr,or),ot(sr),st(sr,{isInAParentText:!1})}function hr(){ot(sr),ot(cr),ot(dr)}function gr(e){fr(dr.current);var n=fr(sr.current),t=e.type;t="AndroidTextInput"===t||"RCTMultilineTextInputView"===t||"RCTSinglelineTextInputView"===t||"RCTText"===t||"RCTVirtualText"===t,n!==(t=n.isInAParentText!==t?{isInAParentText:t}:n)&&(st(cr,e),st(sr,t))}function mr(e){cr.current===e&&(ot(sr),ot(cr))}var vr=ut(0);function br(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||qn()||qn()))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var yr=[];function Sr(){for(var e=0;e<yr.length;e++)yr[e]._workInProgressVersionPrimary=null;yr.length=0}var kr=Ue.ReactCurrentDispatcher,wr=Ue.ReactCurrentBatchConfig,Tr=0,xr=null,Pr=null,_r=null,Rr=!1,Er=!1;function Cr(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Nr(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!_t(e[t],n[t]))return!1;return!0}function zr(e,n,t,r,l,a){if(Tr=a,xr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,kr.current=null===e||null===e.memoizedState?tl:rl,e=t(r,l),Er){a=0;do{if(Er=!1,!(25>a))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");a+=1,_r=Pr=null,n.updateQueue=null,kr.current=ll,e=t(r,l)}while(Er)}if(kr.current=nl,n=null!==Pr&&null!==Pr.next,Tr=0,_r=Pr=xr=null,Rr=!1,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return e}function Ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_r?xr.memoizedState=_r=e:_r=_r.next=e,_r}function Lr(){if(null===Pr){var e=xr.alternate;e=null!==e?e.memoizedState:null}else e=Pr.next;var n=null===_r?xr.memoizedState:_r.next;if(null!==n)_r=n,Pr=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");e={memoizedState:(Pr=e).memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},null===_r?xr.memoizedState=_r=e:_r=_r.next=e}return _r}function Ur(e,n){return"function"==typeof n?n(e):n}function Mr(e){var n=Lr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=Pr,l=r.baseQueue,a=t.pending;if(null!==a){if(null!==l){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,t.pending=null}if(null!==l){a=l.next,r=r.baseState;var u=i=null,o=null,s=a;do{var c=s.lane;if((Tr&c)===c)null!==o&&(o=o.next={lane:0,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),r=s.eagerReducer===e?s.eagerState:e(r,s.action);else{var d={lane:c,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===o?(u=o=d,i=r):o=o.next=d,xr.lanes|=c,ba|=c}s=s.next}while(null!==s&&s!==a);null===o?i=r:o.next=u,_t(r,n.memoizedState)||(dl=!0),n.memoizedState=r,n.baseState=i,n.baseQueue=o,t.lastRenderedState=r}if(null!==(e=t.interleaved)){l=e;do{a=l.lane,xr.lanes|=a,ba|=a,l=l.next}while(l!==e)}else null===l&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Fr(e){var n=Lr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=t.dispatch,l=t.pending,a=n.memoizedState;if(null!==l){t.pending=null;var i=l=l.next;do{a=e(a,i.action),i=i.next}while(i!==l);_t(a,n.memoizedState)||(dl=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function Dr(e,n,t){var r=n._getVersion;r=r(n._source);var l=n._workInProgressVersionPrimary;if(null!==l?e=l===r:(e=e.mutableReadLanes,(e=(Tr&e)===e)&&(n._workInProgressVersionPrimary=r,yr.push(n))),e)return t(n._source);throw yr.push(n),Error("Cannot read from mutable source during the current render without tearing. This may be a bug in React. Please file an issue.")}function Ar(e,n,t,r){var l=da;if(null===l)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");var a=n._getVersion,i=a(n._source),u=kr.current,o=u.useState(function(){return Dr(l,n,t)}),s=o[1],c=o[0];o=_r;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,h=d.source;d=d.subscribe;var g=xr;return e.memoizedState={refs:f,source:n,subscribe:r},u.useEffect(function(){f.getSnapshot=t,f.setSnapshot=s;var e=a(n._source);_t(i,e)||(e=t(n._source),_t(c,e)||(s(e),e=Ua(g),l.mutableReadLanes|=e&l.pendingLanes),On(l,l.mutableReadLanes))},[t,n,r]),u.useEffect(function(){return r(n._source,function(){var e=f.getSnapshot,t=f.setSnapshot;try{t(e(n._source));var r=Ua(g);l.mutableReadLanes|=r&l.pendingLanes}catch(e){t(function(){throw e})}})},[n,r]),_t(p,t)&&_t(h,n)&&_t(d,r)||((e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:c}).dispatch=s=el.bind(null,xr,e),o.queue=e,o.baseQueue=null,c=Dr(l,n,t),o.memoizedState=o.baseState=c),c}function Qr(e,n,t){return Ar(Lr(),e,n,t)}function Hr(e){var n=Ir();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e=(e=n.queue={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:e}).dispatch=el.bind(null,xr,e),[n.memoizedState,e]}function Or(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=xr.updateQueue)?(n={lastEffect:null},xr.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function jr(){return Lr().memoizedState}function Br(e,n,t,r){var l=Ir();xr.flags|=e,l.memoizedState=Or(1|n,t,void 0,void 0===r?null:r)}function Vr(e,n,t,r){var l=Lr();r=void 0===r?null:r;var a=void 0;if(null!==Pr){var i=Pr.memoizedState;if(a=i.destroy,null!==r&&Nr(r,i.deps))return void(l.memoizedState=Or(n,t,a,r))}xr.flags|=e,l.memoizedState=Or(1|n,t,a,r)}function Wr(e,n){return Br(1049600,4,e,n)}function Yr(e,n){return Vr(1024,4,e,n)}function qr(e,n){return Vr(4,2,e,n)}function Xr(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function $r(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Vr(4,2,Xr.bind(null,n,e),t)}function Gr(){}function Kr(e,n){var t=Lr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Nr(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Jr(e,n){var t=Lr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Nr(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Zr(e,n){var t=Wn;Wn=0!==t&&4>t?t:4,e(!0);var r=wr.transition;wr.transition=1;try{e(!1),n()}finally{Wn=t,wr.transition=r}}function el(e,n,t){var r=La(),l=Ua(e),a={lane:l,action:t,eagerReducer:null,eagerState:null,next:null},i=e.alternate;if(e===xr||null!==i&&i===xr)Er=Rr=!0,null===(l=n.pending)?a.next=a:(a.next=l.next,l.next=a),n.pending=a;else{if(null!==da&&0!=(1&e.mode)&&0==(8&ca)){var u=n.interleaved;null===u?(a.next=a,null===Ht?Ht=[n]:Ht.push(n)):(a.next=u.next,u.next=a),n.interleaved=a}else null===(u=n.pending)?a.next=a:(a.next=u.next,u.next=a),n.pending=a;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=n.lastRenderedReducer))try{var o=n.lastRenderedState,s=i(o,t);if(a.eagerReducer=i,a.eagerState=s,_t(s,o))return}catch(e){}a=Ma(e,l,r),0!=(4194240&l)&&null!==a&&(e=n.lanes,l|=e&=a.pendingLanes,n.lanes=l,On(a,l))}}var nl={readContext:Qt,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useOpaqueIdentifier:Cr,unstable_isNewReconciler:!1},tl={readContext:Qt,useCallback:function(e,n){return Ir().memoizedState=[e,void 0===n?null:n],e},useContext:Qt,useEffect:Wr,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Br(4,2,Xr.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Br(4,2,e,n)},useMemo:function(e,n){var t=Ir();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Ir();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e=(e=r.queue={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n}).dispatch=el.bind(null,xr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ir().memoizedState=e},useState:Hr,useDebugValue:Gr,useDeferredValue:function(e){var n=Hr(e),t=n[0],r=n[1];return Wr(function(){var n=wr.transition;wr.transition=1;try{r(e)}finally{wr.transition=n}},[e]),t},useTransition:function(){var e=Hr(!1),n=e[0];return e=Zr.bind(null,e[1]),Ir().memoizedState=e,[n,e]},useMutableSource:function(e,n,t){var r=Ir();return r.memoizedState={refs:{getSnapshot:n,setSnapshot:null},source:e,subscribe:t},Ar(r,e,n,t)},useOpaqueIdentifier:function(){throw Error("Not yet implemented")},unstable_isNewReconciler:!1},rl={readContext:Qt,useCallback:Kr,useContext:Qt,useEffect:Yr,useImperativeHandle:$r,useLayoutEffect:qr,useMemo:Jr,useReducer:Mr,useRef:jr,useState:function(){return Mr(Ur)},useDebugValue:Gr,useDeferredValue:function(e){var n=Mr(Ur),t=n[0],r=n[1];return Yr(function(){var n=wr.transition;wr.transition=1;try{r(e)}finally{wr.transition=n}},[e]),t},useTransition:function(){return[Mr(Ur)[0],Lr().memoizedState]},useMutableSource:Qr,useOpaqueIdentifier:function(){return Mr(Ur)[0]},unstable_isNewReconciler:!1},ll={readContext:Qt,useCallback:Kr,useContext:Qt,useEffect:Yr,useImperativeHandle:$r,useLayoutEffect:qr,useMemo:Jr,useReducer:Fr,useRef:jr,useState:function(){return Fr(Ur)},useDebugValue:Gr,useDeferredValue:function(e){var n=Fr(Ur),t=n[0],r=n[1];return Yr(function(){var n=wr.transition;wr.transition=1;try{r(e)}finally{wr.transition=n}},[e]),t},useTransition:function(){return[Fr(Ur)[0],Lr().memoizedState]},useMutableSource:Qr,useOpaqueIdentifier:function(){return Fr(Ur)[0]},unstable_isNewReconciler:!1};function al(e,n){return{value:e,source:n,stack:Ct(n)}}if("function"!=typeof o.ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");function il(e,n){try{!1!==o.ReactFiberErrorDialog.showErrorDialog({componentStack:null!==n.stack?n.stack:"",error:n.value,errorBoundary:null!==e&&1===e.tag?e.stateNode:null})&&console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var ul="function"==typeof WeakMap?WeakMap:Map;function ol(e,n,t){(t=Vt(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Ta||(Ta=!0,xa=r),il(e,n)},t}function sl(e,n,t){(t=Vt(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=n.value;t.payload=function(){return il(e,n),r(l)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(t.callback=function(){"function"!=typeof r&&(null===Pa?Pa=new Set([this]):Pa.add(this),il(e,n));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),t}var cl=Ue.ReactCurrentOwner,dl=!1;function fl(e,n,t,r){n.child=null===e?ur(n,null,t,r):ir(n,e.child,t,r)}function pl(e,n,t,r,l){t=t.render;var a=n.ref;return At(n,l),r=zr(e,n,t,r,a,l),null===e||dl?(n.flags|=1,fl(e,n,r,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-1029,e.lanes&=~l,Ml(e,n,l))}function hl(e,n,t,r,l,a){if(null===e){var i=t.type;return"function"!=typeof i||ai(i)||void 0!==i.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=oi(t.type,null,r,n,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=i,gl(e,n,i,r,l,a))}return i=e.child,0==(l&a)&&(l=i.memoizedProps,(t=null!==(t=t.compare)?t:Rt)(l,r)&&e.ref===n.ref)?Ml(e,n,a):(n.flags|=1,(e=ui(i,r)).ref=n.ref,e.return=n,n.child=e)}function gl(e,n,t,r,l,a){if(null!==e&&Rt(e.memoizedProps,r)&&e.ref===n.ref){if(dl=!1,0==(a&l))return n.lanes=e.lanes,Ml(e,n,a);0!=(32768&e.flags)&&(dl=!0)}return bl(e,n,t,r,a)}function ml(e,n,t){var r=n.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null},st(ga,ha),ha|=t;else{if(0==(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null},n.updateQueue=null,st(ga,ha),ha|=e,null;n.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:t,st(ga,ha),ha|=r}else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,st(ga,ha),ha|=r;return fl(e,n,l,t),n.child}function vl(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=256)}function bl(e,n,t,r,l){var a=gt(t)?pt:dt.current;return a=ht(n,a),At(n,l),t=zr(e,n,t,r,a,l),null===e||dl?(n.flags|=1,fl(e,n,t,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-1029,e.lanes&=~l,Ml(e,n,l))}function yl(e,n,t,r,l){if(gt(t)){var a=!0;yt(n)}else a=!1;if(At(n,l),null===n.stateNode)null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),er(n,t,r),tr(n,t,r,l),r=!0;else if(null===e){var i=n.stateNode,u=n.memoizedProps;i.props=u;var o=i.context,s=t.contextType;"object"==typeof s&&null!==s?s=Qt(s):s=ht(n,s=gt(t)?pt:dt.current);var c=t.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(u!==r||o!==s)&&nr(n,i,r,s),Ot=!1;var f=n.memoizedState;i.state=f,Xt(n,r,i,l),o=n.memoizedState,u!==r||f!==o||ft.current||Ot?("function"==typeof c&&(Kt(n,t,c,r),o=n.memoizedState),(u=Ot||Zt(n,t,u,r,f,o,s))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(n.flags|=4)):("function"==typeof i.componentDidMount&&(n.flags|=4),n.memoizedProps=r,n.memoizedState=o),i.props=r,i.state=o,i.context=s,r=u):("function"==typeof i.componentDidMount&&(n.flags|=4),r=!1)}else{i=n.stateNode,Bt(e,n),u=n.memoizedProps,s=n.type===n.elementType?u:Nt(n.type,u),i.props=s,d=n.pendingProps,f=i.context,"object"==typeof(o=t.contextType)&&null!==o?o=Qt(o):o=ht(n,o=gt(t)?pt:dt.current);var p=t.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(u!==d||f!==o)&&nr(n,i,r,o),Ot=!1,f=n.memoizedState,i.state=f,Xt(n,r,i,l);var h=n.memoizedState;u!==d||f!==h||ft.current||Ot?("function"==typeof p&&(Kt(n,t,p,r),h=n.memoizedState),(s=Ot||Zt(n,t,s,r,f,h,o)||!1)?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,o),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,o)),"function"==typeof i.componentDidUpdate&&(n.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(n.flags|=512)):("function"!=typeof i.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=512),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=o,r=s):("function"!=typeof i.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=512),r=!1)}return Sl(e,n,t,r,a,l)}function Sl(e,n,t,r,l,a){vl(e,n);var i=0!=(128&n.flags);if(!r&&!i)return l&&St(n,t,!1),Ml(e,n,a);r=n.stateNode,cl.current=n;var u=i&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=ir(n,e.child,null,a),n.child=ir(n,null,u,a)):fl(e,n,u,a),n.memoizedState=r.state,l&&St(n,t,!0),n.child}function kl(e){var n=e.stateNode;n.pendingContext?vt(0,n.pendingContext,n.pendingContext!==n.context):n.context&&vt(0,n.context,!1),pr(e,n.containerInfo)}var wl,Tl,xl,Pl,_l={dehydrated:null,retryLane:0};function Rl(e){return{baseLanes:e,cachePool:null}}function El(e,n,t){var r,l=n.pendingProps,a=vr.current,i=!1;return(r=0!=(128&n.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(i=!0,n.flags&=-129):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=1),st(vr,1&a),null===e?(e=l.children,a=l.fallback,i?(e=Cl(n,e,a,t),n.child.memoizedState=Rl(t),n.memoizedState=_l,e):"number"==typeof l.unstable_expectedLoadTime?(e=Cl(n,e,a,t),n.child.memoizedState=Rl(t),n.memoizedState=_l,n.lanes=4194304,e):((t=ci({mode:"visible",children:e},n.mode,t,null)).return=n,n.child=t)):(e.memoizedState,i?(l=zl(e,n,l.children,l.fallback,t),i=n.child,a=e.child.memoizedState,i.memoizedState=null===a?Rl(t):{baseLanes:a.baseLanes|t,cachePool:null},i.childLanes=e.childLanes&~t,n.memoizedState=_l,l):(t=Nl(e,n,l.children,t),n.memoizedState=null,t))}function Cl(e,n,t,r){var l=e.mode,a=e.child;return n={mode:"hidden",children:n},0==(1&l)&&null!==a?(a.childLanes=0,a.pendingProps=n):a=ci(n,l,0,null),t=si(t,l,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,t}function Nl(e,n,t,r){var l=e.child;return e=l.sibling,t=ui(l,{mode:"visible",children:t}),0==(1&n.mode)&&(t.lanes=r),t.return=n,t.sibling=null,null!==e&&(null===(r=n.deletions)?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=t}function zl(e,n,t,r,l){var a=n.mode,i=(e=e.child).sibling,u={mode:"hidden",children:t};return 0==(1&a)&&n.child!==e?((t=n.child).childLanes=0,t.pendingProps=u,n.deletions=null):(t=ui(e,u)).subtreeFlags=1835008&e.subtreeFlags,null!==i?r=ui(i,r):(r=si(r,a,l,null)).flags|=2,r.return=n,t.return=n,t.sibling=r,n.child=t,r}function Il(e,n){e.lanes|=n;var t=e.alternate;null!==t&&(t.lanes|=n),Dt(e.return,n)}function Ll(e,n,t,r,l){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=l)}function Ul(e,n,t){var r=n.pendingProps,l=r.revealOrder,a=r.tail;if(fl(e,n,r.children,t),0!=(2&(r=vr.current)))r=1&r|2,n.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Il(e,t);else if(19===e.tag)Il(e,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(st(vr,r),0==(1&n.mode))n.memoizedState=null;else switch(l){case"forwards":for(t=n.child,l=null;null!==t;)null!==(e=t.alternate)&&null===br(e)&&(l=t),t=t.sibling;null===(t=l)?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),Ll(n,!1,l,t,a);break;case"backwards":for(t=null,l=n.child,n.child=null;null!==l;){if(null!==(e=l.alternate)&&null===br(e)){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}Ll(n,!0,t,null,a);break;case"together":Ll(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ml(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),ba|=n.lanes,0==(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=ui(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=ui(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Fl(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dl(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=1835008&l.subtreeFlags,r|=1835008&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Al(e,n,t){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dl(n),null;case 1:return gt(n.type)&&mt(),Dl(n),null;case 3:return r=n.stateNode,hr(),ot(ft),ot(dt),Sr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||r.hydrate||(n.flags|=512),Tl(e,n),Dl(n),null;case 5:mr(n),t=fr(dr.current);var l=n.type;if(null!==e&&null!=n.stateNode)xl(e,n,l,r,t),e.ref!==n.ref&&(n.flags|=256);else{if(!r){if(null===n.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Dl(n),null}fr(sr.current),e=Kn(),l=Xn(l);var a=vn(null,on,r,l.validAttributes);o.UIManager.createView(e,l.uiViewClassName,t,a),t=new yn(e,l,n),xe.set(e,n),Pe.set(e,r),wl(t,n,!1,!1),n.stateNode=t,Zn(t)&&(n.flags|=4),null!==n.ref&&(n.flags|=256)}return Dl(n),null;case 6:if(e&&null!=n.stateNode)Pl(e,n,e.memoizedProps,r);else{if("string"!=typeof r&&null===n.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(e=fr(dr.current),!fr(sr.current).isInAParentText)throw Error("Text strings must be rendered within a <Text> component.");t=Kn(),o.UIManager.createView(t,"RCTRawText",e,{text:r}),xe.set(t,n),n.stateNode=t}return Dl(n),null;case 13:return ot(vr),r=n.memoizedState,0!=(128&n.flags)?(n.lanes=t,n):(r=null!==r,t=!1,null!==e&&(t=null!==e.memoizedState),r&&!t&&0!=(1&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&vr.current)?0===ma&&(ma=3):(0!==ma&&3!==ma||(ma=4),null===da||0==(268435455&ba)&&0==(268435455&ya)||Qa(da,pa))),(r||t)&&(n.flags|=4),Dl(n),null);case 4:return hr(),Tl(e,n),Dl(n),null;case 10:return Ft(n.type._context),Dl(n),null;case 17:return gt(n.type)&&mt(),Dl(n),null;case 19:if(ot(vr),null===(l=n.memoizedState))return Dl(n),null;if(r=0!=(128&n.flags),null===(a=l.rendering))if(r)Fl(l,!1);else{if(0!==ma||null!==e&&0!=(128&e.flags))for(e=n.child;null!==e;){if(null!==(a=br(e))){for(n.flags|=128,Fl(l,!1),null!==(e=a.updateQueue)&&(n.updateQueue=e,n.flags|=4),n.subtreeFlags=0,e=t,r=n.child;null!==r;)l=e,(t=r).flags&=1835010,null===(a=t.alternate)?(t.childLanes=0,t.lanes=l,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,l=a.dependencies,t.dependencies=null===l?null:{lanes:l.lanes,firstContext:l.firstContext}),r=r.sibling;return st(vr,1&vr.current|2),n.child}e=e.sibling}null!==l.tail&&xn()>wa&&(n.flags|=128,r=!0,Fl(l,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=br(a))){if(n.flags|=128,r=!0,null!==(e=e.updateQueue)&&(n.updateQueue=e,n.flags|=4),Fl(l,!0),null===l.tail&&"hidden"===l.tailMode&&!a.alternate)return Dl(n),null}else 2*xn()-l.renderingStartTime>wa&&1073741824!==t&&(n.flags|=128,r=!0,Fl(l,!1),n.lanes=4194304);l.isBackwards?(a.sibling=n.child,n.child=a):(null!==(e=l.last)?e.sibling=a:n.child=a,l.last=a)}return null!==l.tail?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=xn(),n.sibling=null,e=vr.current,st(vr,r?1&e|2:1&e),n):(Dl(n),null);case 22:case 23:return Oa(),t=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==t&&"unstable-defer-without-hiding"!==r.mode&&(n.flags|=4),t&&0==(1073741824&ha)&&0!=(1&n.mode)||Dl(n),null}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Ql(e){switch(e.tag){case 1:gt(e.type)&&mt();var n=e.flags;return 16384&n?(e.flags=-16385&n|128,e):null;case 3:if(hr(),ot(ft),ot(dt),Sr(),0!=(128&(n=e.flags)))throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return e.flags=-16385&n|128,e;case 5:return mr(e),null;case 13:return ot(vr),16384&(n=e.flags)?(e.flags=-16385&n|128,e):null;case 19:return ot(vr),null;case 4:return hr(),null;case 10:return Ft(e.type._context),null;case 22:case 23:return Oa(),null;case 24:default:return null}}wl=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e._children.push(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Tl=function(){},xl=function(e,n,t,r){e.memoizedProps!==r&&(fr(sr.current),n.updateQueue=$n)&&(n.flags|=4)},Pl=function(e,n,t,r){t!==r&&(n.flags|=4)};var Hl="function"==typeof WeakSet?WeakSet:Set,Ol=null;function jl(e,n){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ei(e,n,t)}else t.current=null}var Bl=!1;function Vl(e,n){for(Ol=n;null!==Ol;)if(n=(e=Ol).child,0!=(516&e.subtreeFlags)&&null!==n)n.return=e,Ol=n;else for(;null!==Ol;){e=Ol;try{var t=e.alternate;if(0!=(512&e.flags))switch(e.tag){case 0:case 11:case 15:break;case 1:if(null!==t){var r=t.memoizedProps,l=t.memoizedState,a=e.stateNode,i=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:Nt(e.type,r),l);a.__reactInternalSnapshotBeforeUpdate=i}break;case 3:break;case 5:case 6:case 4:case 17:break;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}catch(n){ei(e,e.return,n)}if(null!==(n=e.sibling)){n.return=e.return,Ol=n;break}Ol=e.return}return t=Bl,Bl=!1,t}function Wl(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;if(l.destroy=void 0,void 0!==a){var i=n,u=t;try{a()}catch(e){ei(i,u,e)}}}l=l.next}while(l!==r)}}function Yl(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function ql(e,n){for(var t=null,r=e;;){if(5===r.tag){if(null===t){t=r;var l=r.stateNode;if(n){var a=l.viewConfig,i=vn(null,on,{style:{display:"none"}},a.validAttributes);o.UIManager.updateView(l._nativeTag,a.uiViewClassName,i)}else{l=r.stateNode,i=r.memoizedProps,a=l.viewConfig,i=vn(null,u({},i,{style:[i.style,{display:"none"}]}),i,a.validAttributes),o.UIManager.updateView(l._nativeTag,a.uiViewClassName,i)}}}else if(6===r.tag){if(null===t)throw Error("Not yet implemented.")}else if((22!==r.tag&&23!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;t===r&&(t=null),r=r.return}t===r&&(t=null),r.sibling.return=r.return,r=r.sibling}}function Xl(e,n,t){if(Nn&&"function"==typeof Nn.onCommitFiberUnmount)try{Nn.onCommitFiberUnmount(Cn,n)}catch(e){}switch(n.tag){case 0:case 11:case 14:case 15:if(null!==(e=n.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var l=r,a=l.destroy;if(l=l.tag,void 0!==a&&0!=(2&l)){l=n;var i=t;try{a()}catch(e){ei(l,i,e)}}r=r.next}while(r!==e)}break;case 1:if(jl(n,t),"function"==typeof(e=n.stateNode).componentWillUnmount)try{e.props=n.memoizedProps,e.state=n.memoizedState,e.componentWillUnmount()}catch(e){ei(n,t,e)}break;case 5:jl(n,t);break;case 4:ea(e,n,t)}}function $l(e){var n=e.alternate;null!==n&&(e.alternate=null,$l(n)),e.child=null,e.deletions=null,e.sibling=null,e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gl(e){return 5===e.tag||3===e.tag||4===e.tag}function Kl(e){e:{for(var n=e.return;null!==n;){if(Gl(n))break e;n=n.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}var t=n;switch(n=t.stateNode,t.tag){case 5:var r=!1;break;case 3:case 4:n=n.containerInfo,r=!0;break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}32&t.flags&&(t.flags&=-33);e:n:for(t=e;;){for(;null===t.sibling;){if(null===t.return||Gl(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue n;if(null===t.child||4===t.tag)continue n;t.child.return=t,t=t.child}if(!(2&t.flags)){t=t.stateNode;break e}}r?Jl(e,t,n):Zl(e,t,n)}function Jl(e,n,t){var r=e.tag;if(5===r||6===r)if(e=e.stateNode,n){if("number"==typeof t)throw Error("Container does not support insertBefore operation")}else o.UIManager.setChildren(t,["number"==typeof e?e:e._nativeTag]);else if(4!==r&&null!==(e=e.child))for(Jl(e,n,t),e=e.sibling;null!==e;)Jl(e,n,t),e=e.sibling}function Zl(e,n,t){var r=e.tag;if(5===r||6===r)if(e=e.stateNode,n){var l=(r=t._children).indexOf(e);0<=l?(r.splice(l,1),n=r.indexOf(n),r.splice(n,0,e),o.UIManager.manageChildren(t._nativeTag,[l],[n],[],[],[])):(n=r.indexOf(n),r.splice(n,0,e),o.UIManager.manageChildren(t._nativeTag,[],[],["number"==typeof e?e:e._nativeTag],[n],[]))}else n="number"==typeof e?e:e._nativeTag,0<=(l=(r=t._children).indexOf(e))?(r.splice(l,1),r.push(e),o.UIManager.manageChildren(t._nativeTag,[l],[r.length-1],[],[],[])):(r.push(e),o.UIManager.manageChildren(t._nativeTag,[],[],[n],[r.length-1],[]));else if(4!==r&&null!==(e=e.child))for(Zl(e,n,t),e=e.sibling;null!==e;)Zl(e,n,t),e=e.sibling}function ea(e,n,t){for(var r,l,a=n,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(r=i.stateNode,i.tag){case 5:l=!1;break e;case 3:case 4:r=r.containerInfo,l=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var u=e,s=a,c=t,d=s;;)if(Xl(u,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===s)break e;for(;null===d.sibling;){if(null===d.return||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}l?(u=r,Jn(a.stateNode),o.UIManager.manageChildren(u,[],[],[],[],[0])):(u=r,Jn(c=a.stateNode),c=(s=u._children).indexOf(c),s.splice(c,1),o.UIManager.manageChildren(u._nativeTag,[],[],[],[],[c]))}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,l=!0,a.child.return=a,a=a.child;continue}}else if(Xl(e,a,t),null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function na(e,n){switch(n.tag){case 0:case 11:case 14:case 15:return void Wl(3,n,n.return);case 1:return;case 5:var t=n.stateNode;if(null!=t){var r=n.memoizedProps;e=null!==e?e.memoizedProps:r;var l=n.updateQueue;n.updateQueue=null,null!==l&&(n=t.viewConfig,Pe.set(t._nativeTag,r),null!=(r=vn(null,e,r,n.validAttributes))&&o.UIManager.updateView(t._nativeTag,n.uiViewClassName,r))}return;case 6:if(null===n.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");return void o.UIManager.updateView(n.stateNode,"RCTRawText",{text:n.memoizedProps});case 3:case 12:return;case 13:return null!==n.memoizedState&&(ka=xn(),ql(n.child,!0)),void ta(n);case 19:return void ta(n);case 17:return;case 22:case 23:return void ql(n,null!==n.memoizedState)}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function ta(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Hl),n.forEach(function(n){var r=ti.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function ra(e,n){for(Ol=n;null!==Ol;){var t=(n=Ol).deletions;if(null!==t)for(var r=0;r<t.length;r++){var l=t[r];try{ea(e,l,n);var a=l.alternate;null!==a&&(a.return=null),l.return=null}catch(e){ei(l,n,e)}}if(t=n.child,0!=(6454&n.subtreeFlags)&&null!==t)t.return=n,Ol=t;else for(;null!==Ol;){n=Ol;try{var i=n.flags;if(256&i){var u=n.alternate;if(null!==u){var o=u.ref;null!==o&&("function"==typeof o?o(null):o.current=null)}}switch(2054&i){case 2:Kl(n),n.flags&=-3;break;case 6:Kl(n),n.flags&=-3,na(n.alternate,n);break;case 2048:n.flags&=-2049;break;case 2052:n.flags&=-2049,na(n.alternate,n);break;case 4:na(n.alternate,n)}}catch(e){ei(n,n.return,e)}if(null!==(t=n.sibling)){t.return=n.return,Ol=t;break}Ol=n.return}}}function la(e){for(Ol=e;null!==Ol;){var n=Ol,t=n.child;if(0!=(324&n.subtreeFlags)&&null!==t)t.return=n,Ol=t;else for(n=e;null!==Ol;){if(0!=(324&(t=Ol).flags)){var r=t.alternate;try{if(0!=(68&t.flags))switch(t.tag){case 0:case 11:case 15:Yl(3,t);break;case 1:var l=t.stateNode;if(4&t.flags)if(null===r)l.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Nt(t.type,r.memoizedProps);l.componentDidUpdate(a,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&$t(t,i,l);break;case 3:var u=t.updateQueue;if(null!==u){if(r=null,null!==t.child)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$t(t,u,r)}break;case 5:case 6:case 4:case 12:case 13:break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(256&t.flags){r=void 0;var o=t.ref;if(null!==o){var s=t.stateNode;switch(t.tag){case 5:r=s;break;default:r=s}"function"==typeof o?o(r):o.current=r}}}catch(e){ei(t,t.return,e)}}if(t===n){Ol=null;break}if(null!==(r=t.sibling)){r.return=t.return,Ol=r;break}Ol=t.return}}}var aa,ia=Math.ceil,ua=Ue.ReactCurrentDispatcher,oa=Ue.ReactCurrentOwner,sa=Ue.ReactCurrentBatchConfig,ca=0,da=null,fa=null,pa=0,ha=0,ga=ut(0),ma=0,va=null,ba=0,ya=0,Sa=0,ka=0,wa=1/0,Ta=!1,xa=null,Pa=null,_a=!1,Ra=null,Ea=0,Ca=0,Na=null,za=-1,Ia=0;function La(){return 0!=(24&ca)?xn():-1!==za?za:za=xn()}function Ua(e){return 0==(1&e.mode)?1:0!=(8&ca)&&0!==pa?pa&-pa:0!==Pt.transition?(0===Ia&&(e=In,0==(4194240&(In<<=1))&&(In=64),Ia=e),Ia):0!==(e=Wn)?e:16}function Ma(e,n,t){if(50<Ca)throw Ca=0,Na=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");var r=Fa(e,n);return null===r?null:(Qn(r,n,t),r===da&&(0==(8&ca)&&(ya|=n),4===ma&&Qa(r,pa)),1===n?0!=(4&ca)&&0==(24&ca)?Ha(r):(Da(r,t),0===ca&&0==(1&e.mode)&&(wa=xn()+500,wt&&xt())):Da(r,t),r)}function Fa(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}function Da(e,n){for(var t=e.callbackNode,r=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var u=31-jn(i),o=1<<u,s=a[u];-1===s?0!=(o&r)&&0==(o&l)||(a[u]=Fn(o,n)):s<=n&&(e.expiredLanes|=o),i&=~o}if(0===(r=Mn(e,e===da?pa:0)))null!==t&&kn(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&kn(t),1===n)0===e.tag?(t=Ha.bind(null,e),wt=!0,null===kt?kt=[t]:kt.push(t)):(t=Ha.bind(null,e),null===kt?kt=[t]:kt.push(t)),Sn(Pn,xt),t=null;else{switch(Yn(r)){case 1:t=Pn;break;case 4:t=_n;break;case 16:t=Rn;break;case 536870912:t=En;break;default:t=Rn}t=Sn(t,Aa.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function Aa(e,n){if(za=-1,Ia=0,0!=(24&ca))throw Error("Should not already be working.");var t=e.callbackNode;if(Ja()&&e.callbackNode!==t)return null;var r=Mn(e,e===da?pa:0);if(0===r)return null;var l=0==(r&e.expiredLanes)&&0==(30&r);if(l&&!n){n=r,l=ca,ca|=8;var a=Va();for(da===e&&pa===n||(wa=xn()+500,ja(e,n));;)try{qa();break}catch(n){Ba(e,n)}Mt(),ua.current=a,ca=l,null!==fa?n=0:(da=null,pa=0,n=ma)}else n=Wa(e,r);if(0!==n){if(2===n&&(ca|=32,e.hydrate&&(e.hydrate=!1),0!==(l=Dn(e))&&(r=l,n=Wa(e,l))),1===n)throw t=va,ja(e,0),Qa(e,r),Da(e,xn()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 2:Ga(e);break;case 3:if(Qa(e,r),(130023424&r)===r&&10<(n=ka+500-xn())){if(0!==Mn(e,0))break;if(((l=e.suspendedLanes)&r)!==r){La(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=et(Ga.bind(null,e),n);break}Ga(e);break;case 4:if(Qa(e,r),(4194240&r)===r)break;for(n=e.eventTimes,l=-1;0<r;){var i=31-jn(r);a=1<<i,(i=n[i])>l&&(l=i),r&=~a}if(r=l,10<(r=(120>(r=xn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ia(r/1960))-r)){e.timeoutHandle=et(Ga.bind(null,e),r);break}Ga(e);break;case 5:Ga(e);break;default:throw Error("Unknown root exit status.")}}return Da(e,xn()),e.callbackNode===t?Aa.bind(null,e):null}function Qa(e,n){for(n&=~Sa,n&=~ya,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-jn(n),r=1<<t;e[t]=-1,n&=~r}}function Ha(e){if(0!=(24&ca))throw Error("Should not already be working.");Ja();var n=Mn(e,0);if(0==(1&n))return Da(e,xn()),null;var t=Wa(e,n);if(0!==e.tag&&2===t){ca|=32,e.hydrate&&(e.hydrate=!1);var r=Dn(e);0!==r&&(t=Wa(e,n=r))}if(1===t)throw t=va,ja(e,0),Qa(e,n),Da(e,xn()),t;return e.finishedWork=e.current.alternate,e.finishedLanes=n,Ga(e),Da(e,xn()),null}function Oa(){ha=ga.current,ot(ga)}function ja(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,nt(t)),null!==fa)for(t=fa.return;null!==t;){var r=t;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mt();break;case 3:hr(),ot(ft),ot(dt),Sr();break;case 5:mr(r);break;case 4:hr();break;case 13:case 19:ot(vr);break;case 10:Ft(r.type._context);break;case 22:case 23:Oa()}t=t.return}if(da=e,fa=ui(e.current,null),pa=ha=n,ma=0,va=null,Sa=ya=ba=0,null!==Ht){for(e=0;e<Ht.length;e++)if(null!==(t=(n=Ht[e]).interleaved)){n.interleaved=null,r=t.next;var l=n.pending;if(null!==l){var a=l.next;l.next=r,t.next=a}n.pending=t}Ht=null}}function Ba(e,n){for(;;){var t=fa;try{if(Mt(),kr.current=nl,Rr){for(var r=xr.memoizedState;null!==r;){var l=r.queue;null!==l&&(l.pending=null),r=r.next}Rr=!1}if(Tr=0,_r=Pr=xr=null,Er=!1,oa.current=null,null===t||null===t.return){ma=1,va=n,fa=null;break}e:{var a=e,i=t.return,u=t,o=n;if(n=pa,u.flags|=8192,null!==o&&"object"==typeof o&&"function"==typeof o.then){var s=o,c=u.tag;if(0==(1&u.mode)&&(0===c||11===c||15===c)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!=(1&vr.current),p=i;do{var h;if(h=13===p.tag){var g=p.memoizedState;if(null!==g)h=null!==g.dehydrated;else{var m=p.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(h){var v=p.updateQueue;if(null===v){var b=new Set;b.add(s),p.updateQueue=b}else v.add(s);if(0==(1&p.mode)&&p!==i){if(p.flags|=128,u.flags|=32768,u.flags&=-10053,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=Vt(-1,1);y.tag=2,Wt(u,y)}u.lanes|=1;break e}o=void 0,u=n;var S=a.pingCache;if(null===S?(S=a.pingCache=new ul,o=new Set,S.set(s,o)):void 0===(o=S.get(s))&&(o=new Set,S.set(s,o)),!o.has(u)){o.add(u);var k=ni.bind(null,a,s,u);s.then(k,k)}p.flags|=16384,p.lanes=n;break e}p=p.return}while(null!==p);o=Error((nn(u)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ma&&(ma=2),o=al(o,u),p=i;do{switch(p.tag){case 3:a=o,p.flags|=16384,n&=-n,p.lanes|=n,qt(p,ol(p,a,n));break e;case 1:a=o;var w=p.type,T=p.stateNode;if(0==(128&p.flags)&&("function"==typeof w.getDerivedStateFromError||null!==T&&"function"==typeof T.componentDidCatch&&(null===Pa||!Pa.has(T)))){p.flags|=16384,n&=-n,p.lanes|=n,qt(p,sl(p,a,n));break e}}p=p.return}while(null!==p)}$a(t)}catch(e){n=e,fa===t&&null!==t&&(fa=t=t.return);continue}break}}function Va(){var e=ua.current;return ua.current=nl,null===e?nl:e}function Wa(e,n){var t=ca;ca|=8;var r=Va();for(da===e&&pa===n||ja(e,n);;)try{Ya();break}catch(n){Ba(e,n)}if(Mt(),ca=t,ua.current=r,null!==fa)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return da=null,pa=0,ma}function Ya(){for(;null!==fa;)Xa(fa)}function qa(){for(;null!==fa&&!wn();)Xa(fa)}function Xa(e){var n=aa(e.alternate,e,ha);e.memoizedProps=e.pendingProps,null===n?$a(e):fa=n,oa.current=null}function $a(e){var n=e;do{var t=n.alternate;if(e=n.return,0==(8192&n.flags)){if(null!==(t=Al(t,n,ha)))return void(fa=t)}else{if(null!==(t=Ql(n)))return t.flags&=8191,void(fa=t);null!==e&&(e.flags|=8192,e.subtreeFlags=0,e.deletions=null)}if(null!==(n=n.sibling))return void(fa=n);fa=n=e}while(null!==n);0===ma&&(ma=5)}function Ga(e){var n=Wn,t=sa.transition;try{sa.transition=0,Wn=1,Ka(e,n)}finally{sa.transition=t,Wn=n}return null}function Ka(e,n){do{Ja()}while(null!==Ra);if(0!=(24&ca))throw Error("Should not already be working.");var t=e.finishedWork,r=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0;var l=t.lanes|t.childLanes;if(Hn(e,l),e===da&&(fa=da=null,pa=0),0==(1040&t.subtreeFlags)&&0==(1040&t.flags)||_a||(_a=!0,Sn(Rn,function(){return Ja(),null})),l=0!=(8054&t.flags),0!=(8054&t.subtreeFlags)||l){l=sa.transition,sa.transition=0;var a=Wn;Wn=1;var i=ca;ca|=16,oa.current=null,Vl(e,t),ra(e,t),e.current=t,la(t),Tn(),ca=i,Wn=a,sa.transition=l}else e.current=t;if(_a&&(_a=!1,Ra=e,Ea=r),0===(l=e.pendingLanes)&&(Pa=null),0!=(1&l)?e===Na?Ca++:(Ca=0,Na=e):Ca=0,zn(t.stateNode),Da(e,xn()),Ta)throw Ta=!1,e=xa,xa=null,e;return 0!=(4&ca)?null:(0!=(1&Ea)&&0!==e.tag&&Ja(),xt(),null)}function Ja(){if(null!==Ra){var e=Yn(Ea),n=sa.transition,t=Wn;try{if(sa.transition=0,Wn=16>e?16:e,null===Ra)var r=!1;else{if(e=Ra,Ra=null,Ea=0,0!=(24&ca))throw Error("Cannot flush passive effects while already rendering.");var l=ca;for(ca|=16,Ol=e.current;null!==Ol;){var a=Ol,i=a.child;if(0!=(16&Ol.flags)){var u=a.deletions;if(null!==u){for(var o=0;o<u.length;o++){var s=u[o];for(Ol=s;null!==Ol;){var c=Ol;switch(c.tag){case 0:case 11:case 15:Wl(4,c,a)}var d=c.child;if(null!==d)d.return=c,Ol=d;else for(;null!==Ol;){var f=(c=Ol).sibling,p=c.return;if($l(c),c===s){Ol=null;break}if(null!==f){f.return=p,Ol=f;break}Ol=p}}}var h=a.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Ol=a}}if(0!=(1040&a.subtreeFlags)&&null!==i)i.return=a,Ol=i;else e:for(;null!==Ol;){if(0!=(1024&(a=Ol).flags))switch(a.tag){case 0:case 11:case 15:Wl(5,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Ol=v;break e}Ol=a.return}}var b=e.current;for(Ol=b;null!==Ol;){var y=(i=Ol).child;if(0!=(1040&i.subtreeFlags)&&null!==y)y.return=i,Ol=y;else e:for(i=b;null!==Ol;){if(0!=(1024&(u=Ol).flags))try{switch(u.tag){case 0:case 11:case 15:Yl(5,u)}}catch(e){ei(u,u.return,e)}if(u===i){Ol=null;break e}var S=u.sibling;if(null!==S){S.return=u.return,Ol=S;break e}Ol=u.return}}if(ca=l,xt(),Nn&&"function"==typeof Nn.onPostCommitFiberRoot)try{Nn.onPostCommitFiberRoot(Cn,e)}catch(e){}r=!0}return r}finally{Wn=t,sa.transition=n}}return!1}function Za(e,n,t){Wt(e,n=ol(e,n=al(t,n),1)),n=La(),null!==(e=Fa(e,1))&&(Qn(e,1,n),Da(e,n))}function ei(e,n,t){if(3===e.tag)Za(e,e,t);else for(n=e.return;null!==n;){if(3===n.tag){Za(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Pa||!Pa.has(r))){Wt(n,e=sl(n,e=al(t,e),1)),e=La(),null!==(n=Fa(n,1))&&(Qn(n,1,e),Da(n,e));break}}n=n.return}}function ni(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=La(),e.pingedLanes|=e.suspendedLanes&t,da===e&&(pa&t)===t&&(4===ma||3===ma&&(130023424&pa)===pa&&500>xn()-ka?ja(e,0):Sa|=t),Da(e,n)}function ti(e,n){var t=e.stateNode;null!==t&&t.delete(n),0===(n=0)&&(0==(1&e.mode)?n=1:(n=Ln,0==(130023424&(Ln<<=1))&&(Ln=4194304))),t=La(),null!==(e=Fa(e,n))&&(Qn(e,n,t),Da(e,t))}function ri(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(e,n,t,r){return new ri(e,n,t,r)}function ai(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ii(e){if("function"==typeof e)return ai(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===je)return 11;if(e===We)return 14}return 2}function ui(e,n){var t=e.alternate;return null===t?((t=li(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=1835008&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function oi(e,n,t,r,l,a){var i=2;if(r=e,"function"==typeof e)ai(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case De:return si(t.children,l,a,n);case qe:i=8,l|=4;break;case Ae:i=8,l|=8;break;case Qe:return(e=li(12,t,n,2|l)).elementType=Qe,e.lanes=a,e;case Be:return(e=li(13,t,n,l)).elementType=Be,e.lanes=a,e;case Ve:return(e=li(19,t,n,l)).elementType=Ve,e.lanes=a,e;case Xe:return ci(t,l,a,n);case $e:return(e=li(23,t,n,l)).elementType=$e,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case He:i=10;break e;case Oe:i=9;break e;case je:i=11;break e;case We:i=14;break e;case Ye:i=16,r=null;break e}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+".")}return(n=li(i,t,n,l)).elementType=e,n.type=r,n.lanes=a,n}function si(e,n,t,r){return(e=li(7,e,r,n)).lanes=t,e}function ci(e,n,t,r){return(e=li(22,e,r,n)).elementType=Xe,e.lanes=t,e}function di(e,n,t){return(e=li(6,e,null,n)).lanes=t,e}function fi(e,n,t){return(n=li(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function pi(e,n,t){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=An(0),this.expirationTimes=An(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=An(0)}function hi(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Fe,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function gi(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e))}return null===(e=an(n))?null:e.stateNode}function mi(e,n,t,r){var l=n.current,a=La(),i=Ua(l);e:if(t){t=t._reactInternals;n:{if(tn(t)!==t||1!==t.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var u=t;do{switch(u.tag){case 3:u=u.stateNode.context;break n;case 1:if(gt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break n}}u=u.return}while(null!==u);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}if(1===t.tag){var o=t.type;if(gt(o)){t=bt(t,o,u);break e}}t=u}else t=ct;return null===n.context?n.context=t:n.pendingContext=t,(n=Vt(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),Wt(l,n),null!==(e=Ma(l,i,a))&&Yt(e,l,i),i}function vi(e){return null==e?null:"number"==typeof e?e:e._nativeTag?e._nativeTag:e.canonical&&e.canonical._nativeTag?e.canonical._nativeTag:null==(e=gi(e))?e:e.canonical?e.canonical._nativeTag:e._nativeTag}function bi(e){var n=yi.get(e);n&&mi(null,n,null,function(){yi.delete(e)})}aa=function(e,n,t){var r=n.lanes;if(null!==e)if(e.memoizedProps!==n.pendingProps||ft.current)dl=!0;else{if(0==(t&r)){switch(dl=!1,n.tag){case 3:kl(n);break;case 5:gr(n);break;case 1:gt(n.type)&&yt(n);break;case 4:pr(n,n.stateNode.containerInfo);break;case 10:r=n.type._context;var l=n.memoizedProps.value;st(zt,r._currentValue),r._currentValue=l;break;case 13:if(null!==n.memoizedState)return 0!=(t&n.child.childLanes)?El(e,n,t):(st(vr,1&vr.current),null!==(n=Ml(e,n,t))?n.sibling:null);st(vr,1&vr.current);break;case 19:if(r=0!=(t&n.childLanes),0!=(128&e.flags)){if(r)return Ul(e,n,t);n.flags|=128}if(null!==(l=n.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),st(vr,vr.current),r)break;return null;case 22:case 23:return n.lanes=0,ml(e,n,t)}return Ml(e,n,t)}dl=0!=(32768&e.flags)}else dl=!1;switch(n.lanes=0,n.tag){case 2:if(r=n.type,null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,l=ht(n,dt.current),At(n,t),l=zr(null,n,r,e,l,t),n.flags|=1,"object"==typeof l&&null!==l&&"function"==typeof l.render&&void 0===l.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,gt(r)){var a=!0;yt(n)}else a=!1;n.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,jt(n),l.updater=Jt,n.stateNode=l,l._reactInternals=n,tr(n,r,e,t),n=Sl(null,n,r,!0,a,t)}else n.tag=0,fl(null,n,l,t),n=n.child;return n;case 16:l=n.elementType;e:{switch(null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,l=(a=l._init)(l._payload),n.type=l,a=n.tag=ii(l),e=Nt(l,e),a){case 0:n=bl(null,n,l,e,t);break e;case 1:n=yl(null,n,l,e,t);break e;case 11:n=pl(null,n,l,e,t);break e;case 14:n=hl(null,n,l,Nt(l.type,e),r,t);break e}throw Error("Element type is invalid. Received a promise that resolves to: "+l+". Lazy element type must resolve to a class or function.")}return n;case 0:return r=n.type,l=n.pendingProps,bl(e,n,r,l=n.elementType===r?l:Nt(r,l),t);case 1:return r=n.type,l=n.pendingProps,yl(e,n,r,l=n.elementType===r?l:Nt(r,l),t);case 3:if(kl(n),r=n.updateQueue,null===e||null===r)throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");return l=n.pendingProps,r=n.memoizedState.element,Bt(e,n),Xt(n,l,null,t),(l=n.memoizedState.element)===r?n=Ml(e,n,t):(fl(e,n,l,t),n=n.child),n;case 5:return gr(n),r=n.pendingProps.children,vl(e,n),fl(e,n,r,t),n.child;case 6:return null;case 13:return El(e,n,t);case 4:return pr(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=ir(n,null,r,t):fl(e,n,r,t),n.child;case 11:return r=n.type,l=n.pendingProps,pl(e,n,r,l=n.elementType===r?l:Nt(r,l),t);case 7:return fl(e,n,n.pendingProps,t),n.child;case 8:case 12:return fl(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,l=n.pendingProps,a=n.memoizedProps;var i=l.value;if(st(zt,r._currentValue),r._currentValue=i,null!==a)if(_t(a.value,i)){if(a.children===l.children&&!ft.current){n=Ml(e,n,t);break e}}else for(null!==(i=n.child)&&(i.return=n);null!==i;){var u=i.dependencies;if(null!==u){a=i.child;for(var o=u.firstContext;null!==o;){if(o.context===r){if(1===i.tag){(o=Vt(-1,t&-t)).tag=2;var s=i.updateQueue;if(null!==s){var c=(s=s.shared).pending;null===c?o.next=o:(o.next=c.next,c.next=o),s.pending=o}}i.lanes|=t,null!==(o=i.alternate)&&(o.lanes|=t),Dt(i.return,t),u.lanes|=t;break}o=o.next}}else a=10===i.tag&&i.type===n.type?null:i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===n){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}fl(e,n,l.children,t),n=n.child}return n;case 9:return l=n.type,r=n.pendingProps.children,At(n,t),r=r(l=Qt(l)),n.flags|=1,fl(e,n,r,t),n.child;case 14:return a=Nt(l=n.type,n.pendingProps),hl(e,n,l,a=Nt(l.type,a),r,t);case 15:return gl(e,n,n.type,n.pendingProps,r,t);case 17:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Nt(r,l),null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,gt(r)?(e=!0,yt(n)):e=!1,At(n,t),er(n,r,l),tr(n,r,l,t),Sl(null,n,r,!0,e,t);case 19:return Ul(e,n,t);case 22:case 23:return ml(e,n,t)}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")},Re=function(e,n){var t=ca;ca|=1;try{return e(n)}finally{0===(ca=t)&&(wa=xn()+500,wt&&xt())}};var yi=new Map,Si={findFiberByHostInstance:_e,bundleType:0,version:"18.0.0-experimental-568dc3532",rendererPackageName:"react-native-renderer",rendererConfig:{getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}.bind(null,vi)}},ki={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=an(e))?null:e.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-experimental-568dc3532"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wi.isDisabled&&wi.supportsFiber)try{Cn=wi.inject(ki),Nn=wi}catch(e){}}a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={computeComponentStackForErrorReporting:function(e){return(e=_e(e))?Ct(e):""}},a.createPortal=function(e,n){return hi(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.dispatchCommand=function(e,n,t){null!=e._nativeTag&&(e._internalInstanceHandle?nativeFabricUIManager.dispatchCommand(e._internalInstanceHandle.stateNode.node,n,t):o.UIManager.dispatchViewManagerCommand(e._nativeTag,n,t))},a.findHostInstance_DEPRECATED=function(e){return null==e?null:e._nativeTag?e:e.canonical&&e.canonical._nativeTag?e.canonical:null==(e=gi(e))?e:e.canonical?e.canonical:e},a.findNodeHandle=vi,a.render=function(e,n,t){var r=yi.get(n);if(!r){r=new pi(n,0,!1);var l=li(3,null,null,0);r.current=l,l.stateNode=r,l.memoizedState={element:null},jt(l),yi.set(n,r)}mi(e,r,null,t);e:if(e=r.current,e.child)switch(e.child.tag){case 5:e=e.child.stateNode;break e;default:e=e.child.stateNode}else e=null;return e},a.sendAccessibilityEvent=function(e,n){null!=e._nativeTag&&(e._internalInstanceHandle?nativeFabricUIManager.sendAccessibilityEvent(e._internalInstanceHandle.stateNode.node,n):o.legacySendAccessibilityEvent(e._nativeTag,n))},a.unmountComponentAtNode=bi,a.unmountComponentAtNodeAndRemoveContainer=function(e){bi(e),o.UIManager.removeRootView(e)},a.unstable_batchedUpdates=Ce},25,[13,26,125,10,172]);
__d(function(g,r,i,a,m,e,d){r(d[0])},26,[27]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Date.now();r(d[0]),r(d[1]),r(d[2]),r(d[3]),r(d[4]),r(d[5]),r(d[6]),r(d[7]),r(d[8]),r(d[9]),r(d[10]),r(d[11]);var n=r(d[12]);n.markPoint('initializeCore_start',n.currentTimestamp()-(Date.now()-t)),n.markPoint('initializeCore_end')},27,[28,29,30,32,60,67,71,76,107,112,113,123,85]);
__d(function(g,r,i,a,m,e,d){'use strict';void 0===g.GLOBAL&&(g.GLOBAL=g),void 0===g.window&&(g.window=g),void 0===g.self&&(g.self=g),g.process=g.process||{},g.process.env=g.process.env||{},g.process.env.NODE_ENV||(g.process.env.NODE_ENV='production')},28,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.performance||(g.performance={}),'function'!=typeof g.performance.now&&(g.performance.now=function(){return(g.nativePerformanceNow||Date.now)()})},29,[]);
__d(function(g,r,i,a,m,e,d){'use strict';if(g.__RCTProfileIsProfiling){var t=r(d[0]);t.installReactHook(),t.setEnabled(!0)}},30,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=!1,t=0,c={installReactHook:function(){!0},setEnabled:function(t){n!==t&&(n=t)},isEnabled:function(){return n},beginEvent:function(t,c){if(n){var o='function'==typeof t?t():t;g.nativeTraceBeginSection(131072,o,c)}},endEvent:function(){n&&g.nativeTraceEndSection(131072)},beginAsyncEvent:function(c){var o=t;if(n){t++;var f='function'==typeof c?c():c;g.nativeTraceBeginAsyncSection(131072,f,o)}return o},endAsyncEvent:function(t,c){if(n){var o='function'==typeof t?t():t;g.nativeTraceEndAsyncSection(131072,o,c)}},counterEvent:function(t,c){if(n){var o='function'==typeof t?t():t;g.nativeTraceCounter&&g.nativeTraceCounter(131072,o,c)}}};m.exports=c},31,[15]);
__d(function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0]);if(e.installConsoleErrorReporter(),!g.__fbDisableExceptionsManager){r(d[1]).setGlobalHandler(function(o,t){try{e.handleException(o,t)}catch(e){throw console.log('Failed to print error: ',e.message),o}})}},32,[33,51]);
__d(function(g,r,i,a,m,_e,d){'use strict';r(d[0]);var n=r(d[1]),e=r(d[2]),t=r(d[3]),o=r(d[4]),s=r(d[5]);function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}var l,u=(function(l){t(v,l);var u,f,p=(u=v,f=c(),function(){var n,e=s(u);if(f){var t=s(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return o(this,n)});function v(){var n;e(this,v);for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(n=p.call.apply(p,[this].concat(o))).name='',n}return n(v)})(r(d[6])(Error)),f=!1;function p(n){if(l&&!f){f=!0;try{return l(n)}catch(n){}finally{f=!1}}return n}var v=0;function y(n,e,t){var o=r(d[7]).default;if(o){var s=r(d[8])(null==n?void 0:n.stack),c=++v,l=n.message||'',u=l;null!=n.componentStack&&(u+="\n\nThis error is located at:"+n.componentStack);var f=null==n.name||''===n.name?'':n.name+": ";u.startsWith(f)||(u=f+u),u=null==n.jsEngine?u:u+", js engine: "+n.jsEngine;var y=!0!==n.forceRedbox&&!g.RN$Bridgeless&&!g.RN$Express,E=p({message:u,originalMessage:u===l?null:l,name:null==n.name||''===n.name?null:n.name,componentStack:'string'==typeof n.componentStack?n.componentStack:null,stack:s,id:c,isFatal:e,extraData:{jsEngine:n.jsEngine,rawStack:n.stack,suppressRedBox:y}});t&&console.error(E.message),(e||'warn'!==n.type)&&o.reportException(E)}else t&&console.error(n)}var E=!1;function h(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if((n=console)._errorOriginal.apply(n,t),console.reportErrorsAsExceptions&&!E){var s,c=t[0];if(null!=c&&c.stack)s=c;else{var l=r(d[9]).default;if('string'==typeof c&&c.startsWith('Warning: '))return;var f=t.map(function(n){return'string'==typeof n?n:l(n)}).join(' ');(s=new u(f)).name='console.error'}y(s,!1,!1)}}m.exports={handleException:function(n,e){var t;t=n instanceof Error?n:new u(n);try{E=!0,y(t,e,!0)}finally{E=!1}},installConsoleErrorReporter:function(){console._errorOriginal||(console._errorOriginal=console.error.bind(console),console.error=h,void 0===console.reportErrorsAsExceptions&&(console.reportErrorsAsExceptions=!0))},SyntheticError:u,unstable_setExceptionDecorator:function(n){l=n}}},33,[34,3,2,4,6,9,35,38,57,53]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t,u){return t in n?Object.defineProperty(n,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[t]=u,n}},34,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]);function c(f){var p="function"==typeof Map?new Map:void 0;return m.exports=c=function(c){if(null===c||!o(c))return c;if("function"!=typeof c)throw new TypeError("Super expression must either be null or a function");if(void 0!==p){if(p.has(c))return p.get(c);p.set(c,f)}function f(){return u(c,arguments,t(this).constructor)}return f.prototype=Object.create(c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n(f,c)},c(f)}m.exports=c},35,[9,5,36,37]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){return-1!==Function.toString.call(n).indexOf("[native code]")}},36,[]);
__d(function(g,r,i,_a,m,_e,d){var t=r(d[0]);function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function e(c,o,u){return n()?m.exports=e=Reflect.construct:m.exports=e=function(n,e,c){var o=[null];o.push.apply(o,e);var u=new(Function.bind.apply(n,o));return c&&t(u,c.prototype),u},e.apply(null,arguments)}m.exports=e},37,[5]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var p=n(o);if(p&&p.has(t))return p.get(t);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var s=f?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(c,u,s):c[u]=t[u]}c.default=t,p&&p.set(t,c);return c})(r(d[0]));function n(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,p=new WeakMap;return(n=function(t){return t?p:o})(t)}r(d[1]);var o=t.getEnforcing('ExceptionsManager'),p={reportFatalException:function(t,n,p){o.reportFatalException(t,n,p)},reportSoftException:function(t,n,p){o.reportSoftException(t,n,p)},updateExceptionMessage:function(t,n,p){o.updateExceptionMessage(t,n,p)},dismissRedbox:function(){},reportException:function(t){o.reportException?o.reportException(t):t.isFatal?p.reportFatalException(t.message,t.stack,t.id):p.reportSoftException(t.message,t.stack,t.id)}},c=p;e.default=c},38,[39,55]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.get=function(n){return l(n)},e.getEnforcing=function(n){var u=l(n);return(0,t.default)(null!=u,"TurboModuleRegistry.getEnforcing(...): '"+n+"' could not be found. Verify that a module by this name is registered in the native binary."),u};var t=n(r(d[1])),u=r(d[2]),o=g.__turboModuleProxy;function l(n){if(!g.RN$Bridgeless){var t=u[n];if(null!=t)return t}return null!=o?o(n):null}},39,[1,15,40]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),u=r(d[3]);function l(o,l){if(!o)return null;var f=t(o,5),v=f[0],h=f[1],y=f[2],C=f[3],M=f[4];if(u(!v.startsWith('RCT')&&!v.startsWith('RK'),"Module name prefixes should've been stripped by the native side but wasn't for "+v),!h&&!y)return{name:v};var b={};return y&&y.forEach(function(n,t){var o=C&&c(C,t)||!1,f=M&&c(M,t)||!1;u(!o||!f,'Cannot have a method that is both async and a sync hook');var v=o?'promise':f?'sync':'async';b[n]=s(l,t,v)}),n(b,h),null==b.getConstants?b.getConstants=function(){return h||Object.freeze({})}:console.warn("Unable to define method 'getConstants()' on NativeModule '"+v+"'. NativeModule '"+v+"' already has a constant or method called 'getConstants'. Please remove it."),{name:v,module:b}}function f(n,t){u(g.nativeRequireModuleConfig,"Can't lazily create module without nativeRequireModuleConfig");var o=l(g.nativeRequireModuleConfig(n),t);return o&&o.module}function s(n,t,l){var f=null;return(f='promise'===l?function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var s=new Error;return new Promise(function(u,f){o.enqueueNativeCall(n,t,l,function(n){return u(n)},function(n){return f(v(n,s))})})}:function(){for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];var v=s.length>0?s[s.length-1]:null,h=s.length>1?s[s.length-2]:null,y='function'==typeof v,C='function'==typeof h;C&&u(y,'Cannot have a non-function arg after a function arg.');var M=y?v:null,b=C?h:null,p=y+C,_=s.slice(0,s.length-p);if('sync'===l)return o.callNativeSyncHook(n,t,_,b,M);o.enqueueNativeCall(n,t,_,b,M)}).type=l,f}function c(n,t){return-1!==n.indexOf(t)}function v(t,o){return n(o,t||{})}g.__fbGenNativeModule=l;var h={};if(g.nativeModuleProxy)h=g.nativeModuleProxy;else if(!g.nativeExtensions){var y=g.__fbBatchedBridgeConfig;u(y,'__fbBatchedBridgeConfig is not set, cannot invoke native modules');var C=r(d[4]);(y.remoteModuleConfig||[]).forEach(function(n,t){var o=l(n,t);o&&(o.module?h[o.name]=o.module:C(h,o.name,{get:function(){return f(o.name,t)}}))})}m.exports=h},40,[13,41,45,15,54]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]),t=r(d[1]),o=r(d[2]);m.exports=function(u,c){return n(u)||t(u,c)||o()}},41,[42,43,44]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){if(Array.isArray(n))return n}},42,[]);
__d(function(g,r,_i2,a,m,e,d){m.exports=function(t,n){var l=[],o=!0,u=!1,i=void 0;try{for(var f,y=t[Symbol.iterator]();!(o=(f=y.next()).done)&&(l.push(f.value),!n||l.length!==n);o=!0);}catch(t){u=!0,i=t}finally{try{o||null==y.return||y.return()}finally{if(u)throw i}}return l}},43,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},44,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=new(r(d[0]));Object.defineProperty(g,'__fbBatchedBridge',{configurable:!0,value:t}),m.exports=t},45,[46]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l=r(d[1]),u=r(d[2]),s=r(d[3]),n=r(d[4]),h=(r(d[5]),r(d[6])),o=r(d[7]).default,c=(r(d[8]),(function(){function c(){l(this,c),this._lazyCallableModules={},this._queue=[[],[],[],0],this._successCallbacks=new Map,this._failureCallbacks=new Map,this._callID=0,this._lastFlush=0,this._eventLoopStartTime=Date.now(),this._reactNativeMicrotasksCallback=null,this.callFunctionReturnFlushedQueue=this.callFunctionReturnFlushedQueue.bind(this),this.callFunctionReturnResultAndFlushedQueue=this.callFunctionReturnResultAndFlushedQueue.bind(this),this.flushedQueue=this.flushedQueue.bind(this),this.invokeCallbackAndReturnFlushedQueue=this.invokeCallbackAndReturnFlushedQueue.bind(this)}return u(c,[{key:"callFunctionReturnFlushedQueue",value:function(t,l,u){var s=this;return this.__guard(function(){s.__callFunction(t,l,u)}),this.flushedQueue()}},{key:"callFunctionReturnResultAndFlushedQueue",value:function(){return{}}},{key:"invokeCallbackAndReturnFlushedQueue",value:function(t,l){var u=this;return this.__guard(function(){u.__invokeCallback(t,l)}),this.flushedQueue()}},{key:"flushedQueue",value:function(){var t=this;this.__guard(function(){t.__callReactNativeMicrotasks()});var l=this._queue;return this._queue=[[],[],[],this._callID],l[0].length?l:null}},{key:"getEventLoopRunningTime",value:function(){return Date.now()-this._eventLoopStartTime}},{key:"registerCallableModule",value:function(t,l){this._lazyCallableModules[t]=function(){return l}}},{key:"registerLazyCallableModule",value:function(t,l){var u,s=l;this._lazyCallableModules[t]=function(){return s&&(u=s(),s=null),u}}},{key:"getCallableModule",value:function(t){var l=this._lazyCallableModules[t];return l?l():null}},{key:"callNativeSyncHook",value:function(t,l,u,s,n){return this.processCallbacks(t,l,u,s,n),g.nativeCallSyncHook(t,l,u)}},{key:"processCallbacks",value:function(t,l,u,s,n){(s||n)&&(s&&u.push(this._callID<<1),n&&u.push(this._callID<<1|1),this._successCallbacks.set(this._callID,n),this._failureCallbacks.set(this._callID,s)),this._callID++}},{key:"enqueueNativeCall",value:function(t,l,u,s,h){this.processCallbacks(t,l,u,s,h),this._queue[0].push(t),this._queue[1].push(l),this._queue[2].push(u);var o=Date.now();if(g.nativeFlushQueueImmediate&&o-this._lastFlush>=5){var c=this._queue;this._queue=[[],[],[],this._callID],this._lastFlush=o,g.nativeFlushQueueImmediate(c)}n.counterEvent('pending_js_to_native_queue',this._queue[0].length),this.__spy&&this.__spy({type:1,module:t+'',method:l,args:u})}},{key:"createDebugLookup",value:function(t,l,u){}},{key:"setReactNativeMicrotasksCallback",value:function(t){this._reactNativeMicrotasksCallback=t}},{key:"__guard",value:function(t){if(this.__shouldPauseOnThrow())t();else try{t()}catch(t){s.reportFatalError(t)}}},{key:"__shouldPauseOnThrow",value:function(){return'undefined'!=typeof DebuggerInternal&&!0===DebuggerInternal.shouldPauseOnThrow}},{key:"__callReactNativeMicrotasks",value:function(){n.beginEvent('JSTimers.callReactNativeMicrotasks()'),null!=this._reactNativeMicrotasksCallback&&this._reactNativeMicrotasksCallback(),n.endEvent()}},{key:"__callFunction",value:function(t,l,u){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush,this.__spy?n.beginEvent(t+"."+l+"("+o(u)+")"):n.beginEvent(t+"."+l+"(...)"),this.__spy&&this.__spy({type:0,module:t,method:l,args:u});var s=this.getCallableModule(t);h(!!s,"Module "+t+" is not a registered callable module (calling "+l+"). A frequent cause of the error is that the application entry file path is incorrect.\n      This can also happen when the JS bundle is corrupt or there is an early initialization error when loading React Native."),h(!!s[l],"Method "+l+" does not exist on module "+t),s[l].apply(s,u),n.endEvent()}},{key:"__invokeCallback",value:function(l,u){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush;var s=l>>>1,n=1&l?this._successCallbacks.get(s):this._failureCallbacks.get(s);n&&(this._successCallbacks.delete(s),this._failureCallbacks.delete(s),n.apply(void 0,t(u)))}}],[{key:"spy",value:function(t){c.prototype.__spy=!0===t?function(t){console.log((0===t.type?'N->JS':'JS->N')+" : "+(null!=t.module?t.module+'.':'')+t.method+"("+JSON.stringify(t.args)+")")}:!1===t?null:t}}]),c})());m.exports=c},46,[47,2,3,51,31,52,15,53,16]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]),o=r(d[2]);m.exports=function(u){return n(u)||t(u)||o()}},47,[48,49,50]);
__d(function(g,r,_i,a,m,e,d){m.exports=function(n){if(Array.isArray(n)){for(var t=0,f=new Array(n.length);t<n.length;t++)f[t]=n[t];return f}}},48,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},49,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},50,[]);
__d(function(g,r,i,a,m,e,d){m.exports=g.ErrorUtils},51,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return t}},52,[]);
__d(function(g,r,_i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createStringifySafeWithLimits=u,_e.default=void 0;var e=t(r(d[1]));function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t){var i=t.maxDepth,o=void 0===i?Number.POSITIVE_INFINITY:i,u=t.maxStringLimit,f=void 0===u?Number.POSITIVE_INFINITY:u,l=t.maxArrayLimit,c=void 0===l?Number.POSITIVE_INFINITY:l,y=t.maxObjectKeysLimit,s=void 0===y?Number.POSITIVE_INFINITY:y,h=[];function v(t,i){for(;h.length&&this!==h[0];)h.shift();if('string'==typeof i){return i.length>f+"...(truncated)...".length?i.substring(0,f)+"...(truncated)...":i}if('object'!=typeof i||null===i)return i;var u=i;if(Array.isArray(i))h.length>=o?u="[ ... array with "+i.length+" values ... ]":i.length>c&&(u=i.slice(0,c).concat(["... extra "+(i.length-c)+" values truncated ..."]));else{(0,e.default)('object'==typeof i,'This was already found earlier');var l=Object.keys(i);if(h.length>=o)u="{ ... object with "+l.length+" keys ... }";else if(l.length>s){u={};for(var y,v=n(l.slice(0,s));!(y=v()).done;){var b=y.value;u[b]=i[b]}u['...(truncated keys)...']=l.length-s}}return h.unshift(u),u}return function(t){if(void 0===t)return'undefined';if(null===t)return'null';if('function'==typeof t)try{return t.toString()}catch(t){return'[function unknown]'}else{if(t instanceof Error)return t.name+': '+t.message;try{var e=JSON.stringify(t,v);return void 0===e?'["'+typeof t+'" failed to stringify]':e}catch(e){if('function'==typeof t.toString)try{return t.toString()}catch(t){}}}return'["'+typeof t+'" failed to stringify]'}}var f=u({maxDepth:10,maxStringLimit:100,maxArrayLimit:50,maxObjectKeysLimit:50});_e.default=f},53,[1,15]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,u){var b,c=u.get,o=!1!==u.enumerable,f=!1!==u.writable,l=!1;function s(u){b=u,l=!0,Object.defineProperty(t,n,{value:u,configurable:!0,enumerable:o,writable:f})}Object.defineProperty(t,n,{get:function(){return l||(l=!0,s(c())),b},set:s,configurable:!0,enumerable:o})}},54,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n={__constants:null,OS:'ios',get Version(){return this.constants.osVersion},get constants(){return null==this.__constants&&(this.__constants=t.default.getConstants()),this.__constants},get isPad(){return'pad'===this.constants.interfaceIdiom},get isTVOS(){return n.isTV},get isTV(){return'tv'===this.constants.interfaceIdiom},get isTesting(){return!1},select:function(t){return'ios'in t?t.ios:'native'in t?t.native:t.default}};m.exports=n},55,[1,56]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('PlatformConstants');e.default=n},56,[39]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}function o(o){for(var i=1;i<arguments.length;i++){var u=null!=arguments[i]?arguments[i]:{};i%2?n(Object(u),!0).forEach(function(n){t(o,n,u[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):n(Object(u)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(u,t))})}return o}function i(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=u(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,i=new Array(n);o<n;o++)i[o]=t[o];return i}var l=r(d[1]);function f(t){for(var n,o=[],u=i(t.entries);!(n=u()).done;){var c=n.value;if('FRAME'===c.type){var l=c.location,f=c.functionName;'NATIVE'!==l.type&&o.push({methodName:f,file:l.sourceUrl,lineNumber:l.line1Based,column:'SOURCE'===l.type?l.column1Based-1:l.virtualOffset0Based})}}return o}m.exports=function(t){if(null==t)return[];var n=r(d[2]);return Array.isArray(t)?t:g.HermesInternal?f(l(t)):n.parse(t).map(function(t){return o(o({},t),{},{column:null!=t.column?t.column-1:null})})}},57,[34,58,59]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.*?):(\d+):(\d+)\))$/,n=/^ {4}... skipping (\d+) frames$/;function s(s){var i=s.match(t);if(i)return{type:'FRAME',functionName:i[1],location:'native'===i[2]?{type:'NATIVE'}:'address at '===i[3]?{type:'BYTECODE',sourceUrl:i[4],line1Based:Number.parseInt(i[5],10),virtualOffset0Based:Number.parseInt(i[6],10)}:{type:'SOURCE',sourceUrl:i[4],line1Based:Number.parseInt(i[5],10),column1Based:Number.parseInt(i[6],10)}};var u=s.match(n);return u?{type:'SKIPPED',count:Number.parseInt(u[1],10)}:void 0}m.exports=function(t){for(var n=t.split(/\n/),i=[],u=-1,p=0;p<n.length;++p){var o=n[p];if(o){var c=s(o);c?i.push(c):(u=p,i=[])}}return{message:n.slice(0,u+1).join('\n'),entries:i}}},58,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var n='<unknown>';var l=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/;function t(t){var o=l.exec(t);if(!o)return null;var c=o[2]&&0===o[2].indexOf('native'),s=o[2]&&0===o[2].indexOf('eval'),v=u.exec(o[2]);return s&&null!=v&&(o[2]=v[1],o[3]=v[2],o[4]=v[3]),{file:c?null:o[2],methodName:o[1]||n,arguments:c?[o[2]]:[],lineNumber:o[3]?+o[3]:null,column:o[4]?+o[4]:null}}var o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function c(l){var u=o.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}var s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,v=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function f(l){var u=s.exec(l);if(!u)return null;var t=u[3]&&u[3].indexOf(' > eval')>-1,o=v.exec(u[3]);return t&&null!=o&&(u[3]=o[1],u[4]=o[2],u[5]=null),{file:u[3],methodName:u[1]||n,arguments:u[2]?u[2].split(','):[],lineNumber:u[4]?+u[4]:null,column:u[5]?+u[5]:null}}var b=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function p(l){var u=b.exec(l);return u?{file:u[3],methodName:u[1]||n,arguments:[],lineNumber:+u[4],column:u[5]?+u[5]:null}:null}var x=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function h(l){var u=x.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}e.parse=function(n){return n.split('\n').reduce(function(n,l){var u=t(l)||c(l)||f(l)||h(l)||p(l);return u&&n.push(u),n},[])}},59,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var l,n,s=r(d[0]).polyfillGlobal;if(null!=(l=g)&&null!=(n=l.HermesInternal)&&null!=n.hasPromise&&n.hasPromise())g.Promise;else s('Promise',function(){return r(d[1])})},60,[61,62]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=r(d[0]);function o(o,t,n){var c=Object.getOwnPropertyDescriptor(o,t),b=c||{},f=b.enumerable,u=b.writable,p=b.configurable;!c||void 0!==p&&p?l(o,t,{get:n,enumerable:!1!==f,writable:!1!==u}):console.error('Failed to set polyfill. '+t+' is not configurable.')}m.exports={polyfillObjectProperty:o,polyfillGlobal:function(l,t){o(g,l,t)}}},61,[54]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);r(d[1]),r(d[2]),m.exports=t},62,[63,65,66]);
__d(function(g,r,_i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=n;var t=l(!0),o=l(!1),f=l(null),i=l(void 0),u=l(0),c=l('');function l(t){var o=new n(n._0);return o._V=1,o._W=t,o}n.resolve=function(y){if(y instanceof n)return y;if(null===y)return f;if(void 0===y)return i;if(!0===y)return t;if(!1===y)return o;if(0===y)return u;if(''===y)return c;if('object'==typeof y||'function'==typeof y)try{var p=y.then;if('function'==typeof p)return new n(p.bind(y))}catch(t){return new n(function(n,o){o(t)})}return l(y)};var y=function(n){return'function'==typeof Array.from?(y=Array.from,Array.from(n)):(y=function(n){return Array.prototype.slice.call(n)},Array.prototype.slice.call(n))};n.all=function(t){var o=y(t);return new n(function(t,f){if(0===o.length)return t([]);var i=o.length;function u(c,l){if(l&&('object'==typeof l||'function'==typeof l)){if(l instanceof n&&l.then===n.prototype.then){for(;3===l._V;)l=l._W;return 1===l._V?u(c,l._W):(2===l._V&&f(l._W),void l.then(function(n){u(c,n)},f))}var y=l.then;if('function'==typeof y)return void new n(y.bind(l)).then(function(n){u(c,n)},f)}o[c]=l,0==--i&&t(o)}for(var c=0;c<o.length;c++)u(c,o[c])})},n.reject=function(t){return new n(function(n,o){o(t)})},n.race=function(t){return new n(function(o,f){y(t).forEach(function(t){n.resolve(t).then(o,f)})})},n.prototype.catch=function(n){return this.then(null,n)}},63,[64]);
__d(function(g,r,_i,_a,m,e,d){'use strict';function n(){}var t=null,o={};function i(n){try{return n.then}catch(n){return t=n,o}}function u(n,i){try{return n(i)}catch(n){return t=n,o}}function f(n,i,u){try{n(i,u)}catch(n){return t=n,o}}function c(t){if('object'!=typeof this)throw new TypeError('Promises must be constructed via new');if('function'!=typeof t)throw new TypeError('Promise constructor\'s argument is not a function');this._U=0,this._V=0,this._W=null,this._X=null,t!==n&&y(t,this)}function _(t,o,i){return new t.constructor(function(u,f){var _=new c(n);_.then(u,f),s(t,new v(o,i,_))})}function s(n,t){for(;3===n._V;)n=n._W;if(c._Y&&c._Y(n),0===n._V)return 0===n._U?(n._U=1,void(n._X=t)):1===n._U?(n._U=2,void(n._X=[n._X,t])):void n._X.push(t);l(n,t)}function l(n,i){setImmediate(function(){var f=1===n._V?i.onFulfilled:i.onRejected;if(null!==f){var c=u(f,n._W);c===o?p(i.promise,t):h(i.promise,c)}else 1===n._V?h(i.promise,n._W):p(i.promise,n._W)})}function h(n,u){if(u===n)return p(n,new TypeError('A promise cannot be resolved with itself.'));if(u&&('object'==typeof u||'function'==typeof u)){var f=i(u);if(f===o)return p(n,t);if(f===n.then&&u instanceof c)return n._V=3,n._W=u,void a(n);if('function'==typeof f)return void y(f.bind(u),n)}n._V=1,n._W=u,a(n)}function p(n,t){n._V=2,n._W=t,c._Z&&c._Z(n,t),a(n)}function a(n){if(1===n._U&&(s(n,n._X),n._X=null),2===n._U){for(var t=0;t<n._X.length;t++)s(n,n._X[t]);n._X=null}}function v(n,t,o){this.onFulfilled='function'==typeof n?n:null,this.onRejected='function'==typeof t?t:null,this.promise=o}function y(n,i){var u=!1,c=f(n,function(n){u||(u=!0,h(i,n))},function(n){u||(u=!0,p(i,n))});u||c!==o||(u=!0,p(i,t))}m.exports=c,c._Y=null,c._Z=null,c._0=n,c.prototype.then=function(t,o){if(this.constructor!==c)return _(this,t,o);var i=new c(n);return s(this,new v(t,o,i)),i}},64,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t,t.prototype.done=function(t,n){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})}},65,[64]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=n,n.prototype.finally=function(t){return this.then(function(o){return n.resolve(t()).then(function(){return o})},function(o){return n.resolve(t()).then(function(){throw o})})}},66,[64]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),o=r(d[1]).polyfillGlobal,c=r(d[2]).hasNativeConstructor;try{t=c(n.mark(function t(){return n.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}),'GeneratorFunction')}catch(n){t=!1}t||o('regeneratorRuntime',function(){return delete g.regeneratorRuntime,r(d[3])})},67,[68,61,70,69]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])},68,[69]);
__d(function(g,r,_i,a,m,e,d){var t=(function(t){"use strict";var n,o=Object.prototype,i=o.hasOwnProperty,c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function l(t,n,o){return Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{l({},"")}catch(t){l=function(t,n,o){return t[n]=o}}function s(t,n,o,i){var c=n&&n.prototype instanceof b?n:b,u=Object.create(c.prototype),h=new R(i||[]);return u._invoke=F(t,o,h),u}function p(t,n,o){try{return{type:"normal",arg:t.call(n,o)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var y="suspendedStart",v="suspendedYield",w="executing",L="completed",x={};function b(){}function E(){}function _(){}var j={};l(j,u,function(){return this});var O=Object.getPrototypeOf,k=O&&O(O(A([])));k&&k!==o&&i.call(k,u)&&(j=k);var G=_.prototype=b.prototype=Object.create(j);function N(t){["next","throw","return"].forEach(function(n){l(t,n,function(t){return this._invoke(n,t)})})}function T(t,n){function o(c,u,h,f){var l=p(t[c],t,u);if("throw"!==l.type){var s=l.arg,y=s.value;return y&&"object"==typeof y&&i.call(y,"__await")?n.resolve(y.__await).then(function(t){o("next",t,h,f)},function(t){o("throw",t,h,f)}):n.resolve(y).then(function(t){s.value=t,h(s)},function(t){return o("throw",t,h,f)})}f(l.arg)}var c;this._invoke=function(t,i){function u(){return new n(function(n,c){o(t,i,n,c)})}return c=c?c.then(u,u):u()}}function F(t,n,o){var i=y;return function(c,u){if(i===w)throw new Error("Generator is already running");if(i===L){if("throw"===c)throw u;return Y()}for(o.method=c,o.arg=u;;){var h=o.delegate;if(h){var f=P(h,o);if(f){if(f===x)continue;return f}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===y)throw i=L,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=w;var l=p(t,n,o);if("normal"===l.type){if(i=o.done?L:v,l.arg===x)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=L,o.method="throw",o.arg=l.arg)}}}function P(t,o){var i=t.iterator[o.method];if(i===n){if(o.delegate=null,"throw"===o.method){if(t.iterator.return&&(o.method="return",o.arg=n,P(t,o),"throw"===o.method))return x;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var c=p(i,t.iterator,o.arg);if("throw"===c.type)return o.method="throw",o.arg=c.arg,o.delegate=null,x;var u=c.arg;return u?u.done?(o[t.resultName]=u.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=n),o.delegate=null,x):u:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,x)}function S(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function I(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function A(t){if(t){var o=t[u];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var c=-1,h=function o(){for(;++c<t.length;)if(i.call(t,c))return o.value=t[c],o.done=!1,o;return o.value=n,o.done=!0,o};return h.next=h}}return{next:Y}}function Y(){return{value:n,done:!0}}return E.prototype=_,l(G,"constructor",_),l(_,"constructor",E),E.displayName=l(_,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===E||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,f,"GeneratorFunction")),t.prototype=Object.create(G),t},t.awrap=function(t){return{__await:t}},N(T.prototype),l(T.prototype,h,function(){return this}),t.AsyncIterator=T,t.async=function(o,i,c,u,h){h===n&&(h=Promise);var f=new T(s(o,i,c,u),h);return t.isGeneratorFunction(i)?f:f.next().then(function(t){return t.done?t.value:f.next()})},N(G),l(G,f,"Generator"),l(G,u,function(){return this}),l(G,"toString",function(){return"[object Generator]"}),t.keys=function(t){var n=[];for(var o in t)n.push(o);return n.reverse(),function o(){for(;n.length;){var i=n.pop();if(i in t)return o.value=i,o.done=!1,o}return o.done=!0,o}},t.values=A,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!t)for(var o in this)"t"===o.charAt(0)&&i.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function c(i,c){return f.type="throw",f.arg=t,o.next=i,c&&(o.method="next",o.arg=n),!!c}for(var u=this.tryEntries.length-1;u>=0;--u){var h=this.tryEntries[u],f=h.completion;if("root"===h.tryLoc)return c("end");if(h.tryLoc<=this.prev){var l=i.call(h,"catchLoc"),s=i.call(h,"finallyLoc");if(l&&s){if(this.prev<h.catchLoc)return c(h.catchLoc,!0);if(this.prev<h.finallyLoc)return c(h.finallyLoc)}else if(l){if(this.prev<h.catchLoc)return c(h.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<h.finallyLoc)return c(h.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.tryLoc<=this.prev&&i.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var u=c;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var h=u?u.completion:{};return h.type=t,h.arg=n,u?(this.method="next",this.next=u.finallyLoc,x):this.complete(h)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),x},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),I(o),x}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc===t){var i=o.completion;if("throw"===i.type){var c=i.arg;I(o)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,i){return this.delegate={iterator:A(t),resultName:o,nextLoc:i},"next"===this.method&&(this.arg=n),x}},t})("object"==typeof m?m.exports:{});try{regeneratorRuntime=t}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},69,[]);
__d(function(g,r,i,a,m,e,d){function t(t){return'function'==typeof t&&t.toString().indexOf('[native code]')>-1}m.exports={isNativeFunction:t,hasNativeConstructor:function(n,o){var c=Object.getPrototypeOf(n).constructor;return c.name===o&&t(c)}}},70,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t,u=r(d[0]).polyfillGlobal,l=r(d[1]).isNativeFunction,c=!0===(null==(n=g.HermesInternal)?void 0:null==n.hasPromise?void 0:n.hasPromise())&&!0===(null==(t=g.HermesInternal)?void 0:null==t.useEngineQueue?void 0:t.useEngineQueue()),o=l(Promise)||c;if(!g.RN$Bridgeless){var s=function(n){u(n,function(){return r(d[2])[n]})};s('setTimeout'),s('clearTimeout'),s('setInterval'),s('clearInterval'),s('requestAnimationFrame'),s('cancelAnimationFrame'),s('requestIdleCallback'),s('cancelIdleCallback')}o?(u('setImmediate',function(){return r(d[3]).setImmediate}),u('clearImmediate',function(){return r(d[3]).clearImmediate})):g.RN$Bridgeless||(u('setImmediate',function(){return r(d[2]).queueReactNativeMicrotask}),u('clearImmediate',function(){return r(d[2]).clearReactNativeMicrotask})),u('queueMicrotask',c?function(){var n;return null==(n=g.HermesInternal)?void 0:n.enqueueJob}:function(){return r(d[4]).default})},71,[61,70,72,74,75]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0])(r(d[1])),t=r(d[2]),n=(r(d[3]),r(d[4])),i=16.666666666666668,l=[],o=[],c=[],u=[],f=[],s={},v=1,h=null,T=!1;function k(){var e=c.indexOf(null);return-1===e&&(e=c.length),e}function w(e,t){var n=v++,i=k();return c[i]=n,l[i]=e,o[i]=t,n}function p(e,t,n){e>v&&console.warn('Tried to call timer with ID %s but no such timer exists.',e);var u=c.indexOf(e);if(-1!==u){var f=o[u],s=l[u];if(s&&f){'setInterval'!==f&&b(u);try{'setTimeout'===f||'setInterval'===f||'queueReactNativeMicrotask'===f?s():'requestAnimationFrame'===f?s(g.performance.now()):'requestIdleCallback'===f?s({timeRemaining:function(){return Math.max(0,i-(g.performance.now()-t))},didTimeout:!!n}):console.error('Tried to call a callback with invalid type: '+f)}catch(e){h?h.push(e):h=[e]}}else console.error('No callback found for timerID '+e)}}function N(){if(0===u.length)return!1;var e=u;u=[];for(var t=0;t<e.length;++t)p(e[t],0);return u.length>0}function b(e){c[e]=null,l[e]=null,o[e]=null}function I(e){if(null!=e){var t=c.indexOf(e);if(-1!==t){var n=o[t];b(t),'queueReactNativeMicrotask'!==n&&'requestIdleCallback'!==n&&x(e)}}}var q,M={setTimeout:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];var o=w(function(){return e.apply(void 0,i)},'setTimeout');return R(o,t||0,Date.now(),!1),o},setInterval:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];var o=w(function(){return e.apply(void 0,i)},'setInterval');return R(o,t||0,Date.now(),!0),o},queueReactNativeMicrotask:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var l=w(function(){return e.apply(void 0,n)},'queueReactNativeMicrotask');return u.push(l),l},requestAnimationFrame:function(e){var t=w(e,'requestAnimationFrame');return R(t,1,Date.now(),!1),t},requestIdleCallback:function(e,t){0===f.length&&y(!0);var n=t&&t.timeout,i=w(null!=n?function(t){var n=s[i];return n&&(M.clearTimeout(n),delete s[i]),e(t)}:e,'requestIdleCallback');if(f.push(i),null!=n){var l=M.setTimeout(function(){var e=f.indexOf(i);e>-1&&(f.splice(e,1),p(i,g.performance.now(),!0)),delete s[i],0===f.length&&y(!1)},n);s[i]=l}return i},cancelIdleCallback:function(e){I(e);var t=f.indexOf(e);-1!==t&&f.splice(t,1);var n=s[e];n&&(M.clearTimeout(n),delete s[e]),0===f.length&&y(!1)},clearTimeout:function(e){I(e)},clearInterval:function(e){I(e)},clearReactNativeMicrotask:function(e){I(e);var t=u.indexOf(e);-1!==t&&u.splice(t,1)},cancelAnimationFrame:function(e){I(e)},callTimers:function(e){n(0!==e.length,'Cannot call `callTimers` with an empty list of IDs.'),h=null;for(var t=0;t<e.length;t++)p(e[t],0);if(h){var i=h.length;if(i>1)for(var l=1;l<i;l++)M.setTimeout(function(e){throw e}.bind(null,h[l]),0);throw h[0]}},callIdleCallbacks:function(e){if(!(i-(g.performance.now()-e)<1)){if(h=null,f.length>0){var t=f;f=[];for(var n=0;n<t.length;++n)p(t[n],e)}0===f.length&&y(!1),h&&h.forEach(function(e){return M.setTimeout(function(){throw e},0)})}},callReactNativeMicrotasks:function(){for(h=null;N(););h&&h.forEach(function(e){return M.setTimeout(function(){throw e},0)})},emitTimeDriftWarning:function(e){T||(T=!0,console.warn(e))}};function R(t,i,l,o){n(e.default,'NativeTiming is available'),e.default.createTimer(t,i,l,o)}function x(t){n(e.default,'NativeTiming is available'),e.default.deleteTimer(t)}function y(t){n(e.default,'NativeTiming is available'),e.default.setSendIdleEvents(t)}e.default?q=M:(console.warn("Timing native module is not available, can't set timers."),q={callReactNativeMicrotasks:M.callReactNativeMicrotasks,queueReactNativeMicrotask:M.queueReactNativeMicrotask}),t.setReactNativeMicrotasksCallback(M.callReactNativeMicrotasks),m.exports=q},72,[1,73,45,31,15]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('Timing');e.default=n},73,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=1,n=new Set;var o={setImmediate:function(o){for(var u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];if(arguments.length<1)throw new TypeError('setImmediate must be called with at least one argument (a function to call)');if('function'!=typeof o)throw new TypeError('The first argument to setImmediate must be a function.');var f=t++;return n.has(f)&&n.delete(f),g.queueMicrotask(function(){n.has(f)?n.delete(f):o.apply(void 0,s)}),f},clearImmediate:function(t){n.add(t)}};m.exports=o},74,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){if(arguments.length<1)throw new TypeError('queueMicrotask must be called with at least one argument (a function to call)');if('function'!=typeof n)throw new TypeError('The argument to queueMicrotask must be a function.');(t||(t=Promise.resolve())).then(n).catch(function(t){return setTimeout(function(){throw t},0)})}},75,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]).polyfillGlobal;n('XMLHttpRequest',function(){return r(d[1])}),n('FormData',function(){return r(d[2])}),n('fetch',function(){return r(d[3]).fetch}),n('Headers',function(){return r(d[3]).Headers}),n('Request',function(){return r(d[3]).Request}),n('Response',function(){return r(d[3]).Response}),n('WebSocket',function(){return r(d[4])}),n('Blob',function(){return r(d[5])}),n('File',function(){return r(d[6])}),n('FileReader',function(){return r(d[7])}),n('URL',function(){return r(d[8]).URL}),n('URLSearchParams',function(){return r(d[8]).URLSearchParams}),n('AbortController',function(){return r(d[9]).AbortController}),n('AbortSignal',function(){return r(d[9]).AbortSignal})},76,[61,77,93,94,96,82,102,103,105,106]);
__d(function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0]),t=e(r(d[1])),s=e(r(d[2])),n=e(r(d[3])),o=e(r(d[4])),h=e(r(d[5])),u=e(r(d[6])),p=e(r(d[7]));function c(e){var t=l();return function(){var s,n=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;s=Reflect.construct(n,arguments,o)}else s=n.apply(this,arguments);return(0,u.default)(this,s)}}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var _=r(d[8]),f=r(d[9]),y=r(d[10]),v=r(d[11]),R=r(d[12]),E=r(d[13]);_.isAvailable&&_.addNetworkingHandler();var b=0,k=1,N=2,w=3,S=4,D={arraybuffer:'function'==typeof g.ArrayBuffer,blob:'function'==typeof g.Blob,document:!1,json:!0,text:!0,'':!0},T=['abort','error','load','loadstart','progress','timeout','loadend'],L=T.concat('readystatechange'),q=(function(e){(0,h.default)(s,e);var t=c(s);function s(){return(0,o.default)(this,s),t.apply(this,arguments)}return(0,n.default)(s)})(f.apply(void 0,T)),O=(function(e){(0,h.default)(l,e);var u=c(l);function l(){var e;return(0,o.default)(this,l),(e=u.call(this)).UNSENT=b,e.OPENED=k,e.HEADERS_RECEIVED=N,e.LOADING=w,e.DONE=S,e.readyState=b,e.status=0,e.timeout=0,e.withCredentials=!0,e.upload=new q,e._aborted=!1,e._hasError=!1,e._method=null,e._perfKey=null,e._response='',e._url=null,e._timedOut=!1,e._trackingName='unknown',e._incrementalEvents=!1,e._performanceLogger=y,e._reset(),e}return(0,n.default)(l,[{key:"_reset",value:function(){this.readyState=this.UNSENT,this.responseHeaders=void 0,this.status=0,delete this.responseURL,this._requestId=null,this._cachedResponse=void 0,this._hasError=!1,this._headers={},this._response='',this._responseType='',this._sent=!1,this._lowerCaseResponseHeaders={},this._clearSubscriptions(),this._timedOut=!1}},{key:"responseType",get:function(){return this._responseType},set:function(e){if(this._sent)throw new Error("Failed to set the 'responseType' property on 'XMLHttpRequest': The response type cannot be set after the request has been sent.");D.hasOwnProperty(e)?(E(D[e]||'document'===e,"The provided value '"+e+"' is unsupported in this environment."),'blob'===e&&E(_.isAvailable,'Native module BlobModule is required for blob support'),this._responseType=e):console.warn("The provided value '"+e+"' is not a valid 'responseType'.")}},{key:"responseText",get:function(){if(''!==this._responseType&&'text'!==this._responseType)throw new Error("The 'responseText' property is only available if 'responseType' is set to '' or 'text', but it is '"+this._responseType+"'.");return this.readyState<w?'':this._response}},{key:"response",get:function(){var e=this.responseType;if(''===e||'text'===e)return this.readyState<w||this._hasError?'':this._response;if(this.readyState!==S)return null;if(void 0!==this._cachedResponse)return this._cachedResponse;switch(e){case'document':this._cachedResponse=null;break;case'arraybuffer':this._cachedResponse=R.toByteArray(this._response).buffer;break;case'blob':if('object'==typeof this._response&&this._response)this._cachedResponse=_.createFromOptions(this._response);else{if(''!==this._response)throw new Error("Invalid response for blob: "+this._response);this._cachedResponse=_.createFromParts([])}break;case'json':try{this._cachedResponse=JSON.parse(this._response)}catch(e){this._cachedResponse=null}break;default:this._cachedResponse=null}return this._cachedResponse}},{key:"__didCreateRequest",value:function(e){this._requestId=e,l._interceptor&&l._interceptor.requestSent(e,this._url||'',this._method||'GET',this._headers)}},{key:"__didUploadProgress",value:function(e,t,s){e===this._requestId&&this.upload.dispatchEvent({type:'progress',lengthComputable:!0,loaded:t,total:s})}},{key:"__didReceiveResponse",value:function(e,t,s,n){e===this._requestId&&(null!=this._perfKey&&this._performanceLogger.stopTimespan(this._perfKey),this.status=t,this.setResponseHeaders(s),this.setReadyState(this.HEADERS_RECEIVED),n||''===n?this.responseURL=n:delete this.responseURL,l._interceptor&&l._interceptor.responseReceived(e,n||this._url||'',t,s||{}))}},{key:"__didReceiveData",value:function(e,t){e===this._requestId&&(this._response=t,this._cachedResponse=void 0,this.setReadyState(this.LOADING),l._interceptor&&l._interceptor.dataReceived(e,t))}},{key:"__didReceiveIncrementalData",value:function(e,t,s,n){e===this._requestId&&(this._response?this._response+=t:this._response=t,l._interceptor&&l._interceptor.dataReceived(e,t),this.setReadyState(this.LOADING),this.__didReceiveDataProgress(e,s,n))}},{key:"__didReceiveDataProgress",value:function(e,t,s){e===this._requestId&&this.dispatchEvent({type:'progress',lengthComputable:s>=0,loaded:t,total:s})}},{key:"__didCompleteResponse",value:function(e,t,s){e===this._requestId&&(t&&(''!==this._responseType&&'text'!==this._responseType||(this._response=t),this._hasError=!0,s&&(this._timedOut=!0)),this._clearSubscriptions(),this._requestId=null,this.setReadyState(this.DONE),t?l._interceptor&&l._interceptor.loadingFailed(e,t):l._interceptor&&l._interceptor.loadingFinished(e,this._response.length))}},{key:"_clearSubscriptions",value:function(){(this._subscriptions||[]).forEach(function(e){e&&e.remove()}),this._subscriptions=[]}},{key:"getAllResponseHeaders",value:function(){if(!this.responseHeaders)return null;var e=this.responseHeaders||{};return Object.keys(e).map(function(t){return t+': '+e[t]}).join('\r\n')}},{key:"getResponseHeader",value:function(e){var t=this._lowerCaseResponseHeaders[e.toLowerCase()];return void 0!==t?t:null}},{key:"setRequestHeader",value:function(e,t){if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');this._headers[e.toLowerCase()]=String(t)}},{key:"setTrackingName",value:function(e){return this._trackingName=e,this}},{key:"setPerformanceLogger",value:function(e){return this._performanceLogger=e,this}},{key:"open",value:function(e,t,s){if(this.readyState!==this.UNSENT)throw new Error('Cannot open, already sending');if(void 0!==s&&!s)throw new Error('Synchronous http requests are not supported');if(!t)throw new Error('Cannot load an empty url');this._method=e.toUpperCase(),this._url=t,this._aborted=!1,this.setReadyState(this.OPENED)}},{key:"send",value:function(e){var s=this;if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');if(this._sent)throw new Error('Request has already been sent');this._sent=!0;var n=this._incrementalEvents||!!this.onreadystatechange||!!this.onprogress;this._subscriptions.push(v.addListener('didSendNetworkData',function(e){return s.__didUploadProgress.apply(s,(0,t.default)(e))})),this._subscriptions.push(v.addListener('didReceiveNetworkResponse',function(e){return s.__didReceiveResponse.apply(s,(0,t.default)(e))})),this._subscriptions.push(v.addListener('didReceiveNetworkData',function(e){return s.__didReceiveData.apply(s,(0,t.default)(e))})),this._subscriptions.push(v.addListener('didReceiveNetworkIncrementalData',function(e){return s.__didReceiveIncrementalData.apply(s,(0,t.default)(e))})),this._subscriptions.push(v.addListener('didReceiveNetworkDataProgress',function(e){return s.__didReceiveDataProgress.apply(s,(0,t.default)(e))})),this._subscriptions.push(v.addListener('didCompleteNetworkResponse',function(e){return s.__didCompleteResponse.apply(s,(0,t.default)(e))}));var o='text';'arraybuffer'===this._responseType&&(o='base64'),'blob'===this._responseType&&(o='blob');var h;h='unknown'!==s._trackingName?s._trackingName:s._url,s._perfKey='network_XMLHttpRequest_'+String(h),s._performanceLogger.startTimespan(s._perfKey),E(s._method,'XMLHttpRequest method needs to be defined (%s).',h),E(s._url,'XMLHttpRequest URL needs to be defined (%s).',h),v.sendRequest(s._method,s._trackingName,s._url,s._headers,e,o,n,s.timeout,s.__didCreateRequest.bind(s),s.withCredentials)}},{key:"abort",value:function(){this._aborted=!0,this._requestId&&v.abortRequest(this._requestId),this.readyState===this.UNSENT||this.readyState===this.OPENED&&!this._sent||this.readyState===this.DONE||(this._reset(),this.setReadyState(this.DONE)),this._reset()}},{key:"setResponseHeaders",value:function(e){this.responseHeaders=e||null;var t=e||{};this._lowerCaseResponseHeaders=Object.keys(t).reduce(function(e,s){return e[s.toLowerCase()]=t[s],e},{})}},{key:"setReadyState",value:function(e){this.readyState=e,this.dispatchEvent({type:'readystatechange'}),e===this.DONE&&(this._aborted?this.dispatchEvent({type:'abort'}):this._hasError?this._timedOut?this.dispatchEvent({type:'timeout'}):this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"addEventListener",value:function(e,t){'readystatechange'!==e&&'progress'!==e||(this._incrementalEvents=!0),(0,s.default)((0,p.default)(l.prototype),"addEventListener",this).call(this,e,t)}}],[{key:"setInterceptor",value:function(e){l._interceptor=e}}]),l})(f.apply(void 0,(0,t.default)(L)));O.UNSENT=b,O.OPENED=k,O.HEADERS_RECEIVED=N,O.LOADING=w,O.DONE=S,O._interceptor=null,m.exports=O},77,[1,47,78,3,2,4,6,9,80,84,85,88,92,15]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function n(c,f,o){return"undefined"!=typeof Reflect&&Reflect.get?m.exports=n=Reflect.get:m.exports=n=function(n,c,f){var o=t(n,c);if(o){var u=Object.getOwnPropertyDescriptor(o,c);return u.get?u.get.call(f):u.value}},n(c,f,o||c)}m.exports=n},78,[79]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(n,o){for(;!Object.prototype.hasOwnProperty.call(n,o)&&null!==(n=t(n)););return n}},79,[9]);
__d(function(g,_r,_i,a,m,e,d){var t=_r(d[0]),r=t(_r(d[1])),l=t(_r(d[2])),o=t(_r(d[3])),n=t(_r(d[4])),u=t(_r(d[5])),i=t(_r(d[6]));function f(t,r){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),l.push.apply(l,o)}return l}function c(t){for(var l=1;l<arguments.length;l++){var o=null!=arguments[l]?arguments[l]:{};l%2?f(Object(o),!0).forEach(function(l){(0,r.default)(t,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))})}return t}var b=_r(d[7]),s=_r(d[8]);var v=(function(){function t(){(0,o.default)(this,t)}return(0,n.default)(t,null,[{key:"createFromParts",value:function(r,l){(0,i.default)(u.default,'NativeBlobModule is available.');var o='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var r=16*Math.random()|0;return('x'==t?r:3&r|8).toString(16)}),n=r.map(function(t){if(t instanceof ArrayBuffer||g.ArrayBufferView&&t instanceof g.ArrayBufferView)throw new Error("Creating blobs from 'ArrayBuffer' and 'ArrayBufferView' are not supported");return t instanceof b?{data:t.data,type:'blob'}:{data:String(t),type:'string'}}),f=n.reduce(function(t,r){return'string'===r.type?t+g.unescape(encodeURI(r.data)).length:t+r.data.size},0);return u.default.createFromParts(n,o),t.createFromOptions({blobId:o,offset:0,size:f,type:l?l.type:'',lastModified:l?l.lastModified:Date.now()})}},{key:"createFromOptions",value:function(t){return s.register(t.blobId),(0,l.default)(Object.create(b.prototype),{data:null==t.__collector?c(c({},t),{},{__collector:(r=t.blobId,null==g.__blobCollectorProvider?null:g.__blobCollectorProvider(r))}):t});var r}},{key:"release",value:function(t){(0,i.default)(u.default,'NativeBlobModule is available.'),s.unregister(t),s.has(t)||u.default.release(t)}},{key:"addNetworkingHandler",value:function(){(0,i.default)(u.default,'NativeBlobModule is available.'),u.default.addNetworkingHandler()}},{key:"addWebSocketHandler",value:function(t){(0,i.default)(u.default,'NativeBlobModule is available.'),u.default.addWebSocketHandler(t)}},{key:"removeWebSocketHandler",value:function(t){(0,i.default)(u.default,'NativeBlobModule is available.'),u.default.removeWebSocketHandler(t)}},{key:"sendOverSocket",value:function(t,r){(0,i.default)(u.default,'NativeBlobModule is available.'),u.default.sendOverSocket(t.data,r)}}]),t})();v.isAvailable=!!u.default,m.exports=v},80,[1,34,13,2,3,81,15,82,83]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in n)if("default"!==f&&Object.prototype.hasOwnProperty.call(n,f)){var s=c?Object.getOwnPropertyDescriptor(n,f):null;s&&(s.get||s.set)?Object.defineProperty(l,f,s):l[f]=n[f]}l.default=n,u&&u.set(n,l);return l})(r(d[0])).get('BlobModule'),o=null,u=null;null!=n&&(u={getConstants:function(){return null==o&&(o=n.getConstants()),o},addNetworkingHandler:function(){n.addNetworkingHandler()},addWebSocketHandler:function(t){n.addWebSocketHandler(t)},removeWebSocketHandler:function(t){n.removeWebSocketHandler(t)},sendOverSocket:function(t,o){n.sendOverSocket(t,o)},createFromParts:function(t,o){n.createFromParts(t,o)},release:function(t){n.release(t)}});var l=u;e.default=l},81,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=(function(){function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;t(this,s);var u=r(d[2]);this.data=u.createFromParts(n,o).data}return n(s,[{key:"data",get:function(){if(!this._data)throw new Error('Blob has been closed and is no longer available');return this._data},set:function(t){this._data=t}},{key:"slice",value:function(t,n){var s=r(d[2]),o=this.data,u=o.offset,l=o.size;return'number'==typeof t&&(t>l&&(t=l),u+=t,l-=t,'number'==typeof n&&(n<0&&(n=this.size+n),l=n-t)),s.createFromOptions({blobId:this.data.blobId,offset:u,size:l})}},{key:"close",value:function(){r(d[2]).release(this.data.blobId),this.data=null}},{key:"size",get:function(){return this.data.size}},{key:"type",get:function(){return this.data.type||''}}]),s})();m.exports=s},82,[2,3,80]);
__d(function(g,r,i,a,m,e,d){var n={};m.exports={register:function(t){n[t]?n[t]++:n[t]=1},unregister:function(t){n[t]&&(n[t]--,n[t]<=0&&delete n[t])},has:function(t){return n[t]&&n[t]>0}}},83,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=new WeakMap,n=new WeakMap;function o(n){var o=t.get(n);return console.assert(null!=o,"'this' is expected an Event object, but got",n),o}function i(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function l(n,o){t.set(this,{eventTarget:n,event:o,eventPhase:2,currentTarget:n,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:o.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});for(var i=Object.keys(o),l=0;l<i.length;++l){var s=i[l];s in this||Object.defineProperty(this,s,u(s))}}function u(t){return{get:function(){return o(this).event[t]},set:function(n){o(this).event[t]=n},configurable:!0,enumerable:!0}}function s(t){return{value:function(){var n=o(this).event;return n[t].apply(n,arguments)},configurable:!0,enumerable:!0}}function p(t,n){var o=Object.keys(n);if(0===o.length)return t;function i(n,o){t.call(this,n,o)}i.prototype=Object.create(t.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(var l=0;l<o.length;++l){var p=o[l];if(!(p in t.prototype)){var c="function"==typeof Object.getOwnPropertyDescriptor(n,p).value;Object.defineProperty(i.prototype,p,c?s(p):u(p))}}return i}function c(t){if(null==t||t===Object.prototype)return l;var o=n.get(t);return null==o&&(o=p(c(Object.getPrototypeOf(t)),t),n.set(t,o)),o}function f(t,n){return new(c(Object.getPrototypeOf(n)))(t,n)}function v(t){return o(t).immediateStopped}function y(t,n){o(t).eventPhase=n}function b(t,n){o(t).currentTarget=n}function h(t,n){o(t).passiveListener=n}l.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath:function(){var t=o(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation:function(){var t=o(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation:function(){var t=o(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault:function(){i(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(t){if(t){var n=o(this);n.stopped=!0,"boolean"==typeof n.event.cancelBubble&&(n.event.cancelBubble=!0)}},get returnValue(){return!o(this).canceled},set returnValue(t){t||i(o(this))},initEvent:function(){}},Object.defineProperty(l.prototype,"constructor",{value:l,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(l.prototype,window.Event.prototype),n.set(window.Event.prototype,l));var w=new WeakMap,T=3;function P(t){return null!==t&&"object"==typeof t}function x(t){var n=w.get(t);if(null==n)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return n}function E(t){return{get:function(){for(var n=x(this).get(t);null!=n;){if(n.listenerType===T)return n.listener;n=n.next}return null},set:function(n){"function"==typeof n||P(n)||(n=null);for(var o=x(this),i=null,l=o.get(t);null!=l;)l.listenerType===T?null!==i?i.next=l.next:null!==l.next?o.set(t,l.next):o.delete(t):i=l,l=l.next;if(null!==n){var u={listener:n,listenerType:T,passive:!1,once:!1,next:null};null===i?o.set(t,u):i.next=u}},configurable:!0,enumerable:!0}}function O(t,n){Object.defineProperty(t,"on"+n,E(n))}function j(t){function n(){B.call(this)}n.prototype=Object.create(B.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(var o=0;o<t.length;++o)O(n.prototype,t[o]);return n}function B(){if(!(this instanceof B)){if(1===arguments.length&&Array.isArray(arguments[0]))return j(arguments[0]);if(arguments.length>0){for(var t=new Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];return j(t)}throw new TypeError("Cannot call a class as a function")}w.set(this,new Map)}B.prototype={addEventListener:function(t,n,o){if(null!=n){if("function"!=typeof n&&!P(n))throw new TypeError("'listener' should be a function or an object.");var i=x(this),l=P(o),u=(l?Boolean(o.capture):Boolean(o))?1:2,s={listener:n,listenerType:u,passive:l&&Boolean(o.passive),once:l&&Boolean(o.once),next:null},p=i.get(t);if(void 0!==p){for(var c=null;null!=p;){if(p.listener===n&&p.listenerType===u)return;c=p,p=p.next}c.next=s}else i.set(t,s)}},removeEventListener:function(t,n,o){if(null!=n)for(var i=x(this),l=(P(o)?Boolean(o.capture):Boolean(o))?1:2,u=null,s=i.get(t);null!=s;){if(s.listener===n&&s.listenerType===l)return void(null!==u?u.next=s.next:null!==s.next?i.set(t,s.next):i.delete(t));u=s,s=s.next}},dispatchEvent:function(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');var n=x(this),o=t.type,i=n.get(o);if(null==i)return!0;for(var l=f(this,t),u=null;null!=i;){if(i.once?null!==u?u.next=i.next:null!==i.next?n.set(o,i.next):n.delete(o):u=i,h(l,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,l)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else i.listenerType!==T&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(l);if(v(l))break;i=i.next}return h(l,null),y(l,0),b(l,null),!l.defaultPrevented}},Object.defineProperty(B.prototype,"constructor",{value:B,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(B.prototype,window.EventTarget.prototype),e.defineEventAttribute=O,e.EventTarget=B,e.default=B,m.exports=B,m.exports.EventTarget=m.exports.default=B,m.exports.defineEventAttribute=O},84,[]);
__d(function(g,r,i,a,m,e,d){var t=(0,r(d[0])(r(d[1])).default)();m.exports=t},85,[1,86]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new _},e.getCurrentTimestamp=void 0;var n,s=t(r(d[1])),i=t(r(d[2])),o=t(r(d[3]));function u(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,i)}return s}function l(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?u(Object(i),!0).forEach(function(n){(0,s.default)(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var c=r(d[4]),p=(r(d[5]),{}),h=null!=(n=g.nativeQPLTimestamp)?n:g.performance.now.bind(g.performance);e.getCurrentTimestamp=h;var _=(function(){function t(){(0,i.default)(this,t),this._timespans={},this._extras={},this._points={},this._pointExtras={},this._closed=!1}return(0,o.default)(t,[{key:"addTimespan",value:function(t,n,s,i,o){this._closed||this._timespans[t]||(this._timespans[t]={startTime:n,endTime:s,totalTime:s-(n||0),startExtras:i,endExtras:o})}},{key:"append",value:function(t){this._timespans=l(l({},t.getTimespans()),this._timespans),this._extras=l(l({},t.getExtras()),this._extras),this._points=l(l({},t.getPoints()),this._points),this._pointExtras=l(l({},t.getPointExtras()),this._pointExtras)}},{key:"clear",value:function(){this._timespans={},this._extras={},this._points={}}},{key:"clearCompleted",value:function(){for(var t in this._timespans){var n;null!=(null==(n=this._timespans[t])?void 0:n.totalTime)&&delete this._timespans[t]}this._extras={},this._points={}}},{key:"close",value:function(){this._closed=!0}},{key:"currentTimestamp",value:function(){return h()}},{key:"getExtras",value:function(){return this._extras}},{key:"getPoints",value:function(){return this._points}},{key:"getPointExtras",value:function(){return this._pointExtras}},{key:"getTimespans",value:function(){return this._timespans}},{key:"hasTimespan",value:function(t){return!!this._timespans[t]}},{key:"isClosed",value:function(){return this._closed}},{key:"logEverything",value:function(){}},{key:"markPoint",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h(),s=arguments.length>2?arguments[2]:void 0;this._closed||null==this._points[t]&&(this._points[t]=n,s&&(this._pointExtras[t]=s))}},{key:"removeExtra",value:function(t){var n=this._extras[t];return delete this._extras[t],n}},{key:"setExtra",value:function(t,n){this._closed||this._extras.hasOwnProperty(t)||(this._extras[t]=n)}},{key:"startTimespan",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h(),s=arguments.length>2?arguments[2]:void 0;this._closed||this._timespans[t]||(this._timespans[t]={startTime:n,startExtras:s},p[t]=c.beginAsyncEvent(t))}},{key:"stopTimespan",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h(),s=arguments.length>2?arguments[2]:void 0;if(!this._closed){var i=this._timespans[t];i&&null!=i.startTime&&null==i.endTime&&(i.endExtras=s,i.endTime=n,i.totalTime=i.endTime-(i.startTime||0),null!=p[t]&&(c.endAsyncEvent(t,p[t]),delete p[t]))}}}]),t})()},86,[1,34,2,3,31,87]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){var n;return(n=console).log.apply(n,arguments)}},87,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4]));function i(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function s(t){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?i(Object(c),!0).forEach(function(o){(0,n.default)(t,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):i(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}var f={addListener:function(t,n,c){return o.default.addListener(t,n,c)},sendRequest:function(t,n,o,i,f,l,p,O,b,y){var j=(0,u.default)(f);c.default.sendRequest({method:t,url:o,data:s(s({},j),{},{trackingName:n}),headers:i,responseType:l,incrementalUpdates:p,timeout:O,withCredentials:y},b)},abortRequest:function(t){c.default.abortRequest(t)},clearCookies:function(t){c.default.clearCookies(t)}};m.exports=f},88,[1,34,18,89,90]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('Networking');e.default=n},89,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),f=r(d[2]);m.exports=function(s){return'string'==typeof s?{string:s}:s instanceof n?{blob:s.data}:s instanceof f?{formData:s.getParts()}:s instanceof ArrayBuffer||ArrayBuffer.isView(s)?{base64:t(s)}:s}},90,[91,82,93]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),f instanceof Uint8Array)return t.fromByteArray(f);if(!ArrayBuffer.isView(f))throw new Error('data must be ArrayBuffer or typed array');var n=f,y=n.buffer,o=n.byteOffset,u=n.byteLength;return t.fromByteArray(new Uint8Array(y,o,u))}},91,[92]);
__d(function(g,r,_i,a,m,e,d){'use strict';e.byteLength=function(t){var n=i(t),o=n[0],h=n[1];return 3*(o+h)/4-h},e.toByteArray=function(t){var h,u,c=i(t),A=c[0],C=c[1],y=new o(f(t,A,C)),s=0,v=C>0?A-4:A;for(u=0;u<v;u+=4)h=n[t.charCodeAt(u)]<<18|n[t.charCodeAt(u+1)]<<12|n[t.charCodeAt(u+2)]<<6|n[t.charCodeAt(u+3)],y[s++]=h>>16&255,y[s++]=h>>8&255,y[s++]=255&h;2===C&&(h=n[t.charCodeAt(u)]<<2|n[t.charCodeAt(u+1)]>>4,y[s++]=255&h);1===C&&(h=n[t.charCodeAt(u)]<<10|n[t.charCodeAt(u+1)]<<4|n[t.charCodeAt(u+2)]>>2,y[s++]=h>>8&255,y[s++]=255&h);return y},e.fromByteArray=function(n){for(var o,h=n.length,u=h%3,c=[],i=0,f=h-u;i<f;i+=16383)c.push(A(n,i,i+16383>f?f:i+16383));1===u?(o=n[h-1],c.push(t[o>>2]+t[o<<4&63]+'==')):2===u&&(o=(n[h-2]<<8)+n[h-1],c.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return c.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',u=0,c=h.length;u<c;++u)t[u]=h[u],n[h.charCodeAt(u)]=u;function i(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function f(t,n,o){return 3*(n+o)/4-o}function A(n,o,h){for(var u,c,i=[],f=o;f<h;f+=3)u=(n[f]<<16&16711680)+(n[f+1]<<8&65280)+(255&n[f+2]),i.push(t[(c=u)>>18&63]+t[c>>12&63]+t[c>>6&63]+t[63&c]);return i.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},92,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),i=r(d[3]);function c(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}function s(n){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?c(Object(i),!0).forEach(function(o){t(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))})}return n}var p=(function(){function t(){o(this,t),this._parts=[]}return i(t,[{key:"append",value:function(t,n){this._parts.push([t,n])}},{key:"getParts",value:function(){return this._parts.map(function(t){var o=n(t,2),i=o[0],c=o[1],p={'content-disposition':'form-data; name="'+i+'"'};return'object'==typeof c&&c?('string'==typeof c.name&&(p['content-disposition']+='; filename="'+c.name+'"'),'string'==typeof c.type&&(p['content-type']=c.type),s(s({},c),{},{headers:p,fieldName:i})):{string:String(c),headers:p,fieldName:i}})}}]),t})();m.exports=p},93,[34,41,2,3]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),m.exports={fetch:fetch,Headers:Headers,Request:Request,Response:Response}},94,[95]);
__d(function(g,r,_i,a,m,_e,d){var t,e;t=this,e=function(t){'use strict';var e='undefined'!=typeof globalThis&&globalThis||'undefined'!=typeof self&&self||void 0!==e&&e,o={searchParams:'URLSearchParams'in e,iterable:'Symbol'in e&&'iterator'in Symbol,blob:'FileReader'in e&&'Blob'in e&&(function(){try{return new Blob,!0}catch(t){return!1}})(),formData:'FormData'in e,arrayBuffer:'ArrayBuffer'in e};if(o.arrayBuffer)var n=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};function s(t){if('string'!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||''===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function h(t){return'string'!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function c(t){if(t.bodyUsed)return Promise.reject(new TypeError('Already read'));t.bodyUsed=!0}function y(t){return new Promise(function(e,o){t.onload=function(){e(t.result)},t.onerror=function(){o(t.error)}})}function l(t){var e=new FileReader,o=y(e);return e.readAsArrayBuffer(t),o}function p(t){for(var e=new Uint8Array(t),o=new Array(e.length),n=0;n<e.length;n++)o[n]=String.fromCharCode(e[n]);return o.join('')}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?'string'==typeof t?this._bodyText=t:o.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o.arrayBuffer&&o.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))?this._bodyArrayBuffer=b(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText='',this.headers.get('content-type')||('string'==typeof t?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},o.blob&&(this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error('could not read FormData body as blob');return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=c(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(l)}),this.text=function(){var t,e,o,n=c(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,o=y(e),e.readAsText(t),o;if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error('could not read FormData body as text');return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(t,e){t=s(t),e=h(e);var o=this.map[t];this.map[t]=o?o+', '+e:e},u.prototype.delete=function(t){delete this.map[s(t)]},u.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},u.prototype.set=function(t,e){this.map[s(t)]=h(e)},u.prototype.forEach=function(t,e){for(var o in this.map)this.map.hasOwnProperty(o)&&t.call(e,this.map[o],o,this)},u.prototype.keys=function(){var t=[];return this.forEach(function(e,o){t.push(o)}),f(t)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),f(t)},u.prototype.entries=function(){var t=[];return this.forEach(function(e,o){t.push([o,e])}),f(t)},o.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var v=['DELETE','GET','HEAD','OPTIONS','POST','PUT'];function _(t,e){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var o,n,i=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError('Already read');this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||'same-origin',!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=(o=e.method||this.method||'GET',n=o.toUpperCase(),v.indexOf(n)>-1?n:o),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&i)throw new TypeError('Body not allowed for GET or HEAD requests');if(this._initBody(i),!('GET'!==this.method&&'HEAD'!==this.method||'no-store'!==e.cache&&'no-cache'!==e.cache)){var s=/([?&])_=[^&]*/;if(s.test(this.url))this.url=this.url.replace(s,'$1_='+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?'&':'?')+'_='+(new Date).getTime()}}}function E(t){var e=new FormData;return t.trim().split('&').forEach(function(t){if(t){var o=t.split('='),n=o.shift().replace(/\+/g,' '),i=o.join('=').replace(/\+/g,' ');e.append(decodeURIComponent(n),decodeURIComponent(i))}}),e}function T(t,e){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type='default',this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?'':''+e.statusText,this.headers=new u(e.headers),this.url=e.url||'',this._initBody(t)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},w.call(_.prototype),w.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},T.error=function(){var t=new T(null,{status:0,statusText:''});return t.type='error',t};var A=[301,302,303,307,308];T.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError('Invalid status code');return new T(null,{status:e,headers:{location:t}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(t,e){this.message=t,this.name=e;var o=Error(t);this.stack=o.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function B(n,i){return new Promise(function(s,f){var c=new _(n,i);if(c.signal&&c.signal.aborted)return f(new t.DOMException('Aborted','AbortError'));var y=new XMLHttpRequest;function l(){y.abort()}y.onload=function(){var t,e,o={status:y.status,statusText:y.statusText,headers:(t=y.getAllResponseHeaders()||'',e=new u,t.replace(/\r?\n[\t ]+/g,' ').split('\r').map(function(t){return 0===t.indexOf('\n')?t.substr(1,t.length):t}).forEach(function(t){var o=t.split(':'),n=o.shift().trim();if(n){var i=o.join(':').trim();e.append(n,i)}}),e)};o.url='responseURL'in y?y.responseURL:o.headers.get('X-Request-URL');var n='response'in y?y.response:y.responseText;setTimeout(function(){s(new T(n,o))},0)},y.onerror=function(){setTimeout(function(){f(new TypeError('Network request failed'))},0)},y.ontimeout=function(){setTimeout(function(){f(new TypeError('Network request failed'))},0)},y.onabort=function(){setTimeout(function(){f(new t.DOMException('Aborted','AbortError'))},0)},y.open(c.method,(function(t){try{return''===t&&e.location.href?e.location.href:t}catch(e){return t}})(c.url),!0),'include'===c.credentials?y.withCredentials=!0:'omit'===c.credentials&&(y.withCredentials=!1),'responseType'in y&&(o.blob?y.responseType='blob':o.arrayBuffer&&c.headers.get('Content-Type')&&-1!==c.headers.get('Content-Type').indexOf('application/octet-stream')&&(y.responseType='arraybuffer')),!i||'object'!=typeof i.headers||i.headers instanceof u?c.headers.forEach(function(t,e){y.setRequestHeader(e,t)}):Object.getOwnPropertyNames(i.headers).forEach(function(t){y.setRequestHeader(t,h(i.headers[t]))}),c.signal&&(c.signal.addEventListener('abort',l),y.onreadystatechange=function(){4===y.readyState&&c.signal.removeEventListener('abort',l)}),y.send(void 0===c._bodyInit?null:c._bodyInit)})}B.polyfill=!0,e.fetch||(e.fetch=B,e.Headers=u,e.Request=_,e.Response=T),t.Headers=u,t.Request=_,t.Response=T,t.fetch=B,Object.defineProperty(t,'__esModule',{value:!0})},'object'==typeof _e&&void 0!==m?e(_e):'function'==typeof define&&define.amd?define(['exports'],e):e(t.WHATWGFetch={})},95,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),s=e(r(d[3])),o=e(r(d[4])),u=e(r(d[5])),c=e(r(d[6])),l=e(r(d[7])),f=e(r(d[8])),h=e(r(d[9])),y=e(r(d[10])),b=e(r(d[11])),p=e(r(d[12])),v=e(r(d[13])),_=e(r(d[14])),E=e(r(d[15])),k=e(r(d[16])),S=["headers"];function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var N=0,O=1,w=2,C=3,L=0,T=(function(e){(0,o.default)(R,e);var E,T,A=(E=R,T=I(),function(){var e,t=(0,c.default)(E);if(T){var n=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,u.default)(this,e)});function R(e,s,o){var u;(0,n.default)(this,R),(u=A.call(this)).CONNECTING=N,u.OPEN=O,u.CLOSING=w,u.CLOSED=C,u.readyState=N,u.url=e,'string'==typeof s&&(s=[s]);var c=o||{},l=c.headers,f=void 0===l?{}:l,y=(0,t.default)(c,S);return y&&'string'==typeof y.origin&&(console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.'),f.origin=y.origin,delete y.origin),Object.keys(y).length>0&&console.warn('Unrecognized WebSocket connection option(s) `'+Object.keys(y).join('`, `')+"`. Did you mean to put these under `headers`?"),Array.isArray(s)||(s=null),u._eventEmitter=new h.default('ios'!==b.default.OS?null:p.default),u._socketId=L++,u._registerEvents(),p.default.connect(e,s,{headers:f},u._socketId),u}return(0,s.default)(R,[{key:"binaryType",get:function(){return this._binaryType},set:function(e){if('blob'!==e&&'arraybuffer'!==e)throw new Error("binaryType must be either 'blob' or 'arraybuffer'");'blob'!==this._binaryType&&'blob'!==e||((0,k.default)(f.default.isAvailable,'Native module BlobModule is required for blob support'),'blob'===e?f.default.addWebSocketHandler(this._socketId):f.default.removeWebSocketHandler(this._socketId)),this._binaryType=e}},{key:"close",value:function(e,t){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,this._close(e,t))}},{key:"send",value:function(e){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');if(e instanceof l.default)return(0,k.default)(f.default.isAvailable,'Native module BlobModule is required for blob support'),void f.default.sendOverSocket(e,this._socketId);if('string'!=typeof e){if(!(e instanceof ArrayBuffer||ArrayBuffer.isView(e)))throw new Error('Unsupported data type');p.default.sendBinary((0,y.default)(e),this._socketId)}else p.default.send(e,this._socketId)}},{key:"ping",value:function(){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');p.default.ping(this._socketId)}},{key:"_close",value:function(e,t){var n='number'==typeof e?e:1e3,s='string'==typeof t?t:'';p.default.close(n,s,this._socketId),f.default.isAvailable&&'blob'===this._binaryType&&f.default.removeWebSocketHandler(this._socketId)}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(e){return e.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var e=this;this._subscriptions=[this._eventEmitter.addListener('websocketMessage',function(t){if(t.id===e._socketId){var n=t.data;switch(t.type){case'binary':n=_.default.toByteArray(t.data).buffer;break;case'blob':n=f.default.createFromOptions(t.data)}e.dispatchEvent(new v.default('message',{data:n}))}}),this._eventEmitter.addListener('websocketOpen',function(t){t.id===e._socketId&&(e.readyState=e.OPEN,e.protocol=t.protocol,e.dispatchEvent(new v.default('open')))}),this._eventEmitter.addListener('websocketClosed',function(t){t.id===e._socketId&&(e.readyState=e.CLOSED,e.dispatchEvent(new v.default('close',{code:t.code,reason:t.reason})),e._unregisterEvents(),e.close())}),this._eventEmitter.addListener('websocketFailed',function(t){t.id===e._socketId&&(e.readyState=e.CLOSED,e.dispatchEvent(new v.default('error',{message:t.message})),e.dispatchEvent(new v.default('close',{message:t.message})),e._unregisterEvents(),e.close())})]}}]),R})(E.default.apply(void 0,['close','error','message','open']));T.CONNECTING=N,T.OPEN=O,T.CLOSING=w,T.CLOSED=C,m.exports=T},96,[1,97,2,3,4,6,9,82,80,99,91,55,100,101,92,84,15]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);m.exports=function(n,o){if(null==n)return{};var l,p,b=t(n,o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(p=0;p<c.length;p++)l=c[p],o.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(n,l)&&(b[l]=n[l])}return b}},97,[98]);
__d(function(g,r,_i,a,m,e,d){m.exports=function(n,t){if(null==n)return{};var f,u,i={},o=Object.keys(n);for(u=0;u<o.length;u++)f=o[u],t.indexOf(f)>=0||(i[f]=n[f]);return i}},98,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),l=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),s=t(r(d[5])),v=(function(){function t(l){(0,n.default)(this,t),'ios'===u.default.OS&&(0,s.default)(null!=l,'`new NativeEventEmitter()` requires a non-null argument.');var o=!!l&&'function'==typeof l.addListener,v=!!l&&'function'==typeof l.removeListeners;l&&o&&v?this._nativeModule=l:null!=l&&(o||console.warn('`new NativeEventEmitter()` was called with a non-null argument without the required `addListener` method.'),v||console.warn('`new NativeEventEmitter()` was called with a non-null argument without the required `removeListeners` method.'))}return(0,l.default)(t,[{key:"addListener",value:function(t,n,l){var u,s=this;null==(u=this._nativeModule)||u.addListener(t);var v=o.default.addListener(t,n,l);return{remove:function(){var t;null!=v&&(null==(t=s._nativeModule)||t.removeListeners(1),v.remove(),v=null)}}}},{key:"removeListener",value:function(t,n){var l;null==(l=this._nativeModule)||l.removeListeners(1),o.default.removeListener(t,n)}},{key:"emit",value:function(t){for(var n=arguments.length,l=new Array(n>1?n-1:0),u=1;u<n;u++)l[u-1]=arguments[u];o.default.emit.apply(o.default,[t].concat(l))}},{key:"removeAllListeners",value:function(t){var n;(0,s.default)(null!=t,'`NativeEventEmitter.removeAllListener()` requires a non-null argument.'),null==(n=this._nativeModule)||n.removeListeners(this.listenerCount(t)),o.default.removeAllListeners(t)}},{key:"listenerCount",value:function(t){return o.default.listenerCount(t)}}]),t})();e.default=v},99,[1,2,3,55,18,15]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('WebSocketModule');e.default=n},100,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=s(function s(o,c){n(this,s),this.type=o.toString(),t(this,c)});m.exports=o},101,[13,3,2]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),u=r(d[3]),c=r(d[4]);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var s=r(d[5]),l=r(d[6]),f=(function(f){n(y,s);var h,p,v=(h=y,p=o(),function(){var t,e=c(h);if(p){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function y(e,n,u){var c;return t(this,y),l(null!=e&&null!=n,'Failed to construct `File`: Must pass both `parts` and `name` arguments.'),(c=v.call(this,e,u)).data.name=n,c}return e(y,[{key:"name",get:function(){return l(null!=this.data.name,'Files must have a name set.'),this.data.name}},{key:"lastModified",get:function(){return this.data.lastModified||0}}]),y})();m.exports=f},102,[2,3,4,6,9,82,15]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]),e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),s=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6]));function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[7]);var f=0,h=1,y=2,_=(function(t){(0,o.default)(b,t);var _,p,v=(_=b,p=c(),function(){var t,e=(0,u.default)(_);if(p){var n=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,s.default)(this,t)});function b(){var t;return(0,e.default)(this,b),(t=v.call(this)).EMPTY=f,t.LOADING=h,t.DONE=y,t._aborted=!1,t._subscriptions=[],t._reset(),t}return(0,n.default)(b,[{key:"_reset",value:function(){this._readyState=f,this._error=null,this._result=null}},{key:"_clearSubscriptions",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_setReadyState",value:function(t){this._readyState=t,this.dispatchEvent({type:'readystatechange'}),t===y&&(this._aborted?this.dispatchEvent({type:'abort'}):this._error?this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"readAsArrayBuffer",value:function(){throw new Error('FileReader.readAsArrayBuffer is not implemented')}},{key:"readAsDataURL",value:function(t){var e=this;if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsDataURL' on 'FileReader': parameter 1 is not of type 'Blob'");l.default.readAsDataURL(t.data).then(function(t){e._aborted||(e._result=t,e._setReadyState(y))},function(t){e._aborted||(e._error=t,e._setReadyState(y))})}},{key:"readAsText",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'UTF-8';if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsText' on 'FileReader': parameter 1 is not of type 'Blob'");l.default.readAsText(t.data,n).then(function(t){e._aborted||(e._result=t,e._setReadyState(y))},function(t){e._aborted||(e._error=t,e._setReadyState(y))})}},{key:"abort",value:function(){this._aborted=!0,this._readyState!==f&&this._readyState!==y&&(this._reset(),this._setReadyState(y)),this._reset()}},{key:"readyState",get:function(){return this._readyState}},{key:"error",get:function(){return this._error}},{key:"result",get:function(){return this._result}}]),b})(r(d[8]).apply(void 0,['abort','error','load','loadstart','loadend','progress']));_.EMPTY=f,_.LOADING=h,_.DONE=y,m.exports=_},103,[1,2,3,4,6,9,104,82,84]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('FileReaderModule');e.default=n},104,[39]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.URLSearchParams=e.URL=void 0;var n,o=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),h=(r(d[4]),null);if(u.default&&'string'==typeof u.default.getConstants().BLOB_URI_SCHEME){var f=u.default.getConstants();h=f.BLOB_URI_SCHEME+':','string'==typeof f.BLOB_URI_HOST&&(h+="//"+f.BLOB_URI_HOST+"/")}n=Symbol.iterator;var l=(function(){function t(n){var s=this;(0,o.default)(this,t),this._searchParams=[],'object'==typeof n&&Object.keys(n).forEach(function(t){return s.append(t,n[t])})}return(0,s.default)(t,[{key:"append",value:function(t,n){this._searchParams.push([t,n])}},{key:"delete",value:function(t){throw new Error('URLSearchParams.delete is not implemented')}},{key:"get",value:function(t){throw new Error('URLSearchParams.get is not implemented')}},{key:"getAll",value:function(t){throw new Error('URLSearchParams.getAll is not implemented')}},{key:"has",value:function(t){throw new Error('URLSearchParams.has is not implemented')}},{key:"set",value:function(t,n){throw new Error('URLSearchParams.set is not implemented')}},{key:"sort",value:function(){throw new Error('URLSearchParams.sort is not implemented')}},{key:n,value:function(){return this._searchParams[Symbol.iterator]()}},{key:"toString",value:function(){if(0===this._searchParams.length)return'';var t=this._searchParams.length-1;return this._searchParams.reduce(function(n,o,s){return n+o.join('=')+(s===t?'':'&')},'')}}]),t})();function c(t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)*(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/.test(t)}e.URLSearchParams=l;var w=(function(){function t(n,s){(0,o.default)(this,t),this._searchParamsInstance=null;var u=null;if(!s||c(n))this._url=n,this._url.endsWith('/')||(this._url+='/');else{if('string'==typeof s){if(!c(u=s))throw new TypeError("Invalid base URL: "+u)}else'object'==typeof s&&(u=s.toString());u.endsWith('/')&&(u=u.slice(0,u.length-1)),n.startsWith('/')||(n="/"+n),u.endsWith(n)&&(n=''),this._url=""+u+n}}return(0,s.default)(t,[{key:"hash",get:function(){throw new Error('URL.hash is not implemented')}},{key:"host",get:function(){throw new Error('URL.host is not implemented')}},{key:"hostname",get:function(){throw new Error('URL.hostname is not implemented')}},{key:"href",get:function(){return this.toString()}},{key:"origin",get:function(){throw new Error('URL.origin is not implemented')}},{key:"password",get:function(){throw new Error('URL.password is not implemented')}},{key:"pathname",get:function(){throw new Error('URL.pathname not implemented')}},{key:"port",get:function(){throw new Error('URL.port is not implemented')}},{key:"protocol",get:function(){throw new Error('URL.protocol is not implemented')}},{key:"search",get:function(){throw new Error('URL.search is not implemented')}},{key:"searchParams",get:function(){return null==this._searchParamsInstance&&(this._searchParamsInstance=new l),this._searchParamsInstance}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){if(null===this._searchParamsInstance)return this._url;var t=this._url.indexOf('?')>-1?'&':'?';return this._url+t+this._searchParamsInstance.toString()}},{key:"username",get:function(){throw new Error('URL.username is not implemented')}}],[{key:"createObjectURL",value:function(t){if(null===h)throw new Error('Cannot create URL for blob!');return""+h+t.data.blobId+"?offset="+t.data.offset+"&size="+t.size}},{key:"revokeObjectURL",value:function(t){}}]),t})();e.URL=w},105,[1,2,3,81,82]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),o=r(d[2]),n=r(d[3]),l=r(d[4]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}Object.defineProperty(_e,'__esModule',{value:!0});var c=r(d[5]),f=(function(c){o(y,c);var f,p,s=(f=y,p=u(),function(){var t,e=l(f);if(p){var o=l(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return n(this,t)});function y(){throw t(this,y),s.call(this),new TypeError("AbortSignal cannot be constructed directly")}return e(y,[{key:"aborted",get:function(){var t=b.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}]),y})(c.EventTarget);c.defineEventAttribute(f.prototype,"abort");var b=new WeakMap;Object.defineProperties(f.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(f.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var p=(function(){function o(){var e;t(this,o),s.set(this,(e=Object.create(f.prototype),c.EventTarget.call(e),b.set(e,!1),e))}return e(o,[{key:"signal",get:function(){return y(this)}},{key:"abort",value:function(){var t;t=y(this),!1===b.get(t)&&(b.set(t,!0),t.dispatchEvent({type:"abort"}))}}]),o})(),s=new WeakMap;function y(t){var e=s.get(t);if(null==e)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return e}Object.defineProperties(p.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(p.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),_e.AbortController=p,_e.AbortSignal=f,_e.default=p,m.exports=p,m.exports.AbortController=m.exports.default=p,m.exports.AbortSignal=f},106,[2,3,4,6,9,84]);
__d(function(g,r,i,a,m,e,d){'use strict';g.alert||(g.alert=function(t){r(d[0]).alert('Alert',''+t)})},107,[108]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4])),u=(function(){function t(){(0,n.default)(this,t)}return(0,o.default)(t,null,[{key:"alert",value:function(n,o,l,u){if('ios'===s.default.OS)t.prompt(n,o,l,'default');else if('android'===s.default.OS){var c=r(d[5]).default;if(!c)return;var f=c.getConstants(),v={title:n||'',message:o||'',cancelable:!1};u&&u.cancelable&&(v.cancelable=u.cancelable);var p=l?l.slice(0,3):[{text:"OK"}],b=p.pop(),y=p.pop(),h=p.pop();h&&(v.buttonNeutral=h.text||''),y&&(v.buttonNegative=y.text||''),b&&(v.buttonPositive=b.text||"OK");c.showAlert(v,function(t){return console.warn(t)},function(t,n){t===f.buttonClicked?n===f.buttonNeutral?h.onPress&&h.onPress():n===f.buttonNegative?y.onPress&&y.onPress():n===f.buttonPositive&&b.onPress&&b.onPress():t===f.dismissed&&u&&u.onDismiss&&u.onDismiss()})}}},{key:"prompt",value:function(t,n,o){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:'plain-text',c=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0;if('ios'===s.default.OS){var v,p,b=[],y=[];'function'==typeof o?b=[o]:Array.isArray(o)&&o.forEach(function(t,n){if(b[n]=t.onPress,'cancel'===t.style?v=String(n):'destructive'===t.style&&(p=String(n)),t.text||n<(o||[]).length-1){var s={};s[n]=t.text||'',y.push(s)}}),l.default.alertWithArgs({title:t||'',message:n||void 0,buttons:y,type:u||void 0,defaultValue:c,cancelButtonKey:v,destructiveButtonKey:p,keyboardType:f},function(t,n){var o=b[t];o&&o(n)})}}}]),t})();m.exports=u},108,[1,2,3,55,109,111]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports={alertWithArgs:function(l,n){null!=t.default&&t.default.alertWithArgs(l,n)}}},109,[1,110]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('AlertManager');e.default=n},110,[39]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('DialogManagerAndroid');e.default=n},111,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).polyfillObjectProperty,o=g.navigator;void 0===o&&(g.navigator=o={}),t(o,'product',function(){return'ReactNative'})},112,[61]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;if(g.RN$Bridgeless&&g.RN$registerCallableModule)n=g.RN$registerCallableModule;else{var t=r(d[0]);n=function(n,u){return t.registerLazyCallableModule(n,u)}}n('Systrace',function(){return r(d[1])}),n('JSTimers',function(){return r(d[2])}),n('HeapCapture',function(){return r(d[3])}),n('SamplingProfiler',function(){return r(d[4])}),n('RCTLog',function(){return r(d[5])}),n('RCTDeviceEventEmitter',function(){return r(d[6]).default}),n('RCTNativeAppEventEmitter',function(){return r(d[7])}),n('GlobalPerformanceLogger',function(){return r(d[8])}),n('JSDevSupportModule',function(){return r(d[9])}),n('HMRClient',function(){return r(d[10])})},113,[45,31,72,114,116,118,18,119,85,120,122]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0])(r(d[1])),t={captureHeap:function(t){var p=null;try{g.nativeCaptureHeap(t),console.log('HeapCapture.captureHeap succeeded: '+t)}catch(e){console.log('HeapCapture.captureHeap error: '+e.toString()),p=e.toString()}e.default&&e.default.captureComplete(t,p)}};m.exports=t},114,[1,115]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var u=new WeakMap,o=new WeakMap;return(t=function(t){return t?o:u})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,u){if(!u&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=t(u);if(o&&o.has(n))return o.get(n);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(f,c,l):f[c]=n[c]}f.default=n,o&&o.set(n,f);return f})(r(d[0])).get('JSCHeapCapture');e.default=n},115,[39]);
__d(function(g,r,i,a,m,_e,d){'use strict';var o={poke:function(o){var e=null,l=null;try{null===(l=g.pokeSamplingProfiler())?console.log('The JSC Sampling Profiler has started'):console.log('The JSC Sampling Profiler has stopped')}catch(o){console.log('Error occurred when restarting Sampling Profiler: '+o.toString()),e=o.toString()}var n=r(d[0]).default;n&&n.operationComplete(o,l,e)}};m.exports=o},116,[117]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in n)if("default"!==p&&Object.prototype.hasOwnProperty.call(n,p)){var c=l?Object.getOwnPropertyDescriptor(n,p):null;c&&(c.get||c.set)?Object.defineProperty(u,p,c):u[p]=n[p]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).get('JSCSamplingProfiler');e.default=n},117,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n={log:'log',info:'info',warn:'warn',error:'error',fatal:'error'},l=null,t={logIfNoNativeHook:function(o){for(var n=arguments.length,f=new Array(n>1?n-1:0),c=1;c<n;c++)f[c-1]=arguments[c];void 0===g.nativeLoggingHook?t.logToConsole.apply(t,[o].concat(f)):l&&'warn'===o&&l.apply(void 0,f)},logToConsole:function(l){var t,f=n[l];o(f,'Level "'+l+'" not one of '+Object.keys(n).toString());for(var c=arguments.length,v=new Array(c>1?c-1:0),s=1;s<c;s++)v[s-1]=arguments[s];(t=console)[f].apply(t,v)},setWarningHandler:function(o){l=o}};m.exports=t},118,[15]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])).default;m.exports=t},119,[1,18]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0])(r(d[1])),e=r(d[2]),_={getJSHierarchy:function(_){if(t.default){var o=t.default.getConstants();try{var n=(0,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.computeComponentStackForErrorReporting)(_);n?t.default.onSuccess(n):t.default.onFailure(o.ERROR_CODE_VIEW_NOT_FOUND,"Component stack doesn't exist for tag "+_)}catch(e){t.default.onFailure(o.ERROR_CODE_EXCEPTION,e.message)}}}};m.exports=_},120,[1,121,24]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(f,c,l):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('JSDevSupport');e.default=n},121,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={setup:function(){},enable:function(){console.error("Fast Refresh is disabled in JavaScript bundles built in production mode. Did you forget to run Metro?")},disable:function(){},registerBundle:function(){},log:function(){}};m.exports=n},122,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.__fetchSegment=function(t,n,c){r(d[0]).default.fetchSegment(t,n,function(t){if(t){var n=new Error(t.message);n.code=t.code,c(n)}c(null)})},g.__getSegment=function(t,n,c){var f=r(d[0]).default;if(!f.getSegment)throw new Error('SegmentFetcher.getSegment must be defined');f.getSegment(t,n,function(t,n){if(t){var f=new Error(t.message);f.code=t.code,c(f)}c(null,n)})}},123,[124]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('SegmentFetcher');e.default=n},124,[39]);
__d(function(g,r,i,a,m,e,d){m.exports={get BatchedBridge(){return r(d[0])},get ExceptionsManager(){return r(d[1])},get Platform(){return r(d[2])},get RCTEventEmitter(){return r(d[3])},get ReactNativeViewConfigRegistry(){return r(d[4])},get TextInputState(){return r(d[5])},get UIManager(){return r(d[6])},get deepDiffer(){return r(d[7])},get deepFreezeAndThrowOnMutationInDev(){return r(d[8])},get flattenStyle(){return r(d[9])},get ReactFiberErrorDialog(){return r(d[10]).default},get legacySendAccessibilityEvent(){return r(d[11])}}},125,[45,33,55,126,127,128,145,167,52,168,169,170]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l={register:function(l){g.RN$Bridgeless?g.RN$registerCallableModule('RCTEventEmitter',function(){return l}):t.registerCallableModule('RCTEventEmitter',l)}};m.exports=l},126,[45]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n={},o={};e.customBubblingEventTypes=n,e.customDirectEventTypes=o;var s=new Map,u=new Map;function l(t){var s=t.bubblingEventTypes,u=t.directEventTypes;if(null!=s)for(var l in s)null==n[l]&&(n[l]=s[l]);if(null!=u)for(var f in u)null==o[f]&&(o[f]=u[f])}e.register=function(n,o){return(0,t.default)(!s.has(n),'Tried to register two views with the same name %s',n),(0,t.default)('function'==typeof o,'View config getter callback for component `%s` must be a function (received `%s`)',n,null===o?'null':typeof o),s.set(n,o),n},e.get=function(n){var o;if(u.has(n))o=u.get(n);else{var f=s.get(n);'function'!=typeof f&&(0,t.default)(!1,'View config getter callback for component `%s` must be a function (received `%s`).%s',n,null===f?'null':typeof f,'string'==typeof n[0]&&/[a-z]/.test(n[0])?' Make sure to start component names with a capital letter.':''),l(o=f()),u.set(n,o),s.set(n,null)}return(0,t.default)(o,'View config not found for name %s',n),o}},127,[1,15]);
__d(function(g,r,i,a,m,e,d){r(d[0]);var n=r(d[1]),u=(r(d[2]),r(d[3]),r(d[4]).findNodeHandle),t=null,o=new Set;function l(n){t!==n&&null!=n&&(t=n)}function f(n){t===n&&null!=n&&(t=null)}m.exports={currentlyFocusedInput:function(){return t},focusInput:l,blurInput:f,currentlyFocusedField:function(){return u(t)},focusField:function(n){},blurField:function(n){},focusTextInput:function(u){'number'!=typeof u&&t!==u&&null!=u&&(l(u),n.Commands.focus(u))},blurTextInput:function(u){'number'!=typeof u&&t===u&&null!=u&&(f(u),n.Commands.blur(u))},registerInput:function(n){'number'!=typeof n&&o.add(n)},unregisterInput:function(n){'number'!=typeof n&&o.delete(n)},isTextInput:function(n){return'number'!=typeof n&&o.has(n)}}},128,[129,165,10,55,24]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=f(n);if(o&&o.has(t))return o.get(t);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=l?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(u,c,p):u[c]=t[c]}u.default=t,o&&o.set(t,u);return u})(r(d[3]));function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(f=function(t){return t?o:n})(t)}var l=(0,n.default)({supportedCommands:['focus','blur','setTextAndSelection']});e.Commands=l;var c=u.get('AndroidTextInput',function(){return o.default});e.default=c},129,[1,130,131,143]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0]);var o=function(o){var t={};return o.supportedCommands.forEach(function(o){t[o]=function(t){for(var u=arguments.length,f=new Array(u>1?u-1:0),c=1;c<u;c++)f[c-1]=arguments[c];(0,n.dispatchCommand)(t,o,f)}}),t};e.default=o},130,[24]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]),n=t(r(d[1]));function o(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}function i(t){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?o(Object(s),!0).forEach(function(o){(0,n.default)(t,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var s={uiViewClassName:'AndroidTextInput',bubblingEventTypes:{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTextInput:{phasedRegistrationNames:{bubbled:'onTextInput',captured:'onTextInputCapture'}}},directEventTypes:{},validAttributes:i(i({},t(r(d[2])).default.validAttributes),{},{maxFontSizeMultiplier:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,autoFocus:!0,placeholder:!0,inlineImagePadding:!0,contextMenuHidden:!0,textShadowColor:{process:r(d[3])},maxLength:!0,selectTextOnFocus:!0,textShadowRadius:!0,underlineColorAndroid:{process:r(d[3])},textDecorationLine:!0,blurOnSubmit:!0,textAlignVertical:!0,fontStyle:!0,textShadowOffset:!0,selectionColor:{process:r(d[3])},selection:!0,placeholderTextColor:{process:r(d[3])},importantForAutofill:!0,lineHeight:!0,textTransform:!0,returnKeyType:!0,keyboardType:!0,multiline:!0,color:{process:r(d[3])},autoCompleteType:!0,autoComplete:!0,numberOfLines:!0,letterSpacing:!0,returnKeyLabel:!0,fontSize:!0,onKeyPress:!0,cursorColor:{process:r(d[3])},text:!0,showSoftInputOnFocus:!0,textAlign:!0,autoCapitalize:!0,autoCorrect:!0,caretHidden:!0,secureTextEntry:!0,textBreakStrategy:!0,onScroll:!0,onContentSizeChange:!0,disableFullscreenUI:!0,includeFontPadding:!0,fontWeight:!0,fontFamily:!0,allowFontScaling:!0,onSelectionChange:!0,mostRecentEventCount:!0,inlineImageLeft:!0,editable:!0,fontVariant:!0})};m.exports=s},131,[1,34,132,134]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]),o=t(r(d[1])),i=t(r(d[2])),s=r(d[3]);function n(t,o){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,s)}return i}function c(t){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?n(Object(s),!0).forEach(function(i){(0,o.default)(t,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(s,o))})}return t}var l={uiViewClassName:'RCTView',baseModuleName:null,Manager:'ViewManager',Commands:{},Constants:{},bubblingEventTypes:c(c({},i.default.bubblingEventTypes),{},{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topPress:{phasedRegistrationNames:{bubbled:'onPress',captured:'onPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}},topTouchStart:{phasedRegistrationNames:{bubbled:'onTouchStart',captured:'onTouchStartCapture'}}}),directEventTypes:c(c({},i.default.directEventTypes),{},{topAccessibilityAction:{registrationName:'onAccessibilityAction'},topAccessibilityEscape:{registrationName:'onAccessibilityEscape'},topAccessibilityTap:{registrationName:'onAccessibilityTap'},topLayout:{registrationName:'onLayout'},topMagicTap:{registrationName:'onMagicTap'},onGestureHandlerEvent:{registrationName:'onGestureHandlerEvent'},onGestureHandlerStateChange:{registrationName:'onGestureHandlerStateChange'}}),validAttributes:c(c({},i.default.validAttributes),{},{accessibilityActions:!0,accessibilityElementsHidden:!0,accessibilityHint:!0,accessibilityIgnoresInvertColors:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityStates:!0,accessibilityState:!0,accessibilityValue:!0,accessibilityViewIsModal:!0,accessible:!0,alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:!0,backfaceVisibility:!0,backgroundColor:{process:r(d[4])},borderBottomColor:{process:r(d[4])},borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderBottomWidth:!0,borderColor:{process:r(d[4])},borderEndColor:{process:r(d[4])},borderEndWidth:!0,borderLeftColor:{process:r(d[4])},borderLeftWidth:!0,borderRadius:!0,borderRightColor:{process:r(d[4])},borderRightWidth:!0,borderStartColor:{process:r(d[4])},borderStartWidth:!0,borderStyle:!0,borderTopColor:{process:r(d[4])},borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,clickable:!0,collapsable:!0,direction:!0,display:!0,elevation:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,height:!0,hitSlop:{diff:r(d[5])},importantForAccessibility:!0,justifyContent:!0,left:!0,margin:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,nativeID:!0,needsOffscreenAlphaCompositing:!0,onAccessibilityAction:!0,onAccessibilityEscape:!0,onAccessibilityTap:!0,onLayout:!0,onMagicTap:!0,opacity:!0,overflow:!0,padding:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,pointerEvents:!0,position:!0,removeClippedSubviews:!0,renderToHardwareTextureAndroid:!0,right:!0,rotation:!0,scaleX:!0,scaleY:!0,shadowColor:{process:r(d[4])},shadowOffset:{diff:r(d[6])},shadowOpacity:!0,shadowRadius:!0,shouldRasterizeIOS:!0,start:!0,style:{alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:!0,backfaceVisibility:!0,backgroundColor:{process:r(d[4])},borderBottomColor:{process:r(d[4])},borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderBottomWidth:!0,borderColor:{process:r(d[4])},borderEndColor:{process:r(d[4])},borderEndWidth:!0,borderLeftColor:{process:r(d[4])},borderLeftWidth:!0,borderRadius:!0,borderRightColor:{process:r(d[4])},borderRightWidth:!0,borderStartColor:{process:r(d[4])},borderStartWidth:!0,borderStyle:!0,borderTopColor:{process:r(d[4])},borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,color:{process:r(d[4])},decomposedMatrix:!0,direction:!0,display:!0,elevation:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,fontFamily:!0,fontSize:!0,fontStyle:!0,fontVariant:!0,fontWeight:!0,height:!0,includeFontPadding:!0,justifyContent:!0,left:!0,letterSpacing:!0,lineHeight:!0,margin:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,opacity:!0,overflow:!0,overlayColor:{process:r(d[4])},padding:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,position:!0,resizeMode:!0,right:!0,rotation:!0,scaleX:!0,scaleY:!0,shadowColor:{process:r(d[4])},shadowOffset:{diff:r(d[6])},shadowOpacity:!0,shadowRadius:!0,start:!0,textAlign:!0,textAlignVertical:!0,textDecorationColor:{process:r(d[4])},textDecorationLine:!0,textDecorationStyle:!0,textShadowColor:{process:r(d[4])},textShadowOffset:!0,textShadowRadius:!0,textTransform:!0,tintColor:{process:r(d[4])},top:!0,transform:'ios'===s.Platform.OS?{diff:r(d[7])}:{process:r(d[8])},transformMatrix:!0,translateX:!0,translateY:!0,width:!0,writingDirection:!0,zIndex:!0},testID:!0,top:!0,transform:'ios'===s.Platform.OS?{diff:r(d[7])}:{process:r(d[8])},translateX:!0,translateY:!0,width:!0,zIndex:!0})};m.exports=l},132,[1,34,133,14,134,138,139,140,141]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={uiViewClassName:'RCTView',bubblingEventTypes:{topSelect:{phasedRegistrationNames:{bubbled:'onSelect',captured:'onSelectCapture'}},topAssetDidLoad:{phasedRegistrationNames:{bubbled:'onAssetDidLoad',captured:'onAssetDidLoadCapture'}}},directEventTypes:{topClick:{registrationName:'onClick'},topContentSizeChange:{registrationName:'onContentSizeChange'},topLoadingError:{registrationName:'onLoadingError'},topLoadingFinish:{registrationName:'onLoadingFinish'},topLoadingStart:{registrationName:'onLoadingStart'},topMessage:{registrationName:'onMessage'},topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topScroll:{registrationName:'onScroll'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topScrollEndDrag:{registrationName:'onScrollEndDrag'},topSelectionChange:{registrationName:'onSelectionChange'},onAssetDidLoad:{registrationName:'onAssetDidLoad'}},validAttributes:{hasTVPreferredFocus:!0,focusable:!0,nativeBackgroundAndroid:!0,nativeForegroundAndroid:!0,nextFocusDown:!0,nextFocusForward:!0,nextFocusLeft:!0,nextFocusRight:!0,nextFocusUp:!0}}},133,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=r(d[1]);m.exports=function(t){if(void 0===t||null===t)return t;var o=n(t);if(null!==o&&void 0!==o){if('object'==typeof o){var u=(0,r(d[2]).processColorObject)(o);if(null!=u)return u}return'number'!=typeof o?null:o=(o<<24|o>>>8)>>>0}}},134,[55,135,137]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=function(n){if('object'==typeof n&&null!=n&&null!=(0,r(d[2]).normalizeColorObject)(n))return n;if('string'==typeof n||'number'==typeof n)return(0,t.default)(n)}},135,[1,136,137]);
__d(function(_g,_r,i,a,m,e,d){'use strict';function r(r,l,n){return n<0&&(n+=1),n>1&&(n-=1),n<.16666666666666666?r+6*(l-r)*n:n<.5?l:n<.6666666666666666?r+(l-r)*(.6666666666666666-n)*6:r}function l(l,n,t){var o=t<.5?t*(1+n):t+n-t*n,u=2*t-o,g=r(u,o,l+.3333333333333333),s=r(u,o,l),h=r(u,o,l-.3333333333333333);return Math.round(255*g)<<24|Math.round(255*s)<<16|Math.round(255*h)<<8}var n,t='[-+]?\\d*\\.?\\d+',o="[-+]?\\d*\\.?\\d+%";function u(){for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return'\\(\\s*('+l.join(')\\s*,\\s*(')+')\\s*\\)'}function g(r){var l=parseInt(r,10);return l<0?0:l>255?255:l}function s(r){return(parseFloat(r)%360+360)%360/360}function h(r){var l=parseFloat(r);return l<0?0:l>1?255:Math.round(255*l)}function c(r){var l=parseFloat(r);return l<0?0:l>100?1:l/100}var p={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};m.exports=function(r){var b,y=(void 0===n&&(n={rgb:new RegExp('rgb'+u(t,t,t)),rgba:new RegExp('rgba'+u(t,t,t,t)),hsl:new RegExp('hsl'+u(t,o,o)),hsla:new RegExp('hsla'+u(t,o,o,t)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),n);return'number'==typeof r?r>>>0===r&&r>=0&&r<=4294967295?r:null:'string'!=typeof r?null:(b=y.hex6.exec(r))?parseInt(b[1]+'ff',16)>>>0:p.hasOwnProperty(r)?p[r]:(b=y.rgb.exec(r))?(g(b[1])<<24|g(b[2])<<16|g(b[3])<<8|255)>>>0:(b=y.rgba.exec(r))?(g(b[1])<<24|g(b[2])<<16|g(b[3])<<8|h(b[4]))>>>0:(b=y.hex3.exec(r))?parseInt(b[1]+b[1]+b[2]+b[2]+b[3]+b[3]+'ff',16)>>>0:(b=y.hex8.exec(r))?parseInt(b[1],16)>>>0:(b=y.hex4.exec(r))?parseInt(b[1]+b[1]+b[2]+b[2]+b[3]+b[3]+b[4]+b[4],16)>>>0:(b=y.hsl.exec(r))?(255|l(s(b[1]),c(b[2]),c(b[3])))>>>0:(b=y.hsla.exec(r))?(l(s(b[1]),c(b[2]),c(b[3]))|h(b[4]))>>>0:null}},136,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.processColorObject=e.normalizeColorObject=e.PlatformColor=e.DynamicColorIOSPrivate=void 0;e.PlatformColor=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return{semantic:n}};e.DynamicColorIOSPrivate=function(t){return{dynamic:{light:t.light,dark:t.dark,highContrastLight:t.highContrastLight,highContrastDark:t.highContrastDark}}};e.normalizeColorObject=function(t){if('semantic'in t)return t;if('dynamic'in t&&void 0!==t.dynamic){var n=r(d[0]),o=t.dynamic;return{dynamic:{light:n(o.light),dark:n(o.dark),highContrastLight:n(o.highContrastLight),highContrastDark:n(o.highContrastDark)}}}return null};e.processColorObject=function(t){if('dynamic'in t&&null!=t.dynamic){var n=r(d[1]),o=t.dynamic;return{dynamic:{light:n(o.light),dark:n(o.dark),highContrastLight:n(o.highContrastLight),highContrastDark:n(o.highContrastDark)}}}return t}},137,[135,134]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={top:void 0,left:void 0,right:void 0,bottom:void 0};m.exports=function(o,f){return(o=o||t)!==(f=f||t)&&(o.top!==f.top||o.left!==f.left||o.right!==f.right||o.bottom!==f.bottom)}},138,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={width:void 0,height:void 0};m.exports=function(h,n){return(h=h||t)!==(n=n||t)&&(h.width!==n.width||h.height!==n.height)}},139,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){return!(t===n||t&&n&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[5]===n[5]&&t[10]===n[10]&&t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[11]===n[11]&&t[15]===n[15])}},140,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),r(d[1]),r(d[2]),r(d[3]).default;m.exports=function(t){return t}},141,[142,55,15,53]);
__d(function(g,r,_i4,_a,_m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),a={createIdentityMatrix:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},createCopy:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},createOrthographic:function(t,n,a,o,i,u){return[2/(n-t),0,0,0,0,2/(o-a),0,0,0,0,-2/(u-i),0,-(n+t)/(n-t),-(o+a)/(o-a),-(u+i)/(u-i),1]},createFrustum:function(t,n,a,o,i,u){var s=1/(n-t),c=1/(o-a),m=1/(i-u);return[i*s*2,0,0,0,0,i*c*2,0,0,(n+t)*s,(o+a)*c,(u+i)*m,-1,0,0,u*i*m*2,0]},createPerspective:function(t,n,a,o){var i=1/Math.tan(t/2),u=1/(a-o);return[i/n,0,0,0,0,i,0,0,0,0,(o+a)*u,-1,0,0,o*a*u*2,0]},createTranslate2d:function(t,n){var o=a.createIdentityMatrix();return a.reuseTranslate2dCommand(o,t,n),o},reuseTranslate2dCommand:function(t,n,a){t[12]=n,t[13]=a},reuseTranslate3dCommand:function(t,n,a,o){t[12]=n,t[13]=a,t[14]=o},createScale:function(t){var n=a.createIdentityMatrix();return a.reuseScaleCommand(n,t),n},reuseScaleCommand:function(t,n){t[0]=n,t[5]=n},reuseScale3dCommand:function(t,n,a,o){t[0]=n,t[5]=a,t[10]=o},reusePerspectiveCommand:function(t,n){t[11]=-1/n},reuseScaleXCommand:function(t,n){t[0]=n},reuseScaleYCommand:function(t,n){t[5]=n},reuseScaleZCommand:function(t,n){t[10]=n},reuseRotateXCommand:function(t,n){t[5]=Math.cos(n),t[6]=Math.sin(n),t[9]=-Math.sin(n),t[10]=Math.cos(n)},reuseRotateYCommand:function(t,n){t[0]=Math.cos(n),t[2]=-Math.sin(n),t[8]=Math.sin(n),t[10]=Math.cos(n)},reuseRotateZCommand:function(t,n){t[0]=Math.cos(n),t[1]=Math.sin(n),t[4]=-Math.sin(n),t[5]=Math.cos(n)},createRotateZ:function(t){var n=a.createIdentityMatrix();return a.reuseRotateZCommand(n,t),n},reuseSkewXCommand:function(t,n){t[4]=Math.tan(n)},reuseSkewYCommand:function(t,n){t[1]=Math.tan(n)},multiplyInto:function(t,n,a){var o=n[0],i=n[1],u=n[2],s=n[3],c=n[4],m=n[5],v=n[6],f=n[7],h=n[8],M=n[9],l=n[10],C=n[11],p=n[12],x=n[13],T=n[14],y=n[15],S=a[0],P=a[1],q=a[2],D=a[3];t[0]=S*o+P*c+q*h+D*p,t[1]=S*i+P*m+q*M+D*x,t[2]=S*u+P*v+q*l+D*T,t[3]=S*s+P*f+q*C+D*y,S=a[4],P=a[5],q=a[6],D=a[7],t[4]=S*o+P*c+q*h+D*p,t[5]=S*i+P*m+q*M+D*x,t[6]=S*u+P*v+q*l+D*T,t[7]=S*s+P*f+q*C+D*y,S=a[8],P=a[9],q=a[10],D=a[11],t[8]=S*o+P*c+q*h+D*p,t[9]=S*i+P*m+q*M+D*x,t[10]=S*u+P*v+q*l+D*T,t[11]=S*s+P*f+q*C+D*y,S=a[12],P=a[13],q=a[14],D=a[15],t[12]=S*o+P*c+q*h+D*p,t[13]=S*i+P*m+q*M+D*x,t[14]=S*u+P*v+q*l+D*T,t[15]=S*s+P*f+q*C+D*y},determinant:function(n){var a=t(n,16),o=a[0],i=a[1],u=a[2],s=a[3],c=a[4],m=a[5],v=a[6],f=a[7],h=a[8],M=a[9],l=a[10],C=a[11],p=a[12],x=a[13],T=a[14],y=a[15];return s*v*M*p-u*f*M*p-s*m*l*p+i*f*l*p+u*m*C*p-i*v*C*p-s*v*h*x+u*f*h*x+s*c*l*x-o*f*l*x-u*c*C*x+o*v*C*x+s*m*h*T-i*f*h*T-s*c*M*T+o*f*M*T+i*c*C*T-o*m*C*T-u*m*h*y+i*v*h*y+u*c*M*y-o*v*M*y-i*c*l*y+o*m*l*y},inverse:function(n){var o=a.determinant(n);if(!o)return n;var i=t(n,16),u=i[0],s=i[1],c=i[2],m=i[3],v=i[4],f=i[5],h=i[6],M=i[7],l=i[8],C=i[9],p=i[10],x=i[11],T=i[12],y=i[13],S=i[14],P=i[15];return[(h*x*y-M*p*y+M*C*S-f*x*S-h*C*P+f*p*P)/o,(m*p*y-c*x*y-m*C*S+s*x*S+c*C*P-s*p*P)/o,(c*M*y-m*h*y+m*f*S-s*M*S-c*f*P+s*h*P)/o,(m*h*C-c*M*C-m*f*p+s*M*p+c*f*x-s*h*x)/o,(M*p*T-h*x*T-M*l*S+v*x*S+h*l*P-v*p*P)/o,(c*x*T-m*p*T+m*l*S-u*x*S-c*l*P+u*p*P)/o,(m*h*T-c*M*T-m*v*S+u*M*S+c*v*P-u*h*P)/o,(c*M*l-m*h*l+m*v*p-u*M*p-c*v*x+u*h*x)/o,(f*x*T-M*C*T+M*l*y-v*x*y-f*l*P+v*C*P)/o,(m*C*T-s*x*T-m*l*y+u*x*y+s*l*P-u*C*P)/o,(s*M*T-m*f*T+m*v*y-u*M*y-s*v*P+u*f*P)/o,(m*f*l-s*M*l-m*v*C+u*M*C+s*v*x-u*f*x)/o,(h*C*T-f*p*T-h*l*y+v*p*y+f*l*S-v*C*S)/o,(s*p*T-c*C*T+c*l*y-u*p*y-s*l*S+u*C*S)/o,(c*f*T-s*h*T-c*v*y+u*h*y+s*v*S-u*f*S)/o,(s*h*l-c*f*l+c*v*C-u*h*C-s*v*p+u*f*p)/o]},transpose:function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},multiplyVectorByMatrix:function(n,a){var o=t(n,4),i=o[0],u=o[1],s=o[2],c=o[3];return[i*a[0]+u*a[4]+s*a[8]+c*a[12],i*a[1]+u*a[5]+s*a[9]+c*a[13],i*a[2]+u*a[6]+s*a[10]+c*a[14],i*a[3]+u*a[7]+s*a[11]+c*a[15]]},v3Length:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},v3Normalize:function(t,n){var o=1/(n||a.v3Length(t));return[t[0]*o,t[1]*o,t[2]*o]},v3Dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},v3Combine:function(t,n,a,o){return[a*t[0]+o*n[0],a*t[1]+o*n[1],a*t[2]+o*n[2]]},v3Cross:function(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]},quaternionToDegreesXYZ:function(n,o,i){var u=t(n,4),s=u[0],c=u[1],m=u[2],v=u[3],f=s*s,h=c*c,M=m*m,l=s*c+m*v,C=v*v+f+h+M,p=180/Math.PI;return l>.49999*C?[0,2*Math.atan2(s,v)*p,90]:l<-.49999*C?[0,-2*Math.atan2(s,v)*p,-90]:[a.roundTo3Places(Math.atan2(2*s*v-2*c*m,1-2*f-2*M)*p),a.roundTo3Places(Math.atan2(2*c*v-2*s*m,1-2*h-2*M)*p),a.roundTo3Places(Math.asin(2*s*c+2*m*v)*p)]},roundTo3Places:function(t){var n=t.toString().split('e');return.001*Math.round(n[0]+'e'+(n[1]?+n[1]-3:3))},decomposeMatrix:function(t){n(16===t.length,'Matrix decomposition needs a list of 3d matrix values, received %s',t);var o=[],i=[],u=[],s=[],c=[];if(t[15]){for(var m=[],v=[],f=0;f<4;f++){m.push([]);for(var h=0;h<4;h++){var M=t[4*f+h]/t[15];m[f].push(M),v.push(3===h?0:M)}}if(v[15]=1,a.determinant(v)){if(0!==m[0][3]||0!==m[1][3]||0!==m[2][3]){var l=[m[0][3],m[1][3],m[2][3],m[3][3]],C=a.inverse(v),p=a.transpose(C);o=a.multiplyVectorByMatrix(l,p)}else o[0]=o[1]=o[2]=0,o[3]=1;for(var x=0;x<3;x++)c[x]=m[3][x];for(var T=[],y=0;y<3;y++)T[y]=[m[y][0],m[y][1],m[y][2]];u[0]=a.v3Length(T[0]),T[0]=a.v3Normalize(T[0],u[0]),s[0]=a.v3Dot(T[0],T[1]),T[1]=a.v3Combine(T[1],T[0],1,-s[0]),u[1]=a.v3Length(T[1]),T[1]=a.v3Normalize(T[1],u[1]),s[0]/=u[1],s[1]=a.v3Dot(T[0],T[2]),T[2]=a.v3Combine(T[2],T[0],1,-s[1]),s[2]=a.v3Dot(T[1],T[2]),T[2]=a.v3Combine(T[2],T[1],1,-s[2]),u[2]=a.v3Length(T[2]),T[2]=a.v3Normalize(T[2],u[2]),s[1]/=u[2],s[2]/=u[2];var S,P=a.v3Cross(T[1],T[2]);if(a.v3Dot(T[0],P)<0)for(var q=0;q<3;q++)u[q]*=-1,T[q][0]*=-1,T[q][1]*=-1,T[q][2]*=-1;return i[0]=.5*Math.sqrt(Math.max(1+T[0][0]-T[1][1]-T[2][2],0)),i[1]=.5*Math.sqrt(Math.max(1-T[0][0]+T[1][1]-T[2][2],0)),i[2]=.5*Math.sqrt(Math.max(1-T[0][0]-T[1][1]+T[2][2],0)),i[3]=.5*Math.sqrt(Math.max(1+T[0][0]+T[1][1]+T[2][2],0)),T[2][1]>T[1][2]&&(i[0]=-i[0]),T[0][2]>T[2][0]&&(i[1]=-i[1]),T[1][0]>T[0][1]&&(i[2]=-i[2]),{rotationDegrees:S=i[0]<.001&&i[0]>=0&&i[1]<.001&&i[1]>=0?[0,0,a.roundTo3Places(180*Math.atan2(T[0][1],T[0][0])/Math.PI)]:a.quaternionToDegreesXYZ(i,m,T),perspective:o,quaternion:i,scale:u,skew:s,translation:c,rotate:S[2],rotateX:S[0],rotateY:S[1],scaleX:u[0],scaleY:u[1],translateX:c[0],translateY:c[1]}}}}};_m.exports=a},142,[41,15]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.get=_,e.getWithFallback_DEPRECATED=function(t,o){if(null==n){if(y(t))return _(t,o)}else if(null!=n(t))return _(t,o);var u=function(t){return null};return u.displayName="Fallback("+t+")",u},e.setRuntimeConfigProvider=function(t){(0,s.default)(null==n,'NativeComponentRegistry.setRuntimeConfigProvider() called more than once.'),n=t},e.unstable_hasComponent=function(t){var n=p.get(t);if(null==n){if(!g.__nativeComponentRegistry__hasComponent)throw"unstable_hasComponent('"+t+"'): Global function is not registered";n=g.__nativeComponentRegistry__hasComponent(t),p.set(t,n)}return n},e.unstable_hasStaticViewConfig=function(t){var o;return!(null!=(o=null==n?void 0:n(t))?o:{native:!0}).native};var n,o=r(d[1]),u=t(r(d[2])),l=t(r(d[3])),f=t(r(d[4])),c=t(r(d[5])),s=t(r(d[6]));!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=v(n);if(o&&o.has(t))return o.get(t);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var c=l?Object.getOwnPropertyDescriptor(t,f):null;c&&(c.get||c.set)?Object.defineProperty(u,f,c):u[f]=t[f]}u.default=t,o&&o.set(t,u)})(r(d[7]));function v(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(v=function(t){return t?o:n})(t)}var p=new Map;function _(t,u){return l.default.register(t,function(){var l,s=null!=(l=null==n?void 0:n(t))?l:{native:!0,verify:!1},v=s.native,p=s.verify,_=v?(0,f.default)(t):(0,o.createViewConfig)(u());return p&&(v?(0,c.default)(_,(0,o.createViewConfig)(u())):(0,c.default)((0,f.default)(t),_)),_}),t}function y(t){return(0,s.default)(null==n,'Unexpected invocation!'),null!=u.default.getViewManagerConfig(t)}},143,[1,144,145,127,151,164,15,10]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createViewConfig=function(t){return{uiViewClassName:t.uiViewClassName,Commands:{},bubblingEventTypes:l(i.default.bubblingEventTypes,t.bubblingEventTypes),directEventTypes:l(i.default.directEventTypes,t.directEventTypes),validAttributes:l(i.default.validAttributes,t.validAttributes)}};var n=t(r(d[1])),i=t(r(d[2]));function u(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,u)}return i}function c(t){for(var i=1;i<arguments.length;i++){var c=null!=arguments[i]?arguments[i]:{};i%2?u(Object(c),!0).forEach(function(i){(0,n.default)(t,i,c[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):u(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}function l(t,n){var i;return null==t||null==n?null!=(i=null!=t?t:n)?i:{}:c(c({},t),n)}},144,[1,34,132]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0])(r(d[1])),n=!0===g.RN$Bridgeless?r(d[2]):null==l.default.unstable_UIManager?r(d[3]):l.default.unstable_UIManager;m.exports=n},145,[1,146,147,148]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={unstable_UIManager:null}},146,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={getViewManagerConfig:function(n){return console.warn('Attempting to get config for view manager: '+n),'RCTVirtualText'===n?{}:null},hasViewManagerConfig:function(n){return'RCTVirtualText'===n||'RCTShimmeringView'===n},getConstants:function(){return{}},getConstantsForViewManager:function(n){},getDefaultEventTypes:function(){return[]},lazilyLoadView:function(n){},createView:function(n,t,o,u){},updateView:function(n,t,o){},focus:function(n){},blur:function(n){},findSubviewIn:function(n,t,o){},dispatchViewManagerCommand:function(n,t,o){},measure:function(n,t){},measureInWindow:function(n,t){},viewIsDescendantOf:function(n,t,o){},measureLayout:function(n,t,o,u){},measureLayoutRelativeToParent:function(n,t,o){},setJSResponder:function(n,t){},clearJSResponder:function(){},configureNextLayoutAnimation:function(n,t,o){},removeSubviewsFromContainerWithID:function(n){},replaceExistingNonRootView:function(n,t){},setChildren:function(n,t){},manageChildren:function(n,t,o,u,c,f){},setLayoutAnimationEnabledExperimental:function(n){},sendAccessibilityEvent:function(n,t){},showPopupMenu:function(n,t,o,u){},dismissPopupMenu:function(){}}},147,[]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]),n=e(r(d[1])),t=e(r(d[2]));function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach(function(t){(0,n.default)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var c=r(d[3]),f=(r(d[4]),r(d[5])),u=r(d[6]),l={},s=new Set,w={},y=!1;function v(){return y||(w=t.default.getConstants(),y=!0),w}function p(e){if(void 0===l[e]&&g.nativeCallSyncHook&&t.default.getConstantsForViewManager)try{l[e]=t.default.getConstantsForViewManager(e)}catch(n){console.error("NativeUIManager.getConstantsForViewManager('"+e+"') threw an exception.",n),l[e]=null}var n=l[e];if(n)return n;if(!g.nativeCallSyncHook)return n;if(t.default.lazilyLoadView&&!s.has(e)){var o=t.default.lazilyLoadView(e);s.add(e),null!=o&&null!=o.viewConfig&&(v()[e]=o.viewConfig,b(e))}return l[e]}var O=i(i({},t.default),{},{createView:function(e,n,o,i){void 0===l[n]&&p(n),t.default.createView(e,n,o,i)},getConstants:function(){return v()},getViewManagerConfig:function(e){return p(e)},hasViewManagerConfig:function(e){return null!=p(e)}});function b(e){var n=v()[e];l[e]=n,n.Manager&&(u(n,'Constants',{get:function(){var e=c[n.Manager],t={};return e&&Object.keys(e).forEach(function(n){var o=e[n];'function'!=typeof o&&(t[n]=o)}),t}}),u(n,'Commands',{get:function(){var e=c[n.Manager],t={},o=0;return e&&Object.keys(e).forEach(function(n){'function'==typeof e[n]&&(t[n]=o++)}),t}}))}t.default.getViewManagerConfig=O.getViewManagerConfig,Object.keys(v()).forEach(function(e){b(e)}),g.nativeCallSyncHook||Object.keys(v()).forEach(function(e){f.includes(e)||(l[e]||(l[e]=v()[e]),u(t.default,e,{get:function(){return console.warn("Accessing view manager configs directly off UIManager via UIManager['"+e+"'] is no longer supported. Use UIManager.getViewManagerConfig('"+e+"') instead."),O.getViewManagerConfig(e)}}))}),m.exports=O},148,[1,34,149,40,55,150,54]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('UIManager');e.default=n},149,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=['clearJSResponder','configureNextLayoutAnimation','createView','dismissPopupMenu','dispatchViewManagerCommand','findSubviewIn','getConstantsForViewManager','getDefaultEventTypes','manageChildren','measure','measureInWindow','measureLayout','measureLayoutRelativeToParent','removeRootView','removeSubviewsFromContainerWithID','replaceExistingNonRootView','sendAccessibilityEvent','setChildren','setJSResponder','setLayoutAnimationEnabledExperimental','showPopupMenu','updateView','viewIsDescendantOf','PopupMenu','LazyViewManagersEnabled','ViewManagerNames','StyleConstants','AccessibilityEventTypes','UIView','getViewManagerConfig','hasViewManagerConfig','blur','focus','genericBubblingEventTypes','genericDirectEventTypes','lazilyLoadView']},150,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);function o(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function s(t){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?o(Object(i),!0).forEach(function(o){n(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var i=r(d[2]),c=r(d[3]),u=r(d[4]),l=r(d[5]),p=r(d[6]),b=r(d[7]),v=r(d[8]),f=r(d[9]),y=r(d[10]),O=r(d[11]);var C=!1;function E(t){var n=c.getConstants();n.ViewManagerNames||n.LazyViewManagersEnabled?t=w(t,c.getDefaultEventTypes()):(t.bubblingEventTypes=w(t.bubblingEventTypes,n.genericBubblingEventTypes),t.directEventTypes=w(t.directEventTypes,n.genericDirectEventTypes))}function w(t,n){if(!n)return t;if(!t)return n;for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];if(t.hasOwnProperty(o)){var i=t[o];'object'==typeof s&&'object'==typeof i&&(s=w(i,s))}t[o]=s}return t}function P(t){switch(t){case'CATransform3D':return p;case'CGPoint':return b;case'CGSize':return O;case'UIEdgeInsets':return u;case'Point':return b}return null}function T(t){switch(t){case'CGColor':case'UIColor':return v;case'CGColorArray':case'UIColorArray':return f;case'CGImage':case'UIImage':case'RCTImageSource':return y;case'Color':return v;case'ColorArray':return f}return null}m.exports=function(n){var o=c.getViewManagerConfig(n);l(null!=o&&null!=o.NativeProps,'requireNativeComponent: "%s" was not found in the UIManager.',n);for(var u=o.baseModuleName,p=o.bubblingEventTypes,b=o.directEventTypes,v=o.NativeProps;u;){var f=c.getViewManagerConfig(u);f?(p=s(s({},f.bubblingEventTypes),p),b=s(s({},f.directEventTypes),b),v=s(s({},f.NativeProps),v),u=f.baseModuleName):u=null}var y={};for(var O in v){var w=v[O],j=P(w),h=T(w);y[O]=null==j&&null==h||{diff:j,process:h}}return y.style=i,t(o,{uiViewClassName:n,validAttributes:y,bubblingEventTypes:p,directEventTypes:b}),C||(E(o),C=!0),o}},151,[13,34,152,145,138,15,140,153,134,154,155,139]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),s={process:o.default},f={alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:!0,borderBottomWidth:!0,borderEndWidth:!0,borderLeftWidth:!0,borderRightWidth:!0,borderStartWidth:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,direction:!0,display:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,height:!0,justifyContent:!0,left:!0,margin:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,overflow:!0,padding:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,position:!0,right:!0,start:!0,top:!0,width:!0,zIndex:!0,elevation:!0,shadowColor:s,shadowOffset:{diff:l.default},shadowOpacity:!0,shadowRadius:!0,decomposedMatrix:!0,rotation:!0,scaleX:!0,scaleY:!0,transform:{process:n.default},transformMatrix:!0,translateX:!0,translateY:!0,backfaceVisibility:!0,backgroundColor:s,borderBottomColor:s,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderColor:s,borderEndColor:s,borderLeftColor:s,borderRadius:!0,borderRightColor:s,borderStartColor:s,borderStyle:!0,borderTopColor:s,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,opacity:!0,color:s,fontFamily:!0,fontSize:!0,fontStyle:!0,fontVariant:!0,fontWeight:!0,includeFontPadding:!0,letterSpacing:!0,lineHeight:!0,textAlign:!0,textAlignVertical:!0,textDecorationColor:s,textDecorationLine:!0,textDecorationStyle:!0,textShadowColor:s,textShadowOffset:!0,textShadowRadius:!0,textTransform:!0,writingDirection:!0,overlayColor:s,resizeMode:!0,tintColor:s};m.exports=f},152,[1,134,141,139]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={x:void 0,y:void 0};m.exports=function(n,o){return(n=n||t)!==(o=o||t)&&(n.x!==o.x||n.y!==o.y)}},153,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),l=0;function u(u){var o=(0,n.default)(u);return null==o?(console.error('Invalid value in color array:',u),l):o}m.exports=function(n){return null==n?null:n.map(u)}},154,[1,134]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n,s,u,o=r(d[0]),f=r(d[1]),c=r(d[2]).pickScale;function l(){if(u)return u;var t=g.nativeExtensions&&g.nativeExtensions.SourceCode;return t||(t=r(d[3]).default),u=t.getConstants().scriptURL}function v(){if(void 0===n){var t=l(),s=t&&t.match(/^https?:\/\/.*?\//);n=s?s[0]:null}return n}function p(t){if(t){if(t.startsWith('assets://'))return null;(t=t.substring(0,t.lastIndexOf('/')+1)).includes('://')||(t='file://'+t)}return t}m.exports=function(n){if('object'==typeof n)return n;var u=o.getAssetByID(n);if(!u)return null;var c=new f(v(),(void 0===s&&(s=p(l())),s),u);return t?t(c):c.defaultAsset()},m.exports.pickScale=c,m.exports.setCustomSourceTransformer=function(n){t=n}},155,[156,157,161,163]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=[];m.exports={registerAsset:function(s){return t.push(s)},getAssetByID:function(s){return t[s-1]}}},156,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),t=r(d[1]),n=r(d[2]),u=r(d[3]).pickScale,o=(r(d[4]),r(d[5])),l=r(d[6]),h=l.getAndroidResourceFolderName,c=l.getAndroidResourceIdentifier,f=l.getBasePath;function v(s){var t=u(s.scales,n.get()),o=1===t?'':'@'+t+'x';return f(s)+'/'+s.name+o+'.'+s.type}var S=(function(){function l(t,n,u){s(this,l),this.serverUrl=t,this.jsbundleUrl=n,this.asset=u}return t(l,[{key:"isLoadedFromServer",value:function(){return!!this.serverUrl}},{key:"isLoadedFromFileSystem",value:function(){return!(!this.jsbundleUrl||!this.jsbundleUrl.startsWith('file://'))}},{key:"defaultAsset",value:function(){return this.isLoadedFromServer()?this.assetServerURL():this.scaledAssetURLNearBundle()}},{key:"assetServerURL",value:function(){return o(!!this.serverUrl,'need server to load from'),this.fromSource(this.serverUrl+v(this.asset)+"?platform=ios&hash="+this.asset.hash)}},{key:"scaledAssetPath",value:function(){return this.fromSource(v(this.asset))}},{key:"scaledAssetURLNearBundle",value:function(){var s=this.jsbundleUrl||'file://';return this.fromSource(s+v(this.asset).replace(/\.\.\//g,'_'))}},{key:"resourceIdentifierWithoutScale",value:function(){return o(!1,'resource identifiers work on Android'),this.fromSource(c(this.asset))}},{key:"drawableFolderInBundle",value:function(){var s,t,o=this.jsbundleUrl||'file://';return this.fromSource(o+(s=this.asset,t=u(s.scales,n.get()),h(s,t)+'/'+c(s)+'.'+s.type))}},{key:"fromSource",value:function(s){return{__packager_asset:!0,width:this.asset.width,height:this.asset.height,uri:s,scale:u(this.asset.scales,n.get())}}}]),l})();S.pickScale=u,m.exports=S},157,[2,3,158,161,55,15,162]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),o=(function(){function o(){t(this,o)}return n(o,null,[{key:"get",value:function(){return u.get('window').scale}},{key:"getFontScale",value:function(){return u.get('window').fontScale||o.get()}},{key:"getPixelSizeForLayoutSize",value:function(t){return Math.round(t*o.get())}},{key:"roundToNearestPixel",value:function(t){var n=o.get();return Math.round(t*n)/n}},{key:"startDetecting",value:function(){}}]),o})();m.exports=o},158,[2,3,159]);
__d(function(g,r,i,a,m,e,d){var n,t=r(d[0]),s=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),f=t(r(d[6])),v=new l.default,h=!1,w=(function(){function t(){(0,s.default)(this,t)}return(0,o.default)(t,null,[{key:"get",value:function(t){return(0,f.default)(n[t],'No dimension set for key '+t),n[t]}},{key:"set",value:function(t){var s=t.screen,o=t.window,l=t.windowPhysicalPixels;l&&(o={width:l.width/l.scale,height:l.height/l.scale,scale:l.scale,fontScale:l.fontScale});var c=t.screenPhysicalPixels;c?s={width:c.width/c.scale,height:c.height/c.scale,scale:c.scale,fontScale:c.fontScale}:null==s&&(s=o),n={window:o,screen:s},h?v.emit('change',n):h=!0}},{key:"addEventListener",value:function(n,t){return(0,f.default)('change'===n,'Trying to subscribe to unknown event: "%s"',n),v.addListener(n,t)}},{key:"removeEventListener",value:function(n,t){(0,f.default)('change'===n,'Trying to remove listener for unknown event: "%s"',n),v.removeListener(n,t)}}]),t})(),y=g.nativeExtensions&&g.nativeExtensions.DeviceInfo&&g.nativeExtensions.DeviceInfo.Dimensions;y||(c.default.addListener('didUpdateDimensions',function(n){w.set(n)}),y=u.default.getConstants().Dimensions),w.set(y),m.exports=w},159,[1,2,3,19,18,160,15]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('DeviceInfo'),o=null,u={getConstants:function(){return null==o&&(o=n.getConstants()),o}};e.default=u},160,[39]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlCacheBreaker=function(){if(null==t)return'';return t},e.pickScale=function(n,t){null==t&&(t=u.default.get());for(var l=0;l<n.length;l++)if(n[l]>=t)return n[l];return n[n.length-1]||1},e.setUrlCacheBreaker=function(n){t=n};var t,u=n(r(d[1]))},161,[1,158]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={.75:'ldpi',1:'mdpi',1.5:'hdpi',2:'xhdpi',3:'xxhdpi',4:'xxxhdpi'};function n(n){if(n.toString()in t)return t[n.toString()];throw new Error('no such scale '+n.toString())}var o=new Set(['gif','jpeg','jpg','png','svg','webp','xml']);function s(t){var n=t.httpServerLocation;return n.startsWith('/')?n.substr(1):n}m.exports={getAndroidResourceFolderName:function(s,u){if(!o.has(s.type))return'raw';var c=n(u);if(!c)throw new Error("Don't know which android drawable suffix to use for scale: "+u+'\nAsset: '+JSON.stringify(s,null,'\t')+'\nPossible scales are:'+JSON.stringify(t,null,'\t'));return'drawable-'+c},getAndroidResourceIdentifier:function(t){return(s(t)+'/'+t.name).toLowerCase().replace(/\//g,'_').replace(/([^a-z0-9_])/g,'').replace(/^assets_/,'')},getBasePath:s}},162,[]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('SourceCode'),o=null,u={getConstants:function(){return null==o&&(o=n.getConstants()),o}};e.default=u},163,[39]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){for(var f=0,u=['validAttributes','bubblingEventTypes','directEventTypes'];f<u.length;f++){var s=u[f],c=Object.keys(o(t[s],n[s]));if(c.length>0){var l,v=null!=(l=n.uiViewClassName)?l:t.uiViewClassName;console.error("'"+v+"' has a view config that does not match native. '"+s+"' is missing: "+c.join(', '))}}},e.getConfigWithoutViewProps=function(t,f){if(!t[f])return{};return Object.keys(t[f]).filter(function(t){return!n.default[f][t]}).reduce(function(n,o){return n[o]=t[f][o],n},{})},e.lefthandObjectDiff=o,e.stringifyViewConfig=function(t){return JSON.stringify(t,function(t,n){return'function'==typeof n?"\u0192 "+n.name:n},2)};var n=t(r(d[1])),f=['transform','hitSlop'];function o(t,n){var u={};function s(t,n,f){if(typeof t==typeof n||null==t)if('object'!=typeof t)t===n||(u[f]=n);else{var s=o(t,n);Object.keys(s).length>1&&(u[f]=s)}else u[f]=n}for(var c in t)f.includes(c)||(n?t.hasOwnProperty(c)&&s(t[c],n[c],c):u[c]={});return u}},164,[1,132]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=f(n);if(u&&u.has(t))return u.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=l?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(o,c,p):o[c]=t[c]}o.default=t,u&&u.set(t,o);return o})(r(d[3]));function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(f=function(t){return t?u:n})(t)}var l=(0,n.default)({supportedCommands:['focus','blur','setTextAndSelection']});e.Commands=l;var c=o.get('RCTSinglelineTextInputView',function(){return u.default});e.default=c},165,[1,130,166,143]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]),o=t(r(d[1]));function n(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);o&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function i(t){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?n(Object(s),!0).forEach(function(n){(0,o.default)(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(s,o))})}return t}var s={uiViewClassName:'RCTSinglelineTextInputView',bubblingEventTypes:{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}}},directEventTypes:{},validAttributes:i(i({},t(r(d[2])).default.validAttributes),{},{fontSize:!0,fontWeight:!0,fontVariant:!0,textShadowOffset:{diff:r(d[3])},allowFontScaling:!0,fontStyle:!0,textTransform:!0,textAlign:!0,fontFamily:!0,lineHeight:!0,isHighlighted:!0,writingDirection:!0,textDecorationLine:!0,textShadowRadius:!0,letterSpacing:!0,textDecorationStyle:!0,textDecorationColor:{process:r(d[4])},color:{process:r(d[4])},maxFontSizeMultiplier:!0,textShadowColor:{process:r(d[4])},editable:!0,inputAccessoryViewID:!0,caretHidden:!0,enablesReturnKeyAutomatically:!0,placeholderTextColor:{process:r(d[4])},onSelectionChange:!0,clearButtonMode:!0,onContentSizeChange:!0,keyboardType:!0,selection:!0,returnKeyType:!0,blurOnSubmit:!0,mostRecentEventCount:!0,onChange:!0,scrollEnabled:!0,selectionColor:{process:r(d[4])},contextMenuHidden:!0,secureTextEntry:!0,onTextInput:!0,placeholder:!0,autoCorrect:!0,onScroll:!0,multiline:!0,textContentType:!0,maxLength:!0,autoCapitalize:!0,keyboardAppearance:!0,passwordRules:!0,spellCheck:!0,selectTextOnFocus:!0,text:!0,clearTextOnFocus:!0})};m.exports=s},166,[1,34,132,139,134]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;m.exports=function t(o,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,s=arguments.length>3?arguments[3]:void 0,c='number'==typeof f?s:f,l='number'==typeof f?f:-1;if(0===l)return!0;if(o===u)return!1;if('function'==typeof o&&'function'==typeof u){var v=null==c?void 0:c.unsafelyIgnoreFunctions;return null==v&&(!n||!n.onDifferentFunctionsIgnored||c&&'unsafelyIgnoreFunctions'in c||n.onDifferentFunctionsIgnored(o.name,u.name),v=!0),!v}if('object'!=typeof o||null===o)return o!==u;if('object'!=typeof u||null===u)return!0;if(o.constructor!==u.constructor)return!0;if(Array.isArray(o)){var y=o.length;if(u.length!==y)return!0;for(var p=0;p<y;p++)if(t(o[p],u[p],l-1,c))return!0}else{for(var b in o)if(t(o[b],u[b],l-1,c))return!0;for(var h in u)if(void 0===o[h]&&void 0!==u[h])return!0}return!1},m.exports.unstable_setLogListeners=function(t){n=t}},167,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';m.exports=function t(n){if(null!==n&&'object'==typeof n){if(!Array.isArray(n))return n;for(var f={},i=0,o=n.length;i<o;++i){var u=t(n[i]);if(u)for(var c in u)f[c]=u[c]}return f}}},168,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0]),n={showErrorDialog:function(n){var t,c=n.componentStack,f=n.error;t=f instanceof Error?f:'string'==typeof f?new o.SyntheticError(f):new o.SyntheticError('Unspecified error');try{t.componentStack=c,t.isComponentError=!0}catch(o){}return(0,o.handleException)(t,!1),!1}};e.default=n},169,[33]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=function(c,s){'focus'===s&&t.default&&t.default.setAccessibilityFocus(c)}},170,[1,171]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('AccessibilityManager');e.default=n},171,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},172,[173]);
__d(function(_g,_r,i,_a,_m,_e,_d){'use strict';var e,n,t,r;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;_e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();_e.unstable_now=function(){return o.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,s=null,c=function e(){if(null!==u)try{var n=_e.unstable_now();u(!0,n),u=null}catch(n){throw setTimeout(e,0),n}};e=function(n){null!==u?setTimeout(e,0,n):(u=n,setTimeout(c,0))},n=function(e,n){s=setTimeout(e,n)},t=function(){clearTimeout(s)},_e.unstable_shouldYield=function(){return!1},r=_e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,b=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,v=null,y=-1,m=5,w=0;_e.unstable_shouldYield=function(){return _e.unstable_now()>=w},r=function(){},_e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,h=_.port2;_.port1.onmessage=function(){if(null!==v){var e=_e.unstable_now();w=e+m;try{v(!0,e)?h.postMessage(null):(p=!1,v=null)}catch(e){throw h.postMessage(null),e}}else p=!1},e=function(e){v=e,p||(p=!0,h.postMessage(null))},n=function(e,n){y=f(function(){e(_e.unstable_now())},n)},t=function(){b(y),y=-1}}function k(e,n){var t=e.length;e.push(n);e:for(;;){var r=t-1>>>1,a=e[r];if(!(void 0!==a&&0<x(a,n)))break e;e[r]=n,e[t]=a,t=r}}function T(e){return void 0===(e=e[0])?null:e}function g(e){var n=e[0];if(void 0!==n){var t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,a=e.length;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,s=e[u];if(void 0!==l&&0>x(l,t))void 0!==s&&0>x(s,l)?(e[r]=s,e[u]=t,r=u):(e[r]=l,e[o]=t,r=o);else{if(!(void 0!==s&&0>x(s,t)))break e;e[r]=s,e[u]=t,r=u}}}return n}return null}function x(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}var P=[],F=[],I=1,M=null,C=3,j=!1,A=!1,L=!1;function q(e){for(var n=T(F);null!==n;){if(null===n.callback)g(F);else{if(!(n.startTime<=e))break;g(F),n.sortIndex=n.expirationTime,k(P,n)}n=T(F)}}function R(t){if(L=!1,q(t),!A)if(null!==T(P))A=!0,e(Y);else{var r=T(F);null!==r&&n(R,r.startTime-t)}}function Y(e,r){A=!1,L&&(L=!1,t()),j=!0;var a=C;try{for(q(r),M=T(P);null!==M&&(!(M.expirationTime>r)||e&&!_e.unstable_shouldYield());){var o=M.callback;if("function"==typeof o){M.callback=null,C=M.priorityLevel;var l=o(M.expirationTime<=r);r=_e.unstable_now(),"function"==typeof l?M.callback=l:M===T(P)&&g(P),q(r)}else g(P);M=T(P)}if(null!==M)var u=!0;else{var s=T(F);null!==s&&n(R,s.startTime-r),u=!1}return u}finally{M=null,C=a,j=!1}}var E=r;_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(e){e.callback=null},_e.unstable_continueExecution=function(){A||j||(A=!0,e(Y))},_e.unstable_getCurrentPriorityLevel=function(){return C},_e.unstable_getFirstCallbackNode=function(){return T(P)},_e.unstable_next=function(e){switch(C){case 1:case 2:case 3:var n=3;break;default:n=C}var t=C;C=n;try{return e()}finally{C=t}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=E,_e.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=C;C=e;try{return n()}finally{C=t}},_e.unstable_scheduleCallback=function(r,a,o){var l=_e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?l+o:l:o=l,r){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return r={id:I++,callback:a,priorityLevel:r,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>l?(r.sortIndex=o,k(F,r),null===T(P)&&r===T(F)&&(L?t():L=!0,n(R,o-l))):(r.sortIndex=u,k(P,r),A||j||(A=!0,e(Y))),r},_e.unstable_wrapCallback=function(e){var n=C;return function(){var t=C;C=n;try{return e.apply(this,arguments)}finally{C=t}}}},173,[]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).get('AccessibilityInfo');e.default=n},174,[39]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),i=t(r(d[3])),l=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=p(n);if(o&&o.has(t))return o.get(t);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var u=l?Object.getOwnPropertyDescriptor(t,c):null;u&&(u.get||u.set)?Object.defineProperty(i,c,u):i[c]=t[c]}i.default=t,o&&o.set(t,i);return i})(r(d[4])),c=t(r(d[5])),u=t(r(d[6])),f=t(r(d[7])),s=["animating","color","hidesWhenStopped","onLayout","size","style"];function p(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(p=function(t){return t?o:n})(t)}function y(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}function O(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?y(Object(i),!0).forEach(function(n){(0,o.default)(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var b='android'===c.default.OS?r(d[8]):r(d[9]).default,h=l.forwardRef(function(t,o){var p,y,h=t.animating,j=void 0===h||h,w=t.color,P=void 0===w?'ios'===c.default.OS?"#999999":null:w,S=t.hidesWhenStopped,z=void 0===S||S,k=t.onLayout,D=t.size,W=void 0===D?'small':D,E=t.style,L=(0,i.default)(t,s);switch(W){case'small':p=v.sizeSmall,y='small';break;case'large':p=v.sizeLarge,y='large';break;default:p={height:W,width:W}}var M=O(O({animating:j,color:P,hidesWhenStopped:z},L),{},{ref:o,style:p,size:y});return l.createElement(f.default,{onLayout:k,style:u.default.compose(v.container,E)},'android'===c.default.OS?l.createElement(b,(0,n.default)({},M,{styleAttr:'Normal',indeterminate:!0})):l.createElement(b,M))});h.displayName='ActivityIndicator';var v=u.default.create({container:{alignItems:'center',justifyContent:'center'},sizeSmall:{width:20,height:20},sizeLarge:{width:36,height:36}});m.exports=h},175,[1,13,34,97,10,55,176,177,180,182]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]);function o(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);o&&(c=c.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,c)}return n}function n(n){for(var c=1;c<arguments.length;c++){var i=null!=arguments[c]?arguments[c]:{};c%2?o(Object(i),!0).forEach(function(o){t(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))})}return n}var c=r(d[1]),i=r(d[2]),s=r(d[3]),l=c.roundToNearestPixel(.4);0===l&&(l=1/c.get());var u={position:'absolute',left:0,right:0,top:0,bottom:0};m.exports={hairlineWidth:l,absoluteFill:u,absoluteFillObject:u,compose:function(t,o){return null!=t&&null!=o?[t,o]:null!=t?t:o},flatten:s,setStyleAttributePreprocessor:function(t,o){var c;if(!0===i[t])c={process:o};else{if('object'!=typeof i[t])return void console.error(t+" is not a valid style attribute");c=n(n({},i[t]),{},{process:o})}i[t]=c},create:function(t){return t}}},176,[34,158,152,168]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),f=t(r(d[2])),u=t(r(d[3])),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=l(n);if(f&&f.has(t))return f.get(t);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=o?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(u,c,p):u[c]=t[c]}u.default=t,f&&f.set(t,u);return u})(r(d[4]));function l(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(l=function(t){return t?f:n})(t)}var c=o.forwardRef(function(t,l){return o.createElement(u.default.Provider,{value:!1},o.createElement(f.default,(0,n.default)({},t,{ref:l})))});c.displayName='View',m.exports=c},177,[1,13,178,179,10]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var n=p(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),f=t(r(d[4]));p(r(d[5]));function l(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(l=function(t){return t?o:n})(t)}function p(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=l(n);if(o&&o.has(t))return o.get(t);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var s=f?Object.getOwnPropertyDescriptor(t,p):null;s&&(s.get||s.set)?Object.defineProperty(u,p,s):u[p]=t[p]}return u.default=t,o&&o.set(t,u),u}var s=n.get('RCTView',function(){return'android'===o.default.OS?f.default:{uiViewClassName:'RCTView'}}),c=(0,u.default)({supportedCommands:['hotspotUpdate','setPressed']});e.Commands=c;var v=s;e.default=v},178,[1,143,55,130,133,10]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).createContext(!1);m.exports=t},179,[10]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},180,[181]);
__d(function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),o=e(r(d[4])),f=e(r(d[5])),c=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&Object.prototype.hasOwnProperty.call(e,f)){var c=o?Object.getOwnPropertyDescriptor(e,f):null;c&&(c.get||c.set)?Object.defineProperty(u,f,c):u[f]=e[f]}u.default=e,n&&n.set(e,u);return u})(r(d[6])),l=e(r(d[7]));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var y=(function(e){(0,u.default)(h,e);var l,p,y=(l=h,p=s(),function(){var e,t=(0,f.default)(l);if(p){var n=(0,f.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,o.default)(this,e)});function h(){return(0,t.default)(this,h),y.apply(this,arguments)}return(0,n.default)(h,[{key:"render",value:function(){var e=r(d[8]);return c.createElement(e,{style:[v.unimplementedView,this.props.style]},this.props.children)}}]),h})(c.Component),v=l.default.create({unimplementedView:{}});m.exports=y},181,[1,2,3,4,6,9,10,176,177]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,t(r(d[1])).default)('ActivityIndicatorView',{paperComponentName:'RCTActivityIndicatorView'});e.default=o},182,[1,183]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[1])),t=n(r(d[2]));var p=function(n,p){var l=p&&null!=p.paperComponentName?p.paperComponentName:n;if(null!=p&&null!=p.paperComponentNameDeprecated)if(t.default.getViewManagerConfig(n))l=n;else{var u;if(null==p.paperComponentNameDeprecated||!t.default.getViewManagerConfig(p.paperComponentNameDeprecated))throw new Error("Failed to find native component for either "+n+" or "+(null!=(u=p.paperComponentNameDeprecated)?u:'(unknown)'));l=p.paperComponentNameDeprecated}return(0,o.default)(l)};e.default=p},183,[1,184,145]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(u){return n(u,function(){return t(u)})}},184,[185,151]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).ReactNativeViewConfigRegistry.register;m.exports=function(n,s){return t(n,s)}},185,[125]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var t=r(d[0]),e=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),i=t(r(d[4])),c=t(r(d[5])),s=t(r(d[6])),l=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=v(e);if(o&&o.has(t))return o.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var s=i?Object.getOwnPropertyDescriptor(t,c):null;s&&(s.get||s.set)?Object.defineProperty(n,c,s):n[c]=t[c]}n.default=t,o&&o.set(t,n);return n})(r(d[7])),u=t(r(d[8])),f=t(r(d[9])),p=t(r(d[10])),b=t(r(d[11])),y=t(r(d[12])),h=t(r(d[13])),O=t(r(d[14]));function v(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(v=function(t){return t?o:e})(t)}function P(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function j(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?P(Object(n),!0).forEach(function(o){(0,e.default)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var F=(function(t){(0,i.default)(P,t);var e,f,v=(e=P,f=x(),function(){var t,o=(0,s.default)(e);if(f){var n=(0,s.default)(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return(0,c.default)(this,t)});function P(){return(0,o.default)(this,P),v.apply(this,arguments)}return(0,n.default)(P,[{key:"render",value:function(){var t,e,o=this.props,n=o.accessibilityLabel,i=o.color,c=o.onPress,s=o.touchSoundDisabled,f=o.title,v=o.hasTVPreferredFocus,P=o.nextFocusDown,x=o.nextFocusForward,F=o.nextFocusLeft,D=o.nextFocusRight,S=o.nextFocusUp,R=o.testID,k=o.accessible,A=o.accessibilityActions,C=o.onAccessibilityAction,E=[w.button],L=[w.text];i&&('ios'===u.default.OS?L.push({color:i}):E.push({backgroundColor:i}));var M=null!=this.props.disabled?this.props.disabled:null==(t=this.props.accessibilityState)?void 0:t.disabled,W=M!==(null==(e=this.props.accessibilityState)?void 0:e.disabled)?j(j({},this.props.accessibilityState),{},{disabled:M}):this.props.accessibilityState;M&&(E.push(w.buttonDisabled),L.push(w.textDisabled)),(0,O.default)('string'==typeof f,'The title prop of a Button must be a string');var _='android'===u.default.OS?f.toUpperCase():f,B='android'===u.default.OS?b.default:y.default;return l.createElement(B,{accessible:k,accessibilityActions:A,onAccessibilityAction:C,accessibilityLabel:n,accessibilityRole:"button",accessibilityState:W,hasTVPreferredFocus:v,nextFocusDown:P,nextFocusForward:x,nextFocusLeft:F,nextFocusRight:D,nextFocusUp:S,testID:R,disabled:M,onPress:c,touchSoundDisabled:s},l.createElement(h.default,{style:E},l.createElement(p.default,{style:L,disabled:M},_)))}}]),P})(l.Component),w=f.default.create({button:u.default.select({ios:{},android:{elevation:4,backgroundColor:'#2196F3',borderRadius:2}}),text:j({textAlign:'center',margin:8},u.default.select({ios:{color:'#007AFF',fontSize:18},android:{color:'white',fontWeight:'500'}})),buttonDisabled:u.default.select({ios:{},android:{elevation:0,backgroundColor:'#dfdfdf'}}),textDisabled:u.default.select({ios:{color:'#cdcdcd'},android:{color:'#a1a1a1'}})});m.exports=F},186,[1,34,2,3,4,6,9,10,55,176,187,212,213,177,15]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=n(r(d[1])),t=n(r(d[2])),s=n(r(d[3])),l=n(r(d[4])),u=(S(r(d[5])),n(r(d[6]))),p=(n(r(d[7])),n(r(d[8]))),f=n(r(d[9])),c=r(d[10]),R=S(r(d[11])),v=(n(r(d[12])),["accessible","allowFontScaling","ellipsizeMode","onLongPress","onPress","onPressIn","onPressOut","onResponderGrant","onResponderMove","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","onStartShouldSetResponder","pressRetentionOffset","suppressHighlighting"]);function P(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,t=new WeakMap;return(P=function(n){return n?t:o})(n)}function S(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var t=P(o);if(t&&t.has(n))return t.get(n);var s={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in n)if("default"!==u&&Object.prototype.hasOwnProperty.call(n,u)){var p=l?Object.getOwnPropertyDescriptor(n,u):null;p&&(p.get||p.set)?Object.defineProperty(s,u,p):s[u]=n[u]}return s.default=n,t&&t.set(n,s),s}var b=R.forwardRef(function(n,l){var P=n.accessible,S=n.allowFontScaling,b=n.ellipsizeMode,T=n.onLongPress,h=n.onPress,y=n.onPressIn,M=n.onPressOut,w=n.onResponderGrant,E=n.onResponderMove,C=n.onResponderRelease,L=n.onResponderTerminate,j=n.onResponderTerminationRequest,x=n.onStartShouldSetResponder,D=n.pressRetentionOffset,_=n.suppressHighlighting,q=(0,s.default)(n,v),G=(0,R.useState)(!1),H=(0,t.default)(G,2),k=H[0],z=H[1],F=(null!=h||null!=T||null!=x)&&!0!==q.disabled,I=O(F),N=(0,R.useMemo)(function(){return I?{disabled:!F,pressRectOffset:D,onLongPress:T,onPress:h,onPressIn:function(n){z(!_),null==y||y(n)},onPressOut:function(n){z(!1),null==M||M(n)},onResponderTerminationRequest_DEPRECATED:j,onStartShouldSetResponder_DEPRECATED:x}:null},[I,F,D,T,h,y,M,j,x,_]),W=(0,u.default)(N),A=(0,R.useMemo)(function(){return null==W?null:{onResponderGrant:function(n){W.onResponderGrant(n),null!=w&&w(n)},onResponderMove:function(n){W.onResponderMove(n),null!=E&&E(n)},onResponderRelease:function(n){W.onResponderRelease(n),null!=C&&C(n)},onResponderTerminate:function(n){W.onResponderTerminate(n),null!=L&&L(n)},onResponderTerminationRequest:W.onResponderTerminationRequest,onStartShouldSetResponder:W.onStartShouldSetResponder}},[W,w,E,C,L]),V=null==q.selectionColor?null:(0,p.default)(q.selectionColor),B=q.style,J=q.numberOfLines;return null==J||J>=0||(console.error("'numberOfLines' in <Text> must be a non-negative number, received: "+J+". The value will be set to 0."),J=0),(0,R.useContext)(f.default)?R.createElement(c.NativeVirtualText,(0,o.default)({},q,A,{isHighlighted:k,numberOfLines:J,selectionColor:V,style:B,ref:l})):R.createElement(f.default.Provider,{value:!0},R.createElement(c.NativeText,(0,o.default)({},q,A,{accessible:!1!==P,allowFontScaling:!1!==S,ellipsizeMode:null!=b?b:'tail',isHighlighted:k,numberOfLines:J,selectionColor:V,style:B,ref:l})))});function O(n){var o=(0,R.useState)(n),s=(0,t.default)(o,2),l=s[0],u=s[1];return!l&&n&&u(n),l}b.displayName='Text',b.propTypes=l.default,m.exports=b},187,[1,13,41,97,188,202,203,176,134,179,210,10,15]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=r(d[1]),t=r(d[2]),l=r(d[3]),s=t(r(d[4]));m.exports={ellipsizeMode:l.oneOf(['head','middle','tail','clip']),numberOfLines:l.number,textBreakStrategy:l.oneOf(['simple','highQuality','balanced']),onLayout:l.func,onPress:l.func,onLongPress:l.func,pressRetentionOffset:n,selectable:l.bool,selectionColor:o,suppressHighlighting:l.bool,style:s,testID:l.string,nativeID:l.string,allowFontScaling:l.bool,maxFontSizeMultiplier:l.number,accessible:l.bool,adjustsFontSizeToFit:l.bool,minimumFontScale:l.number,disabled:l.bool,dataDetectorType:l.oneOf(['phoneNumber','link','email','none','all'])}},188,[189,190,194,191,196]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),f=function(f,l,o,b,t,u){var s=l[o];return void 0===s||null===s?f?new Error('Required '+t+' `'+(u||o)+'` was not specified in `'+b+'`.'):void 0:'number'!=typeof s&&null===n(s)?new Error('Invalid '+t+' `'+(u||o)+'` supplied to `'+b+'`: '+s+"\nValid color formats are\n  - '#f0f' (#rgb)\n  - '#f0fc' (#rgba)\n  - '#ff00ff' (#rrggbb)\n  - '#ff00ff00' (#rrggbbaa)\n  - 'rgb(255, 255, 255)'\n  - 'rgba(255, 255, 255, 1.0)'\n  - 'hsl(360, 100%, 100%)'\n  - 'hsla(360, 100%, 100%, 1.0)'\n  - 'transparent'\n  - 'red'\n  - 0xff00ff00 (0xrrggbbaa)\n"):void 0},l=f.bind(null,!1);l.isRequired=f.bind(null,!0),m.exports=l},189,[135]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t.shape({top:t.number,left:t.number,bottom:t.number,right:t.number});m.exports=n},190,[191]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])()},191,[192]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);function t(){}function o(){}o.resetWarningCache=t,m.exports=function(){function p(t,o,p,c,s,y){if(y!==n){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name='Invariant Violation',f}}function c(){return p}p.isRequired=p;var s={array:p,bigint:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:c,element:p,elementType:p,instanceOf:c,node:p,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:o,resetWarningCache:t};return s.PropTypes=s,s}},192,[193]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED'},193,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(o){var c=n(o);return function(n,o,u,v){var f=n;n[o]&&((f={})[o]=t(n[o]));for(var p=arguments.length,s=new Array(p>4?p-4:0),l=4;l<p;l++)s[l-4]=arguments[l];return c.apply(void 0,[f,o,u,v].concat(s))}}},194,[195,168]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}function o(o){for(var i=1;i<arguments.length;i++){var c=null!=arguments[i]?arguments[i]:{};i%2?n(Object(c),!0).forEach(function(n){t(o,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):n(Object(c)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(c,t))})}return o}var i=r(d[1]);m.exports=function(t){function n(n,c,p,s,u){if(c[p]){var f=c[p],l=typeof f;'object'!==l&&i(!1,"Invalid "+(u||'(unknown)')+" `"+p+"` of type `"+l+"` supplied to `"+s+"`, expected `object`.");for(var y=o(o({},c[p]),t),b=arguments.length,O=new Array(b>5?b-5:0),j=5;j<b;j++)O[j-5]=arguments[j];for(var v in y){var w=t[v];w||i(!1,"Invalid props."+p+" key `"+v+"` supplied to `"+s+"`.\nBad object: "+JSON.stringify(c[p],null,'  ')+'\nValid keys: '+JSON.stringify(Object.keys(t),null,'  '));var P=w.apply(void 0,[f,v,s,u].concat(O));P&&i(!1,P.message+'\nBad object: '+JSON.stringify(c[p],null,'  '))}}else n&&i(!1,"Required object `"+p+"` was not specified in `"+s+"`.")}function c(t,o,i,c){for(var p=arguments.length,s=new Array(p>4?p-4:0),u=4;u<p;u++)s[u-4]=arguments[u];return n.apply(void 0,[!1,t,o,i,c].concat(s))}return c.isRequired=n.bind(null,!0),c}},195,[34,15]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}function o(o){for(var i=1;i<arguments.length;i++){var l=null!=arguments[i]?arguments[i]:{};i%2?n(Object(l),!0).forEach(function(n){t(o,n,l[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):n(Object(l)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(l,t))})}return o}var i=r(d[1]),l=r(d[2]),c=r(d[3]),u=o(o({},l),{},{color:i,fontFamily:c.string,fontSize:c.number,fontStyle:c.oneOf(['normal','italic']),fontWeight:c.oneOf(['normal','bold','100','200','300','400','500','600','700','800','900']),fontVariant:c.arrayOf(c.oneOf(['small-caps','oldstyle-nums','lining-nums','tabular-nums','proportional-nums'])),textShadowOffset:c.shape({width:c.number,height:c.number}),textShadowRadius:c.number,textShadowColor:i,letterSpacing:c.number,lineHeight:c.number,textAlign:c.oneOf(['auto','left','right','center','justify']),textAlignVertical:c.oneOf(['auto','top','bottom','center']),includeFontPadding:c.bool,textDecorationLine:c.oneOf(['none','underline','line-through','underline line-through']),textDecorationStyle:c.oneOf(['solid','double','dotted','dashed']),textDecorationColor:i,textTransform:c.oneOf(['none','capitalize','uppercase','lowercase']),writingDirection:c.oneOf(['auto','ltr','rtl'])});m.exports=u},196,[34,189,197,191]);
__d(function(g,r,_i,a,m,e,d){'use strict';var o=r(d[0]);function t(o,t){var b=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),b.push.apply(b,n)}return b}function b(b){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach(function(t){o(b,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(o){Object.defineProperty(b,o,Object.getOwnPropertyDescriptor(i,o))})}return b}var n=r(d[1]),i=r(d[2]),u=r(d[3]),c=r(d[4]),s=r(d[5]),p=b(b(b(b({},i),u),c),{},{backfaceVisibility:s.oneOf(['visible','hidden']),backgroundColor:n,borderColor:n,borderTopColor:n,borderRightColor:n,borderBottomColor:n,borderLeftColor:n,borderStartColor:n,borderEndColor:n,borderRadius:s.number,borderTopLeftRadius:s.number,borderTopRightRadius:s.number,borderTopStartRadius:s.number,borderTopEndRadius:s.number,borderBottomLeftRadius:s.number,borderBottomRightRadius:s.number,borderBottomStartRadius:s.number,borderBottomEndRadius:s.number,borderStyle:s.oneOf(['solid','dotted','dashed']),borderWidth:s.number,borderTopWidth:s.number,borderRightWidth:s.number,borderBottomWidth:s.number,borderLeftWidth:s.number,opacity:s.number,elevation:s.number});m.exports=p},197,[34,189,198,199,200,191]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t={display:n.oneOf(['none','flex']),width:n.oneOfType([n.number,n.string]),height:n.oneOfType([n.number,n.string]),start:n.oneOfType([n.number,n.string]),end:n.oneOfType([n.number,n.string]),top:n.oneOfType([n.number,n.string]),left:n.oneOfType([n.number,n.string]),right:n.oneOfType([n.number,n.string]),bottom:n.oneOfType([n.number,n.string]),minWidth:n.oneOfType([n.number,n.string]),maxWidth:n.oneOfType([n.number,n.string]),minHeight:n.oneOfType([n.number,n.string]),maxHeight:n.oneOfType([n.number,n.string]),margin:n.oneOfType([n.number,n.string]),marginVertical:n.oneOfType([n.number,n.string]),marginHorizontal:n.oneOfType([n.number,n.string]),marginTop:n.oneOfType([n.number,n.string]),marginBottom:n.oneOfType([n.number,n.string]),marginLeft:n.oneOfType([n.number,n.string]),marginRight:n.oneOfType([n.number,n.string]),marginStart:n.oneOfType([n.number,n.string]),marginEnd:n.oneOfType([n.number,n.string]),padding:n.oneOfType([n.number,n.string]),paddingVertical:n.oneOfType([n.number,n.string]),paddingHorizontal:n.oneOfType([n.number,n.string]),paddingTop:n.oneOfType([n.number,n.string]),paddingBottom:n.oneOfType([n.number,n.string]),paddingLeft:n.oneOfType([n.number,n.string]),paddingRight:n.oneOfType([n.number,n.string]),paddingStart:n.oneOfType([n.number,n.string]),paddingEnd:n.oneOfType([n.number,n.string]),borderWidth:n.number,borderTopWidth:n.number,borderStartWidth:n.number,borderEndWidth:n.number,borderRightWidth:n.number,borderBottomWidth:n.number,borderLeftWidth:n.number,position:n.oneOf(['absolute','relative']),flexDirection:n.oneOf(['row','row-reverse','column','column-reverse']),flexWrap:n.oneOf(['wrap','nowrap','wrap-reverse']),justifyContent:n.oneOf(['flex-start','flex-end','center','space-between','space-around','space-evenly']),alignItems:n.oneOf(['flex-start','flex-end','center','stretch','baseline']),alignSelf:n.oneOf(['auto','flex-start','flex-end','center','stretch','baseline']),alignContent:n.oneOf(['flex-start','flex-end','center','stretch','space-between','space-around']),overflow:n.oneOf(['visible','hidden','scroll']),flex:n.number,flexGrow:n.number,flexShrink:n.number,flexBasis:n.oneOfType([n.number,n.string]),aspectRatio:n.number,zIndex:n.number,direction:n.oneOf(['inherit','ltr','rtl'])};m.exports=t},198,[191]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),h=r(d[1]),o={shadowColor:s,shadowOffset:h.shape({width:h.number,height:h.number}),shadowOpacity:h.number,shadowRadius:h.number};m.exports=o},199,[189,191]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n={transform:t.arrayOf(t.oneOfType([t.shape({perspective:t.number}),t.shape({rotate:t.string}),t.shape({rotateX:t.string}),t.shape({rotateY:t.string}),t.shape({rotateZ:t.string}),t.shape({scale:t.number}),t.shape({scaleX:t.number}),t.shape({scaleY:t.number}),t.shape({translateX:t.number}),t.shape({translateY:t.number}),t.shape({skewX:t.string}),t.shape({skewY:t.string})])),transformMatrix:function(t,s,n){if(t[s])return new Error("The transformMatrix style property is deprecated. Use `transform: [{ matrix: ... }]` instead.")},decomposedMatrix:function(t,s,n){if(t[s])return new Error("The decomposedMatrix style property is deprecated. Use `transform: [...]` instead.")},scaleX:s(t.number,'Use the transform prop instead.'),scaleY:s(t.number,'Use the transform prop instead.'),rotation:s(t.number,'Use the transform prop instead.'),translateX:s(t.number,'Use the transform prop instead.'),translateY:s(t.number,'Use the transform prop instead.')};m.exports=n},200,[191,201]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0])(r(d[1]));m.exports=function(o,t){return function(c,s,u){!0===g.RN$Bridgeless||n.default.hasViewManagerConfig(u)||void 0===c[s]||console.warn("`"+s+"` supplied to `"+u+"` has been deprecated. "+t);for(var f=arguments.length,l=new Array(f>3?f-3:0),p=3;p<f;p++)l[p-3]=arguments[p];return o.apply(void 0,[c,s,u].concat(l))}}},201,[1,145]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.PressabilityDebugView=function(t){t.color,t.hitSlop;return null},e.isEnabled=function(){return!1},e.setEnabled=function(t){};t(r(d[1])),t(r(d[2])),(function(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=n(o);if(u&&u.has(t))return u.get(t);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=l?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=t[c]}f.default=t,u&&u.set(t,f)})(r(d[3]));function n(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(n=function(t){return t?u:o})(t)}},202,[1,135,177,10]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var t=(0,l.useRef)(null);null!=n&&null==t.current&&(t.current=new u.default(n));var f=t.current;return(0,l.useEffect)(function(){null!=n&&null!=f&&f.configure(n)},[n,f]),(0,l.useEffect)(function(){if(null!=f)return function(){f.reset()}},[f]),null==f?null:f.getEventHandlers()};var u=n(r(d[1])),l=r(d[2])},203,[1,204,10]);
__d(function(g,r,_i,a,m,e,d){var E=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=E(r(d[1])),n=E(r(d[2])),R=E(r(d[3])),_=r(d[4]),i=E(r(d[5])),o=E(r(d[6])),l=r(d[7]),u=E(r(d[8])),s=E(r(d[9])),S=E(r(d[10]));!(function(E,t){if(!t&&E&&E.__esModule)return E;if(null===E||"object"!=typeof E&&"function"!=typeof E)return{default:E};var n=c(t);if(n&&n.has(E))return n.get(E);var R={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in E)if("default"!==i&&Object.prototype.hasOwnProperty.call(E,i)){var o=_?Object.getOwnPropertyDescriptor(E,i):null;o&&(o.get||o.set)?Object.defineProperty(R,i,o):R[i]=E[i]}R.default=E,n&&n.set(E,R)})(r(d[11]));function c(E){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(E){return E?n:t})(E)}function O(E,t){var n=Object.keys(E);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(E);t&&(R=R.filter(function(t){return Object.getOwnPropertyDescriptor(E,t).enumerable})),n.push.apply(n,R)}return n}function T(E){for(var n=1;n<arguments.length;n++){var R=null!=arguments[n]?arguments[n]:{};n%2?O(Object(R),!0).forEach(function(n){(0,t.default)(E,n,R[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(R)):O(Object(R)).forEach(function(t){Object.defineProperty(E,t,Object.getOwnPropertyDescriptor(R,t))})}return E}var P=Object.freeze({NOT_RESPONDER:{DELAY:'ERROR',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'ERROR',RESPONDER_TERMINATED:'ERROR',ENTER_PRESS_RECT:'ERROR',LEAVE_PRESS_RECT:'ERROR',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_IN:{DELAY:'RESPONDER_ACTIVE_PRESS_IN',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:'RESPONDER_ACTIVE_PRESS_OUT',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},ERROR:{DELAY:'NOT_RESPONDER',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'NOT_RESPONDER',LEAVE_PRESS_RECT:'NOT_RESPONDER',LONG_PRESS_DETECTED:'NOT_RESPONDER'}}),D=function(E){return'RESPONDER_ACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_LONG_PRESS_IN'===E},N=function(E){return'RESPONDER_ACTIVE_PRESS_OUT'===E||'RESPONDER_ACTIVE_PRESS_IN'===E},f=function(E){return'RESPONDER_INACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_LONG_PRESS_IN'===E},h=function(E){return'RESPONDER_TERMINATED'===E||'RESPONDER_RELEASE'===E},v=30,I=20,p=20,A=20,y=(function(){function E(t){var R=this;(0,n.default)(this,E),this._eventHandlers=null,this._hoverInDelayTimeout=null,this._hoverOutDelayTimeout=null,this._isHovered=!1,this._longPressDelayTimeout=null,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._responderID=null,this._responderRegion=null,this._touchState='NOT_RESPONDER',this._measureCallback=function(E,t,n,_,i,o){(E||t||n||_||i||o)&&(R._responderRegion={bottom:o+_,left:i,right:i+n,top:o})},this.configure(t)}return(0,R.default)(E,[{key:"configure",value:function(E){this._config=E}},{key:"reset",value:function(){this._cancelHoverInDelayTimeout(),this._cancelHoverOutDelayTimeout(),this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout(),this._config=Object.freeze({})}},{key:"getEventHandlers",value:function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}},{key:"_createEventHandlers",value:function(){var E=this,t={onBlur:function(t){var n=E._config.onBlur;null!=n&&n(t)},onFocus:function(t){var n=E._config.onFocus;null!=n&&n(t)}},n={onStartShouldSetResponder:function(){var t=E._config.disabled;if(null==t){var n=E._config.onStartShouldSetResponder_DEPRECATED;return null==n||n()}return!t},onResponderGrant:function(t){t.persist(),E._cancelPressOutDelayTimeout(),E._responderID=t.currentTarget,E._touchState='NOT_RESPONDER',E._receiveSignal('RESPONDER_GRANT',t);var n=C(E._config.delayPressIn);n>0?E._pressDelayTimeout=setTimeout(function(){E._receiveSignal('DELAY',t)},n):E._receiveSignal('DELAY',t);var R=C(E._config.delayLongPress,10,500-n);E._longPressDelayTimeout=setTimeout(function(){E._handleLongPress(t)},R+n)},onResponderMove:function(t){var n=E._config.onPressMove;null!=n&&n(t);var R=E._responderRegion;if(null!=R){var _=L(t);if(null==_)return E._cancelLongPressDelayTimeout(),void E._receiveSignal('LEAVE_PRESS_RECT',t);if(null!=E._touchActivatePosition){var i=E._touchActivatePosition.pageX-_.pageX,o=E._touchActivatePosition.pageY-_.pageY;Math.hypot(i,o)>10&&E._cancelLongPressDelayTimeout()}E._isTouchWithinResponderRegion(_,R)?E._receiveSignal('ENTER_PRESS_RECT',t):(E._cancelLongPressDelayTimeout(),E._receiveSignal('LEAVE_PRESS_RECT',t))}},onResponderRelease:function(t){E._receiveSignal('RESPONDER_RELEASE',t)},onResponderTerminate:function(t){E._receiveSignal('RESPONDER_TERMINATED',t)},onResponderTerminationRequest:function(){var t=E._config.cancelable;if(null==t){var n=E._config.onResponderTerminationRequest_DEPRECATED;return null==n||n()}return t},onClick:function(t){var n=E._config,R=n.onPress,_=n.disabled;null!=R&&!0!==_&&R(t)}},R='ios'===s.default.OS||'android'===s.default.OS?null:{onMouseEnter:function(t){if((0,_.isHoverEnabled)()){E._isHovered=!0,E._cancelHoverOutDelayTimeout();var n=E._config.onHoverIn;if(null!=n){var R=C(E._config.delayHoverIn);R>0?(t.persist(),E._hoverInDelayTimeout=setTimeout(function(){n(t)},R)):n(t)}}},onMouseLeave:function(t){if(E._isHovered){E._isHovered=!1,E._cancelHoverInDelayTimeout();var n=E._config.onHoverOut;if(null!=n){var R=C(E._config.delayHoverOut);R>0?(t.persist(),E._hoverInDelayTimeout=setTimeout(function(){n(t)},R)):n(t)}}}};return T(T(T({},t),n),R)}},{key:"_receiveSignal",value:function(E,t){var n,R=this._touchState,_=null==(n=P[R])?void 0:n[E];null==this._responderID&&'RESPONDER_RELEASE'===E||((0,i.default)(null!=_&&'ERROR'!==_,'Pressability: Invalid signal `%s` for state `%s` on responder: %s',E,R,'number'==typeof this._responderID?this._responderID:'<<host component>>'),R!==_&&(null!=t.nativeEvent.timestamp&&u.default.emitEvent(function(){return{signal:E,touchDelayMs:Date.now()-t.nativeEvent.timestamp}}),this._performTransitionSideEffects(R,_,E,t),this._touchState=_))}},{key:"_performTransitionSideEffects",value:function(E,t,n,R){h(n)&&(this._touchActivatePosition=null,this._cancelLongPressDelayTimeout());var _='NOT_RESPONDER'===E&&'RESPONDER_INACTIVE_PRESS_IN'===t,i=!N(E)&&N(t);if((_||i)&&this._measureResponderRegion(),f(E)&&'LONG_PRESS_DETECTED'===n){var l=this._config.onLongPress;null!=l&&l(R)}var u=D(E),S=D(t);if(!u&&S?this._activate(R):u&&!S&&this._deactivate(R),f(E)&&'RESPONDER_RELEASE'===n){S||u||(this._activate(R),this._deactivate(R));var c=this._config,O=c.onLongPress,T=c.onPress,P=c.android_disableSound;if(null!=T)null!=O&&'RESPONDER_ACTIVE_LONG_PRESS_IN'===E&&this._shouldLongPressCancelPress()||('android'===s.default.OS&&!0!==P&&o.default.playTouchSound(),T(R))}this._cancelPressDelayTimeout()}},{key:"_activate",value:function(E){var t=this._config.onPressIn,n=L(E),R=n.pageX,_=n.pageY;this._touchActivatePosition={pageX:R,pageY:_},this._touchActivateTime=Date.now(),null!=t&&t(E)}},{key:"_deactivate",value:function(E){var t=this._config.onPressOut;if(null!=t){var n,R=C(this._config.minPressDuration,0,130),_=Date.now()-(null!=(n=this._touchActivateTime)?n:0),i=Math.max(R-_,C(this._config.delayPressOut));i>0?(E.persist(),this._pressOutDelayTimeout=setTimeout(function(){t(E)},i)):t(E)}this._touchActivateTime=null}},{key:"_measureResponderRegion",value:function(){null!=this._responderID&&('number'==typeof this._responderID?S.default.measure(this._responderID,this._measureCallback):this._responderID.measure(this._measureCallback))}},{key:"_isTouchWithinResponderRegion",value:function(E,t){var n,R,_,i,o=(0,l.normalizeRect)(this._config.hitSlop),u=(0,l.normalizeRect)(this._config.pressRectOffset),s=t.bottom,S=t.left,c=t.right,O=t.top;return null!=o&&(null!=o.bottom&&(s+=o.bottom),null!=o.left&&(S-=o.left),null!=o.right&&(c+=o.right),null!=o.top&&(O-=o.top)),s+=null!=(n=null==u?void 0:u.bottom)?n:v,S-=null!=(R=null==u?void 0:u.left)?R:I,c+=null!=(_=null==u?void 0:u.right)?_:p,O-=null!=(i=null==u?void 0:u.top)?i:A,E.pageX>S&&E.pageX<c&&E.pageY>O&&E.pageY<s}},{key:"_handleLongPress",value:function(E){'RESPONDER_ACTIVE_PRESS_IN'!==this._touchState&&'RESPONDER_ACTIVE_LONG_PRESS_IN'!==this._touchState||this._receiveSignal('LONG_PRESS_DETECTED',E)}},{key:"_shouldLongPressCancelPress",value:function(){return null==this._config.onLongPressShouldCancelPress_DEPRECATED||this._config.onLongPressShouldCancelPress_DEPRECATED()}},{key:"_cancelHoverInDelayTimeout",value:function(){null!=this._hoverInDelayTimeout&&(clearTimeout(this._hoverInDelayTimeout),this._hoverInDelayTimeout=null)}},{key:"_cancelHoverOutDelayTimeout",value:function(){null!=this._hoverOutDelayTimeout&&(clearTimeout(this._hoverOutDelayTimeout),this._hoverOutDelayTimeout=null)}},{key:"_cancelLongPressDelayTimeout",value:function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}},{key:"_cancelPressDelayTimeout",value:function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}},{key:"_cancelPressOutDelayTimeout",value:function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}]),E})();function C(E){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(t,null!=E?E:n)}e.default=y;var L=function(E){var t=E.nativeEvent,n=t.changedTouches,R=t.touches;return null!=R&&R.length>0?R[0]:null!=n&&n.length>0?n[0]:E.nativeEvent}},204,[1,34,2,3,205,15,206,208,209,55,145,10]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.isHoverEnabled=function(){return t};var t=!1;if('web'===n(r(d[1])).default.OS&&Boolean('undefined'!=typeof window&&window.document&&window.document.createElement)){var o=0,u=function(){o=Date.now(),t&&(t=!1)};document.addEventListener('touchstart',u,!0),document.addEventListener('touchmove',u,!0),document.addEventListener('mousemove',function(){t||Date.now()-o<1e3||(t=!0)},!0)}},205,[1,55]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0])(r(d[1])),o={playTouchSound:function(){u.default&&u.default.playTouchSound()}};m.exports=o},206,[1,207]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('SoundManager');e.default=n},207,[39]);
__d(function(g,r,i,a,m,e,d){function t(t){return{bottom:t,left:t,right:t,top:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.createSquare=t,e.normalizeRect=function(n){return'number'==typeof n?t(n):n}},208,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=new((function(){function t(){(0,n.default)(this,t),this._listeners=[]}return(0,s.default)(t,[{key:"addListener",value:function(t){this._listeners.push(t)}},{key:"removeListener",value:function(t){var n=this._listeners.indexOf(t);n>-1&&this._listeners.splice(n,1)}},{key:"emitEvent",value:function(t){if(0!==this._listeners.length){var n=t();this._listeners.forEach(function(t){return t(n)})}}}]),t})());e.default=u},209,[1,2,3]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.NativeVirtualText=e.NativeText=void 0;var i=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),l=t(r(d[4]));function u(t,i){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function c(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?u(Object(o),!0).forEach(function(n){(0,i.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(o,i))})}return t}var s=(0,l.default)('RCTText',function(){return{validAttributes:c(c({},n.default.UIView),{},{isHighlighted:!0,numberOfLines:!0,ellipsizeMode:!0,allowFontScaling:!0,maxFontSizeMultiplier:!0,disabled:!0,selectable:!0,selectionColor:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,textBreakStrategy:!0,onTextLayout:!0,onInlineViewLayout:!0,dataDetectorType:!0,android_hyphenationFrequency:!0}),directEventTypes:{topTextLayout:{registrationName:'onTextLayout'},topInlineViewLayout:{registrationName:'onInlineViewLayout'}},uiViewClassName:'RCTText'}});e.NativeText=s;var f=g.RN$Bridgeless||o.default.hasViewManagerConfig('RCTVirtualText')?(0,l.default)('RCTVirtualText',function(){return{validAttributes:c(c({},n.default.UIView),{},{isHighlighted:!0,maxFontSizeMultiplier:!0}),uiViewClassName:'RCTVirtualText'}}):s;e.NativeVirtualText=f},210,[1,34,211,145,185]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]),i=t(r(d[1]));function c(t,i){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),c.push.apply(c,s)}return c}function s(t){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?c(Object(n),!0).forEach(function(c){(0,i.default)(t,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var n={pointerEvents:!0,accessible:!0,accessibilityActions:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,accessibilityHint:!0,importantForAccessibility:!0,nativeID:!0,testID:!0,renderToHardwareTextureAndroid:!0,shouldRasterizeIOS:!0,onLayout:!0,onAccessibilityAction:!0,onAccessibilityTap:!0,onMagicTap:!0,onAccessibilityEscape:!0,collapsable:!0,needsOffscreenAlphaCompositing:!0,style:t(r(d[2])).default},o={UIView:n,RCTView:s(s({},n),{},{removeClippedSubviews:!0})};m.exports=o},211,[1,34,152]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),s=e(r(d[2])),o=e(r(d[3])),i=e(r(d[4])),n=e(r(d[5])),c=e(r(d[6])),l=e(r(d[7])),p=e(r(d[8])),u=(r(d[9]),r(d[10])),f=e(r(d[11])),h=e(r(d[12])),b=(e(r(d[13])),e(r(d[14]))),y=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=O(t);if(s&&s.has(e))return s.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var c=i?Object.getOwnPropertyDescriptor(e,n):null;c&&(c.get||c.set)?Object.defineProperty(o,n,c):o[n]=e[n]}o.default=e,s&&s.set(e,o);return o})(r(d[15])),v=e(r(d[16])),P=["onBlur","onFocus"];function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(O=function(e){return e?s:t})(e)}function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,o)}return s}function F(e){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?S(Object(o),!0).forEach(function(s){(0,t.default)(e,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):S(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var w=(function(e){(0,n.default)(O,e);var t,b,v=(t=O,b=R(),function(){var e,s=(0,l.default)(t);if(b){var o=(0,l.default)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,c.default)(this,e)});function O(){var e;(0,o.default)(this,O);for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=v.call.apply(v,[this].concat(s))).state={pressability:new p.default(e._createPressabilityConfig())},e}return(0,i.default)(O,[{key:"_createPressabilityConfig",value:function(){var e,t=this;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=this.props.disabled?this.props.disabled:null==(e=this.props.accessibilityState)?void 0:e.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(e){'android'===h.default.OS&&(t._dispatchHotspotUpdate(e),t._dispatchPressedStateChange(!0)),null!=t.props.onPressIn&&t.props.onPressIn(e)},onPressMove:function(e){'android'===h.default.OS&&t._dispatchHotspotUpdate(e)},onPressOut:function(e){'android'===h.default.OS&&t._dispatchPressedStateChange(!1),null!=t.props.onPressOut&&t.props.onPressOut(e)}}}},{key:"_dispatchPressedStateChange",value:function(e){if('android'===h.default.OS){var t=f.default.findHostInstance_DEPRECATED(this);null==t?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):u.Commands.setPressed(t,e)}}},{key:"_dispatchHotspotUpdate",value:function(e){if('android'===h.default.OS){var t=e.nativeEvent,s=t.locationX,o=t.locationY,i=f.default.findHostInstance_DEPRECATED(this);null==i?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):u.Commands.hotspotUpdate(i,null!=s?s:0,null!=o?o:0)}}},{key:"render",value:function(){var e=y.Children.only(this.props.children),t=[e.props.children],o=this.state.pressability.getEventHandlers(),i=(o.onBlur,o.onFocus,(0,s.default)(o,P)),n=null!=this.props.disabled?F(F({},this.props.accessibilityState),{},{disabled:this.props.disabled}):this.props.accessibilityState;return y.cloneElement.apply(y,[e,F(F(F({},i),k(void 0===this.props.background?O.SelectableBackground():this.props.background,!0===this.props.useForeground)),{},{accessible:!1!==this.props.accessible,accessibilityHint:this.props.accessibilityHint,accessibilityLabel:this.props.accessibilityLabel,accessibilityRole:this.props.accessibilityRole,accessibilityState:n,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:this.props.accessibilityValue,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled,nativeID:this.props.nativeID,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,onLayout:this.props.onLayout,testID:this.props.testID})].concat(t))}},{key:"componentDidUpdate",value:function(e,t){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}]),O})(y.Component);w.SelectableBackground=function(e){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackground',rippleRadius:e}},w.SelectableBackgroundBorderless=function(e){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackgroundBorderless',rippleRadius:e}},w.Ripple=function(e,t,s){var o=(0,b.default)(e);return(0,v.default)(null==o||'number'==typeof o,'Unexpected color given for Ripple color'),{type:'RippleAndroid',color:o,borderless:t,rippleRadius:s}},w.canUseNativeForeground=function(){return'android'===h.default.OS&&h.default.Version>=23};var k='android'===h.default.OS?function(e,t){return t&&w.canUseNativeForeground()?{nativeForegroundAndroid:e}:{nativeBackgroundAndroid:e}}:function(e,t){return null};w.displayName='TouchableNativeFeedback',m.exports=w},212,[1,34,97,2,3,4,6,9,204,202,178,24,55,177,134,10,15]);
__d(function(g,r,_i,a,m,_e,d){var t=r(d[0]),e=t(r(d[1])),s=t(r(d[2])),i=t(r(d[3])),o=t(r(d[4])),n=t(r(d[5])),c=t(r(d[6])),p=t(r(d[7])),l=t(r(d[8])),u=t(r(d[9])),f=(r(d[10]),t(r(d[11]))),y=t(r(d[12])),h=t(r(d[13])),b=t(r(d[14])),v=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=P(e);if(s&&s.has(t))return s.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&Object.prototype.hasOwnProperty.call(t,n)){var c=o?Object.getOwnPropertyDescriptor(t,n):null;c&&(c.get||c.set)?Object.defineProperty(i,n,c):i[n]=t[n]}i.default=t,s&&s.set(t,i);return i})(r(d[15])),O=["onBlur","onFocus"];function P(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(P=function(t){return t?s:e})(t)}function w(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function F(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach(function(e){(0,s.default)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var j=(function(t){(0,c.default)(j,t);var s,P,w=(s=j,P=_(),function(){var t,e=(0,l.default)(s);if(P){var i=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,p.default)(this,t)});function j(){var t;(0,o.default)(this,j);for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(t=w.call.apply(w,[this].concat(s))).state={anim:new f.default.Value(t._getChildStyleOpacityWithDefault()),pressability:new u.default(t._createPressabilityConfig())},t}return(0,n.default)(j,[{key:"_createPressabilityConfig",value:function(){var t,e,s=this;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=(t=this.props.disabled)?t:null==(e=this.props.accessibilityState)?void 0:e.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,onBlur:function(t){b.default.isTV&&s._opacityInactive(250),null!=s.props.onBlur&&s.props.onBlur(t)},onFocus:function(t){b.default.isTV&&s._opacityActive(150),null!=s.props.onFocus&&s.props.onFocus(t)},onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(t){s._opacityActive('onResponderGrant'===t.dispatchConfig.registrationName?0:150),null!=s.props.onPressIn&&s.props.onPressIn(t)},onPressOut:function(t){s._opacityInactive(250),null!=s.props.onPressOut&&s.props.onPressOut(t)}}}},{key:"_setOpacityTo",value:function(t,e){f.default.timing(this.state.anim,{toValue:t,duration:e,easing:y.default.inOut(y.default.quad),useNativeDriver:!0}).start()}},{key:"_opacityActive",value:function(t){var e;this._setOpacityTo(null!=(e=this.props.activeOpacity)?e:.2,t)}},{key:"_opacityInactive",value:function(t){this._setOpacityTo(this._getChildStyleOpacityWithDefault(),t)}},{key:"_getChildStyleOpacityWithDefault",value:function(){var t,e=null==(t=(0,h.default)(this.props.style))?void 0:t.opacity;return'number'==typeof e?e:1}},{key:"render",value:function(){var t=this.state.pressability.getEventHandlers(),s=(t.onBlur,t.onFocus,(0,i.default)(t,O)),o=null!=this.props.disabled?F(F({},this.props.accessibilityState),{},{disabled:this.props.disabled}):this.props.accessibilityState;return v.createElement(f.default.View,(0,e.default)({accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:o,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:this.props.accessibilityValue,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,style:[this.props.style,{opacity:this.state.anim}],nativeID:this.props.nativeID,testID:this.props.testID,onLayout:this.props.onLayout,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,ref:this.props.hostRef},s),this.props.children,null)}},{key:"componentDidUpdate",value:function(t,e){this.state.pressability.configure(this._createPressabilityConfig()),this.props.disabled!==t.disabled&&this._opacityInactive(250)}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}]),j})(v.Component),D=v.forwardRef(function(t,s){return v.createElement(j,(0,e.default)({},t,{hostRef:s}))});D.displayName='TouchableOpacity',m.exports=D},213,[1,13,34,97,2,3,4,6,9,204,202,214,243,168,55,10]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2]));function c(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}var i=r(d[3]),u=r(d[4]),O=o.default.isTesting?i:u;m.exports=(function(t){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?c(Object(i),!0).forEach(function(o){(0,n.default)(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t})({get FlatList(){return r(d[5])},get Image(){return r(d[6])},get ScrollView(){return r(d[7])},get SectionList(){return r(d[8])},get Text(){return r(d[9])},get View(){return r(d[10])}},O)},214,[1,34,55,215,226,248,275,283,284,287,288]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}function o(o){for(var i=1;i<arguments.length;i++){var u=null!=arguments[i]?arguments[i]:{};i%2?n(Object(u),!0).forEach(function(n){t(o,n,u[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):n(Object(u)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(u,t))})}return o}var i=r(d[1]),u=i.AnimatedEvent,c=i.attachNativeEvent,f=r(d[2]),s=r(d[3]),l=r(d[4]),p=r(d[5]),v=r(d[6]),O=r(d[7]),b={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}};m.exports={Value:p,ValueXY:v,Interpolation:s,Node:l,decay:function(t,n){return b},timing:function(t,n){var i=t;return o(o({},b),{},{start:function(t){i.setValue(n.toValue),t&&t({finished:!0})}})},spring:function(t,n){var i=t;return o(o({},b),{},{start:function(t){i.setValue(n.toValue),t&&t({finished:!0})}})},add:f.add,subtract:f.subtract,divide:f.divide,multiply:f.multiply,modulo:f.modulo,diffClamp:f.diffClamp,delay:function(t){return b},sequence:function(t){return b},parallel:function(t,n){return b},stagger:function(t,n){return b},loop:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).iterations;return b},event:f.event,createAnimatedComponent:O,attachNativeEvent:c,forkEvent:f.forkEvent,unforkEvent:f.unforkEvent,Event:u}},215,[34,216,226,218,219,217,237,245]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),v=r(d[3]),o=r(d[4]),c=r(d[5]),l=r(d[3]).shouldUseNativeDriver;function u(t,n,l){var u=[];c(l[0]&&l[0].nativeEvent,'Native driven events only support animated values contained inside `nativeEvent`.'),(function t(n,v){if(n instanceof s)n.__makeNative(),u.push({nativeEventPath:v,animatedValueTag:n.__getNativeTag()});else if('object'==typeof n)for(var o in n)t(n[o],v.concat(o))})(l[0].nativeEvent,[]);var h=o.findNodeHandle(t);return null!=h&&u.forEach(function(t){v.API.addAnimatedEventToView(h,n,t)}),{detach:function(){null!=h&&u.forEach(function(t){v.API.removeAnimatedEventFromView(h,n,t.animatedValueTag)})}}}var h=(function(){function v(n,s){t(this,v),this._listeners=[],this._argMapping=n,null==s&&(console.warn('Animated.event now requires a second argument for options'),s={useNativeDriver:!1}),s.listener&&this.__addListener(s.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=l(s)}return n(v,[{key:"__addListener",value:function(t){this._listeners.push(t)}},{key:"__removeListener",value:function(t){this._listeners=this._listeners.filter(function(n){return n!==t})}},{key:"__attach",value:function(t,n){c(this.__isNative,'Only native driven events need to be attached.'),this._attachedEvent=u(t,n,this._argMapping)}},{key:"__detach",value:function(t,n){c(this.__isNative,'Only native driven events need to be detached.'),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var t=this;if(this.__isNative)return this._callListeners;return function(){for(var n=arguments.length,v=new Array(n),o=0;o<n;o++)v[o]=arguments[o];var c=function t(n,v,o){if(n instanceof s)'number'==typeof v&&n.setValue(v);else if('object'==typeof n)for(var c in n)t(n[c],v[c],c)};t._argMapping.forEach(function(t,n){c(t,v[n])}),t._callListeners.apply(t,v)}}},{key:"_callListeners",value:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];this._listeners.forEach(function(t){return t.apply(void 0,n)})}}]),v})();m.exports={AnimatedEvent:h,attachNativeEvent:u}},216,[2,3,217,220,24,15]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),s=r(d[3]),u=r(d[4]),o=r(d[5]);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var l=r(d[6]),f=r(d[7]),h=r(d[8]),c=r(d[9]).API;function v(t){var e=new Set;!(function t(n){'function'==typeof n.update?e.add(n):n.__getChildren().forEach(t)})(t),e.forEach(function(t){return t.update()})}var p=(function(p){s(V,f);var y,k,N=(y=V,k=_(),function(){var t,e=o(y);if(k){var n=o(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function V(e){var n;if(t(this,V),n=N.call(this),'number'!=typeof e)throw new Error('AnimatedValue: Attempting to set value to undefined');return n._startingValue=n._value=e,n._offset=0,n._animation=null,n}return e(V,[{key:"__detach",value:function(){var t=this;this.__isNative&&c.getValue(this.__getNativeTag(),function(e){t._value=e}),this.stopAnimation(),n(o(V.prototype),"__detach",this).call(this)}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"setValue",value:function(t){var e,n,s=this;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(t,!this.__isNative),this.__isNative&&(e=this.__getNativeTag().toString(),n=function(){c.setAnimatedNodeValue(s.__getNativeTag(),t)},c.setWaitingForIdentifier(e),n(),c.unsetWaitingForIdentifier(e))}},{key:"setOffset",value:function(t){this._offset=t,this.__isNative&&c.setAnimatedNodeOffset(this.__getNativeTag(),t)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&c.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){this._offset+=this._value,this._value=0,this.__isNative&&c.extractAnimatedNodeOffset(this.__getNativeTag())}},{key:"stopAnimation",value:function(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&t(this.__getValue())}},{key:"resetAnimation",value:function(t){this.stopAnimation(t),this._value=this._startingValue,this.__isNative&&c.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}},{key:"_onAnimatedValueUpdateReceived",value:function(t){this._updateValue(t,!1)}},{key:"interpolate",value:function(t){return new l(this,t)}},{key:"animate",value:function(t,e){var n=this,s=null;t.__isInteraction&&(s=h.createInteractionHandle());var u=this._animation;this._animation&&this._animation.stop(),this._animation=t,t.start(this._value,function(t){n._updateValue(t,!0)},function(t){n._animation=null,null!==s&&h.clearInteractionHandle(s),e&&e(t)},u,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(t){this.stopTracking(),this._tracking=t}},{key:"_updateValue",value:function(t,e){if(void 0===t)throw new Error('AnimatedValue: Attempting to set value to undefined');this._value=t,e&&v(this),n(o(V.prototype),"__callListeners",this).call(this,this.__getValue())}},{key:"__getNativeConfig",value:function(){return{type:'value',value:this._value,offset:this._offset}}}]),V})();m.exports=p},217,[2,3,78,4,6,9,218,223,224,220]);
__d(function(_g,_r,_i,_a,m,_e,d){'use strict';var t=_r(d[0]),e=_r(d[1]),n=_r(d[2]),r=_r(d[3]),a=_r(d[4]),o=_r(d[5]),i=_r(d[6]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){i(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}_r(d[7]);var f=_r(d[8]),l=_r(d[9]),h=_r(d[10]),s=_r(d[11]),g=function(t){return t};function v(t){if(t.outputRange&&'string'==typeof t.outputRange[0])return b(t);var e=t.outputRange;k('outputRange',e);var n=t.inputRange;k('inputRange',n),j(n),h(n.length===e.length,'inputRange ('+n.length+') and outputRange ('+e.length+') must have the same length');var r=t.easing||g,a='extend';void 0!==t.extrapolateLeft?a=t.extrapolateLeft:void 0!==t.extrapolate&&(a=t.extrapolate);var o='extend';return void 0!==t.extrapolateRight?o=t.extrapolateRight:void 0!==t.extrapolate&&(o=t.extrapolate),function(t){h('number'==typeof t,'Cannot interpolation an input which is not a number');var i=O(t,n);return _(t,n[i],n[i+1],e[i],e[i+1],r,a,o)}}function _(t,e,n,r,a,o,i,u){var c=t;if(c<e){if('identity'===i)return c;'clamp'===i&&(c=e)}if(c>n){if('identity'===u)return c;'clamp'===u&&(c=n)}return r===a?r:e===n?t<=e?r:a:(e===-1/0?c=-c:n===1/0?c-=e:c=(c-e)/(n-e),c=o(c),r===-1/0?c=-c:a===1/0?c+=r:c=c*(a-r)+r,c)}function y(t){var e=s(t);return null===e||'number'!=typeof e?t:"rgba("+((4278190080&(e=e||0))>>>24)+", "+((16711680&e)>>>16)+", "+((65280&e)>>>8)+", "+(255&e)/255+")"}var R=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function b(t){var e=t.outputRange;h(e.length>=2,'Bad output range'),x(e=e.map(y));var n=e[0].match(R).map(function(){return[]});e.forEach(function(t){t.match(R).forEach(function(t,e){n[e].push(+t)})});var r,a=e[0].match(R).map(function(e,r){return v(p(p({},t),{},{outputRange:n[r]}))}),o='string'==typeof(r=e[0])&&r.startsWith('rgb');return function(t){var n=0;return e[0].replace(R,function(){var e=+a[n++](t);return o&&(e=n<4?Math.round(e):Math.round(1e3*e)/1e3),String(e)})}}function x(t){for(var e=t[0].replace(R,''),n=1;n<t.length;++n)h(e===t[n].replace(R,''),'invalid pattern '+t[0]+' and '+t[n])}function O(t,e){var n;for(n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}function j(t){h(t.length>=2,'inputRange must have at least 2 elements');for(var e=1;e<t.length;++e)h(t[e]>=t[e-1],'inputRange must be monotonically non-decreasing '+t)}function k(t,e){h(e.length>=2,t+' must have at least 2 elements'),h(2!==e.length||e[0]!==-1/0||e[1]!==1/0,t+'cannot be ]-infinity;+infinity[ '+e)}var w=(function(i){r(g,f);var c,p,s=(c=g,p=u(),function(){var t,e=o(c);if(p){var n=o(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)});function g(e,n){var r;return t(this,g),(r=s.call(this))._parent=e,r._config=n,r._interpolation=v(n),r}return e(g,[{key:"__makeNative",value:function(){this._parent.__makeNative(),n(o(g.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){var t=this._parent.__getValue();return h('number'==typeof t,'Cannot interpolate an input which is not a number.'),this._interpolation(t)}},{key:"interpolate",value:function(t){return new g(this,t)}},{key:"__attach",value:function(){this._parent.__addChild(this)}},{key:"__detach",value:function(){this._parent.__removeChild(this),n(o(g.prototype),"__detach",this).call(this)}},{key:"__transformDataType",value:function(t){return t.map(l.transformDataType)}},{key:"__getNativeConfig",value:function(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||'extend',extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||'extend',type:'interpolation'}}}]),g})();w.__createInterpolation=v,m.exports=w},218,[2,3,78,4,6,9,34,219,223,220,15,135]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),_=s.API,u=r(d[3]),o=1,v=(function(){function v(){t(this,v),this._listeners={}}return n(v,[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.__isNative&&null!=this.__nativeTag&&(s.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(t){}},{key:"__removeChild",value:function(t){}},{key:"__getChildren",value:function(){return[]}},{key:"__makeNative",value:function(){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this.hasListeners()&&this._startListeningToNativeValueUpdates()}},{key:"addListener",value:function(t){var n=String(o++);return this._listeners[n]=t,this.__isNative&&this._startListeningToNativeValueUpdates(),n}},{key:"removeListener",value:function(t){delete this._listeners[t],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}},{key:"removeAllListeners",value:function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}},{key:"hasListeners",value:function(){return!!Object.keys(this._listeners).length}},{key:"_startListeningToNativeValueUpdates",value:function(){var t=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),_.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=s.nativeEventEmitter.addListener('onAnimatedValueUpdate',function(n){n.tag===t.__getNativeTag()&&t._onAnimatedValueUpdateReceived(n.value)}))}},{key:"_onAnimatedValueUpdateReceived",value:function(t){this.__callListeners(t)}},{key:"__callListeners",value:function(t){for(var n in this._listeners)this._listeners[n]({value:t})}},{key:"_stopListeningForNativeValueUpdates",value:function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,_.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}},{key:"__getNativeTag",value:function(){var t;s.assertNativeAnimatedModule(),u(this.__isNative,'Attempt to get native tag from node not marked as "native"');var n=null!=(t=this.__nativeTag)?t:s.generateNewNodeTag();return null==this.__nativeTag&&(this.__nativeTag=n,s.API.createAnimatedNode(n,this.__getNativeConfig()),this.__shouldUpdateListenersForNewNativeTag=!0),n}},{key:"__getNativeConfig",value:function(){throw new Error('This JS animated node type cannot be used as native animated node')}},{key:"toJSON",value:function(){return this.__getValue()}}]),v})();m.exports=v},219,[2,3,220,15]);
__d(function(g,r,i,a,m,e,d){var t,n=r(d[0]),o=n(r(d[1])),u=n(r(d[2])),l=n(r(d[3])),s=n(r(d[4])),f=n(r(d[5])),c='ios'===s.default.OS&&g.RN$Bridgeless?u.default:o.default,v=1,p=1,N=new Set,A=!1,b=[],O={getValue:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){(null==c?void 0:c.getValue)&&c.getValue(t,n)})},setWaitingForIdentifier:function(t){N.add(t),A=!0},unsetWaitingForIdentifier:function(t){N.delete(t),0===N.size&&(A=!1,O.disableQueue())},disableQueue:function(){(0,f.default)(c,'Native animated module is not available'),'android'===s.default.OS&&(null==c?void 0:c.startOperationBatch)&&c.startOperationBatch();for(var t=0,n=b.length;t<n;t++)b[t]();b.length=0,'android'===s.default.OS&&(null==c?void 0:c.finishOperationBatch)&&c.finishOperationBatch()},queueOperation:function(t){A?b.push(t):t()},createAnimatedNode:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.createAnimatedNode)&&c.createAnimatedNode(t,n)})},startListeningToAnimatedNodeValue:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.startListeningToAnimatedNodeValue)&&c.startListeningToAnimatedNodeValue(t)})},stopListeningToAnimatedNodeValue:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.stopListeningToAnimatedNodeValue)&&c.stopListeningToAnimatedNodeValue(t)})},connectAnimatedNodes:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.connectAnimatedNodes)&&c.connectAnimatedNodes(t,n)})},disconnectAnimatedNodes:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.disconnectAnimatedNodes)&&c.disconnectAnimatedNodes(t,n)})},startAnimatingNode:function(t,n,o,u){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.startAnimatingNode)&&c.startAnimatingNode(t,n,o,u)})},stopAnimation:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.stopAnimation)&&c.stopAnimation(t)})},setAnimatedNodeValue:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.setAnimatedNodeValue)&&c.setAnimatedNodeValue(t,n)})},setAnimatedNodeOffset:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.setAnimatedNodeOffset)&&c.setAnimatedNodeOffset(t,n)})},flattenAnimatedNodeOffset:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.flattenAnimatedNodeOffset)&&c.flattenAnimatedNodeOffset(t)})},extractAnimatedNodeOffset:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.extractAnimatedNodeOffset)&&c.extractAnimatedNodeOffset(t)})},connectAnimatedNodeToView:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.connectAnimatedNodeToView)&&c.connectAnimatedNodeToView(t,n)})},disconnectAnimatedNodeFromView:function(t,n){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.disconnectAnimatedNodeFromView)&&c.disconnectAnimatedNodeFromView(t,n)})},restoreDefaultValues:function(t){(0,f.default)(c,'Native animated module is not available'),null!=c.restoreDefaultValues&&O.queueOperation(function(){return(null==c?void 0:c.restoreDefaultValues)&&c.restoreDefaultValues(t)})},dropAnimatedNode:function(t){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.dropAnimatedNode)&&c.dropAnimatedNode(t)})},addAnimatedEventToView:function(t,n,o){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.addAnimatedEventToView)&&c.addAnimatedEventToView(t,n,o)})},removeAnimatedEventFromView:function(t,n,o){(0,f.default)(c,'Native animated module is not available'),O.queueOperation(function(){return(null==c?void 0:c.removeAnimatedEventFromView)&&c.removeAnimatedEventFromView(t,n,o)})}},h={opacity:!0,transform:!0,borderRadius:!0,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0},w={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},V={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};var T=!1;m.exports={API:O,addWhitelistedStyleProp:function(t){h[t]=!0},addWhitelistedTransformProp:function(t){w[t]=!0},addWhitelistedInterpolationParam:function(t){V[t]=!0},validateStyles:function(t){for(var n in t)if(!h.hasOwnProperty(n))throw new Error("Style property '"+n+"' is not supported by native animated module")},validateTransform:function(t){t.forEach(function(t){if(!w.hasOwnProperty(t.property))throw new Error("Property '"+t.property+"' is not supported by native animated module")})},validateInterpolation:function(t){for(var n in t)if(!V.hasOwnProperty(n))throw new Error("Interpolation property '"+n+"' is not supported by native animated module")},generateNewNodeTag:function(){return v++},generateNewAnimationId:function(){return p++},assertNativeAnimatedModule:function(){(0,f.default)(c,'Native animated module is not available')},shouldUseNativeDriver:function(t){return null==t.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==t.useNativeDriver||c?t.useNativeDriver||!1:(T||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),T=!0),!1)},transformDataType:function(t){return'string'!=typeof t?t:/deg$/.test(t)?(parseFloat(t)||0)*Math.PI/180:t},get nativeEventEmitter(){return t||(t=new l.default('ios'!==s.default.OS?null:c)),t}}},220,[1,221,222,99,55,15]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('NativeAnimatedModule');e.default=n},221,[39]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('NativeAnimatedTurboModule');e.default=n},222,[39]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),i=r(d[2]),n=r(d[3]),o=r(d[4]),c=r(d[5]);function l(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=s(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"==typeof t)return _(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=r(d[6]),v=r(d[7]),f=(function(s){n(p,h);var _,f,y=(_=p,f=u(),function(){var t,e=c(_);if(f){var i=c(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return o(this,t)});function p(){var e;return t(this,p),(e=y.call(this))._children=[],e}return e(p,[{key:"__makeNative",value:function(){if(!this.__isNative){this.__isNative=!0;for(var t,e=l(this._children);!(t=e()).done;){var n=t.value;n.__makeNative(),v.API.connectAnimatedNodes(this.__getNativeTag(),n.__getNativeTag())}}i(c(p.prototype),"__makeNative",this).call(this)}},{key:"__addChild",value:function(t){0===this._children.length&&this.__attach(),this._children.push(t),this.__isNative&&(t.__makeNative(),v.API.connectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()))}},{key:"__removeChild",value:function(t){var e=this._children.indexOf(t);-1!==e?(this.__isNative&&t.__isNative&&v.API.disconnectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()),this._children.splice(e,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(t){if(i(c(p.prototype),"__callListeners",this).call(this,t),!this.__isNative)for(var e,n=l(this._children);!(e=n()).done;){var o=e.value;o.__getValue&&o.__callListeners(o.__getValue())}}}]),p})();m.exports=f},223,[2,3,78,4,6,9,219,220]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0])(r(d[1])),t=r(d[2]),o=r(d[3]),c=(r(d[4]),r(d[5])),s=new n.default,u={Events:{interactionStart:'interactionStart',interactionComplete:'interactionComplete'},runAfterInteractions:function(n){var t=[],o=new Promise(function(o){E(),n&&t.push(n),t.push({run:o,name:'resolve '+(n&&n.name||'?')}),v.enqueueTasks(t)});return{then:o.then.bind(o),done:function(){if(o.done)return o.done.apply(o,arguments);console.warn('Tried to call done when not supported by current Promise implementation.')},cancel:function(){v.cancelTasks(t)}}},createInteractionHandle:function(){E();var n=++w;return f.add(n),n},clearInteractionHandle:function(n){c(!!n,'InteractionManager: Must provide a handle to clear.'),E(),f.delete(n),p.add(n)},addListener:s.addListener.bind(s),setDeadline:function(n){T=n}},l=new Set,f=new Set,p=new Set,v=new o({onMoreTasks:E}),h=0,w=0,T=-1;function E(){h||(h=T>0?setTimeout(S,0):setImmediate(S))}function S(){h=0;var n=l.size;f.forEach(function(n){return l.add(n)}),p.forEach(function(n){return l.delete(n)});var o=l.size;if(0!==n&&0===o?s.emit(u.Events.interactionComplete):0===n&&0!==o&&s.emit(u.Events.interactionStart),0===o)for(;v.hasTasksToProcess();)if(v.processNext(),T>0&&t.getEventLoopRunningTime()>=T){E();break}f.clear(),p.clear()}m.exports=u},224,[1,19,45,225,87,15]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var e=r(d[0]),t=r(d[1]),n=r(d[2]);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,u)}return n}function s(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?u(Object(s),!0).forEach(function(n){e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}r(d[3]);var o=r(d[4]),i=(function(){function e(n){var u=n.onMoreTasks;t(this,e),this._onMoreTasks=u,this._queueStack=[{tasks:[],popable:!1}]}return n(e,[{key:"enqueue",value:function(e){this._getCurrentQueue().push(e)}},{key:"enqueueTasks",value:function(e){var t=this;e.forEach(function(e){return t.enqueue(e)})}},{key:"cancelTasks",value:function(e){this._queueStack=this._queueStack.map(function(t){return s(s({},t),{},{tasks:t.tasks.filter(function(t){return-1===e.indexOf(t)})})}).filter(function(e,t){return e.tasks.length>0||0===t})}},{key:"hasTasksToProcess",value:function(){return this._getCurrentQueue().length>0}},{key:"processNext",value:function(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{'object'==typeof t&&t.gen?this._genPromise(t):'object'==typeof t&&t.run?t.run():(o('function'==typeof t,'Expected Function, SimpleTask, or PromiseTask, but got:\n'+JSON.stringify(t,null,2)),t())}catch(e){throw e.message='TaskQueue: Error with task '+(t.name||'')+': '+e.message,e}}}},{key:"_getCurrentQueue",value:function(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&this._queueStack.length>1?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}},{key:"_genPromise",value:function(e){var t=this;this._queueStack.push({tasks:[],popable:!1});var n=this._queueStack.length-1,u=this._queueStack[n];e.gen().then(function(){u.popable=!0,t.hasTasksToProcess()&&t._onMoreTasks()}).catch(function(t){throw t.message="TaskQueue: Error resolving Promise in task "+e.name+": "+t.message,t}).done()}}]),e})();m.exports=i},225,[34,2,3,87,15]);
__d(function(g,r,_i,_a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,o)}return i}function i(i){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?n(Object(a),!0).forEach(function(n){t(i,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})}return i}var o=r(d[1]),a=o.AnimatedEvent,u=o.attachNativeEvent,s=r(d[2]),c=r(d[3]),f=r(d[4]),v=r(d[5]),p=r(d[6]),l=r(d[7]),h=r(d[8]),w=(r(d[9]),r(d[10])),_=r(d[11]),N=r(d[12]),y=r(d[13]),O=r(d[14]),D=r(d[15]),b=r(d[16]),E=r(d[17]),L=function(t,n){return t&&n.onComplete?function(){n.onComplete&&n.onComplete.apply(n,arguments),t&&t.apply(void 0,arguments)}:t||n.onComplete},j=function(t,n,o){if(t instanceof y){var a=i({},n),u=i({},n);for(var s in n){var c=n[s],f=c.x,v=c.y;void 0!==f&&void 0!==v&&(a[s]=f,u[s]=v)}var p=o(t.x,a),l=o(t.y,u);return P([p,l],{stopTogether:!1})}return null},A=function t(n,o){var a=function(t,n,i){i=L(i,n);var o=t,a=n;o.stopTracking(),n.toValue instanceof h?o.track(new _(o,n.toValue,b,a,i)):o.animate(new b(a),i)};return j(n,o,t)||{start:function(t){a(n,o,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var u=i(i({},o),{},{iterations:t});a(n,u)},_isUsingNativeDriver:function(){return o.useNativeDriver||!1}}},k=function(t){var n=0;return{start:function(i){0===t.length?i&&i({finished:!0}):t[n].start(function o(a){a.finished&&++n!==t.length?t[n].start(o):i&&i(a)})},stop:function(){n<t.length&&t[n].stop()},reset:function(){t.forEach(function(t,i){i<=n&&t.reset()}),n=0},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.sequence animations')},_isUsingNativeDriver:function(){return!1}}},P=function(t,n){var i=0,o={},a=!(n&&!1===n.stopTogether),u={start:function(n){i!==t.length?t.forEach(function(s,c){var f=function(s){if(o[c]=!0,++i===t.length)return i=0,void(n&&n(s));!s.finished&&a&&u.stop()};s?s.start(f):f({finished:!0})}):n&&n({finished:!0})},stop:function(){t.forEach(function(t,n){!o[n]&&t.stop(),o[n]=!0})},reset:function(){t.forEach(function(t,n){t.reset(),o[n]=!1,i=0})},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.parallel animations')},_isUsingNativeDriver:function(){return!1}};return u},U=function(t){return A(new N(0),{toValue:0,delay:t,duration:0,useNativeDriver:!1})};m.exports={Value:N,ValueXY:y,Interpolation:v,Node:h,decay:function t(n,o){var a=function(t,n,i){i=L(i,n);var o=t,a=n;o.stopTracking(),o.animate(new O(a),i)};return j(n,o,t)||{start:function(t){a(n,o,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var u=i(i({},o),{},{iterations:t});a(n,u)},_isUsingNativeDriver:function(){return o.useNativeDriver||!1}}},timing:A,spring:function t(n,o){var a=function(t,n,i){i=L(i,n);var o=t,a=n;o.stopTracking(),n.toValue instanceof h?o.track(new _(o,n.toValue,D,a,i)):o.animate(new D(a),i)};return j(n,o,t)||{start:function(t){a(n,o,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var u=i(i({},o),{},{iterations:t});a(n,u)},_isUsingNativeDriver:function(){return o.useNativeDriver||!1}}},add:function(t,n){return new s(t,n)},subtract:function(t,n){return new w(t,n)},divide:function(t,n){return new f(t,n)},multiply:function(t,n){return new l(t,n)},modulo:function(t,n){return new p(t,n)},diffClamp:function(t,n,i){return new c(t,n,i)},delay:U,sequence:k,parallel:P,stagger:function(t,n){return P(n.map(function(n,i){return k([U(t*i),n])}))},loop:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.iterations,o=void 0===i?-1:i,a=n.resetBeforeIteration,u=void 0===a||a,s=!1,c=0;return{start:function(n){t&&0!==o?t._isUsingNativeDriver()?t._startNativeLoop(o):(function i(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{finished:!0};s||c===o||!1===a.finished?n&&n(a):(c++,u&&t.reset(),t.start(i))})():n&&n({finished:!0})},stop:function(){s=!0,t.stop()},reset:function(){c=0,s=!1,t.reset()},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.loop animations')},_isUsingNativeDriver:function(){return t._isUsingNativeDriver()}}},event:function(t,n){var i=new a(t,n);return i.__isNative?i:i.__getHandler()},createAnimatedComponent:E,attachNativeEvent:u,forkEvent:function(t,n){return t?t instanceof a?(t.__addListener(n),t):function(){'function'==typeof t&&t.apply(void 0,arguments),n.apply(void 0,arguments)}:n},unforkEvent:function(t,n){t&&t instanceof a&&t.__removeListener(n)},Event:a}},226,[34,216,227,228,229,218,230,231,219,232,235,236,217,237,238,240,242,245]);
__d(function(g,r,i,_a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),a=r(d[3]),_=r(d[4]),u=r(d[5]);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var c=r(d[6]),s=(r(d[7]),r(d[8])),h=r(d[9]),l=(function(l){a(p,h);var f,v,y=(f=p,v=o(),function(){var t,e=u(f);if(v){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function p(e,n){var a;return t(this,p),(a=y.call(this))._a='number'==typeof e?new s(e):e,a._b='number'==typeof n?new s(n):n,a}return e(p,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),n(u(p.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(t){return new c(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),n(u(p.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'addition',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),p})();m.exports=l},227,[2,3,78,4,6,9,218,219,217,223]);
__d(function(g,r,i,_a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),a=r(d[2]),n=r(d[3]),u=r(d[4]),_=r(d[5]);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var c=r(d[6]),s=(r(d[7]),r(d[8])),o=(function(o){n(p,s);var h,f,v=(h=p,f=l(),function(){var t,e=_(h);if(f){var a=_(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return u(this,t)});function p(e,a,n){var u;return t(this,p),(u=v.call(this))._a=e,u._min=a,u._max=n,u._value=u._lastValue=u._a.__getValue(),u}return e(p,[{key:"__makeNative",value:function(){this._a.__makeNative(),a(_(p.prototype),"__makeNative",this).call(this)}},{key:"interpolate",value:function(t){return new c(this,t)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),e=t-this._lastValue;return this._lastValue=t,this._value=Math.min(Math.max(this._value+e,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),a(_(p.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'diffclamp',input:this._a.__getNativeTag(),min:this._min,max:this._max}}}]),p})();m.exports=o},228,[2,3,78,4,6,9,218,219,223]);
__d(function(g,r,i,_a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),o=r(d[3]),a=r(d[4]),_=r(d[5]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var s=r(d[6]),c=r(d[7]),h=r(d[8]),l=r(d[9]),v=(function(v){o(b,l);var f,y,p=(f=b,y=u(),function(){var t,e=_(f);if(y){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)});function b(e,n){var o;return t(this,b),(o=p.call(this))._warnedAboutDivideByZero=!1,(0===n||n instanceof c&&0===n.__getValue())&&console.error('Detected potential division by zero in AnimatedDivision'),o._a='number'==typeof e?new h(e):e,o._b='number'==typeof n?new h(n):n,o}return e(b,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),n(_(b.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),e=this._b.__getValue();return 0===e?(this._warnedAboutDivideByZero||(console.error('Detected division by zero in AnimatedDivision'),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,t/e)}},{key:"interpolate",value:function(t){return new s(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),n(_(b.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'division',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),b})();m.exports=v},229,[2,3,78,4,6,9,218,219,217,223]);
__d(function(g,r,i,_a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),u=r(d[2]),n=r(d[3]),a=r(d[4]),o=r(d[5]);function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var s=r(d[6]),_=(r(d[7]),r(d[8])),l=(function(l){n(y,_);var h,f,v=(h=y,f=c(),function(){var t,e=o(h);if(f){var u=o(this).constructor;t=Reflect.construct(e,arguments,u)}else t=e.apply(this,arguments);return a(this,t)});function y(e,u){var n;return t(this,y),(n=v.call(this))._a=e,n._modulus=u,n}return e(y,[{key:"__makeNative",value:function(){this._a.__makeNative(),u(o(y.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(t){return new s(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),u(o(y.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'modulus',input:this._a.__getNativeTag(),modulus:this._modulus}}}]),y})();m.exports=l},230,[2,3,78,4,6,9,218,219,223]);
__d(function(g,r,i,_a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),a=r(d[3]),_=r(d[4]),u=r(d[5]);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var c=r(d[6]),l=(r(d[7]),r(d[8])),s=r(d[9]),h=(function(h){a(y,s);var f,v,p=(f=y,v=o(),function(){var t,e=u(f);if(v){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function y(e,n){var a;return t(this,y),(a=p.call(this))._a='number'==typeof e?new l(e):e,a._b='number'==typeof n?new l(n):n,a}return e(y,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),n(u(y.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(t){return new c(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),n(u(y.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'multiplication',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),y})();m.exports=h},231,[2,3,78,4,6,9,218,219,217,223]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var e=r(d[0]),t=r(d[1]),i=r(d[2]),n=r(d[3]),o=r(d[4]),s=r(d[5]),c=r(d[6]);function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function u(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?_(Object(n),!0).forEach(function(i){e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var f=r(d[7]).AnimatedEvent,l=r(d[8]),p=r(d[9]),h=r(d[10]),y=r(d[11]),w=r(d[12]),N=(function(e){o(V,l);var _,N,b=(_=V,N=v(),function(){var e,t=c(_);if(N){var i=c(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return s(this,e)});function V(e,i){var n;return t(this,V),n=b.call(this),e.style&&(e=u(u({},e),{},{style:new p(e.style)})),n._props=e,n._callback=i,n}return i(V,[{key:"__getValue",value:function(){var e={};for(var t in this._props){var i=this._props[t];i instanceof l?(!i.__isNative||i instanceof p)&&(e[t]=i.__getValue()):e[t]=i instanceof f?i.__getHandler():i}return e}},{key:"__getAnimatedValue",value:function(){var e={};for(var t in this._props){var i=this._props[t];i instanceof l&&(e[t]=i.__getAnimatedValue())}return e}},{key:"__attach",value:function(){for(var e in this._props){var t=this._props[e];t instanceof l&&t.__addChild(this)}}},{key:"__detach",value:function(){for(var e in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var t=this._props[e];t instanceof l&&t.__removeChild(this)}n(c(V.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._callback()}},{key:"__makeNative",value:function(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof l&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}},{key:"setNativeView",value:function(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())}},{key:"__connectAnimatedView",value:function(){w(this.__isNative,'Expected node to be marked as "native"');var e=y.findNodeHandle(this._animatedView);w(null!=e,'Unable to locate attached view in the native tree'),h.API.connectAnimatedNodeToView(this.__getNativeTag(),e)}},{key:"__disconnectAnimatedView",value:function(){w(this.__isNative,'Expected node to be marked as "native"');var e=y.findNodeHandle(this._animatedView);w(null!=e,'Unable to locate attached view in the native tree'),h.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)}},{key:"__restoreDefaultValues",value:function(){this.__isNative&&h.API.restoreDefaultValues(this.__getNativeTag())}},{key:"__getNativeConfig",value:function(){var e={};for(var t in this._props){var i=this._props[t];i instanceof l&&(i.__makeNative(),e[t]=i.__getNativeTag())}return{type:'props',props:e}}}]),V})();m.exports=N},232,[34,2,3,78,4,6,9,216,219,233,220,24,15]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),i=r(d[3]),s=r(d[4]),o=r(d[5]),l=r(d[6]);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function u(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?c(Object(i),!0).forEach(function(n){t(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var y=r(d[7]),_=r(d[8]),v=r(d[9]),h=r(d[10]),p=r(d[11]),k=(function(t){s(b,v);var c,k,O=(c=b,k=f(),function(){var t,e=l(c);if(k){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function b(t){var n;return e(this,b),n=O.call(this),(t=p(t)||{}).transform&&(t=u(u({},t),{},{transform:new _(t.transform)})),n._style=t,n}return n(b,[{key:"_walkStyleAndGetValues",value:function(t){var e={};for(var n in t){var i=t[n];i instanceof y?i.__isNative||(e[n]=i.__getValue()):i&&!Array.isArray(i)&&'object'==typeof i?e[n]=this._walkStyleAndGetValues(i):e[n]=i}return e}},{key:"__getValue",value:function(){return this._walkStyleAndGetValues(this._style)}},{key:"_walkStyleAndGetAnimatedValues",value:function(t){var e={};for(var n in t){var i=t[n];i instanceof y?e[n]=i.__getAnimatedValue():i&&!Array.isArray(i)&&'object'==typeof i&&(e[n]=this._walkStyleAndGetAnimatedValues(i))}return e}},{key:"__getAnimatedValue",value:function(){return this._walkStyleAndGetAnimatedValues(this._style)}},{key:"__attach",value:function(){for(var t in this._style){var e=this._style[t];e instanceof y&&e.__addChild(this)}}},{key:"__detach",value:function(){for(var t in this._style){var e=this._style[t];e instanceof y&&e.__removeChild(this)}i(l(b.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(){for(var t in this._style){var e=this._style[t];e instanceof y&&e.__makeNative()}i(l(b.prototype),"__makeNative",this).call(this)}},{key:"__getNativeConfig",value:function(){var t={};for(var e in this._style)if(this._style[e]instanceof y){var n=this._style[e];n.__makeNative(),t[e]=n.__getNativeTag()}return h.validateStyles(t),{type:'style',style:t}}}]),b})();m.exports=k},233,[34,2,3,78,4,6,9,219,234,223,220,168]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),n=r(d[1]),e=r(d[2]),o=r(d[3]),f=r(d[4]),c=r(d[5]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var u=r(d[6]),v=r(d[7]),_=r(d[8]),l=(function(l){o(k,v);var h,p,y=(h=k,p=s(),function(){var t,n=c(h);if(p){var e=c(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return f(this,t)});function k(n){var e;return t(this,k),(e=y.call(this))._transforms=n,e}return n(k,[{key:"__makeNative",value:function(){this._transforms.forEach(function(t){for(var n in t){var e=t[n];e instanceof u&&e.__makeNative()}}),e(c(k.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._transforms.map(function(t){var n={};for(var e in t){var o=t[e];n[e]=o instanceof u?o.__getValue():o}return n})}},{key:"__getAnimatedValue",value:function(){return this._transforms.map(function(t){var n={};for(var e in t){var o=t[e];n[e]=o instanceof u?o.__getAnimatedValue():o}return n})}},{key:"__attach",value:function(){var t=this;this._transforms.forEach(function(n){for(var e in n){var o=n[e];o instanceof u&&o.__addChild(t)}})}},{key:"__detach",value:function(){var t=this;this._transforms.forEach(function(n){for(var e in n){var o=n[e];o instanceof u&&o.__removeChild(t)}}),e(c(k.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){var t=[];return this._transforms.forEach(function(n){for(var e in n){var o=n[e];o instanceof u?t.push({type:'animated',property:e,nodeTag:o.__getNativeTag()}):t.push({type:'static',property:e,value:_.transformDataType(o)})}}),_.validateTransform(t),{type:'transform',transforms:t}}}]),k})();m.exports=l},234,[2,3,78,4,6,9,219,223,220]);
__d(function(g,r,i,_a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),a=r(d[3]),_=r(d[4]),u=r(d[5]);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var c=r(d[6]),s=(r(d[7]),r(d[8])),h=r(d[9]),l=(function(l){a(p,h);var f,v,y=(f=p,v=o(),function(){var t,e=u(f);if(v){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function p(e,n){var a;return t(this,p),(a=y.call(this))._a='number'==typeof e?new s(e):e,a._b='number'==typeof n?new s(n):n,a}return e(p,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),n(u(p.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(t){return new c(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),n(u(p.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'subtraction',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),p})();m.exports=l},235,[2,3,78,4,6,9,218,219,217,223]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),i=r(d[2]),n=r(d[3]),o=r(d[4]),c=r(d[5]),u=r(d[6]);function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function s(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?_(Object(n),!0).forEach(function(i){t(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[7]);var f=r(d[8]),h=r(d[9]),v=h.generateNewAnimationId,p=h.shouldUseNativeDriver,y=(function(t){o(O,f);var _,h,y=(_=O,h=l(),function(){var t,e=u(_);if(h){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function O(t,i,n,o,c){var u;return e(this,O),(u=y.call(this))._value=t,u._parent=i,u._animationClass=n,u._animationConfig=o,u._useNativeDriver=p(o),u._callback=c,u.__attach(),u}return i(O,[{key:"__makeNative",value:function(){this.__isNative=!0,this._parent.__makeNative(),n(u(O.prototype),"__makeNative",this).call(this),this._value.__makeNative()}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}},{key:"__detach",value:function(){this._parent.__removeChild(this),n(u(O.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._value.animate(new this._animationClass(s(s({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var t=new this._animationClass(s(s({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:'tracking',animationId:v(),animationConfig:t,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}]),O})();m.exports=y},236,[34,2,3,78,4,6,9,217,219,220]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),s=r(d[3]),u=r(d[4]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var o=r(d[5]),l=r(d[6]),c=r(d[7]),y=1,h=(function(h){n(p,l);var x,v,_=(x=p,v=f(),function(){var t,e=u(x);if(v){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return s(this,t)});function p(e){var n;t(this,p),n=_.call(this);var s=e||{x:0,y:0};return'number'==typeof s.x&&'number'==typeof s.y?(n.x=new o(s.x),n.y=new o(s.y)):(c(s.x instanceof o&&s.y instanceof o,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),n.x=s.x,n.y=s.y),n._listeners={},n}return e(p,[{key:"setValue",value:function(t){this.x.setValue(t.x),this.y.setValue(t.y)}},{key:"setOffset",value:function(t){this.x.setOffset(t.x),this.y.setOffset(t.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(t){this.x.resetAnimation(),this.y.resetAnimation(),t&&t(this.__getValue())}},{key:"stopAnimation",value:function(t){this.x.stopAnimation(),this.y.stopAnimation(),t&&t(this.__getValue())}},{key:"addListener",value:function(t){var e=this,n=String(y++),s=function(n){n.value;t(e.__getValue())};return this._listeners[n]={x:this.x.addListener(s),y:this.y.addListener(s)},n}},{key:"removeListener",value:function(t){this.x.removeListener(this._listeners[t].x),this.y.removeListener(this._listeners[t].y),delete this._listeners[t]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}}]),p})();m.exports=h},237,[2,3,4,6,9,217,223,15]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),s=r(d[3]),o=r(d[4]),c=r(d[5]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var l=r(d[6]),_=r(d[7]).shouldUseNativeDriver,h=(function(h){s(y,l);var v,f,p=(v=y,f=u(),function(){var t,e=c(v);if(f){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function y(e){var n,s,o,c;return t(this,y),(c=p.call(this))._deceleration=null!=(n=e.deceleration)?n:.998,c._velocity=e.velocity,c._useNativeDriver=_(e),c.__isInteraction=null!=(s=e.isInteraction)?s:!c._useNativeDriver,c.__iterations=null!=(o=e.iterations)?o:1,c}return e(y,[{key:"__getNativeAnimationConfig",value:function(){return{type:'decay',deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}},{key:"start",value:function(t,e,n,s,o){this.__active=!0,this._lastValue=t,this._fromValue=t,this._onUpdate=e,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(o):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},{key:"onUpdate",value:function(){var t=Date.now(),e=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(t-this._startTime)));this._onUpdate(e),Math.abs(this._lastValue-e)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=e,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){n(c(y.prototype),"stop",this).call(this),this.__active=!1,g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),y})();m.exports=h},238,[2,3,78,4,6,9,239,220]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),n=r(d[1]),e=r(d[2]),o=1,_=(function(){function _(){t(this,_)}return n(_,[{key:"start",value:function(t,n,e,o,_){}},{key:"stop",value:function(){this.__nativeId&&e.API.stopAnimation(this.__nativeId)}},{key:"__getNativeAnimationConfig",value:function(){throw new Error('This animation type cannot be offloaded to native')}},{key:"__debouncedOnEnd",value:function(t){var n=this.__onEnd;this.__onEnd=null,n&&n(t)}},{key:"__startNativeAnimation",value:function(t){var n=o+":startAnimation";o+=1,e.API.setWaitingForIdentifier(n);try{t.__makeNative(),this.__nativeId=e.generateNewAnimationId(),e.API.startAnimatingNode(this.__nativeId,t.__getNativeTag(),this.__getNativeAnimationConfig(),this.__debouncedOnEnd.bind(this))}catch(t){throw t}finally{e.API.unsetWaitingForIdentifier(n)}}}]),_})();m.exports=_},239,[2,3,220]);
__d(function(g,r,i,a,_m,_e,d){'use strict';var t=r(d[0]),s=r(d[1]),e=r(d[2]),n=r(d[3]),o=r(d[4]),l=r(d[5]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[6]),r(d[7]),r(d[8]);var _=r(d[9]),u=r(d[10]),f=r(d[11]),c=r(d[12]).shouldUseNativeDriver,m=(function(m){n(V,_);var v,p,y=(v=V,p=h(),function(){var t,s=l(v);if(p){var e=l(this).constructor;t=Reflect.construct(s,arguments,e)}else t=s.apply(this,arguments);return o(this,t)});function V(s){var e,n,o,l,h,_,m,v,p,T,b,M;if(t(this,V),(p=y.call(this))._overshootClamping=null!=(e=s.overshootClamping)&&e,p._restDisplacementThreshold=null!=(n=s.restDisplacementThreshold)?n:.001,p._restSpeedThreshold=null!=(o=s.restSpeedThreshold)?o:.001,p._initialVelocity=null!=(l=s.velocity)?l:0,p._lastVelocity=null!=(h=s.velocity)?h:0,p._toValue=s.toValue,p._delay=null!=(_=s.delay)?_:0,p._useNativeDriver=c(s),p.__isInteraction=null!=(m=s.isInteraction)?m:!p._useNativeDriver,p.__iterations=null!=(v=s.iterations)?v:1,void 0!==s.stiffness||void 0!==s.damping||void 0!==s.mass)f(void 0===s.bounciness&&void 0===s.speed&&void 0===s.tension&&void 0===s.friction,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'),p._stiffness=null!=(T=s.stiffness)?T:100,p._damping=null!=(b=s.damping)?b:10,p._mass=null!=(M=s.mass)?M:1;else if(void 0!==s.bounciness||void 0!==s.speed){var D,P;f(void 0===s.tension&&void 0===s.friction&&void 0===s.stiffness&&void 0===s.damping&&void 0===s.mass,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var S=u.fromBouncinessAndSpeed(null!=(D=s.bounciness)?D:8,null!=(P=s.speed)?P:12);p._stiffness=S.stiffness,p._damping=S.damping,p._mass=1}else{var U,A,C=u.fromOrigamiTensionAndFriction(null!=(U=s.tension)?U:40,null!=(A=s.friction)?A:7);p._stiffness=C.stiffness,p._damping=C.damping,p._mass=1}return f(p._stiffness>0,'Stiffness value must be greater than 0'),f(p._damping>0,'Damping value must be greater than 0'),f(p._mass>0,'Mass value must be greater than 0'),p}return s(V,[{key:"__getNativeAnimationConfig",value:function(){var t;return{type:'spring',overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!=(t=this._initialVelocity)?t:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations}}},{key:"start",value:function(t,s,e,n,o){var l=this;if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=s,this.__onEnd=e,this._lastTime=Date.now(),this._frameTime=0,n instanceof V){var h=n.getInternalState();this._lastPosition=h.lastPosition,this._lastVelocity=h.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=h.lastTime}var _=function(){l._useNativeDriver?l.__startNativeAnimation(o):l.onUpdate()};this._delay?this._timeout=setTimeout(_,this._delay):_()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var t=Date.now();t>this._lastTime+64&&(t=this._lastTime+64);var s=(t-this._lastTime)/1e3;this._frameTime+=s;var e=this._damping,n=this._mass,o=this._stiffness,l=-this._initialVelocity,h=e/(2*Math.sqrt(o*n)),_=Math.sqrt(o/n),u=_*Math.sqrt(1-h*h),f=this._toValue-this._startPosition,c=0,m=0,v=this._frameTime;if(h<1){var p=Math.exp(-h*_*v);c=this._toValue-p*((l+h*_*f)/u*Math.sin(u*v)+f*Math.cos(u*v)),m=h*_*p*(Math.sin(u*v)*(l+h*_*f)/u+f*Math.cos(u*v))-p*(Math.cos(u*v)*(l+h*_*f)-u*f*Math.sin(u*v))}else{var y=Math.exp(-_*v);c=this._toValue-y*(f+(l+_*f)*v),m=y*(l*(v*_-1)+v*f*(_*_))}if(this._lastTime=t,this._lastPosition=c,this._lastVelocity=m,this._onUpdate(c),this.__active){var V=!1;this._overshootClamping&&0!==this._stiffness&&(V=this._startPosition<this._toValue?c>this._toValue:c<this._toValue);var T=Math.abs(m)<=this._restSpeedThreshold,b=!0;if(0!==this._stiffness&&(b=Math.abs(this._toValue-c)<=this._restDisplacementThreshold),V||T&&b)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){e(l(V.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),V})();_m.exports=m},240,[2,3,78,4,6,9,217,237,218,239,241,15,220]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){return 3.62*(n-30)+194}function t(n){return 3*(n-8)+25}m.exports={fromOrigamiTensionAndFriction:function(o,u){return{stiffness:n(o),damping:t(u)}},fromBouncinessAndSpeed:function(o,u){function f(n,t,o){return(n-t)/(o-t)}function c(n,t,o){return t+n*(o-t)}function s(n,t,o){return n*o+(1-n)*t}function p(n){return 44e-6*Math.pow(n,3)-.006*Math.pow(n,2)+.36*n+2}function h(n){return 4.5e-7*Math.pow(n,3)-332e-6*Math.pow(n,2)+.1078*n+5.84}var w=f(o/1.7,0,20);w=c(w,0,.8);var M,v,A,_,x=c(f(u/1.7,0,20),.5,200),B=(M=w,v=(A=x)<=18?(_=A,7e-4*Math.pow(_,3)-.031*Math.pow(_,2)+.64*_+1.28):A>18&&A<=44?p(A):h(A),s(2*M-M*M,v,.01));return{stiffness:n(x),damping:t(B)}}}},241,[]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),s=r(d[3]),o=r(d[4]),u=r(d[5]);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[6]),r(d[7]),r(d[8]);var h,l=r(d[9]),c=r(d[10]).shouldUseNativeDriver;function f(){if(!h){var t=r(d[11]);h=t.inOut(t.ease)}return h}var v=(function(h){s(V,l);var v,p,y=(v=V,p=_(),function(){var t,e=u(v);if(p){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function V(e){var n,s,o,u,_,h;return t(this,V),(h=y.call(this))._toValue=e.toValue,h._easing=null!=(n=e.easing)?n:f(),h._duration=null!=(s=e.duration)?s:500,h._delay=null!=(o=e.delay)?o:0,h.__iterations=null!=(u=e.iterations)?u:1,h._useNativeDriver=c(e),h.__isInteraction=null!=(_=e.isInteraction)?_:!h._useNativeDriver,h}return e(V,[{key:"__getNativeAnimationConfig",value:function(){for(var t=[],e=Math.round(this._duration/16.666666666666668),n=0;n<e;n++)t.push(this._easing(n/e));return t.push(this._easing(1)),{type:'frames',frames:t,toValue:this._toValue,iterations:this.__iterations}}},{key:"start",value:function(t,e,n,s,o){var u=this;this.__active=!0,this._fromValue=t,this._onUpdate=e,this.__onEnd=n;var _=function(){0!==u._duration||u._useNativeDriver?(u._startTime=Date.now(),u._useNativeDriver?u.__startNativeAnimation(o):u._animationFrame=requestAnimationFrame(u.onUpdate.bind(u))):(u._onUpdate(u._toValue),u.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(_,this._delay):_()}},{key:"onUpdate",value:function(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){n(u(V.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),V})();m.exports=v},242,[2,3,78,4,6,9,217,237,218,239,220,243]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,u=r(d[0]),t=r(d[1]),o=(function(){function o(){u(this,o)}return t(o,null,[{key:"step0",value:function(n){return n>0?1:0}},{key:"step1",value:function(n){return n>=1?1:0}},{key:"linear",value:function(n){return n}},{key:"ease",value:function(u){return n||(n=o.bezier(.42,0,1,1)),n(u)}},{key:"quad",value:function(n){return n*n}},{key:"cubic",value:function(n){return n*n*n}},{key:"poly",value:function(n){return function(u){return Math.pow(u,n)}}},{key:"sin",value:function(n){return 1-Math.cos(n*Math.PI/2)}},{key:"circle",value:function(n){return 1-Math.sqrt(1-n*n)}},{key:"exp",value:function(n){return Math.pow(2,10*(n-1))}},{key:"elastic",value:function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*Math.PI;return function(u){return 1-Math.pow(Math.cos(u*Math.PI/2),3)*Math.cos(u*n)}}},{key:"back",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return function(u){return u*u*((n+1)*u-n)}}},{key:"bounce",value:function(n){if(n<.36363636363636365)return 7.5625*n*n;if(n<.7272727272727273){var u=n-.5454545454545454;return 7.5625*u*u+.75}if(n<.9090909090909091){var t=n-.8181818181818182;return 7.5625*t*t+.9375}var o=n-.9545454545454546;return 7.5625*o*o+.984375}},{key:"bezier",value:function(n,u,t,o){return r(d[2])(n,u,t,o)}},{key:"in",value:function(n){return n}},{key:"out",value:function(n){return function(u){return 1-n(1-u)}}},{key:"inOut",value:function(n){return function(u){return u<.5?n(2*u)/2:1-n(2*(1-u))/2}}}]),o})();m.exports=o},243,[2,3,244]);
__d(function(g,r,_i,a,m,e,d){'use strict';var n=4,t=.001,u=1e-7,o=10,f=.1,i='function'==typeof Float32Array;function c(n,t){return 1-3*t+3*n}function v(n,t){return 3*t-6*n}function s(n){return 3*n}function w(n,t,u){return((c(t,u)*n+v(t,u))*n+s(t))*n}function l(n,t,u){return 3*c(t,u)*n*n+2*v(t,u)*n+s(t)}function y(n,t,f,i,c){var v,s,l=0,y=t,b=f;do{(v=w(s=y+(b-y)/2,i,c)-n)>0?b=s:y=s}while(Math.abs(v)>u&&++l<o);return s}function b(t,u,o,f){for(var i=u,c=0;c<n;++c){var v=l(i,o,f);if(0===v)return i;i-=(w(i,o,f)-t)/v}return i}m.exports=function(n,u,o,c){if(!(n>=0&&n<=1&&o>=0&&o<=1))throw new Error('bezier x values must be in [0, 1] range');var v=i?new Float32Array(11):new Array(11);if(n!==u||o!==c)for(var s=0;s<11;++s)v[s]=w(s*f,n,o);function h(u){for(var i=0,c=1;10!==c&&v[c]<=u;++c)i+=f;var s=i+(u-v[--c])/(v[c+1]-v[c])*f,w=l(s,n,o);return w>=t?b(u,s,n,o):0===w?s:y(u,i,i+f,n,o)}return function(t){return n===u&&o===c?t:0===t?0:1===t?1:w(h(t),u,c)}}},244,[]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var t,e=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),i=e(r(d[3])),l=e(r(d[4])),c=e(r(d[5])),s=e(r(d[6])),p=e(r(d[7])),u=e(r(d[8])),f=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=i?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}o.default=t,n&&n.set(t,o);return o})(r(d[9])),_=["style"],v=["style"];function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach(function(e){(0,o.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[10]);var P=r(d[11]).AnimatedEvent,k=r(d[12]),N=r(d[13]),A=r(d[14]),R=r(d[15]),w=r(d[16]),C=1;m.exports=null!=(t=f.recordAndRetrieve())?t:function(t,e){R('function'!=typeof t||t.prototype&&t.prototype.isReactComponent,"`createAnimatedComponent` does not support stateless functional components; use a class component instead.");var o=(function(o){(0,s.default)(R,o);var f,h,y=(f=R,h=O(),function(){var t,e=(0,u.default)(f);if(h){var n=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,p.default)(this,t)});function R(){var t;(0,l.default)(this,R);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=y.call.apply(y,[this].concat(n)))._invokeAnimatedPropsCallbackOnMount=!1,t._eventDetachers=[],t._animatedComponentId=C+++":animatedComponent",t._isFabric=function(){var e,n,o,i,l,c;return null!=t._component&&(null!=(null==(e=t._component._internalInstanceHandle)?void 0:null==(n=e.stateNode)?void 0:n.canonical)||null!=t._component.getNativeScrollRef&&null!=t._component.getNativeScrollRef()&&null!=(null==(o=t._component.getNativeScrollRef()._internalInstanceHandle)?void 0:null==(i=o.stateNode)?void 0:i.canonical)||null!=t._component.getScrollResponder&&null!=t._component.getScrollResponder()&&null!=t._component.getScrollResponder().getNativeScrollRef&&null!=t._component.getScrollResponder().getNativeScrollRef()&&null!=(null==(l=t._component.getScrollResponder().getNativeScrollRef()._internalInstanceHandle)?void 0:null==(c=l.stateNode)?void 0:c.canonical))},t._waitForUpdate=function(){t._isFabric()&&A.API.setWaitingForIdentifier(t._animatedComponentId)},t._markUpdateComplete=function(){t._isFabric()&&A.API.unsetWaitingForIdentifier(t._animatedComponentId)},t._animatedPropsCallback=function(){if(null==t._component)t._invokeAnimatedPropsCallbackOnMount=!0;else if('function'!=typeof t._component.setNativeProps||t._isFabric())t.forceUpdate();else{if(t._propsAnimated.__isNative)throw new Error("Attempting to run JS driven animation on animated node that has been moved to \"native\" earlier by starting an animation with `useNativeDriver: true`");t._component.setNativeProps(t._propsAnimated.__getAnimatedValue())}},t._setComponentRef=w({getForwardedRef:function(){return t.props.forwardedRef},setLocalRef:function(e){t._prevComponent=t._component,t._component=e}}),t}return(0,c.default)(R,[{key:"_attachNativeEvents",value:function(){var t,e=this,n=null!=(t=this._component)&&t.getScrollableNode?this._component.getScrollableNode():this._component,o=function(t){var o=e.props[t];o instanceof P&&o.__isNative&&(o.__attach(n,t),e._eventDetachers.push(function(){return o.__detach(n,t)}))};for(var i in this.props)o(i)}},{key:"_detachNativeEvents",value:function(){this._eventDetachers.forEach(function(t){return t()}),this._eventDetachers=[]}},{key:"_attachProps",value:function(t){var e=this._propsAnimated;this._propsAnimated=new k(t,this._animatedPropsCallback),this._propsAnimated.__attach(),e&&(e.__restoreDefaultValues(),e.__detach())}},{key:"render",value:function(){var o,l,c=this._propsAnimated.__getValue()||{},s=c.style,p=void 0===s?{}:s,u=(0,i.default)(c,_),f=this.props.passthroughAnimatedPropExplicitValues||{},h=f.style,y=void 0===h?{}:h,O=(0,i.default)(f,v),P=b(b({},p),y),k=null==this._component&&(!1===(null==e?void 0:e.collapsable)||!0!==u.collapsable)||this._isFabric(),A=(null!=(o=u.collapsable)?o:this._propsAnimated.__isNative||k||!1===(null==e?void 0:e.collapsable))?{nativeID:null!=(l=u.nativeID)?l:'animatedComponent',collapsable:!1}:{};return N.createElement(t,(0,n.default)({},u,O,A,{style:P,ref:this._setComponentRef}))}},{key:"UNSAFE_componentWillMount",value:function(){this._waitForUpdate(),this._attachProps(this.props)}},{key:"componentDidMount",value:function(){this._invokeAnimatedPropsCallbackOnMount&&(this._invokeAnimatedPropsCallbackOnMount=!1,this._animatedPropsCallback()),this._propsAnimated.setNativeView(this._component),this._attachNativeEvents(),this._markUpdateComplete()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this._waitForUpdate(),this._attachProps(t)}},{key:"componentDidUpdate",value:function(t){this._component!==this._prevComponent&&this._propsAnimated.setNativeView(this._component),this._component===this._prevComponent&&t===this.props||(this._detachNativeEvents(),this._attachNativeEvents()),this._markUpdateComplete()}},{key:"componentWillUnmount",value:function(){this._propsAnimated&&this._propsAnimated.__detach(),this._detachNativeEvents(),this._markUpdateComplete(),this._component=null,this._prevComponent=null}}]),R})(N.Component);return N.forwardRef(function(t,e){return N.createElement(o,(0,n.default)({},t,null==e?null:{forwardedRef:e}))})}},245,[1,13,34,97,2,3,4,6,9,246,177,216,232,10,220,15,247]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.inject=function(n){if(void 0!==t)return;t=n},e.recordAndRetrieve=function(){void 0===t&&(t=null);return t};var t;!(function(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=n(o);if(u&&u.has(t))return u.get(t);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=t[l]}f.default=t,u&&u.set(t,f)})(r(d[0]));function n(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(n=function(t){return t?u:o})(t)}},246,[10]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){var n=t.getForwardedRef,o=t.setLocalRef;return function(t){var c=n();o(t),'function'==typeof c?c(t):'object'==typeof c&&null!=c&&(c.current=t)}}},247,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=o(n);if(f&&f.has(t))return f.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=t[l]}u.default=t,f&&f.set(t,u);return u})(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(o=function(t){return t?f:n})(t)}var f=r(d[3]),u=r(d[4]),c=n.forwardRef(function(o,u){return n.createElement(f,(0,t.default)({scrollEventThrottle:1e-4},o,{ref:u}))});m.exports=u(c)},248,[1,13,10,249,245]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),i=e(r(d[3])),o=e(r(d[4])),l=e(r(d[5])),s=e(r(d[6])),u=e(r(d[7])),c=e(r(d[8])),f=r(d[9]),p=["numColumns","columnWrapperStyle","removeClippedSubviews"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}r(d[10]);var C=r(d[11]),b=r(d[12]),w=r(d[13]),_=r(d[14]),k=r(d[15]),I=r(d[16]);function R(e){return null!=e?e:1}var P=(function(e){(0,s.default)(E,e);var h,P,x=(h=E,P=v(),function(){var e,t=(0,c.default)(h);if(P){var n=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,u.default)(this,e)});function E(e){var t;return(0,o.default)(this,E),(t=x.call(this,e))._virtualizedListPairs=[],t._captureRef=function(e){t._listRef=e},t._getItem=function(e,n){var i=R(t.props.numColumns);if(i>1){for(var o=[],l=0;l<i;l++){var s=e[n*i+l];null!=s&&o.push(s)}return o}return e[n]},t._getItemCount=function(e){if(e){var n=R(t.props.numColumns);return n>1?Math.ceil(e.length/n):e.length}return 0},t._keyExtractor=function(e,n){var i,o=R(t.props.numColumns),l=null!=(i=t.props.keyExtractor)?i:f.keyExtractor;return o>1?Array.isArray(e)?e.map(function(e,t){return l(e,n*o+t)}).join(':'):void I(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",o):l(e,n)},t._renderer=function(){var e=t.props,n=e.ListItemComponent,o=e.renderItem,l=e.columnWrapperStyle,s=R(t.props.numColumns),u=n?'ListItemComponent':'renderItem',c=function(e){return n?b.createElement(n,e):o?o(e):null};return(0,i.default)({},u,function(e){if(s>1){var t=e.item,n=e.index;return I(Array.isArray(t),'Expected array of items with numColumns > 1'),b.createElement(w,{style:k.compose(O.row,l)},t.map(function(t,i){var o=c({item:t,index:n*s+i,separators:e.separators});return null!=o?b.createElement(b.Fragment,{key:i},o):null}))}return c(e)})},t._checkProps(t.props),t.props.viewabilityConfigCallbackPairs?t._virtualizedListPairs=t.props.viewabilityConfigCallbackPairs.map(function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:t._createOnViewableItemsChanged(e.onViewableItemsChanged)}}):t.props.onViewableItemsChanged&&t._virtualizedListPairs.push({viewabilityConfig:t.props.viewabilityConfig,onViewableItemsChanged:t._createOnViewableItemsChanged(t.props.onViewableItemsChanged)}),t}return(0,l.default)(E,[{key:"scrollToEnd",value:function(e){this._listRef&&this._listRef.scrollToEnd(e)}},{key:"scrollToIndex",value:function(e){this._listRef&&this._listRef.scrollToIndex(e)}},{key:"scrollToItem",value:function(e){this._listRef&&this._listRef.scrollToItem(e)}},{key:"scrollToOffset",value:function(e){this._listRef&&this._listRef.scrollToOffset(e)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getNativeScrollRef",value:function(){if(this._listRef)return this._listRef.getScrollRef()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"setNativeProps",value:function(e){this._listRef&&this._listRef.setNativeProps(e)}},{key:"componentDidUpdate",value:function(e){I(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),I(e.onViewableItemsChanged===this.props.onViewableItemsChanged,'Changing onViewableItemsChanged on the fly is not supported'),I(!C(e.viewabilityConfig,this.props.viewabilityConfig),'Changing viewabilityConfig on the fly is not supported'),I(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,'Changing viewabilityConfigCallbackPairs on the fly is not supported'),this._checkProps(this.props)}},{key:"_checkProps",value:function(e){var t=e.getItem,n=e.getItemCount,i=e.horizontal,o=e.columnWrapperStyle,l=e.onViewableItemsChanged,s=e.viewabilityConfigCallbackPairs,u=R(this.props.numColumns);I(!t&&!n,'FlatList does not support custom data formats.'),u>1?I(!i,'numColumns does not support horizontal.'):I(!o,'columnWrapperStyle not supported for single column lists'),I(!(l&&s),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(e,t){var n,i=R(this.props.numColumns),o=null!=(n=this.props.keyExtractor)?n:f.keyExtractor;t.item.forEach(function(n,l){I(null!=t.index,'Missing index!');var s=t.index*i+l;e.push(y(y({},t),{},{item:n,key:o(n,s),index:s}))})}},{key:"_createOnViewableItemsChanged",value:function(e){var t=this;return function(n){var i=R(t.props.numColumns);if(e)if(i>1){var o=[],l=[];n.viewableItems.forEach(function(e){return t._pushMultiColumnViewable(l,e)}),n.changed.forEach(function(e){return t._pushMultiColumnViewable(o,e)}),e({viewableItems:l,changed:o})}else e(n)}}},{key:"render",value:function(){var e,i=this.props,o=(i.numColumns,i.columnWrapperStyle,i.removeClippedSubviews),l=(0,n.default)(i,p);return b.createElement(_,(0,t.default)({},l,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=o,null!=e&&e)},this._renderer()))}}]),E})(b.PureComponent),O=k.create({row:{flexDirection:'row'}});m.exports=P},249,[1,13,97,34,2,3,4,6,9,250,55,167,10,177,251,176,15]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.computeWindowedRenderLimits=function(t,f,o,u,v,c,h){var b=f(t);if(0===b)return v;var M=h.offset,y=h.velocity,x=h.visibleLength,p=Math.max(0,M),w=p+x,O=(u-1)*x,k=y>1?'after':y<-1?'before':'none',_=Math.max(0,p-.5*O),j=Math.max(0,w+.5*O);if(c(b-1).offset<_)return{first:Math.max(0,b-1-o),last:b-1};var L=l([_,p,w,j],b,c),S=(0,n.default)(L,4),C=S[0],E=S[1],J=S[2],N=S[3];C=null==C?0:C,E=null==E?Math.max(0,C):E,N=null==N?b-1:N,J=null==J?Math.min(N,E+o-1):J;var R={first:E,last:J},B=s(v,R);for(;!(E<=C&&J>=N);){var F=B>=o,P=E<=v.first||E>v.last,T=E>C&&(!F||!P),W=J>=v.last||J<v.first,q=J<N&&(!F||!W);if(F&&!T&&!q)break;!T||'after'===k&&q&&W||(P&&B++,E--),!q||'before'===k&&T&&P||(W&&B++,J++)}if(!(J>=E&&E>=0&&J<b&&E>=C&&J<=N&&E<=R.first&&J>=R.last))throw new Error('Bad window calculation '+JSON.stringify({first:E,last:J,itemCount:b,overscanFirst:C,overscanLast:N,visible:R}));return{first:E,last:J}},e.elementsThatOverlapOffsets=l,e.keyExtractor=function(t,n){if('object'==typeof t&&null!=(null==t?void 0:t.key))return t.key;if('object'==typeof t&&null!=(null==t?void 0:t.id))return t.id;return String(n)},e.newRangeCount=s;var n=t(r(d[1])),f=t(r(d[2]));function l(t,n,l){for(var s=[],o=0,u=0;u<n;u++)for(var v=l(u),c=v.offset+v.length,h=0;h<t.length;h++)if(null==s[h]&&c>=t[h]&&(s[h]=u,o++,h===t.length-1))return(0,f.default)(o===t.length,'bad offsets input, should be in increasing order: %s',JSON.stringify(t)),s;return s}function s(t,n){return n.last-n.first+1-Math.max(0,1+Math.min(n.last,t.last)-Math.max(n.first,t.first))}},250,[1,41,15]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),i=e(r(d[5])),l=e(r(d[6])),c=e(r(d[7])),h=e(r(d[8])),u=r(d[9]),p=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=_(t);if(o&&o.has(e))return o.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,o&&o.set(e,n);return n})(r(d[10])),f=r(d[11]);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(_=function(e){return e?o:t})(e)}function y(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(o)return(o=o.call(e)).next.bind(o);if(Array.isArray(e)||(o=v(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return C(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function L(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e){var t=I();return function(){var o,n=(0,h.default)(e);if(t){var s=(0,h.default)(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return(0,c.default)(this,o)}}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var M=r(d[12]),w=r(d[13]),R=r(d[14]),x=r(d[15]),k=r(d[16]),E=r(d[17]),T=r(d[18]),O=r(d[19]),P=(r(d[20]),r(d[21])),z=r(d[22]),K=!1,F='';function V(e){return null!=e&&e}function D(e){return null!=e?e:10}function N(e){return null!=e?e:10}function A(e){return null!=e?e:2}function B(e){return null!=e?e:21}var H=(function(e){(0,l.default)(h,e);var c=S(h);function h(e){var o,s;(0,n.default)(this,h),(s=c.call(this,e))._getScrollMetrics=function(){return s._scrollMetrics},s._getOutermostParentListRef=function(){return s._isNestedWithSameOrientation()?s.context.getOutermostParentListRef():(0,i.default)(s)},s._getNestedChildState=function(e){var t=s._nestedChildLists.get(e);return t&&t.state},s._registerAsNestedChild=function(e){var t=s._cellKeysToChildListKeys.get(e.cellKey)||new Set;t.add(e.key),s._cellKeysToChildListKeys.set(e.cellKey,t);var o=s._nestedChildLists.get(e.key);o&&null!==o.ref&&console.error("A VirtualizedList contains a cell which itself contains more than one VirtualizedList of the same orientation as the parent list. You must pass a unique listKey prop to each sibling list.\n\n"+W(b(b({},e),{},{horizontal:!!e.ref.props.horizontal}))),s._nestedChildLists.set(e.key,{ref:e.ref,state:null}),s._hasInteracted&&e.ref.recordInteraction()},s._unregisterAsNestedChild=function(e){s._nestedChildLists.set(e.key,{ref:null,state:e.state})},s._onUpdateSeparators=function(e,t){e.forEach(function(e){var o=null!=e&&s._cellRefs[e];o&&o.updateSeparatorProps(t)})},s._getSpacerKey=function(e){return e?'height':'width'},s._averageCellLength=0,s._cellKeysToChildListKeys=new Map,s._cellRefs={},s._frames={},s._footerLength=0,s._hasDoneInitialScroll=!1,s._hasInteracted=!1,s._hasMore=!1,s._hasWarned={},s._headerLength=0,s._hiPriInProgress=!1,s._highestMeasuredFrameIndex=0,s._indicesToKeys=new Map,s._nestedChildLists=new Map,s._offsetFromParentVirtualizedList=0,s._prevParentOffset=0,s._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0},s._scrollRef=null,s._sentEndForContentLength=0,s._totalCellLength=0,s._totalCellsMeasured=0,s._viewabilityTuples=[],s._captureScrollRef=function(e){s._scrollRef=e},s._defaultRenderScrollComponent=function(e){var o,n=e.onRefresh;return s._isNestedWithSameOrientation()?p.createElement(T,e):n?(z('boolean'==typeof e.refreshing,'`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(null!=(o=e.refreshing)?o:'undefined')+'`'),p.createElement(k,(0,t.default)({},e,{refreshControl:null==e.refreshControl?p.createElement(x,{refreshing:e.refreshing,onRefresh:n,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):p.createElement(k,e)},s._onCellUnmount=function(e){var t=s._frames[e];t&&(s._frames[e]=b(b({},t),{},{inLayout:!1}))},s._onLayout=function(e){s._isNestedWithSameOrientation()?s.measureLayoutRelativeToContainingList():s._scrollMetrics.visibleLength=s._selectLength(e.nativeEvent.layout),s.props.onLayout&&s.props.onLayout(e),s._scheduleCellsToRenderUpdate(),s._maybeCallOnEndReached()},s._onLayoutEmpty=function(e){s.props.onLayout&&s.props.onLayout(e)},s._onLayoutFooter=function(e){s._triggerRemeasureForChildListsInCell(s._getFooterCellKey()),s._footerLength=s._selectLength(e.nativeEvent.layout)},s._onLayoutHeader=function(e){s._headerLength=s._selectLength(e.nativeEvent.layout)},s._onContentSizeChange=function(e,t){e>0&&t>0&&null!=s.props.initialScrollIndex&&s.props.initialScrollIndex>0&&!s._hasDoneInitialScroll&&(null==s.props.contentOffset&&s.scrollToIndex({animated:!1,index:s.props.initialScrollIndex}),s._hasDoneInitialScroll=!0),s.props.onContentSizeChange&&s.props.onContentSizeChange(e,t),s._scrollMetrics.contentLength=s._selectLength({height:t,width:e}),s._scheduleCellsToRenderUpdate(),s._maybeCallOnEndReached()},s._convertParentScrollMetrics=function(e){var t=e.offset-s._offsetFromParentVirtualizedList,o=e.visibleLength,n=t-s._scrollMetrics.offset;return{visibleLength:o,contentLength:s._scrollMetrics.contentLength,offset:t,dOffset:n}},s._onScroll=function(e){s._nestedChildLists.forEach(function(t){t.ref&&t.ref._onScroll(e)}),s.props.onScroll&&s.props.onScroll(e);var t=e.timeStamp,o=s._selectLength(e.nativeEvent.layoutMeasurement),n=s._selectLength(e.nativeEvent.contentSize),i=s._selectOffset(e.nativeEvent.contentOffset),l=i-s._scrollMetrics.offset;if(s._isNestedWithSameOrientation()){if(0===s._scrollMetrics.contentLength)return;var c=s._convertParentScrollMetrics({visibleLength:o,offset:i});o=c.visibleLength,n=c.contentLength,i=c.offset,l=c.dOffset}var h=s._scrollMetrics.timestamp?Math.max(1,t-s._scrollMetrics.timestamp):1,u=l/h;h>500&&s._scrollMetrics.dt>500&&n>5*o&&!s._hasWarned.perf&&(P("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:h,prevDt:s._scrollMetrics.dt,contentLength:n}),s._hasWarned.perf=!0),s._scrollMetrics={contentLength:n,dt:h,dOffset:l,offset:i,timestamp:t,velocity:u,visibleLength:o},s._updateViewableItems(s.props.data),s.props&&(s._maybeCallOnEndReached(),0!==u&&s._fillRateHelper.activate(),s._computeBlankness(),s._scheduleCellsToRenderUpdate())},s._onScrollBeginDrag=function(e){s._nestedChildLists.forEach(function(t){t.ref&&t.ref._onScrollBeginDrag(e)}),s._viewabilityTuples.forEach(function(e){e.viewabilityHelper.recordInteraction()}),s._hasInteracted=!0,s.props.onScrollBeginDrag&&s.props.onScrollBeginDrag(e)},s._onScrollEndDrag=function(e){s._nestedChildLists.forEach(function(t){t.ref&&t.ref._onScrollEndDrag(e)});var t=e.nativeEvent.velocity;t&&(s._scrollMetrics.velocity=s._selectOffset(t)),s._computeBlankness(),s.props.onScrollEndDrag&&s.props.onScrollEndDrag(e)},s._onMomentumScrollBegin=function(e){s._nestedChildLists.forEach(function(t){t.ref&&t.ref._onMomentumScrollBegin(e)}),s.props.onMomentumScrollBegin&&s.props.onMomentumScrollBegin(e)},s._onMomentumScrollEnd=function(e){s._nestedChildLists.forEach(function(t){t.ref&&t.ref._onMomentumScrollEnd(e)}),s._scrollMetrics.velocity=0,s._computeBlankness(),s.props.onMomentumScrollEnd&&s.props.onMomentumScrollEnd(e)},s._updateCellsToRender=function(){var e=s.props,t=e.data,o=e.getItemCount,n=A(e.onEndReachedThreshold),i=s._isVirtualizationDisabled();s._updateViewableItems(t),t&&s.setState(function(e){var l,c=s._scrollMetrics,h=c.contentLength,p=c.offset,f=c.visibleLength;if(i){var _=h-f-p<n*f?N(s.props.maxToRenderPerBatch):0;l={first:0,last:Math.min(e.last+_,o(t)-1)}}else f>0&&h>0&&(s.props.initialScrollIndex&&!s._scrollMetrics.offset||(l=(0,u.computeWindowedRenderLimits)(s.props.data,s.props.getItemCount,N(s.props.maxToRenderPerBatch),B(s.props.windowSize),e,s._getFrameMetricsApprox,s._scrollMetrics)));if(l&&s._nestedChildLists.size>0)for(var v=l.first,C=l.last,L=v;L<=C;L++){var b=s._indicesToKeys.get(L),S=b&&s._cellKeysToChildListKeys.get(b);if(S){for(var I,M=!1,w=y(S);!(I=w()).done;){var R=I.value,x=s._nestedChildLists.get(R);if(x&&x.ref&&x.ref.hasMore()){M=!0;break}}if(M){l.last=L;break}}}return null!=l&&l.first===e.first&&l.last===e.last&&(l=null),l})},s._createViewToken=function(e,t){var o=s.props,n=o.data,i=(0,o.getItem)(n,e);return{index:e,item:i,key:s._keyExtractor(i,e),isViewable:t}},s._getFrameMetricsApprox=function(e){var t=s._getFrameMetrics(e);if(t&&t.index===e)return t;var o=s.props.getItemLayout;return z(!o,'Should not have to estimate frames when a measurement metrics function is provided'),{length:s._averageCellLength,offset:s._averageCellLength*e}},s._getFrameMetrics=function(e){var t=s.props,o=t.data,n=t.getItem,i=t.getItemCount,l=t.getItemLayout;z(i(o)>e,'Tried to get frame for out of range index '+e);var c=n(o,e),h=c&&s._frames[s._keyExtractor(c,e)];return h&&h.index===e||l&&(h=l(o,e)),h},z(!e.onScroll||!e.onScroll.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),z(B(e.windowSize)>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.'),s._fillRateHelper=new w(s._getFrameMetrics),s._updateCellsToRenderBatcher=new M(s._updateCellsToRender,null!=(o=s.props.updateCellsBatchingPeriod)?o:50),s.props.viewabilityConfigCallbackPairs?s._viewabilityTuples=s.props.viewabilityConfigCallbackPairs.map(function(e){return{viewabilityHelper:new O(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}}):s.props.onViewableItemsChanged&&s._viewabilityTuples.push({viewabilityHelper:new O(s.props.viewabilityConfig),onViewableItemsChanged:s.props.onViewableItemsChanged});var l={first:s.props.initialScrollIndex||0,last:Math.min(s.props.getItemCount(s.props.data),(s.props.initialScrollIndex||0)+D(s.props.initialNumToRender))-1};if(s._isNestedWithSameOrientation()){var f=s.context.getNestedChildState(s._getListKey());f&&(l=f,s.state=f,s._frames=f.frames)}return s.state=l,s}return(0,s.default)(h,[{key:"scrollToEnd",value:function(e){var t=!e||e.animated,o=this.props.getItemCount(this.props.data)-1,n=this._getFrameMetricsApprox(o),s=Math.max(0,n.offset+n.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(V(this.props.horizontal)?{x:s,animated:t}:{y:s,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToIndex",value:function(e){var t=this.props,o=t.data,n=t.horizontal,s=t.getItemCount,i=t.getItemLayout,l=t.onScrollToIndexFailed,c=e.animated,h=e.index,u=e.viewOffset,p=e.viewPosition;if(z(h>=0,"scrollToIndex out of range: requested index "+h+" but minimum is 0"),z(s(o)>=1,"scrollToIndex out of range: item length "+s(o)+" but minimum is 1"),z(h<s(o),"scrollToIndex out of range: requested index "+h+" is out of 0 to "+(s(o)-1)),!i&&h>this._highestMeasuredFrameIndex)return z(!!l,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void l({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:h});var f=this._getFrameMetricsApprox(h),_=Math.max(0,f.offset-(p||0)*(this._scrollMetrics.visibleLength-f.length))-(u||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(n?{x:_,animated:c}:{y:_,animated:c}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToItem",value:function(e){for(var t=e.item,o=this.props,n=o.data,s=o.getItem,i=(0,o.getItemCount)(n),l=0;l<i;l++)if(s(n,l)===t){this.scrollToIndex(b(b({},e),{},{index:l}));break}}},{key:"scrollToOffset",value:function(e){var t=e.animated,o=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(V(this.props.horizontal)?{x:o,animated:t}:{y:o,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach(function(e){e.ref&&e.ref.recordInteraction()}),this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props.data)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():R.findNodeHandle(this._scrollRef)}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"setNativeProps",value:function(e){this._scrollRef&&this._scrollRef.setNativeProps(e)}},{key:"_getCellKey",value:function(){var e;return(null==(e=this.context)?void 0:e.cellKey)||'rootList'}},{key:"_getListKey",value:function(){return this.props.listKey||this._getCellKey()}},{key:"_getDebugInfo",value:function(){var e;return{listKey:this._getListKey(),cellKey:this._getCellKey(),horizontal:V(this.props.horizontal),parent:null==(e=this.context)?void 0:e.debugInfo}}},{key:"hasMore",value:function(){return this._hasMore}},{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({cellKey:this._getCellKey(),key:this._getListKey(),ref:this,parentDebugInfo:this.context.debugInfo})}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({key:this._getListKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}}),this._updateViewableItems(null),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush()}},{key:"_pushCells",value:function(e,t,o,n,s,i){var l,c=this,h=this.props,u=h.CellRendererComponent,f=h.ItemSeparatorComponent,_=h.data,y=h.getItem,v=h.getItemCount,C=h.horizontal,L=this.props.ListHeaderComponent?1:0,b=v(_)-1;s=Math.min(b,s);for(var S=function(n){var s=y(_,n),h=c._keyExtractor(s,n);c._indicesToKeys.set(n,h),o.has(n+L)&&t.push(e.length),e.push(p.createElement(U,{CellRendererComponent:u,ItemSeparatorComponent:n<b?f:void 0,cellKey:h,fillRateHelper:c._fillRateHelper,horizontal:C,index:n,inversionStyle:i,item:s,key:h,prevCellKey:l,onUpdateSeparators:c._onUpdateSeparators,onLayout:function(e){return c._onCellLayout(e,h,n)},onUnmount:c._onCellUnmount,parentProps:c.props,ref:function(e){c._cellRefs[h]=e}})),l=h},I=n;I<=s;I++)S(I)}},{key:"_isVirtualizationDisabled",value:function(){return this.props.disableVirtualization||!1}},{key:"_isNestedWithSameOrientation",value:function(){var e=this.context;return!(!e||!!e.horizontal!==V(this.props.horizontal))}},{key:"_keyExtractor",value:function(e,t){if(null!=this.props.keyExtractor)return this.props.keyExtractor(e,t);var o=(0,u.keyExtractor)(e,t);return o===String(t)&&(K=!0,e.type&&e.type.displayName&&(F=e.type.displayName)),o}},{key:"render",value:function(){var e=this,t=this.props,n=t.ListEmptyComponent,s=t.ListFooterComponent,i=t.ListHeaderComponent,l=this.props,c=l.data,h=l.horizontal,u=this._isVirtualizationDisabled(),_=this.props.inverted?V(this.props.horizontal)?j.horizontallyInverted:j.verticallyInverted:null,y=[],v=new Set(this.props.stickyHeaderIndices),C=[];if(i){v.has(0)&&C.push(0);var L=p.isValidElement(i)?i:p.createElement(i,null);y.push(p.createElement(f.VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-header',key:"$header"},p.createElement(T,{onLayout:this._onLayoutHeader,style:E.compose(_,this.props.ListHeaderComponentStyle)},L)))}var S=this.props.getItemCount(c);if(S>0){K=!1,F='';var I=this._getSpacerKey(!h),M=this.props.initialScrollIndex?-1:D(this.props.initialNumToRender)-1,w=this.state,R=w.first,x=w.last;this._pushCells(y,C,v,0,M,_);var k=Math.max(M+1,R);if(!u&&R>M+1){var O=!1;if(v.size>0)for(var P=i?1:0,z=k-1;z>M;z--)if(v.has(z+P)){var N=this._getFrameMetricsApprox(M),A=this._getFrameMetricsApprox(z),B=A.offset-N.offset-(this.props.initialScrollIndex?0:N.length);y.push(p.createElement(T,{key:"$sticky_lead",style:(0,o.default)({},I,B)})),this._pushCells(y,C,v,z,z,_);var H=this._getFrameMetricsApprox(R).offset-(A.offset+A.length);y.push(p.createElement(T,{key:"$sticky_trail",style:(0,o.default)({},I,H)})),O=!0;break}if(!O){var U=this._getFrameMetricsApprox(M),W=this._getFrameMetricsApprox(R).offset-(U.offset+U.length);y.push(p.createElement(T,{key:"$lead_spacer",style:(0,o.default)({},I,W)}))}}if(this._pushCells(y,C,v,k,x,_),!this._hasWarned.keys&&K&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",F),this._hasWarned.keys=!0),!u&&x<S-1){var $=this._getFrameMetricsApprox(x),q=this.props.getItemLayout?S-1:Math.min(S-1,this._highestMeasuredFrameIndex),Y=this._getFrameMetricsApprox(q),J=Y.offset+Y.length-($.offset+$.length);y.push(p.createElement(T,{key:"$tail_spacer",style:(0,o.default)({},I,J)}))}}else if(n){var X=p.isValidElement(n)?n:p.createElement(n,null);y.push(p.cloneElement(X,{key:'$empty',onLayout:function(t){e._onLayoutEmpty(t),X.props.onLayout&&X.props.onLayout(t)},style:E.compose(_,X.props.style)}))}if(s){var G=p.isValidElement(s)?s:p.createElement(s,null);y.push(p.createElement(f.VirtualizedListCellContextProvider,{cellKey:this._getFooterCellKey(),key:"$footer"},p.createElement(T,{onLayout:this._onLayoutFooter,style:E.compose(_,this.props.ListFooterComponentStyle)},G)))}var Q,Z=b(b({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(Q=this.props.scrollEventThrottle,null!=Q?Q:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:C,style:_?[_,this.props.style]:this.props.style});this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var ee=p.createElement(f.VirtualizedListContextProvider,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:V(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild,debugInfo:this._getDebugInfo()}},p.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(Z),{ref:this._captureScrollRef},y));return this.props.debug?p.createElement(T,{style:j.debug},ee,this._renderDebugOverlay()):ee}},{key:"componentDidUpdate",value:function(e){var t=this.props,o=t.data,n=t.extraData;o===e.data&&n===e.extraData||this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.resetViewableIndices()});var s=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),s&&(this._hiPriInProgress=!1)}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics)}},{key:"_onCellLayout",value:function(e,t,o){var n=e.nativeEvent.layout,s={offset:this._selectOffset(n),length:this._selectLength(n),index:o,inLayout:!0},i=this._frames[t];i&&s.offset===i.offset&&s.length===i.length&&o===i.index?this._frames[t].inLayout=!0:(this._totalCellLength+=s.length-(i?i.length:0),this._totalCellsMeasured+=i?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=s,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,o),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(t),this._computeBlankness(),this._updateViewableItems(this.props.data)}},{key:"_triggerRemeasureForChildListsInCell",value:function(e){var t=this._cellKeysToChildListKeys.get(e);if(t)for(var o,n=y(t);!(o=n()).done;){var s=o.value,i=this._nestedChildLists.get(s);i&&i.ref&&i.ref.measureLayoutRelativeToContainingList()}}},{key:"measureLayoutRelativeToContainingList",value:function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),function(t,o,n,s){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:o}),e._scrollMetrics.contentLength=e._selectLength({width:n,height:s});var i=e._convertParentScrollMetrics(e.context.getScrollMetrics());(e._scrollMetrics.visibleLength!==i.visibleLength||e._scrollMetrics.offset!==i.offset)&&(e._scrollMetrics.visibleLength=i.visibleLength,e._scrollMetrics.offset=i.offset,e._cellKeysToChildListKeys.forEach(function(t){if(t)for(var o,n=y(t);!(o=n()).done;){var s=o.value,i=e._nestedChildLists.get(s);i&&i.ref&&i.ref.measureLayoutRelativeToContainingList()}}))},function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn('measureLayoutRelativeToContainingList threw an error',e.stack)}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+'-footer'}},{key:"_renderDebugOverlay",value:function(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],o=this.props.getItemCount(this.props.data),n=0;n<o;n++){var s=this._getFrameMetricsApprox(n);s.inLayout&&t.push(s)}var i=this._getFrameMetricsApprox(this.state.first).offset,l=this._getFrameMetricsApprox(this.state.last),c=l.offset+l.length-i,h=this._scrollMetrics.offset,u=this._scrollMetrics.visibleLength;return p.createElement(T,{style:[j.debugOverlayBase,j.debugOverlay]},t.map(function(t,o){return p.createElement(T,{key:'f'+o,style:[j.debugOverlayBase,j.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})}),p.createElement(T,{style:[j.debugOverlayBase,j.debugOverlayFrameLast,{top:i*e,height:c*e}]}),p.createElement(T,{style:[j.debugOverlayBase,j.debugOverlayFrameVis,{top:h*e,height:u*e}]}))}},{key:"_selectLength",value:function(e){return V(this.props.horizontal)?e.width:e.height}},{key:"_selectOffset",value:function(e){return V(this.props.horizontal)?e.x:e.y}},{key:"_maybeCallOnEndReached",value:function(){var e=this.props,t=e.data,o=e.getItemCount,n=e.onEndReached,s=e.onEndReachedThreshold,i=this._scrollMetrics,l=i.contentLength,c=i.visibleLength,h=l-c-i.offset,u=null!=s?s*c:2;n&&this.state.last===o(t)-1&&h<u&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,n({distanceFromEnd:h})):h>u&&(this._sentEndForContentLength=0)}},{key:"_scheduleCellsToRenderUpdate",value:function(){var e=this.state,t=e.first,o=e.last,n=this._scrollMetrics,s=n.offset,i=n.visibleLength,l=n.velocity,c=this.props.getItemCount(this.props.data),h=!1,u=A(this.props.onEndReachedThreshold)*i/2;if(t>0){var p=s-this._getFrameMetricsApprox(t).offset;h=h||p<0||l<-2&&p<u}if(o<c-1){var f=this._getFrameMetricsApprox(o).offset-(s+i);h=h||f<0||l>2&&f<u}if(h&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_updateViewableItems",value:function(e){var t=this,o=this.props.getItemCount;this._viewabilityTuples.forEach(function(n){n.viewabilityHelper.onUpdate(o(e),t._scrollMetrics.offset,t._scrollMetrics.visibleLength,t._getFrameMetrics,t._createViewToken,n.onViewableItemsChanged,t.state)})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var o=e.data,n=e.getItemCount,s=N(e.maxToRenderPerBatch);return{first:Math.max(0,Math.min(t.first,n(o)-1-s)),last:Math.max(0,Math.min(t.last,n(o)-1))}}}]),h})(p.PureComponent);H.contextType=f.VirtualizedListContext;var U=(function(e){(0,l.default)(i,e);var o=S(i);function i(){var e;(0,n.default)(this,i);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return(e=o.call.apply(o,[this].concat(s))).state={separatorProps:{highlighted:!1,leadingItem:e.props.item}},e._separators={highlight:function(){var t=e.props,o=t.cellKey,n=t.prevCellKey;e.props.onUpdateSeparators([o,n],{highlighted:!0})},unhighlight:function(){var t=e.props,o=t.cellKey,n=t.prevCellKey;e.props.onUpdateSeparators([o,n],{highlighted:!1})},updateProps:function(t,o){var n=e.props,s=n.cellKey,i=n.prevCellKey;e.props.onUpdateSeparators(['leading'===t?i:s],o)}},e}return(0,s.default)(i,[{key:"updateSeparatorProps",value:function(e){this.setState(function(t){return{separatorProps:b(b({},t.separatorProps),e)}})}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(e,t,o,n){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?p.createElement(t,{item:o,index:n,separators:this._separators}):e?e({item:o,index:n,separators:this._separators}):void z(!1,'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.')}},{key:"render",value:function(){var e=this.props,o=e.CellRendererComponent,n=e.ItemSeparatorComponent,s=e.fillRateHelper,i=e.horizontal,l=e.item,c=e.index,h=e.inversionStyle,u=e.parentProps,_=u.renderItem,y=u.getItemLayout,v=u.ListItemComponent,C=this._renderElement(_,v,l,c),L=!y||u.debug||s.enabled()?this.props.onLayout:void 0,b=n&&p.createElement(n,this.state.separatorProps),S=h?i?[j.rowReverse,h]:[j.columnReverse,h]:i?[j.row,h]:h,I=o?p.createElement(o,(0,t.default)({},this.props,{style:S,onLayout:L}),C,b):p.createElement(T,{style:S,onLayout:L},C,b);return p.createElement(f.VirtualizedListCellContextProvider,{cellKey:this.props.cellKey},I)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{separatorProps:b(b({},t.separatorProps),{},{leadingItem:e.item})}}}]),i})(p.Component);function W(e){for(var t="VirtualizedList trace:\n  Child ("+(e.horizontal?'horizontal':'vertical')+"):\n    listKey: "+e.key+"\n    cellKey: "+e.cellKey,o=e.parentDebugInfo;o;)t+="\n  Parent ("+(o.horizontal?'horizontal':'vertical')+"):\n    listKey: "+o.listKey+"\n    cellKey: "+o.cellKey,o=o.parent;return t}var j=E.create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},row:{flexDirection:'row'},rowReverse:{flexDirection:'row-reverse'},columnReverse:{flexDirection:'column-reverse'},debug:{flex:1},debugOverlayBase:{position:'absolute',top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:'blue',borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:'orange'},debugOverlayFrameLast:{left:0,borderColor:'green',borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:'red',borderWidth:2}});m.exports=H},251,[1,13,34,2,3,8,4,6,9,250,10,252,253,254,24,255,258,176,177,274,168,87,15]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualizedListCellContextProvider=function(t){var n=t.cellKey,i=t.children,l=(0,o.useContext)(c);return o.createElement(c.Provider,{value:null==l?null:u(u({},l),{},{cellKey:n})},i)},e.VirtualizedListContext=void 0,e.VirtualizedListContextProvider=function(t){var n=t.children,i=t.value,l=(0,o.useMemo)(function(){return{cellKey:null,getScrollMetrics:i.getScrollMetrics,horizontal:i.horizontal,getOutermostParentListRef:i.getOutermostParentListRef,getNestedChildState:i.getNestedChildState,registerAsNestedChild:i.registerAsNestedChild,unregisterAsNestedChild:i.unregisterAsNestedChild,debugInfo:{cellKey:i.debugInfo.cellKey,horizontal:i.debugInfo.horizontal,listKey:i.debugInfo.listKey,parent:i.debugInfo.parent}}},[i.getScrollMetrics,i.horizontal,i.getOutermostParentListRef,i.getNestedChildState,i.registerAsNestedChild,i.unregisterAsNestedChild,i.debugInfo.cellKey,i.debugInfo.horizontal,i.debugInfo.listKey,i.debugInfo.parent]);return o.createElement(c.Provider,{value:l},n)},e.VirtualizedListContextResetter=function(t){var n=t.children;return o.createElement(c.Provider,{value:null},n)};var n=t(r(d[1])),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=i(n);if(o&&o.has(t))return o.get(t);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var s=u?Object.getOwnPropertyDescriptor(t,c):null;s&&(s.get||s.set)?Object.defineProperty(l,c,s):l[c]=t[c]}l.default=t,o&&o.set(t,l);return l})(r(d[2]));function i(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(i=function(t){return t?o:n})(t)}function l(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}function u(t){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?l(Object(i),!0).forEach(function(o){(0,n.default)(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var c=o.createContext(null);e.VirtualizedListContext=c},252,[1,34,10]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),l=r(d[2]),s=(function(){function s(n,l){t(this,s),this._delay=l,this._callback=n}return n(s,[{key:"dispose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{abort:!1};this._taskHandle&&(this._taskHandle.cancel(),t.abort||this._callback(),this._taskHandle=null)}},{key:"schedule",value:function(){var t=this;if(!this._taskHandle){var n=setTimeout(function(){t._taskHandle=l.runAfterInteractions(function(){t._taskHandle=null,t._callback()})},this._delay);this._taskHandle={cancel:function(){return clearTimeout(n)}}}}}]),s})();m.exports=s},253,[2,3,224]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),i=r(d[2]);function s(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,s)}return i}function l(n){for(var i=1;i<arguments.length;i++){var l=null!=arguments[i]?arguments[i]:{};i%2?s(Object(l),!0).forEach(function(i){t(n,i,l[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):s(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))})}return n}var o=n(function t(){i(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}),_=[],h=10,u=null,f=(function(){function t(n){i(this,t),this._anyBlankStartTime=null,this._enabled=!1,this._info=new o,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=n,this._enabled=(u||0)>Math.random(),this._resetData()}return n(t,[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<h)this._resetData();else{var n=g.performance.now()-t,i=l(l({},this._info),{},{total_time_spent:n});_.forEach(function(t){return t(i)}),this._resetData()}}}},{key:"computeBlankness",value:function(t,n,i){if(!this._enabled||0===t.getItemCount(t.data)||null==this._samplesStartTime)return 0;var s=i.dOffset,l=i.offset,o=i.velocity,_=i.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(_),this._info.pixels_scrolled+=Math.round(Math.abs(s));var h=Math.round(1e3*Math.abs(o)),u=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var f=0,c=n.first,p=this._getFrameMetrics(c);c<=n.last&&(!p||!p.inLayout);)p=this._getFrameMetrics(c),c++;p&&c>0&&(f=Math.min(_,Math.max(0,p.offset-l)));for(var y=0,b=n.last,k=this._getFrameMetrics(b);b>=n.first&&(!k||!k.inLayout);)k=this._getFrameMetrics(b),b--;if(k&&b<t.getItemCount(t.data)-1){var v=k.offset+k.length;y=Math.min(_,Math.max(0,l+_-v))}var S=Math.round(f+y),M=S/_;return M>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=h,this._info.any_blank_count++,this._info.pixels_blank+=S,M>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(h<.01||Math.abs(s)<1)&&this.deactivateAndFlush(),M}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new o,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:"addListener",value:function(t){return null===u&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),_.push(t),{remove:function(){_=_.filter(function(n){return t!==n})}}}},{key:"setSampleRate",value:function(t){u=t}},{key:"setMinSampleCount",value:function(t){h=t}}]),t})();m.exports=f},254,[34,3,2]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4])),f=e(r(d[5])),u=e(r(d[6])),c=e(r(d[7])),l=(v(r(d[8])),v(r(d[9]))),p=["enabled","colors","progressBackgroundColor","size"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&Object.prototype.hasOwnProperty.call(e,f)){var u=s?Object.getOwnPropertyDescriptor(e,f):null;u&&(u.get||u.set)?Object.defineProperty(o,f,u):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}r(d[10]);var y=r(d[11]),_=(function(e){(0,f.default)(N,e);var h,v,_=(h=N,v=R(),function(){var e,t=(0,c.default)(h);if(v){var n=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,u.default)(this,e)});function N(){var e;(0,o.default)(this,N);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=_.call.apply(_,[this].concat(n)))._lastNativeRefreshing=!1,e._onRefresh=function(){e._lastNativeRefreshing=!0,e.props.onRefresh&&e.props.onRefresh(),e.forceUpdate()},e._setNativeRef=function(t){e._nativeRef=t},e}return(0,s.default)(N,[{key:"componentDidMount",value:function(){this._lastNativeRefreshing=this.props.refreshing}},{key:"componentDidUpdate",value:function(e){this.props.refreshing!==e.refreshing?this._lastNativeRefreshing=this.props.refreshing:this.props.refreshing!==this._lastNativeRefreshing&&this._nativeRef&&(l.Commands.setNativeRefreshing(this._nativeRef,this.props.refreshing),this._lastNativeRefreshing=this.props.refreshing)}},{key:"render",value:function(){var e=this.props,o=(e.enabled,e.colors,e.progressBackgroundColor,e.size,(0,n.default)(e,p));return y.createElement(l.default,(0,t.default)({},o,{ref:this._setNativeRef,onRefresh:this._onRefresh}))}}]),N})(y.Component);m.exports=_},255,[1,13,97,2,3,4,6,9,256,257,55,10]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=f(n);if(o&&o.has(t))return o.get(t);var u={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=p?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(u,l,c):u[l]=t[l]}u.default=t,o&&o.set(t,u)})(r(d[1]));var n=t(r(d[2])),o=t(r(d[3]));function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(f=function(t){return t?o:n})(t)}var u=(0,n.default)({supportedCommands:['setNativeRefreshing']});e.Commands=u;var p=(0,o.default)('AndroidSwipeRefreshLayout');e.default=p},256,[1,10,130,183]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=o(n);if(f&&f.has(t))return f.get(t);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var c=l?Object.getOwnPropertyDescriptor(t,p):null;c&&(c.get||c.set)?Object.defineProperty(u,p,c):u[p]=t[p]}u.default=t,f&&f.set(t,u)})(r(d[1]));var n=t(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(o=function(t){return t?f:n})(t)}var f=(0,t(r(d[3])).default)({supportedCommands:['setNativeRefreshing']});e.Commands=f;var u=(0,n.default)('PullToRefreshView',{paperComponentName:'RCTRefreshControl',excludedPlatforms:['android']});e.default=u},257,[1,10,183,130]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]),o=e(r(d[1])),t=e(r(d[2])),n=e(r(d[3])),l=e(r(d[4])),i=e(r(d[5])),s=e(r(d[6])),c=e(r(d[7])),u=e(r(d[8])),p=e(r(d[9])),f=e(r(d[10])),h=e(r(d[11])),y=e(r(d[12])),S=P(r(d[13])),_=e(r(d[14])),b=e(r(d[15])),v=e(r(d[16])),R=e(r(d[17])),w=e(r(d[18])),T=e(r(d[19])),O=e(r(d[20])),V=e(r(d[21])),k=e(r(d[22])),H=e(r(d[23])),E=e(r(d[24])),D=e(r(d[25])),I=e(r(d[26])),K=e(r(d[27])),A=P(r(d[28])),N=e(r(d[29])),M=e(r(d[30])),W=e(r(d[31])),x=e(r(d[32])),C=e(r(d[33]));function B(e){if("function"!=typeof WeakMap)return null;var o=new WeakMap,t=new WeakMap;return(B=function(e){return e?t:o})(e)}function P(e,o){if(!o&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=B(o);if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=l?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function L(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}r(d[14]);var F='android'===y.default.OS?{NativeHorizontalScrollViewTuple:[W.default,M.default],NativeVerticalScrollViewTuple:[C.default,R.default]}:{NativeHorizontalScrollViewTuple:[C.default,x.default],NativeVerticalScrollViewTuple:[C.default,x.default]},G=F.NativeHorizontalScrollViewTuple,Y=F.NativeVerticalScrollViewTuple,U=16,Z=(function(e){(0,c.default)(W,e);var o,R,M=(o=W,R=j(),function(){var e,t=(0,p.default)(o);if(R){var n=(0,p.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,u.default)(this,e)});function W(e){var o,t,n,i,c;return(0,l.default)(this,W),(c=M.call(this,e))._scrollAnimatedValueAttachment=null,c._stickyHeaderRefs=new Map,c._headerLayoutYs=new Map,c._keyboardWillOpenTo=null,c._additionalScrollOffset=0,c._isTouching=!1,c._lastMomentumScrollBeginTime=0,c._lastMomentumScrollEndTime=0,c._observedScrollSinceBecomingResponder=!1,c._becameResponderWhileAnimating=!1,c._preventNegativeScrollOffset=null,c._animated=null,c._subscriptionKeyboardWillShow=null,c._subscriptionKeyboardWillHide=null,c._subscriptionKeyboardDidShow=null,c._subscriptionKeyboardDidHide=null,c.state={layoutHeight:null},c._setNativeRef=(0,K.default)({getForwardedRef:function(){return c.props.scrollViewRef},setLocalRef:function(e){c._scrollViewRef=e,e&&(e.getScrollResponder=c.getScrollResponder,e.getScrollableNode=c.getScrollableNode,e.getInnerViewNode=c.getInnerViewNode,e.getInnerViewRef=c.getInnerViewRef,e.getNativeScrollRef=c.getNativeScrollRef,e.scrollTo=c.scrollTo,e.scrollToEnd=c.scrollToEnd,e.flashScrollIndicators=c.flashScrollIndicators,e.scrollResponderZoomTo=c.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=c.scrollResponderScrollNativeHandleToKeyboard)}}),c.getScrollResponder=function(){return(0,s.default)(c)},c.getScrollableNode=function(){return _.default.findNodeHandle(c._scrollViewRef)},c.getInnerViewNode=function(){return _.default.findNodeHandle(c._innerViewRef)},c.getInnerViewRef=function(){return c._innerViewRef},c.getNativeScrollRef=function(){return c._scrollViewRef},c.scrollTo=function(e,o,t){var n,l,i;'number'==typeof e?(console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead."),l=e,n=o,i=t):e&&(l=e.y,n=e.x,i=e.animated),null!=c._scrollViewRef&&N.default.scrollTo(c._scrollViewRef,n||0,l||0,!1!==i)},c.scrollToEnd=function(e){var o=!1!==(e&&e.animated);null!=c._scrollViewRef&&N.default.scrollToEnd(c._scrollViewRef,o)},c.flashScrollIndicators=function(){null!=c._scrollViewRef&&N.default.flashScrollIndicators(c._scrollViewRef)},c.scrollResponderScrollNativeHandleToKeyboard=function(e,o,t){c._additionalScrollOffset=o||0,c._preventNegativeScrollOffset=!!t,null!=c._innerViewRef&&('number'==typeof e?w.default.measureLayout(e,_.default.findNodeHandle((0,s.default)(c)),c._textInputFocusError,c._inputMeasureAndScrollToKeyboard):e.measureLayout(c._innerViewRef,c._inputMeasureAndScrollToKeyboard,c._textInputFocusError))},c.scrollResponderZoomTo=function(e,o){(0,E.default)('ios'===y.default.OS,'zoomToRect is not implemented'),'animated'in e?(c._animated=e.animated,delete e.animated):void 0!==o&&console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead'),null!=c._scrollViewRef&&N.default.zoomToRect(c._scrollViewRef,e,!1!==o)},c._inputMeasureAndScrollToKeyboard=function(e,o,t,n){var l=h.default.get('window').height,i=function(){null!=c._keyboardWillOpenTo&&(l=c._keyboardWillOpenTo.endCoordinates.screenY);var e=o-l+n+c._additionalScrollOffset;!0===c._preventNegativeScrollOffset&&(e=Math.max(0,e)),c.scrollTo({x:0,y:e,animated:!0}),c._additionalScrollOffset=0,c._preventNegativeScrollOffset=!1};null==c._keyboardWillOpenTo?setTimeout(function(){i()},0):i()},c._handleScroll=function(e){'android'===y.default.OS&&'on-drag'===c.props.keyboardDismissMode&&c._isTouching&&(0,k.default)(),c._observedScrollSinceBecomingResponder=!0,c.props.onScroll&&c.props.onScroll(e)},c._handleLayout=function(e){!0===c.props.invertStickyHeaders&&c.setState({layoutHeight:e.nativeEvent.layout.height}),c.props.onLayout&&c.props.onLayout(e)},c._handleContentOnLayout=function(e){var o=e.nativeEvent.layout,t=o.width,n=o.height;c.props.onContentSizeChange&&c.props.onContentSizeChange(t,n)},c._scrollViewRef=null,c._innerViewRef=null,c._setInnerViewRef=(0,K.default)({getForwardedRef:function(){return c.props.innerViewRef},setLocalRef:function(e){c._innerViewRef=e}}),c.scrollResponderKeyboardWillShow=function(e){c._keyboardWillOpenTo=e,c.props.onKeyboardWillShow&&c.props.onKeyboardWillShow(e)},c.scrollResponderKeyboardWillHide=function(e){c._keyboardWillOpenTo=null,c.props.onKeyboardWillHide&&c.props.onKeyboardWillHide(e)},c.scrollResponderKeyboardDidShow=function(e){e&&(c._keyboardWillOpenTo=e),c.props.onKeyboardDidShow&&c.props.onKeyboardDidShow(e)},c.scrollResponderKeyboardDidHide=function(e){c._keyboardWillOpenTo=null,c.props.onKeyboardDidHide&&c.props.onKeyboardDidHide(e)},c._handleMomentumScrollBegin=function(e){c._lastMomentumScrollBeginTime=g.performance.now(),c.props.onMomentumScrollBegin&&c.props.onMomentumScrollBegin(e)},c._handleMomentumScrollEnd=function(e){O.default.endScroll(),c._lastMomentumScrollEndTime=g.performance.now(),c.props.onMomentumScrollEnd&&c.props.onMomentumScrollEnd(e)},c._handleScrollBeginDrag=function(e){O.default.beginScroll(),c.props.onScrollBeginDrag&&c.props.onScrollBeginDrag(e)},c._handleScrollEndDrag=function(e){var o=e.nativeEvent.velocity;c._isAnimating()||o&&(0!==o.x||0!==o.y)||O.default.endScroll(),c.props.onScrollEndDrag&&c.props.onScrollEndDrag(e)},c._isAnimating=function(){return g.performance.now()-c._lastMomentumScrollEndTime<U||c._lastMomentumScrollEndTime<c._lastMomentumScrollBeginTime},c._handleResponderGrant=function(e){c._observedScrollSinceBecomingResponder=!1,c.props.onResponderGrant&&c.props.onResponderGrant(e),c._becameResponderWhileAnimating=c._isAnimating()},c._handleResponderReject=function(){},c._handleResponderRelease=function(e){if(c._isTouching=0!==e.nativeEvent.touches.length,c.props.onResponderRelease&&c.props.onResponderRelease(e),'number'!=typeof e.target){var o=V.default.currentlyFocusedInput();!0===c.props.keyboardShouldPersistTaps||'always'===c.props.keyboardShouldPersistTaps||!c._keyboardIsDismissible()||e.target===o||c._observedScrollSinceBecomingResponder||c._becameResponderWhileAnimating||V.default.blurTextInput(o)}},c._handleResponderTerminationRequest=function(){return!c._observedScrollSinceBecomingResponder},c._handleScrollShouldSetResponder=function(){return!0!==c.props.disableScrollViewPanResponder&&c._isTouching},c._handleStartShouldSetResponder=function(e){if(!0===c.props.disableScrollViewPanResponder)return!1;var o=V.default.currentlyFocusedInput();return!('handled'!==c.props.keyboardShouldPersistTaps||!c._keyboardIsDismissible()||e.target===o)},c._handleStartShouldSetResponderCapture=function(e){if(c._isAnimating())return!0;if(!0===c.props.disableScrollViewPanResponder)return!1;var o=c.props.keyboardShouldPersistTaps,t=!o||'never'===o;return'number'!=typeof e.target&&!(!t||!c._keyboardIsDismissible()||null==e.target||V.default.isTextInput(e.target))},c._keyboardIsDismissible=function(){var e=V.default.currentlyFocusedInput(),o=null!=e&&V.default.isTextInput(e),t=null!=c._keyboardWillOpenTo||'android'===y.default.OS;return o&&t},c._handleTouchEnd=function(e){var o=e.nativeEvent;c._isTouching=0!==o.touches.length,c.props.onTouchEnd&&c.props.onTouchEnd(e)},c._handleTouchCancel=function(e){c._isTouching=!1,c.props.onTouchCancel&&c.props.onTouchCancel(e)},c._handleTouchStart=function(e){c._isTouching=!0,c.props.onTouchStart&&c.props.onTouchStart(e)},c._handleTouchMove=function(e){c.props.onTouchMove&&c.props.onTouchMove(e)},c._scrollAnimatedValue=new f.default.Value(null!=(o=null==(t=c.props.contentOffset)?void 0:t.y)?o:0),c._scrollAnimatedValue.setOffset(null!=(n=null==(i=c.props.contentInset)?void 0:i.top)?n:0),c}return(0,i.default)(W,[{key:"componentDidMount",value:function(){'boolean'==typeof this.props.keyboardShouldPersistTaps&&console.warn("'keyboardShouldPersistTaps={"+(!0===this.props.keyboardShouldPersistTaps?'true':'false')+"}' is deprecated. Use 'keyboardShouldPersistTaps=\""+(this.props.keyboardShouldPersistTaps?'always':'never')+"\"' instead"),this._keyboardWillOpenTo=null,this._additionalScrollOffset=0,this._subscriptionKeyboardWillShow=T.default.addListener('keyboardWillShow',this.scrollResponderKeyboardWillShow),this._subscriptionKeyboardWillHide=T.default.addListener('keyboardWillHide',this.scrollResponderKeyboardWillHide),this._subscriptionKeyboardDidShow=T.default.addListener('keyboardDidShow',this.scrollResponderKeyboardDidShow),this._subscriptionKeyboardDidHide=T.default.addListener('keyboardDidHide',this.scrollResponderKeyboardDidHide),this._updateAnimatedNodeAttachment()}},{key:"componentDidUpdate",value:function(e){var o=e.contentInset?e.contentInset.top:0,t=this.props.contentInset?this.props.contentInset.top:0;o!==t&&this._scrollAnimatedValue.setOffset(t||0),this._updateAnimatedNodeAttachment()}},{key:"componentWillUnmount",value:function(){null!=this._subscriptionKeyboardWillShow&&this._subscriptionKeyboardWillShow.remove(),null!=this._subscriptionKeyboardWillHide&&this._subscriptionKeyboardWillHide.remove(),null!=this._subscriptionKeyboardDidShow&&this._subscriptionKeyboardDidShow.remove(),null!=this._subscriptionKeyboardDidHide&&this._subscriptionKeyboardDidHide.remove(),this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach()}},{key:"_textInputFocusError",value:function(){console.warn('Error measuring text field.')}},{key:"_getKeyForIndex",value:function(e,o){var t=o[e];return t&&t.key}},{key:"_updateAnimatedNodeAttachment",value:function(){this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach(),this.props.stickyHeaderIndices&&this.props.stickyHeaderIndices.length>0&&(this._scrollAnimatedValueAttachment=f.default.attachNativeEvent(this._scrollViewRef,'onScroll',[{nativeEvent:{contentOffset:{y:this._scrollAnimatedValue}}}]))}},{key:"_setStickyHeaderRef",value:function(e,o){o?this._stickyHeaderRefs.set(e,o):this._stickyHeaderRefs.delete(e)}},{key:"_onStickyHeaderLayout",value:function(e,o,t){var n=this.props.stickyHeaderIndices;if(n){var l=S.Children.toArray(this.props.children);if(t===this._getKeyForIndex(e,l)){var i=o.nativeEvent.layout.y;this._headerLayoutYs.set(t,i);var s=n[n.indexOf(e)-1];if(null!=s){var c=this._stickyHeaderRefs.get(this._getKeyForIndex(s,l));c&&c.setNextHeaderY&&c.setNextHeaderY(i)}}}}},{key:"render",value:function(){var e=this,o=!0===this.props.horizontal?G:Y,l=(0,n.default)(o,2),i=l[0],s=l[1],c=[!0===this.props.horizontal&&q.contentContainerHorizontal,this.props.contentContainerStyle],u=null==this.props.onContentSizeChange?null:{onLayout:this._handleContentOnLayout},p=this.props.stickyHeaderIndices,f=this.props.children;if(null!=p&&p.length>0){var h=S.Children.toArray(this.props.children);f=h.map(function(o,t){var n=o?p.indexOf(t):-1;if(n>-1){var l=o.key,i=p[n+1],s=e.props.StickyHeaderComponent||b.default;return S.createElement(s,{key:l,nativeID:'StickyHeader-'+l,ref:function(o){return e._setStickyHeaderRef(l,o)},nextHeaderLayoutY:e._headerLayoutYs.get(e._getKeyForIndex(i,h)),onLayout:function(o){return e._onStickyHeaderLayout(t,o,l)},scrollAnimatedValue:e._scrollAnimatedValue,inverted:e.props.invertStickyHeaders,hiddenOnScroll:e.props.stickyHeaderHiddenOnScroll,scrollViewHeight:e.state.layoutHeight},o)}return o})}f=S.createElement(A.default.Provider,{value:!0===this.props.horizontal?A.HORIZONTAL:A.VERTICAL},f);var _=Array.isArray(p)&&p.length>0,R=S.createElement(s,(0,t.default)({},u,{ref:this._setInnerViewRef,style:c,removeClippedSubviews:('android'!==y.default.OS||!_)&&this.props.removeClippedSubviews,collapsable:!1}),f),w=void 0!==this.props.alwaysBounceHorizontal?this.props.alwaysBounceHorizontal:this.props.horizontal,T=void 0!==this.props.alwaysBounceVertical?this.props.alwaysBounceVertical:!this.props.horizontal,O=!0===this.props.horizontal?q.baseHorizontal:q.baseVertical,V=z(z({},this.props),{},{alwaysBounceHorizontal:w,alwaysBounceVertical:T,style:v.default.compose(O,this.props.style),onContentSizeChange:null,onLayout:this._handleLayout,onMomentumScrollBegin:this._handleMomentumScrollBegin,onMomentumScrollEnd:this._handleMomentumScrollEnd,onResponderGrant:this._handleResponderGrant,onResponderReject:this._handleResponderReject,onResponderRelease:this._handleResponderRelease,onResponderTerminationRequest:this._handleResponderTerminationRequest,onScrollBeginDrag:this._handleScrollBeginDrag,onScrollEndDrag:this._handleScrollEndDrag,onScrollShouldSetResponder:this._handleScrollShouldSetResponder,onStartShouldSetResponder:this._handleStartShouldSetResponder,onStartShouldSetResponderCapture:this._handleStartShouldSetResponderCapture,onTouchEnd:this._handleTouchEnd,onTouchMove:this._handleTouchMove,onTouchStart:this._handleTouchStart,onTouchCancel:this._handleTouchCancel,onScroll:this._handleScroll,scrollEventThrottle:_?1:this.props.scrollEventThrottle,sendMomentumEvents:!(!this.props.onMomentumScrollBegin&&!this.props.onMomentumScrollEnd),snapToStart:!1!==this.props.snapToStart,snapToEnd:!1!==this.props.snapToEnd,pagingEnabled:y.default.select({ios:!0===this.props.pagingEnabled&&null==this.props.snapToInterval&&null==this.props.snapToOffsets,android:!0===this.props.pagingEnabled||null!=this.props.snapToInterval||null!=this.props.snapToOffsets})}),k=this.props.decelerationRate;null!=k&&(V.decelerationRate=(0,D.default)(k));var E=this.props.refreshControl;if(E){if('ios'===y.default.OS)return S.createElement(i,(0,t.default)({},V,{ref:this._setNativeRef}),E,R);if('android'===y.default.OS){var K=(0,I.default)((0,H.default)(V.style)),N=K.outer,M=K.inner;return S.cloneElement(E,{style:v.default.compose(O,N)},S.createElement(i,(0,t.default)({},V,{style:v.default.compose(O,M),ref:this._setNativeRef}),R))}}return S.createElement(i,(0,t.default)({},V,{ref:this._setNativeRef}),R)}}]),W})(S.Component);Z.Context=A.default;var q=v.default.create({baseVertical:{flexGrow:1,flexShrink:1,flexDirection:'column',overflow:'scroll'},baseHorizontal:{flexGrow:1,flexShrink:1,flexDirection:'row',overflow:'scroll'},contentContainerHorizontal:{flexDirection:'row'}});function J(e,o){return S.createElement(Z,(0,t.default)({},e,{scrollViewRef:o}))}J.displayName='ScrollView';var Q=S.forwardRef(J);Q.Context=A.default,Q.displayName='ScrollView',m.exports=Q},258,[1,34,13,41,2,3,8,4,6,9,226,159,55,10,24,259,176,177,145,260,264,128,262,168,15,266,267,247,268,269,270,271,272,273]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),f=t(r(d[5])),s=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=c(n);if(u&&u.has(t))return u.get(t);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var s=o?Object.getOwnPropertyDescriptor(t,f):null;s&&(s.get||s.set)?Object.defineProperty(l,f,s):l[f]=t[f]}l.default=t,u&&u.set(t,l);return l})(r(d[6]));function c(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(c=function(t){return t?u:n})(t)}var p=f.default.View,v=s.forwardRef(function(t,o){var c=t.inverted,v=t.scrollViewHeight,y=t.hiddenOnScroll,R=t.scrollAnimatedValue,O=t.nextHeaderLayoutY,L=s.useState(!1),b=(0,n.default)(L,2),w=b[0],S=b[1],j=s.useState(0),E=(0,n.default)(j,2),P=E[0],_=E[1],x=s.useState(0),M=(0,n.default)(x,2),k=M[0],C=M[1],D=s.useState(null),H=(0,n.default)(D,2),I=H[0],V=H[1],Y=s.useState(O),T=(0,n.default)(Y,2),W=T[0],A=T[1],N=s.useState(!1),z=(0,n.default)(N,2),F=z[0],q=z[1],B=s.useRef(),G=(0,u.default)({getForwardedRef:function(){return o},setLocalRef:function(t){var n,u;(B.current=t,t)&&(t.setNextHeaderY=function(t){A(t)},q(!(null==(n=t._internalInstanceHandle)||null==(u=n.stateNode)||!u.canonical)))}}),J=(0,s.useMemo)(function(){return!0===y?f.default.diffClamp(R.interpolate({extrapolateLeft:'clamp',inputRange:[P,P+1],outputRange:[0,1]}).interpolate({inputRange:[0,1],outputRange:[0,-1]}),-k,0):null},[R,k,P,y]),K=s.useState(function(){var t=R.interpolate({inputRange:[-1,0],outputRange:[0,0]});return null!=J?f.default.add(t,J):t}),Q=(0,n.default)(K,2),U=Q[0],X=Q[1],Z=(0,s.useRef)(!0),$=(0,s.useRef)(null);(0,s.useEffect)(function(){0!==I&&null!=I&&(Z.current=!1)},[I]);var ee=(0,s.useCallback)(function(t){var n=t.value,u='android'===l.default.OS?15:64;0!==n||Z.current?(null!=$.current&&clearTimeout($.current),$.current=setTimeout(function(){n!==I&&V(n)},u)):Z.current=!0},[I]);(0,s.useEffect)(function(){var t=[-1,0],n=[0,0];if(w)if(!0===c){if(null!=v){var u=P+k-v;if(u>0){t.push(u),n.push(0),t.push(u+1),n.push(1);var l=(W||0)-k-v;l>u&&(t.push(l,l+1),n.push(l-u,l-u))}}}else{t.push(P),n.push(0);var o=(W||0)-k;o>=P?(t.push(o,o+1),n.push(o-P,o-P)):(t.push(P+1),n.push(1))}var s,p=R.interpolate({inputRange:t,outputRange:n});return null!=J&&(p=f.default.add(p,J)),F&&(s=p.addListener(ee)),X(p),function(){s&&p.removeListener(s),null!=$.current&&clearTimeout($.current)}},[W,w,k,P,v,R,c,J,ee,F]);var te=s.Children.only(t.children),ne=F&&null!=I?{style:{transform:[{translateY:I}]}}:null;return s.createElement(p,{collapsable:!1,nativeID:t.nativeID,onLayout:function(n){_(n.nativeEvent.layout.y),C(n.nativeEvent.layout.height),S(!0),t.onLayout(n);var u=s.Children.only(t.children);u.props.onLayout&&u.props.onLayout(n)},ref:G,style:[te.props.style,h.header,{transform:[{translateY:U}]}],passthroughAnimatedPropExplicitValues:ne},s.cloneElement(te,{style:h.fill,onLayout:void 0}))}),h=o.default.create({header:{zIndex:10,position:'relative'},fill:{flex:1}}),y=v;e.default=y},259,[1,41,247,55,176,214,10]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),s=t(r(d[5])),f=t(r(d[6])),v=t(r(d[7])),c=(function(){function t(){(0,n.default)(this,t),this._emitter=new l.default('ios'!==f.default.OS?null:v.default)}return(0,u.default)(t,[{key:"addListener",value:function(t,n,u){return this._emitter.addListener(t,n)}},{key:"removeListener",value:function(t,n){this._emitter.removeListener(t,n)}},{key:"removeAllListeners",value:function(t){this._emitter.removeAllListeners(t)}},{key:"dismiss",value:function(){(0,s.default)()}},{key:"scheduleLayoutAnimation",value:function(t){var n=t.duration,u=t.easing;null!=n&&0!==n&&o.default.configureNext({duration:n,update:{duration:n,type:null!=u&&o.default.Types[u]||'keyboard'}})}}]),t})();m.exports=new c},260,[1,2,3,99,261,262,55,263]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),t=r(d[2]);function u(u,o,l){var s,c;if(!n.default.isTesting){var p,y,f=!1,b=function(){f||(f=!0,clearTimeout(I),null==o||o())},I=setTimeout(b,(null!=(s=u.duration)?s:0)+17),O=null==(c=g)?void 0:c.nativeFabricUIManager;if(null!=O&&O.configureNextLayoutAnimation)null==(p=g)||null==(y=p.nativeFabricUIManager)||y.configureNextLayoutAnimation(u,b,null!=l?l:function(){});else null!=t&&t.configureNextLayoutAnimation&&t.configureNextLayoutAnimation(u,null!=b?b:function(){},null!=l?l:function(){})}}function o(n,t,u){return{duration:n,create:{type:t,property:u},update:{type:t},delete:{type:t,property:u}}}var l={easeInEaseOut:o(300,'easeInEaseOut','opacity'),linear:o(500,'linear','opacity'),spring:{duration:700,create:{type:'linear',property:'opacity'},update:{type:'spring',springDamping:.4},delete:{type:'linear',property:'opacity'}}},s={configureNext:u,create:o,Types:Object.freeze({spring:'spring',linear:'linear',easeInEaseOut:'easeInEaseOut',easeIn:'easeIn',easeOut:'easeOut',keyboard:'keyboard'}),Properties:Object.freeze({opacity:'opacity',scaleX:'scaleX',scaleY:'scaleY',scaleXY:'scaleXY'}),checkConfig:function(){console.error('LayoutAnimation.checkConfig(...) has been disabled.')},Presets:l,easeInEaseOut:u.bind(null,l.easeInEaseOut),linear:u.bind(null,l.linear),spring:u.bind(null,l.spring)};m.exports=s},261,[1,55,145]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(){t.blurTextInput(t.currentlyFocusedInput())}},262,[128]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('KeyboardObserver');e.default=n},263,[39]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),o=r(d[2]),l={setGlobalOptions:function(l){if(void 0!==l.debug&&o(t.default,'Trying to debug FrameRateLogger without the native module!'),t.default){var n={debug:!!l.debug,reportStackTraces:!!l.reportStackTraces};t.default.setGlobalOptions(n)}},setContext:function(o){t.default&&t.default.setContext(o)},beginScroll:function(){t.default&&t.default.beginScroll()},endScroll:function(){t.default&&t.default.endScroll()}};m.exports=l},264,[1,265,15]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('FrameRateLogger');e.default=n},265,[39]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=function(n){return'normal'===n?t.default.select({ios:.998,android:.985}):'fast'===n?t.default.select({ios:.99,android:.9}):n}},266,[1,55]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s){var c=null,t=null;if(null!=s){c={},t={};for(var n=0,l=Object.keys(s);n<l.length;n++){var o=l[n];switch(o){case'margin':case'marginHorizontal':case'marginVertical':case'marginBottom':case'marginTop':case'marginLeft':case'marginRight':case'flex':case'flexGrow':case'flexShrink':case'flexBasis':case'alignSelf':case'height':case'minHeight':case'maxHeight':case'width':case'minWidth':case'maxWidth':case'position':case'left':case'right':case'bottom':case'top':case'transform':c[o]=s[o];break;default:t[o]=s[o]}}}return{outer:c,inner:t}}},267,[]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VERTICAL=e.HORIZONTAL=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(u,c,p):u[c]=n[c]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).createContext(null);e.default=n;var o=Object.freeze({horizontal:!0});e.HORIZONTAL=o;var f=Object.freeze({horizontal:!1});e.VERTICAL=f},268,[10]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1]));!(function(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=n(o);if(f&&f.has(t))return f.get(t);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=l?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(u,c,p):u[c]=t[c]}u.default=t,f&&f.set(t,u)})(r(d[2]));function n(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(n=function(t){return t?f:o})(t)}var f=(0,o.default)({supportedCommands:['flashScrollIndicators','scrollTo','scrollToEnd','zoomToRect']});e.default=f},269,[1,130,10]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,o(r(d[1])).default)('AndroidHorizontalScrollContentView');e.default=t},270,[1,183]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,l=new WeakMap;return(t=function(t){return t?l:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var l=t(o);if(l&&l.has(n))return l.get(n);var s={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var f=u?Object.getOwnPropertyDescriptor(n,c):null;f&&(f.get||f.set)?Object.defineProperty(s,c,f):s[c]=n[c]}s.default=n,l&&l.set(n,s);return s})(r(d[0])).get('AndroidHorizontalScrollView',function(){return{uiViewClassName:'AndroidHorizontalScrollView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{decelerationRate:!0,disableIntervalMomentum:!0,endFillColor:{process:r(d[1])},fadingEdgeLength:!0,nestedScrollEnabled:!0,overScrollMode:!0,pagingEnabled:!0,persistentScrollbar:!0,scrollEnabled:!0,scrollPerfTag:!0,sendMomentumEvents:!0,showsHorizontalScrollIndicator:!0,snapToEnd:!0,snapToInterval:!0,snapToStart:!0,snapToOffsets:!0,contentOffset:!0}}});e.default=n},271,[143,134]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('RCTScrollContentView',function(){return{uiViewClassName:'RCTScrollContentView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{}}});e.default=n},272,[143]);
__d(function(g,r,i,a,m,e,d){function o(n){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(o=function(o){return o?l:t})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,t){if(!t&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var l=o(t);if(l&&l.has(n))return l.get(n);var c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in n)if("default"!==u&&Object.prototype.hasOwnProperty.call(n,u)){var f=s?Object.getOwnPropertyDescriptor(n,u):null;f&&(f.get||f.set)?Object.defineProperty(c,u,f):c[u]=n[u]}c.default=n,l&&l.set(n,c);return c})(r(d[0])).get('RCTScrollView',function(){return{uiViewClassName:'RCTScrollView',bubblingEventTypes:{},directEventTypes:{topScrollToTop:{registrationName:'onScrollToTop'}},validAttributes:{alwaysBounceHorizontal:!0,alwaysBounceVertical:!0,automaticallyAdjustContentInsets:!0,automaticallyAdjustsScrollIndicatorInsets:!0,bounces:!0,bouncesZoom:!0,canCancelContentTouches:!0,centerContent:!0,contentInset:{diff:r(d[1])},contentOffset:{diff:r(d[1])},contentInsetAdjustmentBehavior:!0,decelerationRate:!0,directionalLockEnabled:!0,disableIntervalMomentum:!0,endFillColor:{process:r(d[2])},fadingEdgeLength:!0,indicatorStyle:!0,inverted:!0,keyboardDismissMode:!0,maintainVisibleContentPosition:!0,maximumZoomScale:!0,minimumZoomScale:!0,nestedScrollEnabled:!0,onMomentumScrollBegin:!0,onMomentumScrollEnd:!0,onScroll:!0,onScrollBeginDrag:!0,onScrollEndDrag:!0,onScrollToTop:!0,overScrollMode:!0,pagingEnabled:!0,persistentScrollbar:!0,pinchGestureEnabled:!0,scrollEnabled:!0,scrollEventThrottle:!0,scrollIndicatorInsets:{diff:r(d[1])},scrollPerfTag:!0,scrollToOverflowEnabled:!0,scrollsToTop:!0,sendMomentumEvents:!0,showsHorizontalScrollIndicator:!0,showsVerticalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToOffsets:!0,snapToStart:!0,zoomScale:!0}}});e.default=n},273,[143,153,134]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),i=r(d[2]),o=r(d[3]);function s(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,o)}return i}function c(n){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?s(Object(o),!0).forEach(function(i){t(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function l(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=u(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){if(t){if("string"==typeof t)return f(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,n):void 0}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,o=new Array(n);i<n;i++)o[i]=t[i];return o}var h=r(d[4]),v=(function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewAreaCoveragePercentThreshold:0};i(this,t),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=n}return o(t,[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(t,n,i,o,s){var c=this._config,l=c.itemVisiblePercentThreshold,u=c.viewAreaCoveragePercentThreshold,f=null!=u,v=f?u:l;h(null!=v&&null!=l!=(null!=u),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var y=[];if(0===t)return y;var p=-1,w=s||{first:0,last:t-1},_=w.first,I=w.last;if(I>=t)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:s,itemCount:t})),[];for(var O=_;O<=I;O++){var j=o(O);if(j){var P=j.offset-n,S=P+j.length;if(P<i&&S>0)p=O,b(f,v,P,S,i,j.length)&&y.push(O);else if(p>=0)break}}return y}},{key:"onUpdate",value:function(t,n,i,o,s,c,l){var u=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==t&&o(0)){var f=[];if(t&&(f=this.computeViewableItems(t,n,i,o,l)),this._viewableIndices.length!==f.length||!this._viewableIndices.every(function(t,n){return t===f[n]}))if(this._viewableIndices=f,this._config.minimumViewTime){var h=setTimeout(function(){u._timers.delete(h),u._onUpdateSync(f,c,s)},this._config.minimumViewTime);this._timers.add(h)}else this._onUpdateSync(f,c,s)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(t,i,o){var s=this;t=t.filter(function(t){return s._viewableIndices.includes(t)});for(var u,f=this._viewableItems,h=new Map(t.map(function(t){var n=o(t,!0);return[n.key,n]})),v=[],b=l(h);!(u=b()).done;){var y=u.value,p=n(y,2),w=p[0],_=p[1];f.has(w)||v.push(_)}for(var I,O=l(f);!(I=O()).done;){var j=I.value,P=n(j,2),S=P[0],A=P[1];h.has(S)||v.push(c(c({},A),{},{isViewable:!1}))}v.length>0&&(this._viewableItems=h,i({viewableItems:Array.from(h.values()),changed:v,viewabilityConfig:this._config}))}}]),t})();function b(t,n,i,o,s,c){if(p(i,o,s))return!0;var l=y(i,o,s);return 100*(t?l/s:l/c)>=n}function y(t,n,i){var o=Math.min(n,i)-Math.max(t,0);return Math.max(0,o)}function p(t,n,i){return t>=0&&n<=i&&n>t}m.exports=v},274,[34,41,2,3,15]);
__d(function(g,r,i,a,m,e,d){!(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(u,c,l):u[c]=n[c]}u.default=n,f&&f.set(n,u)})(r(d[0]));function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}var n=r(d[1]),o=r(d[2]);m.exports=o(n,{collapsable:!1})},275,[10,276,245]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),f=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=v(n);if(o&&o.has(t))return o.get(t);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var l=c?Object.getOwnPropertyDescriptor(t,f):null;l&&(l.get||l.set)?Object.defineProperty(u,f,l):u[f]=t[f]}u.default=t,o&&o.set(t,u);return u})(r(d[5])),l=t(r(d[6])),s=t(r(d[7])),h=t(r(d[8])),p=t(r(d[9])),y=t(r(d[10])),w=t(r(d[11]));function v(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(v=function(t){return t?o:n})(t)}var b=function(t,n){var u,c,l=(0,p.default)(t.source)||{uri:void 0,width:void 0,height:void 0};if(Array.isArray(l))c=(0,h.default)([M.base,t.style])||{},u=l;else{var y=l.width,v=l.height,b=l.uri;c=(0,h.default)([{width:y,height:v},M.base,t.style])||{},u=[l],''===b&&console.warn('source.uri should not be an empty string')}var z=t.resizeMode||c.resizeMode||'cover',I=c.tintColor;if(null!=t.src&&console.warn('The <Image> component requires a `source` property rather than `src`.'),null!=t.children)throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');return f.createElement(s.default.Consumer,null,function(l){return f.createElement(w.default,(0,o.default)({},t,{ref:n,style:c,resizeMode:z,tintColor:I,source:u,internal_analyticTag:l}))})};(b=f.forwardRef(b)).displayName='Image',b.getSize=function(t,n,o){y.default.getSize(t).then(function(t){var o=(0,u.default)(t,2),c=o[0],f=o[1];return n(c,f)}).catch(o||function(){console.warn('Failed to get size for image '+t)})},b.getSizeWithHeaders=function(t,n,o,u){return y.default.getSizeWithHeaders(t,n).then(function(t){o(t.width,t.height)}).catch(u||function(){console.warn('Failed to get size for image: '+t)})},b.prefetch=function(t){return y.default.prefetchImage(t)},b.prefetchWithMetadata=function(t,n,o){return y.default.prefetchImageWithMetadata?y.default.prefetchImageWithMetadata(t,n,o||0):y.default.prefetchImage(t)},b.queryCache=function(t){return n.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.default.awrap(y.default.queryCache(t));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},null,null,null,Promise)},b.resolveAssetSource=p.default,b.propTypes=c.default;var M=l.default.create({base:{overflow:'hidden'}});m.exports=b},276,[1,68,13,41,277,10,176,280,168,155,281,282]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=r(d[1]),t=r(d[2]),s=r(d[3]),c=r(d[4]);m.exports={style:s(t),source:o,defaultSource:c.oneOfType([c.shape({uri:c.string,width:c.number,height:c.number,scale:c.number}),c.number]),accessible:c.bool,accessibilityLabel:c.node,blurRadius:c.number,capInsets:n,resizeMethod:c.oneOf(['auto','resize','scale']),resizeMode:c.oneOf(['cover','contain','stretch','repeat','center']),testID:c.string,onLayout:c.func,onLoadStart:c.func,onProgress:c.func,onError:c.func,onPartialLoad:c.func,onLoad:c.func,onLoadEnd:c.func}},277,[190,278,279,194,191]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n.shape({uri:n.string,bundle:n.string,method:n.string,headers:n.objectOf(n.string),body:n.string,cache:n.oneOf(['default','reload','force-cache','only-if-cached']),width:n.number,height:n.number,scale:n.number}),c=n.oneOfType([t,n.number,n.arrayOf(t)]);m.exports=c},278,[191]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]);function o(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);o&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function n(n){for(var i=1;i<arguments.length;i++){var b=null!=arguments[i]?arguments[i]:{};i%2?o(Object(b),!0).forEach(function(o){t(n,o,b[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(b)):o(Object(b)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(b,t))})}return n}var i=r(d[1]),b=r(d[2]),c=r(d[3]),u=r(d[4]),s=r(d[5]),f=n(n(n(n({},b),c),u),{},{resizeMode:s.oneOf(['center','contain','cover','repeat','stretch']),backfaceVisibility:s.oneOf(['visible','hidden']),backgroundColor:i,borderColor:i,borderWidth:s.number,borderRadius:s.number,overflow:s.oneOf(['visible','hidden']),tintColor:i,opacity:s.number,overlayColor:s.string,borderTopLeftRadius:s.number,borderTopRightRadius:s.number,borderBottomLeftRadius:s.number,borderBottomRightRadius:s.number});m.exports=f},279,[34,189,198,199,200,191]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).createContext(null);e.default=n},280,[10]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('ImageLoader');e.default=n},281,[39]);
__d(function(g,r,i,a,m,e,d){function t(o){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(t=function(t){return t?s:n})(o)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(function(o,n){if(!n&&o&&o.__esModule)return o;if(null===o||"object"!=typeof o&&"function"!=typeof o)return{default:o};var s=t(n);if(s&&s.has(o))return s.get(o);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in o)if("default"!==f&&Object.prototype.hasOwnProperty.call(o,f)){var c=l?Object.getOwnPropertyDescriptor(o,f):null;c&&(c.get||c.set)?Object.defineProperty(u,f,c):u[f]=o[f]}u.default=o,s&&s.set(o,u);return u})(r(d[0])).get('RCTImageView',function(){return{uiViewClassName:'RCTImageView',bubblingEventTypes:{},directEventTypes:{topLoadStart:{registrationName:'onLoadStart'},topProgress:{registrationName:'onProgress'},topError:{registrationName:'onError'},topPartialLoad:{registrationName:'onPartialLoad'},topLoad:{registrationName:'onLoad'},topLoadEnd:{registrationName:'onLoadEnd'}},validAttributes:{blurRadius:!0,capInsets:{diff:r(d[1])},defaultSource:{process:r(d[2])},defaultSrc:!0,fadeDuration:!0,headers:!0,internal_analyticTag:!0,loadingIndicatorSrc:!0,onError:!0,onLoad:!0,onLoadEnd:!0,onLoadStart:!0,onPartialLoad:!0,onProgress:!0,overlayColor:{process:r(d[3])},progressiveRenderingEnabled:!0,resizeMethod:!0,resizeMode:!0,shouldNotifyLoadEvents:!0,source:!0,src:!0,tintColor:{process:r(d[3])}}}});e.default=o},282,[143,138,155,134]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=o(n);if(f&&f.has(t))return f.get(t);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=l?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(u,c,p):u[c]=t[c]}u.default=t,f&&f.set(t,u);return u})(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(o=function(t){return t?f:n})(t)}var f=r(d[3]),u=r(d[4]),l=n.forwardRef(function(o,u){return n.createElement(f,(0,t.default)({scrollEventThrottle:1e-4},o,{ref:u}))});m.exports=u(l,{collapsable:!1})},283,[1,13,10,258,245]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),f=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=u(n);if(f&&f.has(t))return f.get(t);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(o,l,p):o[l]=t[l]}o.default=t,f&&f.set(t,o);return o})(r(d[2])),o=t(r(d[3]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(u=function(t){return t?f:n})(t)}var c=r(d[4]),l=f.forwardRef(function(t,u){return f.createElement(o.default,(0,n.default)({scrollEventThrottle:1e-4},t,{ref:u}))});m.exports=c(l)},284,[1,13,10,285,245]);
__d(function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),f=e(r(d[4])),u=e(r(d[5])),c=e(r(d[6])),l=e(r(d[7])),s=e(r(d[8])),p=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var c=f?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(o,u,c):o[u]=e[u]}o.default=e,n&&n.set(e,o);return o})(r(d[9])),v=e(r(d[10])),y=["stickySectionHeadersEnabled"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var _=(function(e){(0,u.default)(w,e);var h,_,L=(h=w,_=R(),function(){var e,t=(0,l.default)(h);if(_){var n=(0,l.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,c.default)(this,e)});function w(){var e;(0,o.default)(this,w);for(var t=arguments.length,n=new Array(t),f=0;f<t;f++)n[f]=arguments[f];return(e=L.call.apply(L,[this].concat(n)))._captureRef=function(t){e._wrapperListRef=t},e}return(0,f.default)(w,[{key:"scrollToLocation",value:function(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}},{key:"recordInteraction",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}},{key:"getScrollableNode",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}},{key:"setNativeProps",value:function(e){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.setNativeProps(e)}},{key:"render",value:function(){var e=this.props,o=e.stickySectionHeadersEnabled,f=(0,n.default)(e,y),u=null!=o?o:'ios'===s.default.OS;return p.createElement(v.default,(0,t.default)({},f,{stickySectionHeadersEnabled:u,ref:this._captureRef,getItemCount:function(e){return e.length},getItem:function(e,t){return e[t]}}))}}]),w})(p.PureComponent);_e.default=_},285,[1,13,97,2,3,4,6,9,55,10,286]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),i=e(r(d[3])),o=e(r(d[4])),l=e(r(d[5])),u=e(r(d[6])),c=e(r(d[7])),s=e(r(d[8])),p=e(r(d[9])),f=e(r(d[10])),h=e(r(d[11])),v=r(d[12]),y=r(d[13]),S=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(i,l,u):i[l]=e[l]}i.default=e,n&&n.set(e,i);return i})(r(d[14])),b=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var E=(function(e){(0,s.default)(x,e);var t,o,I=(t=x,o=w(),function(){var e,n=(0,f.default)(t);if(o){var i=(0,f.default)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function x(){var e;(0,l.default)(this,x);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=I.call.apply(I,[this].concat(n)))._keyExtractor=function(t,n){var i=e._subExtractor(n);return i&&i.key||String(n)},e._convertViewable=function(t){var n;(0,h.default)(null!=t.index,'Received a broken ViewToken');var i=e._subExtractor(t.index);if(!i)return null;var o=i.section.keyExtractor,l=e.props.keyExtractor||v.keyExtractor,u=null!=o?o(t.item,i.index):l(t.item,null!=(n=i.index)?n:0);return O(O({},t),{},{index:i.index,key:u,section:i.section})},e._onViewableItemsChanged=function(t){var n=t.viewableItems,i=t.changed,o=e.props.onViewableItemsChanged;null!=o&&o({viewableItems:n.map(e._convertViewable,(0,c.default)(e)).filter(Boolean),changed:i.map(e._convertViewable,(0,c.default)(e)).filter(Boolean)})},e._renderItem=function(t){return function(n){var i=n.item,o=n.index,l=e._subExtractor(o);if(!l)return null;var u=l.index;if(null==u){var c=l.section;if(!0===l.header){var s=e.props.renderSectionHeader;return s?s({section:c}):null}var p=e.props.renderSectionFooter;return p?p({section:c}):null}var f=l.section.renderItem||e.props.renderItem,v=e._getSeparatorComponent(o,l,t);return(0,h.default)(f,'no renderItem!'),S.createElement(P,{SeparatorComponent:v,LeadingSeparatorComponent:0===u?e.props.SectionSeparatorComponent:void 0,cellKey:l.key,index:u,item:i,leadingItem:l.leadingItem,leadingSection:l.leadingSection,prevCellKey:(e._subExtractor(o-1)||{}).key,setSelfHighlightCallback:e._setUpdateHighlightFor,setSelfUpdatePropsCallback:e._setUpdatePropsFor,updateHighlightFor:e._updateHighlightFor,updatePropsFor:e._updatePropsFor,renderItem:f,section:l.section,trailingItem:l.trailingItem,trailingSection:l.trailingSection,inverted:!!e.props.inverted})}},e._updatePropsFor=function(t,n){var i=e._updatePropsMap[t];null!=i&&i(n)},e._updateHighlightFor=function(t,n){var i=e._updateHighlightMap[t];null!=i&&i(n)},e._setUpdateHighlightFor=function(t,n){null!=n?e._updateHighlightMap[t]=n:delete e._updateHighlightFor[t]},e._setUpdatePropsFor=function(t,n){null!=n?e._updatePropsMap[t]=n:delete e._updatePropsMap[t]},e._updateHighlightMap={},e._updatePropsMap={},e._captureRef=function(t){e._listRef=t},e}return(0,u.default)(x,[{key:"scrollToLocation",value:function(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var i=e.viewOffset||0;if(null!=this._listRef){if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)i+=this._listRef._getFrameMetricsApprox(t-e.itemIndex).length;var o=O(O({},e),{},{viewOffset:i,index:t});this._listRef.scrollToIndex(o)}}},{key:"getListRef",value:function(){return this._listRef}},{key:"render",value:function(){for(var e,t=this,o=this.props,l=(o.ItemSeparatorComponent,o.SectionSeparatorComponent,o.renderItem,o.renderSectionFooter,o.renderSectionHeader,o.sections,o.stickySectionHeadersEnabled,(0,i.default)(o,b)),u=this.props.ListHeaderComponent?1:0,c=this.props.stickySectionHeadersEnabled?[]:void 0,s=0,p=_(this.props.sections);!(e=p()).done;){var f=e.value;null!=c&&c.push(s+u),s+=2,s+=this.props.getItemCount(f.data)}var h=this._renderItem(s);return S.createElement(y.VirtualizedList,(0,n.default)({},l,{keyExtractor:this._keyExtractor,stickyHeaderIndices:c,renderItem:h,data:this.props.sections,getItem:function(e,n){return t._getItem(t.props,e,n)},getItemCount:function(){return s},onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}},{key:"_getItem",value:function(e,t,n){if(!t)return null;for(var i=n-1,o=0;o<t.length;o++){var l=t[o],u=l.data,c=e.getItemCount(u);if(-1===i||i===c)return l;if(i<c)return e.getItem(u,i);i-=c+2}return null}},{key:"_subExtractor",value:function(e){for(var t=e,n=this.props,i=n.getItem,o=n.getItemCount,l=n.keyExtractor,u=n.sections,c=0;c<u.length;c++){var s=u[c],p=s.data,f=s.key||String(c);if((t-=1)>=o(p)+1)t-=o(p)+1;else return-1===t?{section:s,key:f+':header',index:null,header:!0,trailingSection:u[c+1]}:t===o(p)?{section:s,key:f+':footer',index:null,header:!1,trailingSection:u[c+1]}:{section:s,key:f+':'+(s.keyExtractor||l||v.keyExtractor)(i(p,t),t),index:t,leadingItem:i(p,t-1),leadingSection:u[c-1],trailingItem:i(p,t+1),trailingSection:u[c+1]}}}},{key:"_getSeparatorComponent",value:function(e,t,n){if(!(t=t||this._subExtractor(e)))return null;var i=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,o=this.props.SectionSeparatorComponent,l=e===n-1,u=t.index===this.props.getItemCount(t.section.data)-1;return o&&u?o:!i||u||l?null:i}}]),x})(S.PureComponent);function P(e){var i=e.LeadingSeparatorComponent,o=e.SeparatorComponent,l=e.cellKey,u=e.prevCellKey,c=e.setSelfHighlightCallback,s=e.updateHighlightFor,p=e.setSelfUpdatePropsCallback,f=e.updatePropsFor,h=e.item,v=e.index,b=e.section,I=e.inverted,_=S.useState(!1),x=(0,t.default)(_,2),k=x[0],C=x[1],w=S.useState(!1),E=(0,t.default)(w,2),P=E[0],H=E[1],j=S.useState({leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection}),F=(0,t.default)(j,2),R=F[0],M=F[1],V=S.useState({leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),A=(0,t.default)(V,2),U=A[0],D=A[1];S.useEffect(function(){return c(l,H),p(l,D),function(){p(l,null),c(l,null)}},[l,c,D,p]);var L={highlight:function(){C(!0),H(!0),null!=u&&s(u,!0)},unhighlight:function(){C(!1),H(!1),null!=u&&s(u,!1)},updateProps:function(e,t){'leading'===e?null!=i?M(O(O({},R),t)):null!=u&&f(u,O(O({},R),t)):'trailing'===e&&null!=o&&D(O(O({},U),t))}},B=e.renderItem({item:h,index:v,section:b,separators:L}),K=null!=i&&S.createElement(i,(0,n.default)({highlighted:k},R)),T=null!=o&&S.createElement(o,(0,n.default)({highlighted:P},U));return K||T?S.createElement(y.View,null,!1===I?K:T,B,!1===I?T:K):B}m.exports=E},286,[1,41,13,97,34,2,3,8,4,6,9,15,250,14,10]);
__d(function(g,r,i,a,m,e,d){!(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(u,c,l):u[c]=n[c]}u.default=n,f&&f.set(n,u)})(r(d[0]));function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}var n=r(d[1]),o=r(d[2]);m.exports=o(n,{collapsable:!1})},287,[10,187,245]);
__d(function(g,r,i,a,m,e,d){!(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(u,c,l):u[c]=n[c]}u.default=n,f&&f.set(n,u)})(r(d[0]));function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}var n=r(d[1]),o=r(d[2]);m.exports=o(n,{collapsable:!0})},288,[10,177,245]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),u=e(r(d[4])),c=e(r(d[5])),l=y(r(d[6])),f=y(r(d[7])),p=e(r(d[8])),s=e(r(d[9])),h=e(r(d[10]));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var l=u?Object.getOwnPropertyDescriptor(e,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=e[c]}return o.default=e,n&&n.set(e,o),o}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var I=(function(e){(0,o.default)(I,e);var p,v,y=(p=I,v=k(),function(){var e,t=(0,c.default)(p);if(v){var n=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,u.default)(this,e)});function I(){var e;(0,t.default)(this,I);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(e=y.call.apply(y,[this].concat(o)))._picker=null,e._onChange=function(t){var n=t.nativeEvent.timestamp;e.props.onDateChange&&e.props.onDateChange(new Date(n)),e.props.onChange&&e.props.onChange(t),e.forceUpdate()},e}return(0,n.default)(I,[{key:"componentDidUpdate",value:function(){if(this.props.date){var e=this.props.date.getTime();this._picker&&f.Commands.setNativeDate(this._picker,e)}}},{key:"render",value:function(){var e=this,t=this.props;return(0,h.default)(t.date||t.initialDate,'A selected date or initial date should be specified.'),l.createElement(s.default,{style:t.style},l.createElement(f.default,{testID:t.testID,ref:function(t){e._picker=t},style:O(t.pickerStyle,t.mode),date:t.date?t.date.getTime():t.initialDate?t.initialDate.getTime():void 0,locale:null!=t.locale&&''!==t.locale?t.locale:void 0,maximumDate:t.maximumDate?t.maximumDate.getTime():void 0,minimumDate:t.minimumDate?t.minimumDate.getTime():void 0,mode:t.mode,minuteInterval:t.minuteInterval,timeZoneOffsetInMinutes:t.timeZoneOffsetInMinutes,onChange:this._onChange,onStartShouldSetResponder:function(){return!0},onResponderTerminationRequest:function(){return!1},pickerStyle:t.pickerStyle}))}}]),I})(l.Component);I.DefaultProps={mode:'datetime'};var D=p.default.create({datePickerIOS:{height:216},datePickerIOSCompact:{height:40},datePickerIOSInline:{height:417.5},datePickerIOSInlineDate:{height:368},datePickerIOSInlineTime:{height:49.5}});function O(e,t){if('compact'===e)return D.datePickerIOSCompact;if('inline'===e)switch(t){case'date':return D.datePickerIOSInlineDate;case'time':return D.datePickerIOSInlineTime;default:return D.datePickerIOSInline}return D.datePickerIOS}m.exports=I},289,[1,2,3,4,6,9,10,290,176,177,15]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var n=t(r(d[1])),o=t(r(d[2]));!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=p?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(f,l,c):f[l]=t[l]}f.default=t,o&&o.set(t,f)})(r(d[3]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}var f=(0,n.default)({supportedCommands:['setNativeDate']});e.Commands=f;var p=(0,o.default)('DatePicker',{paperComponentName:'RCTDatePicker',excludedPlatforms:['android']});e.default=p},290,[1,130,183,10]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},291,[181]);
__d(function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0]),t=r(d[1]),n=r(d[2]),c=r(d[3]),l=r(d[4]),o=r(d[5]),u=r(d[6]),f=["children","style","imageStyle","imageRef"];function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var v=r(d[7]),h=r(d[8]),y=r(d[9]),p=r(d[10]),R=(function(R){l(b,R);var _,w,P=(_=b,w=s(),function(){var e,t=u(_);if(w){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return o(this,e)});function b(){var e;n(this,b);for(var t=arguments.length,c=new Array(t),l=0;l<t;l++)c[l]=arguments[l];return(e=P.call.apply(P,[this].concat(c)))._viewRef=null,e._captureRef=function(t){e._viewRef=t},e}return c(b,[{key:"setNativeProps",value:function(e){var t=this._viewRef;t&&t.setNativeProps(e)}},{key:"render",value:function(){var n=this.props,c=n.children,l=n.style,o=n.imageStyle,u=n.imageRef,s=t(n,f);return h.createElement(p,{accessibilityIgnoresInvertColors:!0,style:l,ref:this._captureRef},h.createElement(v,e({},s,{style:[y.absoluteFill,{width:null==l?void 0:l.width,height:null==l?void 0:l.height},o],ref:u})),c)}}]),b})(h.Component);m.exports=R},292,[13,97,2,3,4,6,9,276,10,176,177]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]),e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=y(e);if(n&&n.has(t))return n.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var f=u?Object.getOwnPropertyDescriptor(t,c):null;f&&(f.get||f.set)?Object.defineProperty(o,c,f):o[c]=t[c]}o.default=t,n&&n.set(t,o);return o})(r(d[6])),l=t(r(d[7])),s=t(r(d[8])),p=t(r(d[9]));function y(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(y=function(t){return t?n:e})(t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=(function(t){(0,o.default)(b,t);var s,y,v=(s=b,y=h(),function(){var t,e=(0,c.default)(s);if(y){var n=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,u.default)(this,t)});function b(){return(0,e.default)(this,b),v.apply(this,arguments)}return(0,n.default)(b,[{key:"render",value:function(){return'ios'!==l.default.OS&&console.warn('<InputAccessoryView> is only supported on iOS.'),0===f.Children.count(this.props.children)?null:f.createElement(p.default,{style:[this.props.style,O.container],nativeID:this.props.nativeID,backgroundColor:this.props.backgroundColor},this.props.children)}}]),b})(f.Component),O=s.default.create({container:{position:'absolute'}});m.exports=v},293,[1,2,3,4,6,9,10,55,176,294]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,t(r(d[1])).default)('InputAccessory',{interfaceOnly:!0,paperComponentName:'RCTInputAccessoryView',excludedPlatforms:['android']});e.default=n},294,[1,183]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),u=e(r(d[4])),f=e(r(d[5])),l=e(r(d[6])),s=e(r(d[7])),c=e(r(d[8])),y=e(r(d[9])),h=e(r(d[10])),p=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&Object.prototype.hasOwnProperty.call(e,f)){var l=u?Object.getOwnPropertyDescriptor(e,f):null;l&&(l.get||l.set)?Object.defineProperty(o,f,l):o[f]=e[f]}o.default=e,n&&n.set(e,o);return o})(r(d[11])),v=e(r(d[12])),b=e(r(d[13])),_=["behavior","children","contentContainerStyle","enabled","keyboardVerticalOffset","style"];function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var w=(function(e){(0,f.default)(E,e);var k,w,L=(k=E,w=O(),function(){var e,t=(0,s.default)(k);if(w){var n=(0,s.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,l.default)(this,e)});function E(e){var t;return(0,o.default)(this,E),(t=L.call(this,e))._frame=null,t._keyboardEvent=null,t._subscriptions=[],t._initialFrameHeight=0,t._onKeyboardChange=function(e){t._keyboardEvent=e,t._updateBottomIfNecesarry()},t._onLayout=function(e){var n=null==t._frame;t._frame=e.nativeEvent.layout,t._initialFrameHeight||(t._initialFrameHeight=t._frame.height),n&&t._updateBottomIfNecesarry()},t._updateBottomIfNecesarry=function(){if(null!=t._keyboardEvent){var e=t._keyboardEvent,n=e.duration,o=e.easing,u=e.endCoordinates,f=t._relativeKeyboardHeight(u);t.state.bottom!==f&&(n&&o&&y.default.configureNext({duration:n>10?n:10,update:{duration:n>10?n:10,type:y.default.Types[o]||'keyboard'}}),t.setState({bottom:f}))}else t.setState({bottom:0})},t.state={bottom:0},t.viewRef=p.createRef(),t}return(0,u.default)(E,[{key:"_relativeKeyboardHeight",value:function(e){var t,n=this._frame;if(!n||!e)return 0;var o=e.screenY-(null!=(t=this.props.keyboardVerticalOffset)?t:0);return Math.max(n.y+n.height-o,0)}},{key:"componentDidMount",value:function(){'ios'===h.default.OS?this._subscriptions=[c.default.addListener('keyboardWillChangeFrame',this._onKeyboardChange)]:this._subscriptions=[c.default.addListener('keyboardDidHide',this._onKeyboardChange),c.default.addListener('keyboardDidShow',this._onKeyboardChange)]}},{key:"componentWillUnmount",value:function(){this._subscriptions.forEach(function(e){e.remove()})}},{key:"render",value:function(){var e=this.props,o=e.behavior,u=e.children,f=e.contentContainerStyle,l=e.enabled,s=void 0===l||l,c=(e.keyboardVerticalOffset,e.style),y=(0,n.default)(e,_),h=!0===s?this.state.bottom:0;switch(o){case'height':var k;return null!=this._frame&&this.state.bottom>0&&(k={height:this._initialFrameHeight-h,flex:0}),p.createElement(b.default,(0,t.default)({ref:this.viewRef,style:v.default.compose(c,k),onLayout:this._onLayout},y),u);case'position':return p.createElement(b.default,(0,t.default)({ref:this.viewRef,style:c,onLayout:this._onLayout},y),p.createElement(b.default,{style:v.default.compose(f,{bottom:h})},u));case'padding':return p.createElement(b.default,(0,t.default)({ref:this.viewRef,style:v.default.compose(c,{paddingBottom:h}),onLayout:this._onLayout},y),u);default:return p.createElement(b.default,(0,t.default)({ref:this.viewRef,onLayout:this._onLayout,style:c},y),u)}}}]),E})(p.Component);_e.default=w},295,[1,13,97,2,3,4,6,9,260,261,55,10,176,177]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),o=e(r(d[4])),u=e(r(d[5])),f=e(r(d[6])),c=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var f=o?Object.getOwnPropertyDescriptor(e,u):null;f&&(f.get||f.set)?Object.defineProperty(l,u,f):l[u]=e[u]}l.default=e,n&&n.set(e,l);return l})(r(d[7])),s=e(r(d[8])),p=e(r(d[9])),v=e(r(d[10])),y=["maskElement","children"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var w=(function(e){(0,o.default)(M,e);var h,w,E=(h=M,w=k(),function(){var e,t=(0,f.default)(h);if(w){var n=(0,f.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,u.default)(this,e)});function M(){var e;(0,n.default)(this,M);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=E.call.apply(E,[this].concat(l)))._hasWarnedInvalidRenderMask=!1,e}return(0,l.default)(M,[{key:"render",value:function(){var e=this.props,n=e.maskElement,l=e.children,o=(0,t.default)(e,y);return c.isValidElement(n)?c.createElement(v.default,o,c.createElement(p.default,{pointerEvents:"none",style:s.default.absoluteFill},n),l):(this._hasWarnedInvalidRenderMask||(console.warn("MaskedView: Invalid `maskElement` prop was passed to MaskedView. Expected a React Element. No mask will render."),this._hasWarnedInvalidRenderMask=!0),c.createElement(p.default,o,l))}}]),M})(c.Component);m.exports=w},296,[1,97,2,3,4,6,9,10,176,177,297]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('RCTMaskedView');e.default=u},297,[1,183]);
__d(function(g,r,i,a,m,_e,d){var t,e,n=r(d[0]),o=n(r(d[1])),s=n(r(d[2])),l=n(r(d[3])),u=n(r(d[4])),p=n(r(d[5])),c=n(r(d[6])),f=n(r(d[7])),h=n(r(d[8])),v=n(r(d[9])),y=r(d[10]),S=n(r(d[11]));function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}r(d[12]);var b=r(d[13]),_=(r(d[14]),r(d[15])),C=r(d[16]),D=r(d[17]),w=r(d[18]),x=r(d[19]).RootTagContext,T=null!=v.default?new h.default(v.default):null,k=0,O=(function(t){(0,u.default)(f,t);var e,n,o=(e=f,n=R(),function(){var t,o=(0,c.default)(e);if(n){var s=(0,c.default)(this).constructor;t=Reflect.construct(o,arguments,s)}else t=o.apply(this,arguments);return(0,p.default)(this,t)});function f(t){var e;return(0,s.default)(this,f),(e=o.call(this,t))._identifier=k++,e}return(0,l.default)(f,[{key:"componentDidMount",value:function(){var t=this;T&&(this._eventSubscription=T.addListener('modalDismissed',function(e){e.modalID===t._identifier&&t.props.onDismiss&&t.props.onDismiss()}))}},{key:"componentWillUnmount",value:function(){this._eventSubscription&&this._eventSubscription.remove()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var t=this;if(!0!==this.props.visible)return null;var e={backgroundColor:!0===this.props.transparent?'transparent':'white'},n=this.props.animationType||'none',o=this.props.presentationStyle;o||(o='fullScreen',!0===this.props.transparent&&(o='overFullScreen'));var s=this.props.children;return _.createElement(S.default,{animationType:n,presentationStyle:o,transparent:this.props.transparent,hardwareAccelerated:this.props.hardwareAccelerated,onRequestClose:this.props.onRequestClose,onShow:this.props.onShow,onDismiss:function(){t.props.onDismiss&&t.props.onDismiss()},visible:this.props.visible,statusBarTranslucent:this.props.statusBarTranslucent,identifier:this._identifier,style:E.modal,onStartShouldSetResponder:this._shouldSetResponder,supportedOrientations:this.props.supportedOrientations,onOrientationChange:this.props.onOrientationChange},_.createElement(y.VirtualizedListContextResetter,null,_.createElement(C.Context.Provider,{value:null},_.createElement(w,{style:[E.container,e],collapsable:!1},s))))}},{key:"_shouldSetResponder",value:function(){return!0}}]),f})(_.Component);O.defaultProps={visible:!0,hardwareAccelerated:!1},O.contextType=x;var B=b.getConstants().isRTL?'right':'left',E=D.create({modal:{position:'absolute'},container:(t={},(0,o.default)(t,B,0),(0,o.default)(t,"top",0),(0,o.default)(t,"flex",1),t)}),A=null!=(e=f.default.unstable_Modal)?e:O;m.exports=A},298,[1,34,2,3,4,6,9,299,99,300,252,301,302,304,55,10,258,176,177,303]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={unstable_Modal:null}},299,[]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('ModalManager');e.default=n},300,[39]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,o(r(d[1])).default)('ModalHostView',{interfaceOnly:!0,paperComponentName:'RCTModalHostView'});e.default=t},301,[1,183]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]),e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),s=(t(r(d[7])),t(r(d[8]))),p=r(d[9]),f=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=u?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}o.default=t,n&&n.set(t,o);return o})(r(d[10]));function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var y=(function(t){(0,o.default)(E,t);var s,h,y=(s=E,h=v(),function(){var t,e=(0,c.default)(s);if(h){var n=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,u.default)(this,t)});function E(){var t;(0,e.default)(this,E);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(t=y.call.apply(y,[this].concat(o))).state={inspector:null,mainKey:1,hasError:!1},t._subscription=null,t}return(0,n.default)(E,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){null!=this._subscription&&this._subscription.remove()}},{key:"render",value:function(){var t=this,e=f.createElement(l.default,{collapsable:!this.state.inspector,key:this.state.mainKey,pointerEvents:"box-none",style:b.appContainer,ref:function(e){t._mainRef=e}},this.props.children),n=this.props.WrapperComponent;return null!=n&&(e=f.createElement(n,{initialProps:this.props.initialProps,fabric:!0===this.props.fabric,showArchitectureIndicator:!0===this.props.showArchitectureIndicator},e)),f.createElement(p.RootTagContext.Provider,{value:(0,p.createRootTag)(this.props.rootTag)},f.createElement(l.default,{style:b.appContainer,pointerEvents:"box-none"},!this.state.hasError&&e,this.state.inspector,null))}}]),E})(f.Component);y.getDerivedStateFromError=void 0;var b=s.default.create({appContainer:{flex:1}});m.exports=y},302,[1,2,3,4,6,9,177,18,176,303,10]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.RootTagContext=void 0,e.createRootTag=function(t){return t};var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in n)if("default"!==p&&Object.prototype.hasOwnProperty.call(n,p)){var l=c?Object.getOwnPropertyDescriptor(n,p):null;l&&(l.get||l.set)?Object.defineProperty(f,p,l):f[p]=n[p]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).createContext(0);e.RootTagContext=n},303,[10]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=(function(){if(t.default){var n=t.default.getConstants(),f=n.isRTL,L=n.doLeftAndRightSwapInRTL,R=n.localeIdentifier;return{isRTL:f,doLeftAndRightSwapInRTL:L,localeIdentifier:R}}return{isRTL:!1,doLeftAndRightSwapInRTL:!0}})();m.exports={getConstants:function(){return n},allowRTL:function(n){t.default&&t.default.allowRTL(n)},forceRTL:function(n){t.default&&t.default.forceRTL(n)},swapLeftAndRightInRTL:function(n){t.default&&t.default.swapLeftAndRightInRTL(n)},isRTL:n.isRTL,doLeftAndRightSwapInRTL:n.doLeftAndRightSwapInRTL}},304,[1,305]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('I18nManager');e.default=n},305,[39]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),l=t(r(d[4])),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=y(n);if(s&&s.has(t))return s.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var i=l?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(o,u,i):o[u]=t[u]}o.default=t,s&&s.set(t,o);return o})(r(d[5])),i=t(r(d[6])),c=(r(d[7]),t(r(d[8]))),f=r(d[9]),p=t(r(d[10])),b=["accessible","android_disableSound","android_ripple","cancelable","children","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","pressRetentionOffset","style","testOnly_pressed","unstable_pressDelay"];function y(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,s=new WeakMap;return(y=function(t){return t?s:n})(t)}function P(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,o)}return s}function O(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?P(Object(o),!0).forEach(function(n){(0,s.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function v(t){var n=(0,u.useState)(!1),s=(0,o.default)(n,2),l=s[0],i=s[1];return[l||t,i]}var j=u.memo(u.forwardRef(function(t,s){var y=t.accessible,P=t.android_disableSound,j=t.android_ripple,_=t.cancelable,w=t.children,S=t.delayLongPress,h=t.disabled,D=t.focusable,M=t.onLongPress,I=t.onPress,L=t.onPressIn,R=t.onPressOut,k=t.pressRetentionOffset,E=t.style,W=t.testOnly_pressed,z=t.unstable_pressDelay,H=(0,l.default)(t,b),N=(0,u.useRef)(null);(0,u.useImperativeHandle)(s,function(){return N.current});var q=(0,i.default)(j,N),x=v(!0===W),A=(0,o.default)(x,2),B=A[0],C=A[1],F=(0,f.normalizeRect)(t.hitSlop),G=null!=h?O(O({},t.accessibilityState),{},{disabled:h}):t.accessibilityState,J=O(O(O({},H),null==q?void 0:q.viewProps),{},{accessible:!1!==y,accessibilityState:G,focusable:!1!==D,hitSlop:F}),K=(0,u.useMemo)(function(){return{cancelable:_,disabled:h,hitSlop:F,pressRectOffset:k,android_disableSound:P,delayLongPress:S,delayPressIn:z,onLongPress:M,onPress:I,onPressIn:function(t){null!=q&&q.onPressIn(t),C(!0),null!=L&&L(t)},onPressMove:null==q?void 0:q.onPressMove,onPressOut:function(t){null!=q&&q.onPressOut(t),C(!1),null!=R&&R(t)}}},[P,q,_,S,h,F,M,I,L,R,k,C,z]),Q=(0,c.default)(K);return u.createElement(p.default,(0,n.default)({},J,Q,{ref:N,style:'function'==typeof E?E({pressed:B}):E,collapsable:!1}),'function'==typeof w?w({pressed:B}):w,null)}));j.displayName='Pressable';var _=j;e.default=_},306,[1,13,34,41,97,10,307,202,203,208,177]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,s){var c=null!=n?n:{},f=c.color,p=c.borderless,v=c.radius,P=c.foreground;return(0,u.useMemo)(function(){if('android'===l.Platform.OS&&l.Platform.Version>=21&&(null!=f||null!=p||null!=v)){var n=(0,l.processColor)(f);(0,t.default)(null==n||'number'==typeof n,'Unexpected color given for Ripple color');var u={type:'RippleAndroid',color:n,borderless:!0===p,rippleRadius:v};return{viewProps:!0===P?{nativeForegroundAndroid:u}:{nativeBackgroundAndroid:u},onPressIn:function(n){var t,l,u=s.current;null!=u&&(o.Commands.hotspotUpdate(u,null!=(t=n.nativeEvent.locationX)?t:0,null!=(l=n.nativeEvent.locationY)?l:0),o.Commands.setPressed(u,!0))},onPressMove:function(n){var t,l,u=s.current;null!=u&&o.Commands.hotspotUpdate(u,null!=(t=n.nativeEvent.locationX)?t:0,null!=(l=n.nativeEvent.locationY)?l:0)},onPressOut:function(n){var t=s.current;null!=t&&o.Commands.setPressed(t,!1)}}}return null},[p,f,P,v,s])};var t=n(r(d[1])),o=r(d[2]),l=r(d[3]),u=(function(n,t){if(!t&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var o=s(t);if(o&&o.has(n))return o.get(n);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var f=u?Object.getOwnPropertyDescriptor(n,c):null;f&&(f.get||f.set)?Object.defineProperty(l,c,f):l[c]=n[c]}l.default=n,o&&o.set(n,l);return l})(r(d[4]));function s(n){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(s=function(n){return n?o:t})(n)}},307,[1,15,178,14,10]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),f=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var f=c(n);if(f&&f.has(t))return f.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=u?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(o,l,p):o[l]=t[l]}o.default=t,f&&f.set(t,o);return o})(r(d[2])),o=t(r(d[3])),u=t(r(d[4]));function c(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(c=function(t){return t?f:n})(t)}var l=o.default.create({progressView:{height:2}}),p=f.forwardRef(function(t,o){return f.createElement(u.default,(0,n.default)({},t,{style:[l.progressView,t.style],ref:o}))});m.exports=p},308,[1,13,10,176,309]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('RCTProgressView');e.default=u},309,[1,183]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,u=t(r(d[1])),f=t(r(d[2])),o=t(r(d[3])),l=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=s(n);if(u&&u.has(t))return u.get(t);var f={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=o?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=t[l]}f.default=t,u&&u.set(t,f);return f})(r(d[4])),p=t(r(d[5])),c=["emulateUnlessSupported"];function s(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(s=function(t){return t?u:n})(t)}if('android'===o.default.OS)n=l.forwardRef(function(t,n){t.emulateUnlessSupported;var o=(0,f.default)(t,c);return l.createElement(p.default,(0,u.default)({},o,{ref:n}))});else{var v=r(d[6]).default;n=l.forwardRef(function(t,n){return l.createElement(v,(0,u.default)({emulateUnlessSupported:!0},t,{ref:n}))})}var y=n;e.default=y},310,[1,13,97,55,10,177,311]);
__d(function(g,r,i,a,m,e,d){var f=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,f(r(d[1])).default)('SafeAreaView',{paperComponentName:'RCTSafeAreaView',interfaceOnly:!0});e.default=t},311,[1,183]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),u=e(r(d[4])),f=e(r(d[5])),l=e(r(d[6])),c=e(r(d[7])),p=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&Object.prototype.hasOwnProperty.call(e,f)){var l=u?Object.getOwnPropertyDescriptor(e,f):null;l&&(l.get||l.set)?Object.defineProperty(o,f,l):o[f]=e[f]}o.default=e,n&&n.set(e,o);return o})(r(d[8])),s=e(r(d[9])),h=e(r(d[10])),v=["enabled","forwardedRef","onValueChange","style","values"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var w=(function(e){(0,f.default)(O,e);var s,y,w=(s=O,y=C(),function(){var e,t=(0,c.default)(s);if(y){var n=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,l.default)(this,e)});function O(){var e;(0,o.default)(this,O);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=w.call.apply(w,[this].concat(n)))._onChange=function(t){e.props.onChange&&e.props.onChange(t),e.props.onValueChange&&e.props.onValueChange(t.nativeEvent.value)},e}return(0,u.default)(O,[{key:"render",value:function(){var e=this.props,o=e.enabled,u=e.forwardedRef,f=(e.onValueChange,e.style),l=e.values,c=(0,n.default)(e,v);return p.createElement(h.default,(0,t.default)({},c,{ref:u,style:[b.segmentedControl,f],enabled:!1!==o,values:null!=l?l:[],onChange:this._onChange}))}}]),O})(p.Component),b=s.default.create({segmentedControl:{height:28}}),O=p.forwardRef(function(e,n){return p.createElement(w,(0,t.default)({},e,{forwardedRef:n}))});m.exports=O},312,[1,13,97,2,3,4,6,9,10,176,313]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=(0,t(r(d[1])).default)('RCTSegmentedControl');e.default=l},313,[1,183]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),i=t(r(d[2])),o=t(r(d[3])),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=p(n);if(i&&i.has(t))return i.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=u?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}o.default=t,i&&i.set(t,o);return o})(r(d[4])),l=t(r(d[5])),c=t(r(d[6])),f=t(r(d[7])),s=["value","minimumValue","maximumValue","step","onValueChange","onSlidingComplete"];function p(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,i=new WeakMap;return(p=function(t){return t?i:n})(t)}function v(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,o)}return i}function b(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?v(Object(o),!0).forEach(function(n){(0,i.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var O,y=u.forwardRef(function(t,i){var p,v=f.default.compose(O.slider,t.style),y=t.value,j=void 0===y?.5:y,S=t.minimumValue,h=void 0===S?0:S,P=t.maximumValue,w=void 0===P?1:P,V=t.step,C=void 0===V?0:V,E=t.onValueChange,D=t.onSlidingComplete,k=(0,o.default)(t,s),x=E?function(t){var n=!0;'android'===l.default.OS&&(n=null!=t.nativeEvent.fromUser&&t.nativeEvent.fromUser),n&&E(t.nativeEvent.value)}:null,M=x,R=D?function(t){D(t.nativeEvent.value)}:null,_=!0===t.disabled||!0===(null==(p=t.accessibilityState)?void 0:p.disabled),W=_?b(b({},t.accessibilityState),{},{disabled:!0}):t.accessibilityState;return u.createElement(c.default,(0,n.default)({},k,{accessibilityState:W,enabled:!_,disabled:_,maximumValue:w,minimumValue:h,onChange:M,onResponderTerminationRequest:function(){return!1},onSlidingComplete:R,onStartShouldSetResponder:function(){return!0},onValueChange:x,ref:i,step:C,style:v,value:j}))});O='ios'===l.default.OS?f.default.create({slider:{height:40}}):f.default.create({slider:{}}),m.exports=y},314,[1,13,34,97,10,55,315,176]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,l(r(d[1])).default)('Slider',{interfaceOnly:!0,paperComponentName:'RCTSlider'});e.default=t},315,[1,183]);
__d(function(g,r,i,a,m,_e,d){var t,e=r(d[0]),n=e(r(d[1])),l=e(r(d[2])),o=e(r(d[3])),u=e(r(d[4])),c=e(r(d[5])),s=e(r(d[6])),f=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=b(e);if(n&&n.has(t))return n.get(t);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var c=o?Object.getOwnPropertyDescriptor(t,u):null;c&&(c.get||c.set)?Object.defineProperty(l,u,c):l[u]=t[u]}l.default=t,n&&n.set(t,l);return l})(r(d[7])),p=e(r(d[8])),y=e(r(d[9])),v=e(r(d[10])),k=e(r(d[11])),S=e(r(d[12]));function b(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(b=function(t){return t?n:e})(t)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function h(t){var e,n,l=null!=(e=t.animated)&&e,o=null!=(n=t.showHideTransition)?n:'fade';return{backgroundColor:null!=t.backgroundColor?{value:t.backgroundColor,animated:l}:null,barStyle:null!=t.barStyle?{value:t.barStyle,animated:l}:null,translucent:t.translucent,hidden:null!=t.hidden?{value:t.hidden,animated:l,transition:o}:null,networkActivityIndicatorVisible:t.networkActivityIndicatorVisible}}var O=(function(t){(0,o.default)(b,t);var e,s,f=(e=b,s=_(),function(){var t,n=(0,c.default)(e);if(s){var l=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function b(){var t;(0,n.default)(this,b);for(var e=arguments.length,l=new Array(e),o=0;o<e;o++)l[o]=arguments[o];return(t=f.call.apply(f,[this].concat(l)))._stackEntry=null,t}return(0,l.default)(b,[{key:"componentDidMount",value:function(){this._stackEntry=b.pushStackEntry(this.props)}},{key:"componentWillUnmount",value:function(){b.popStackEntry(this._stackEntry)}},{key:"componentDidUpdate",value:function(){this._stackEntry=b.replaceStackEntry(this._stackEntry,this.props)}},{key:"render",value:function(){return null}}],[{key:"setHidden",value:function(t,e){e=e||'none',b._defaultProps.hidden.value=t,'ios'===p.default.OS?S.default.setHidden(t,e):'android'===p.default.OS&&k.default.setHidden(t)}},{key:"setBarStyle",value:function(t,e){e=e||!1,b._defaultProps.barStyle.value=t,'ios'===p.default.OS?S.default.setStyle(t,e):'android'===p.default.OS&&k.default.setStyle(t)}},{key:"setNetworkActivityIndicatorVisible",value:function(t){'ios'===p.default.OS?(b._defaultProps.networkActivityIndicatorVisible=t,S.default.setNetworkActivityIndicatorVisible(t)):console.warn('`setNetworkActivityIndicatorVisible` is only available on iOS')}},{key:"setBackgroundColor",value:function(t,e){if('android'===p.default.OS){e=e||!1,b._defaultProps.backgroundColor.value=t;var n=(0,v.default)(t);null!=n?((0,y.default)('number'==typeof n,'Unexpected color given for StatusBar.setBackgroundColor'),k.default.setColor(n,e)):console.warn("`StatusBar.setBackgroundColor`: Color "+t+" parsed to null or undefined")}else console.warn('`setBackgroundColor` is only available on Android')}},{key:"setTranslucent",value:function(t){'android'===p.default.OS?(b._defaultProps.translucent=t,k.default.setTranslucent(t)):console.warn('`setTranslucent` is only available on Android')}},{key:"pushStackEntry",value:function(t){var e=h(t);return b._propsStack.push(e),b._updatePropsStack(),e}},{key:"popStackEntry",value:function(t){var e=b._propsStack.indexOf(t);-1!==e&&b._propsStack.splice(e,1),b._updatePropsStack()}},{key:"replaceStackEntry",value:function(t,e){var n=h(e),l=b._propsStack.indexOf(t);return-1!==l&&(b._propsStack[l]=n),b._updatePropsStack(),n}}]),b})(f.Component);O._propsStack=[],O._defaultProps=h({backgroundColor:'android'===p.default.OS&&null!=(t=k.default.getConstants().DEFAULT_BACKGROUND_COLOR)?t:'black',barStyle:'default',translucent:!1,hidden:!1,networkActivityIndicatorVisible:!1}),O._updateImmediate=null,O._currentValues=null,O.currentHeight='android'===p.default.OS?k.default.getConstants().HEIGHT:null,O._updatePropsStack=function(){clearImmediate(O._updateImmediate),O._updateImmediate=setImmediate(function(){var t,e,n=O._currentValues,l=(t=O._propsStack,e=O._defaultProps,t.reduce(function(t,e){for(var n in e)null!=e[n]&&(t[n]=e[n]);return t},(0,s.default)({},e)));if('ios'===p.default.OS)n&&n.barStyle.value===l.barStyle.value||S.default.setStyle(l.barStyle.value,l.barStyle.animated||!1),n&&n.hidden.value===l.hidden.value||S.default.setHidden(l.hidden.value,l.hidden.animated?l.hidden.transition:'none'),n&&n.networkActivityIndicatorVisible===l.networkActivityIndicatorVisible||S.default.setNetworkActivityIndicatorVisible(l.networkActivityIndicatorVisible);else if('android'===p.default.OS){k.default.setStyle(l.barStyle.value);var o=(0,v.default)(l.backgroundColor.value);null==o?console.warn("`StatusBar._updatePropsStack`: Color "+l.backgroundColor.value+" parsed to null or undefined"):((0,y.default)('number'==typeof o,'Unexpected color given in StatusBar._updatePropsStack'),k.default.setColor(o,l.backgroundColor.animated)),n&&n.hidden.value===l.hidden.value||k.default.setHidden(l.hidden.value),n&&n.translucent===l.translucent||k.default.setTranslucent(l.translucent)}O._currentValues=l})},m.exports=O},316,[1,2,3,4,6,9,13,10,55,15,134,317,318]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var s=l?Object.getOwnPropertyDescriptor(n,c):null;s&&(s.get||s.set)?Object.defineProperty(f,c,s):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('StatusBarManager'),o=null,u={getConstants:function(){return null==o&&(o=n.getConstants()),o},setColor:function(t,o){n.setColor(t,o)},setTranslucent:function(t){n.setTranslucent(t)},setStyle:function(t){n.setStyle(t)},setHidden:function(t){n.setHidden(t)}};e.default=u},317,[39]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if("default"!==s&&Object.prototype.hasOwnProperty.call(n,s)){var l=c?Object.getOwnPropertyDescriptor(n,s):null;l&&(l.get||l.set)?Object.defineProperty(f,s,l):f[s]=n[s]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).getEnforcing('StatusBarManager'),o=null,u={getConstants:function(){return null==o&&(o=n.getConstants()),o},getHeight:function(t){n.getHeight(t)},setNetworkActivityIndicatorVisible:function(t){n.setNetworkActivityIndicatorVisible(t)},addListener:function(t){n.addListener(t)},removeListeners:function(t){n.removeListeners(t)},setStyle:function(t,o){n.setStyle(t,o)},setHidden:function(t,o){n.setHidden(t,o)}};e.default=u},318,[39]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),f=h(r(d[5])),c=t(r(d[6])),s=t(r(d[7])),v=h(r(d[8])),b=h(r(d[9])),p=["disabled","ios_backgroundColor","onChange","onValueChange","style","thumbColor","trackColor","value"];function C(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(C=function(t){return t?o:n})(t)}function h(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=C(n);if(o&&o.has(t))return o.get(t);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var c=u?Object.getOwnPropertyDescriptor(t,f):null;c&&(c.get||c.set)?Object.defineProperty(l,f,c):l[f]=t[f]}return l.default=t,o&&o.set(t,l),l}var y=function(){return!1},R=function(){return!0},k=f.forwardRef(function(t,C){var h=t.disabled,k=t.ios_backgroundColor,O=t.onChange,w=t.onValueChange,S=t.style,_=t.thumbColor,j=t.trackColor,P=t.value,T=(0,l.default)(t,p),E=null==j?void 0:j.false,M=null==j?void 0:j.true,V=f.useRef(null),F=(0,s.default)(V,C),W=f.useState({value:null}),q=(0,o.default)(W,2),D=q[0],N=q[1],L=function(t){null==O||O(t),null==w||w(t.nativeEvent.value),N({value:t.nativeEvent.value})};if(f.useLayoutEffect(function(){var t,n=!0===P;D.value!==n&&null!=(null==(t=V.current)?void 0:t.setNativeProps)&&('android'===u.default.OS?v.Commands.setNativeValue(V.current,n):b.Commands.setValue(V.current,n))},[P,D]),'android'===u.default.OS){var x,z={enabled:!0!==h,on:!0===P,style:S,thumbTintColor:_,trackColorForFalse:E,trackColorForTrue:M,trackTintColor:!0===P?M:E};return f.createElement(v.default,(0,n.default)({},T,z,{accessibilityRole:null!=(x=t.accessibilityRole)?x:'switch',onChange:L,onResponderTerminationRequest:y,onStartShouldSetResponder:R,ref:F}))}var A,B={disabled:h,onTintColor:M,style:c.default.compose({height:31,width:51},c.default.compose(S,null==k?null:{backgroundColor:k,borderRadius:16})),thumbTintColor:_,tintColor:E,value:!0===P};return f.createElement(b.default,(0,n.default)({},T,B,{accessibilityRole:null!=(A=t.accessibilityRole)?A:'switch',onChange:L,onResponderTerminationRequest:y,onStartShouldSetResponder:R,ref:F}))});e.default=k},319,[1,13,41,97,55,10,176,320,321,322]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return(0,t.useCallback)(function(t){for(var o,i=n(u);!(o=i()).done;){var l=o.value;null!=l&&('function'==typeof l?l(t):l.current=t)}},[].concat(u))};var t=r(d[0]);function n(t,n){var u="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(u)return(u=u.call(t)).next.bind(u);if(Array.isArray(t)||(u=o(t))||n&&t&&"number"==typeof t.length){u&&(t=u);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,n){if(t){if("string"==typeof t)return u(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(t,n):void 0}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}},320,[10]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=l?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=t[c]}f.default=t,o&&o.set(t,f)})(r(d[1]));var n=t(r(d[2])),o=t(r(d[3]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}var f=(0,n.default)({supportedCommands:['setNativeValue']});e.Commands=f;var l=(0,o.default)('AndroidSwitch',{interfaceOnly:!0});e.default=l},321,[1,10,130,183]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;!(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=o(n);if(u&&u.has(t))return u.get(t);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var c=l?Object.getOwnPropertyDescriptor(t,p):null;c&&(c.get||c.set)?Object.defineProperty(f,p,c):f[p]=t[p]}f.default=t,u&&u.set(t,f)})(r(d[1]));var n=t(r(d[2]));function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(o=function(t){return t?u:n})(t)}var u=(0,t(r(d[3])).default)({supportedCommands:['setValue']});e.Commands=u;var f=(0,n.default)('Switch',{paperComponentName:'RCTSwitch',excludedPlatforms:['android']});e.default=f},322,[1,10,183,130]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),l=t(r(d[2])),u=t(r(d[3])),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var l=I(n);if(l&&l.has(t))return l.get(t);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var s=o?Object.getOwnPropertyDescriptor(t,c):null;s&&(s.get||s.set)?Object.defineProperty(u,c,s):u[c]=t[c]}u.default=t,l&&l.set(t,u);return u})(r(d[4])),c=t(r(d[5])),s=t(r(d[6])),f=t(r(d[7])),p=t(r(d[8])),v=t(r(d[9])),C=t(r(d[10])),y=t(r(d[11])),S=t(r(d[12])),b=t(r(d[13])),h=t(r(d[14])),F=["onBlur","onFocus"],O=["allowFontScaling","rejectResponderTermination","underlineColorAndroid"];function I(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,l=new WeakMap;return(I=function(t){return t?l:n})(t)}var R,T,x,E,P,j,w=o.useLayoutEffect,B=o.useRef,k=o.useState;'android'===s.default.OS?(R=r(d[15]).default,T=r(d[15]).Commands):'ios'===s.default.OS&&(x=r(d[16]).default,E=r(d[16]).Commands,P=r(d[17]).default,j=r(d[17]).Commands);var A=function(){return!0};function M(t){var c,f,O,I=B(null),M=null==t.selection?null:{start:t.selection.start,end:null!=(c=t.selection.end)?c:t.selection.start},z=k(0),_=(0,u.default)(z,2),H=_[0],V=_[1],W=k(t.value),L=(0,u.default)(W,2),U=L[0],N=L[1],q=k({selection:M,mostRecentEventCount:H}),G=(0,u.default)(q,2),J=G[0],K=G[1],Q=J.selection;J.mostRecentEventCount<H&&(M=null),O=T||(!0===t.multiline?j:E);var X='string'==typeof t.value?t.value:'string'==typeof t.defaultValue?t.defaultValue:'';function Y(){null!=I.current&&O.setTextAndSelection(I.current,H,'',0,0)}function Z(){return C.default.currentlyFocusedInput()===I.current}function $(){return I.current}w(function(){var n,l,u,o,c={};(U!==t.value&&'string'==typeof t.value&&(c.text=t.value,N(t.value)),M&&Q&&(Q.start!==M.start||Q.end!==M.end)&&(c.selection=M,K({selection:M,mostRecentEventCount:H})),0!==Object.keys(c).length)&&(null!=I.current&&O.setTextAndSelection(I.current,H,X,null!=(n=null==(l=M)?void 0:l.start)?n:-1,null!=(u=null==(o=M)?void 0:o.end)?u:-1))},[H,I,t.value,t.defaultValue,U,M,Q,X,O]),w(function(){var t=I.current;if(null!=t)return C.default.registerInput(t),function(){C.default.unregisterInput(t),C.default.currentlyFocusedInput()===t&&(0,S.default)(t).blur()}},[I]);var ee=(0,b.default)({getForwardedRef:function(){return t.forwardedRef},setLocalRef:function(t){I.current=t,t&&(t.clear=Y,t.isFocused=Z,t.getNativeRef=$)}}),te=function(n){var l=n.nativeEvent.text;t.onChange&&t.onChange(n),t.onChangeText&&t.onChangeText(l),null!=I.current&&(N(l),V(n.nativeEvent.eventCount))},ne=function(n){t.onSelectionChange&&t.onSelectionChange(n),null!=I.current&&K({selection:n.nativeEvent.selection,mostRecentEventCount:H})},le=function(n){C.default.focusInput(I.current),t.onFocus&&t.onFocus(n)},ue=function(n){C.default.blurInput(I.current),t.onBlur&&t.onBlur(n)},re=function(n){t.onScroll&&t.onScroll(n)},oe=null,ae=null!=(f=t.blurOnSubmit)?f:!t.multiline,ce=!1!==t.accessible,ie=!1!==t.focusable,de=o.useMemo(function(){return{onPress:function(n){!1!==t.editable&&null!=I.current&&I.current.focus()},onPressIn:t.onPressIn,onPressOut:t.onPressOut,cancelable:'ios'===s.default.OS?!t.rejectResponderTermination:null}},[t.editable,t.onPressIn,t.onPressOut,t.rejectResponderTermination]),se=t.caretHidden;s.default.isTesting&&(se=!0);var fe=(0,h.default)(de)||{},pe=(fe.onBlur,fe.onFocus,(0,l.default)(fe,F));if('ios'===s.default.OS){var ve=!0===t.multiline?P:x,ge=!0===t.multiline?[D.multilineInput,t.style]:t.style;oe=o.createElement(ve,(0,n.default)({ref:ee},t,pe,{accessible:ce,blurOnSubmit:ae,caretHidden:se,dataDetectorTypes:t.dataDetectorTypes,focusable:ie,mostRecentEventCount:H,onBlur:ue,onChange:te,onContentSizeChange:t.onContentSizeChange,onFocus:le,onScroll:re,onSelectionChange:ne,onSelectionChangeShouldSetResponder:A,selection:M,style:ge,text:X}))}else if('android'===s.default.OS){var me,Ce=[t.style],ye=t.autoCapitalize||'sentences',Se=null!=(me=t.placeholder)?me:'',be=t.children,he=o.Children.count(be);(0,y.default)(!(null!=t.value&&he),'Cannot specify both value and children.'),he>1&&(be=o.createElement(p.default,null,be)),oe=o.createElement(R,(0,n.default)({ref:ee},t,pe,{accessible:ce,autoCapitalize:ye,blurOnSubmit:ae,caretHidden:se,children:be,disableFullscreenUI:t.disableFullscreenUI,focusable:ie,mostRecentEventCount:H,onBlur:ue,onChange:te,onFocus:le,onScroll:re,onSelectionChange:ne,placeholder:Se,selection:M,style:Ce,text:X,textBreakStrategy:t.textBreakStrategy}))}return o.createElement(v.default.Provider,{value:!0},oe)}var z=o.forwardRef(function(t,u){var c=t.allowFontScaling,s=void 0===c||c,f=t.rejectResponderTermination,p=void 0===f||f,v=t.underlineColorAndroid,C=void 0===v?'transparent':v,y=(0,l.default)(t,O);return o.createElement(M,(0,n.default)({allowFontScaling:s,rejectResponderTermination:p,underlineColorAndroid:C},y,{forwardedRef:u}))});z.propTypes=c.default,z.State={currentlyFocusedInput:C.default.currentlyFocusedInput,currentlyFocusedField:C.default.currentlyFocusedField,focusTextInput:C.default.focusTextInput,blurTextInput:C.default.blurTextInput};var D=f.default.create({multilineInput:{paddingTop:5}});m.exports=z},323,[1,13,97,41,10,324,55,176,187,179,128,15,327,247,203,129,165,328]);
__d(function(g,r,_i,a,m,e,d){'use strict';var n=r(d[0]);function o(n,o){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);o&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,l)}return t}function t(t){for(var l=1;l<arguments.length;l++){var i=null!=arguments[l]?arguments[l]:{};l%2?o(Object(i),!0).forEach(function(o){n(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var l=r(d[1]),i=r(d[2]),s=r(d[3]),c=r(d[4]),u=['phoneNumber','link','address','calendarEvent','none','all'];m.exports=t(t({},s),{},{autoCapitalize:c.oneOf(['none','sentences','words','characters']),autoComplete:c.oneOf(['cc-csc','cc-exp','cc-exp-month','cc-exp-year','cc-number','email','name','password','postal-code','street-address','tel','username','off']),autoCorrect:c.bool,spellCheck:c.bool,autoFocus:c.bool,allowFontScaling:c.bool,maxFontSizeMultiplier:c.number,editable:c.bool,keyboardType:c.oneOf(['default','email-address','numeric','phone-pad','number-pad','url','ascii-capable','numbers-and-punctuation','name-phone-pad','decimal-pad','twitter','web-search','ascii-capable-number-pad','visible-password']),keyboardAppearance:c.oneOf(['default','light','dark']),returnKeyType:c.oneOf(['done','go','next','search','send','none','previous','default','emergency-call','google','join','route','yahoo']),returnKeyLabel:c.string,maxLength:c.number,numberOfLines:c.number,disableFullscreenUI:c.bool,enablesReturnKeyAutomatically:c.bool,multiline:c.bool,textBreakStrategy:c.oneOf(['simple','highQuality','balanced']),onBlur:c.func,onFocus:c.func,onChange:c.func,onChangeText:c.func,onContentSizeChange:c.func,onTextInput:c.func,onEndEditing:c.func,onSelectionChange:c.func,onSubmitEditing:c.func,onKeyPress:c.func,onLayout:c.func,onScroll:c.func,placeholder:c.string,placeholderTextColor:l,scrollEnabled:c.bool,secureTextEntry:c.bool,selectionColor:l,selection:c.shape({start:c.number.isRequired,end:c.number}),value:c.string,defaultValue:c.string,clearButtonMode:c.oneOf(['never','while-editing','unless-editing','always']),clearTextOnFocus:c.bool,selectTextOnFocus:c.bool,blurOnSubmit:c.bool,style:i.style,underlineColorAndroid:l,inlineImageLeft:c.string,inlineImagePadding:c.number,rejectResponderTermination:c.bool,dataDetectorTypes:c.oneOfType([c.oneOf(u),c.arrayOf(c.oneOf(u))]),caretHidden:c.bool,contextMenuHidden:c.bool,inputAccessoryViewID:c.string,textContentType:c.oneOf(['none','URL','addressCity','addressCityAndState','addressState','countryName','creditCardNumber','emailAddress','familyName','fullStreetAddress','givenName','jobTitle','location','middleName','name','namePrefix','nameSuffix','nickname','organizationName','postalCode','streetAddressLine1','streetAddressLine2','sublocality','telephoneNumber','username','password','newPassword','oneTimeCode']),showSoftInputOnFocus:c.bool})},324,[34,189,188,325,191]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=r(d[1]),s=r(d[2]),t=r(d[3]),c=r(d[4]).DeprecatedAccessibilityRoles,l=n(s);m.exports={accessible:t.bool,accessibilityLabel:t.node,accessibilityHint:t.string,accessibilityActions:t.arrayOf(t.string),accessibilityIgnoresInvertColors:t.bool,accessibilityRole:t.oneOf(c),accessibilityState:t.object,accessibilityValue:t.object,accessibilityLiveRegion:t.oneOf(['none','polite','assertive']),importantForAccessibility:t.oneOf(['auto','yes','no','no-hide-descendants']),accessibilityViewIsModal:t.bool,accessibilityElementsHidden:t.bool,onAccessibilityAction:t.func,onAccessibilityTap:t.func,onMagicTap:t.func,testID:t.string,nativeID:t.string,onResponderGrant:t.func,onResponderMove:t.func,onResponderReject:t.func,onResponderRelease:t.func,onResponderTerminate:t.func,onResponderTerminationRequest:t.func,onStartShouldSetResponder:t.func,onStartShouldSetResponderCapture:t.func,onMoveShouldSetResponder:t.func,onMoveShouldSetResponderCapture:t.func,hitSlop:o,onLayout:t.func,pointerEvents:t.oneOf(['box-none','none','box-only','auto']),style:l,removeClippedSubviews:t.bool,renderToHardwareTextureAndroid:t.bool,shouldRasterizeIOS:t.bool,collapsable:t.bool,needsOffscreenAlphaCompositing:t.bool}},325,[190,194,197,191,326]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={DeprecatedAccessibilityRoles:['none','button','togglebutton','link','search','image','keyboardkey','text','adjustable','imagebutton','header','summary','alert','checkbox','combobox','menu','menubar','menuitem','progressbar','radio','radiogroup','scrollbar','spinbutton','switch','tab','tablist','timer','list','toolbar']}},326,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){if(null!=t)return t;var n=new Error(void 0!==o?o:'Got unexpected '+t);throw n.framesToPop=1,n}m.exports=t,m.exports.default=t,Object.defineProperty(m.exports,'__esModule',{value:!0})},327,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=f(n);if(u&&u.has(t))return u.get(t);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var p=l?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(o,c,p):o[c]=t[c]}o.default=t,u&&u.set(t,o);return o})(r(d[3]));function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(f=function(t){return t?u:n})(t)}var l=(0,n.default)({supportedCommands:['focus','blur','setTextAndSelection']});e.Commands=l;var c=o.get('RCTMultilineTextInputView',function(){return u.default});e.default=c},328,[1,130,166,143]);
__d(function(g,r,_i,a,m,_e,d){var t=r(d[0]),e=t(r(d[1])),o=t(r(d[2])),i=((function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(e);if(o&&o.has(t))return o.get(t);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in t)if("default"!==E&&Object.prototype.hasOwnProperty.call(t,E)){var n=s?Object.getOwnPropertyDescriptor(t,E):null;n&&(n.get||n.set)?Object.defineProperty(i,E,n):i[E]=t[E]}i.default=t,o&&o.set(t,i)})(r(d[3])),t(r(d[4]))),s=t(r(d[5])),E=t(r(d[6])),n=t(r(d[7])),l=t(r(d[8]));r(d[9]);function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:e})(t)}function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,i)}return o}function R(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach(function(e){(0,o.default)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var c=function(t){var e=t.touches,o=t.changedTouches,i=e&&e.length>0,s=o&&o.length>0;return!i&&s?o[0]:i?e[0]:t},_='NOT_RESPONDER',S='RESPONDER_INACTIVE_PRESS_IN',P='RESPONDER_INACTIVE_PRESS_OUT',T='RESPONDER_ACTIVE_PRESS_IN',D='RESPONDER_ACTIVE_PRESS_OUT',O='RESPONDER_ACTIVE_LONG_PRESS_IN',N='RESPONDER_ACTIVE_LONG_PRESS_OUT',p='ERROR',f={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},b=R(R({},f),{},{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),A=R(R({},f),{},{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),I=R(R({},f),{},{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),L='DELAY',y='RESPONDER_GRANT',v='RESPONDER_RELEASE',C='RESPONDER_TERMINATED',G='ENTER_PRESS_RECT',V='LEAVE_PRESS_RECT',H='LONG_PRESS_DETECTED',M={NOT_RESPONDER:{DELAY:p,RESPONDER_GRANT:S,RESPONDER_RELEASE:p,RESPONDER_TERMINATED:p,ENTER_PRESS_RECT:p,LEAVE_PRESS_RECT:p,LONG_PRESS_DETECTED:p},RESPONDER_INACTIVE_PRESS_IN:{DELAY:T,RESPONDER_GRANT:p,RESPONDER_RELEASE:_,RESPONDER_TERMINATED:_,ENTER_PRESS_RECT:S,LEAVE_PRESS_RECT:P,LONG_PRESS_DETECTED:p},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:D,RESPONDER_GRANT:p,RESPONDER_RELEASE:_,RESPONDER_TERMINATED:_,ENTER_PRESS_RECT:S,LEAVE_PRESS_RECT:P,LONG_PRESS_DETECTED:p},RESPONDER_ACTIVE_PRESS_IN:{DELAY:p,RESPONDER_GRANT:p,RESPONDER_RELEASE:_,RESPONDER_TERMINATED:_,ENTER_PRESS_RECT:T,LEAVE_PRESS_RECT:D,LONG_PRESS_DETECTED:O},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:p,RESPONDER_GRANT:p,RESPONDER_RELEASE:_,RESPONDER_TERMINATED:_,ENTER_PRESS_RECT:T,LEAVE_PRESS_RECT:D,LONG_PRESS_DETECTED:p},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:p,RESPONDER_GRANT:p,RESPONDER_RELEASE:_,RESPONDER_TERMINATED:_,ENTER_PRESS_RECT:O,LEAVE_PRESS_RECT:N,LONG_PRESS_DETECTED:O},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:p,RESPONDER_GRANT:p,RESPONDER_RELEASE:_,RESPONDER_TERMINATED:_,ENTER_PRESS_RECT:O,LEAVE_PRESS_RECT:N,LONG_PRESS_DETECTED:p},error:{DELAY:_,RESPONDER_GRANT:S,RESPONDER_RELEASE:_,RESPONDER_TERMINATED:_,ENTER_PRESS_RECT:_,LEAVE_PRESS_RECT:_,LONG_PRESS_DETECTED:_}},w={componentDidMount:function(){s.default.isTV},componentWillUnmount:function(){this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(t){var e=t.currentTarget;t.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=_,this.state.touchable.responderID=e,this._receiveSignal(y,t);var o=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(o=isNaN(o)?130:o)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,t),o):this._handleDelay(t);var i=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;i=isNaN(i)?370:i,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,t),i+o)},touchableHandleResponderRelease:function(t){this.pressInLocation=null,this._receiveSignal(v,t)},touchableHandleResponderTerminate:function(t){this.pressInLocation=null,this._receiveSignal(C,t)},touchableHandleResponderMove:function(t){if(this.state.touchable.positionOnActivate){var e=this.state.touchable.positionOnActivate,o=this.state.touchable.dimensionsOnActivate,i=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},s=i.left,E=i.top,n=i.right,l=i.bottom,u=this.touchableGetHitSlop?this.touchableGetHitSlop():null;u&&(s+=u.left||0,E+=u.top||0,n+=u.right||0,l+=u.bottom||0);var h=c(t.nativeEvent),R=h&&h.pageX,_=h&&h.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(R,_,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(R>e.left-s&&_>e.top-E&&R<e.left+o.width+n&&_<e.top+o.height+l){var P=this.state.touchable.touchState;this._receiveSignal(G,t),this.state.touchable.touchState===S&&P!==S&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(V,t)}},touchableHandleFocus:function(t){this.props.onFocus&&this.props.onFocus(t)},touchableHandleBlur:function(t){this.props.onBlur&&this.props.onBlur(t)},_remeasureMetricsOnActivation:function(){var t=this.state.touchable.responderID;null!=t&&('number'==typeof t?n.default.measure(t,this._handleQueryLayout):t.measure(this._handleQueryLayout))},_handleQueryLayout:function(t,e,o,s,n,l){(t||e||o||s||n||l)&&(this.state.touchable.positionOnActivate&&E.default.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&i.default.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=E.default.getPooled(n,l),this.state.touchable.dimensionsOnActivate=i.default.getPooled(o,s))},_handleDelay:function(t){this.touchableDelayTimeout=null,this._receiveSignal(L,t)},_handleLongDelay:function(t){this.longPressDelayTimeout=null;var e=this.state.touchable.touchState;e!==T&&e!==O||this._receiveSignal(H,t)},_receiveSignal:function(t,e){var o=this.state.touchable.responderID,i=this.state.touchable.touchState,s=M[i]&&M[i][t];if(o||t!==v){if(!s)throw new Error('Unrecognized signal `'+t+'` or state `'+i+'` for Touchable responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"host component`");if(s===p)throw new Error('Touchable cannot transition from `'+i+'` to `'+t+'` for responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"<<host component>>`");i!==s&&(this._performSideEffectsForTransition(i,s,t,e),this.state.touchable.touchState=s)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(t){return t===T||t===O},_savePressInLocation:function(t){var e=c(t.nativeEvent),o=e&&e.pageX,i=e&&e.pageY,s=e&&e.locationX,E=e&&e.locationY;this.pressInLocation={pageX:o,pageY:i,locationX:s,locationY:E}},_getDistanceBetweenPoints:function(t,e,o,i){var s=t-o,E=e-i;return Math.sqrt(s*s+E*E)},_performSideEffectsForTransition:function(t,e,o,i){var E=this._isHighlight(t),n=this._isHighlight(e);(o===C||o===v)&&this._cancelLongPressDelayTimeout();var u=t===_&&e===S,h=!b[t]&&b[e];if((u||h)&&this._remeasureMetricsOnActivation(),A[t]&&o===H&&this.touchableHandleLongPress&&this.touchableHandleLongPress(i),n&&!E?this._startHighlight(i):!n&&E&&this._endHighlight(i),A[t]&&o===v){var R=!!this.props.onLongPress,c=I[t]&&(!R||!this.touchableLongPressCancelsPress());(!I[t]||c)&&this.touchableHandlePress&&(n||E||(this._startHighlight(i),this._endHighlight(i)),'android'!==s.default.OS||this.props.touchSoundDisabled||l.default.playTouchSound(),this.touchableHandlePress(i))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_startHighlight:function(t){this._savePressInLocation(t),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(t)},_endHighlight:function(t){var e=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout(function(){e.touchableHandleActivePressOut(t)},this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(t))},withoutDefaultFocusAndBlur:{}},j=(w.touchableHandleFocus,w.touchableHandleBlur,(0,e.default)(w,["touchableHandleFocus","touchableHandleBlur"]));w.withoutDefaultFocusAndBlur=j;var Y={Mixin:w,renderDebugView:function(t){t.color,t.hitSlop;return null}};m.exports=Y},329,[1,97,34,10,330,55,332,145,206,202]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),o=t.default.twoArgumentPooler;function n(t,o){this.width=t,this.height=o}n.prototype.destructor=function(){this.width=null,this.height=null},n.getPooledFromElement=function(t){return n.getPooled(t.offsetWidth,t.offsetHeight)},t.default.addPoolingTo(n,o),m.exports=n},330,[1,331]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=function(t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,t),n}return new this(t)},o=function(n){(0,t.default)(n instanceof this,'Trying to release an instance into a pool of a different type.'),n.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(n)},s=n,l={addPoolingTo:function(t,n){var l=t;return l.instancePool=[],l.getPooled=n||s,l.poolSize||(l.poolSize=10),l.release=o,l},oneArgumentPooler:n,twoArgumentPooler:function(t,n){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,t,n),o}return new this(t,n)},threeArgumentPooler:function(t,n,o){if(this.instancePool.length){var s=this.instancePool.pop();return this.call(s,t,n,o),s}return new this(t,n,o)},fourArgumentPooler:function(t,n,o,s){if(this.instancePool.length){var l=this.instancePool.pop();return this.call(l,t,n,o,s),l}return new this(t,n,o,s)}};m.exports=l},331,[1,15]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),o=t.default.twoArgumentPooler;function l(t,o){this.left=t,this.top=o}l.prototype.destructor=function(){this.left=null,this.top=null},t.default.addPoolingTo(l,o),m.exports=l},332,[1,331]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),s=e(r(d[2])),i=e(r(d[3])),o=e(r(d[4])),n=e(r(d[5])),l=e(r(d[6])),p=e(r(d[7])),u=e(r(d[8])),c=e(r(d[9])),h=(r(d[10]),e(r(d[11]))),y=e(r(d[12])),f=e(r(d[13])),b=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=v(t);if(s&&s.has(e))return s.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(i,n,l):i[n]=e[n]}i.default=e,s&&s.set(e,i);return i})(r(d[14])),P=["onBlur","onFocus"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(v=function(e){return e?s:t})(e)}function _(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach(function(t){(0,s.default)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var S=(function(e){(0,l.default)(S,e);var s,v,_=(s=S,v=w(),function(){var e,t=(0,u.default)(s);if(v){var i=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return(0,p.default)(this,e)});function S(){var e;(0,o.default)(this,S);for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=_.call.apply(_,[this].concat(s)))._isMounted=!1,e.state={pressability:new c.default(e._createPressabilityConfig()),extraStyles:!0===e.props.testOnly_pressed?e._createExtraStyles():null},e}return(0,n.default)(S,[{key:"_createPressabilityConfig",value:function(){var e,t=this;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=this.props.disabled?this.props.disabled:null==(e=this.props.accessibilityState)?void 0:e.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onBlur:function(e){y.default.isTV&&t._hideUnderlay(),null!=t.props.onBlur&&t.props.onBlur(e)},onFocus:function(e){y.default.isTV&&t._showUnderlay(),null!=t.props.onFocus&&t.props.onFocus(e)},onLongPress:this.props.onLongPress,onPress:function(e){var s;(null!=t._hideTimeout&&clearTimeout(t._hideTimeout),y.default.isTV)||(t._showUnderlay(),t._hideTimeout=setTimeout(function(){t._hideUnderlay()},null!=(s=t.props.delayPressOut)?s:0));null!=t.props.onPress&&t.props.onPress(e)},onPressIn:function(e){null!=t._hideTimeout&&(clearTimeout(t._hideTimeout),t._hideTimeout=null),t._showUnderlay(),null!=t.props.onPressIn&&t.props.onPressIn(e)},onPressOut:function(e){null==t._hideTimeout&&t._hideUnderlay(),null!=t.props.onPressOut&&t.props.onPressOut(e)}}}},{key:"_createExtraStyles",value:function(){var e;return{child:{opacity:null!=(e=this.props.activeOpacity)?e:.85},underlay:{backgroundColor:void 0===this.props.underlayColor?'black':this.props.underlayColor}}}},{key:"_showUnderlay",value:function(){this._isMounted&&this._hasPressHandler()&&(this.setState({extraStyles:this._createExtraStyles()}),null!=this.props.onShowUnderlay&&this.props.onShowUnderlay())}},{key:"_hideUnderlay",value:function(){null!=this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=null),!0!==this.props.testOnly_pressed&&this._hasPressHandler()&&(this.setState({extraStyles:null}),null!=this.props.onHideUnderlay&&this.props.onHideUnderlay())}},{key:"_hasPressHandler",value:function(){return null!=this.props.onPress||null!=this.props.onPressIn||null!=this.props.onPressOut||null!=this.props.onLongPress}},{key:"render",value:function(){var e,s,o=b.Children.only(this.props.children),n=this.state.pressability.getEventHandlers(),l=(n.onBlur,n.onFocus,(0,i.default)(n,P)),p=null!=this.props.disabled?O(O({},this.props.accessibilityState),{},{disabled:this.props.disabled}):this.props.accessibilityState;return b.createElement(f.default,(0,t.default)({accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:p,accessibilityValue:this.props.accessibilityValue,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,style:h.default.compose(this.props.style,null==(e=this.state.extraStyles)?void 0:e.underlay),onLayout:this.props.onLayout,hitSlop:this.props.hitSlop,hasTVPreferredFocus:this.props.hasTVPreferredFocus,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,nativeID:this.props.nativeID,testID:this.props.testID,ref:this.props.hostRef},l),b.cloneElement(o,{style:h.default.compose(o.props.style,null==(s=this.state.extraStyles)?void 0:s.child)}),null)}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this.state.pressability.reset()}}]),S})(b.Component),T=b.forwardRef(function(e,s){return b.createElement(S,(0,t.default)({},e,{hostRef:s}))});T.displayName='TouchableHighlight',m.exports=T},333,[1,13,34,97,2,3,4,6,9,204,202,176,55,177,10]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),i=e(r(d[4])),s=e(r(d[5])),c=e(r(d[6])),l=e(r(d[7])),u=e(r(d[8])),p=(r(d[9]),e(r(d[10])),(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o})(r(d[11]))),f=["onBlur","onFocus"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function P(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?O(Object(o),!0).forEach(function(n){(0,t.default)(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var w=['accessibilityActions','accessibilityElementsHidden','accessibilityHint','accessibilityIgnoresInvertColors','accessibilityLabel','accessibilityLiveRegion','accessibilityRole','accessibilityValue','accessibilityViewIsModal','hitSlop','importantForAccessibility','nativeID','onAccessibilityAction','onBlur','onFocus','onLayout','testID'],S=(function(e){(0,s.default)(v,e);var t,y,h=(t=v,y=j(),function(){var e,n=(0,l.default)(t);if(y){var o=(0,l.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function v(){var e;(0,o.default)(this,v);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=h.call.apply(h,[this].concat(n))).state={pressability:new u.default(I(e.props))},e}return(0,i.default)(v,[{key:"render",value:function(){for(var e,t=p.Children.only(this.props.children),o=[t.props.children],i=this.state.pressability.getEventHandlers(),s=(i.onBlur,i.onFocus,P(P({},(0,n.default)(i,f)),{},{accessible:!1!==this.props.accessible,accessibilityState:null!=this.props.disabled?P(P({},this.props.accessibilityState),{},{disabled:this.props.disabled}):this.props.accessibilityState,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress})),c=b(w);!(e=c()).done;){var l=e.value;void 0!==this.props[l]&&(s[l]=this.props[l])}return p.cloneElement.apply(p,[t,s].concat(o))}},{key:"componentDidUpdate",value:function(){this.state.pressability.configure(I(this.props))}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}]),v})(p.Component);function I(e){var t;return{cancelable:!e.rejectResponderTermination,disabled:null!==e.disabled?e.disabled:null==(t=e.accessibilityState)?void 0:t.disabled,hitSlop:e.hitSlop,delayLongPress:e.delayLongPress,delayPressIn:e.delayPressIn,delayPressOut:e.delayPressOut,minPressDuration:0,pressRectOffset:e.pressRetentionOffset,android_disableSound:e.touchSoundDisabled,onBlur:e.onBlur,onFocus:e.onFocus,onLongPress:e.onLongPress,onPress:e.onPress,onPressIn:e.onPressIn,onPressOut:e.onPressOut}}S.displayName='TouchableWithoutFeedback',m.exports=S},334,[1,34,97,2,3,4,6,9,204,202,177,10]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),i=t(r(d[3])),c=["tintColor","destructiveButtonIndex"];function u(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);o&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function l(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?u(Object(i),!0).forEach(function(n){(0,o.default)(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))})}return t}var s=r(d[4]),p=r(d[5]),f={showActionSheetWithOptions:function(t,o){s('object'==typeof t&&null!==t,'Options must be a valid object'),s('function'==typeof o,'Must provide a valid callback'),s(i.default,"ActionSheetManager doesn't exist");var u=t.tintColor,f=t.destructiveButtonIndex,b=(0,n.default)(t,c),O=null;Array.isArray(f)?O=f:'number'==typeof f&&(O=[f]);var h=p(u);s(null==h||'number'==typeof h,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions tintColor'),i.default.showActionSheetWithOptions(l(l({},b),{},{tintColor:h,destructiveButtonIndices:O}),o)},showShareActionSheetWithOptions:function(t,o,n){s('object'==typeof t&&null!==t,'Options must be a valid object'),s('function'==typeof o,'Must provide a valid failureCallback'),s('function'==typeof n,'Must provide a valid successCallback'),s(i.default,"ActionSheetManager doesn't exist"),i.default.showShareActionSheetWithOptions(l(l({},t),{},{tintColor:p(t.tintColor)}),o,n)}};m.exports=f},335,[1,34,97,336,15,134]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('ActionSheetManager');e.default=n},336,[39]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),l=n(r(d[1])),t=n(r(d[2])),o=n(r(d[3])),u=n(r(d[4])),c=(r(d[5]),n(r(d[6]))),h=new l.default;o.default&&new t.default('ios'!==c.default.OS?null:o.default).addListener('appearanceChanged',function(n){var l=n.colorScheme;(0,u.default)('dark'===l||'light'===l||null==l,"Unrecognized color scheme. Did you mean 'dark' or 'light'?"),h.emit('change',{colorScheme:l})});m.exports={getColorScheme:function(){var n=null==o.default?null:o.default.getColorScheme()||null;return(0,u.default)('dark'===n||'light'===n||null==n,"Unrecognized color scheme. Did you mean 'dark' or 'light'?"),n},addChangeListener:function(n){return h.addListener('change',n)},removeChangeListener:function(n){h.removeListener('change',n)}}},337,[1,19,99,338,15,339,55]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(f,c,l):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('Appearance');e.default=n},338,[39]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.isAsyncDebugging=void 0;e.isAsyncDebugging=!1},339,[]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]),t=n(r(d[1])),o=r(d[2]),i=n(r(d[3])),s=n(r(d[4])),c=n(r(d[5]));function u(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),o.push.apply(o,i)}return o}function f(n){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?u(Object(i),!0).forEach(function(o){(0,t.default)(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))})}return n}var l,p=r(d[6]),y=r(d[7]),h=r(d[8]),b=r(d[9]),k=r(d[10]),v=r(d[11]),O=r(d[12]),C={},w=1,A={},j=new Map,R=new Map,T=function(n){return n()},P=!1,S={setWrapperComponentProvider:function(n){l=n},enableArchitectureIndicator:function(n){P=n},registerConfig:function(n){n.forEach(function(n){n.run?S.registerRunnable(n.appKey,n.run):(v(null!=n.component,"AppRegistry.registerConfig(...): Every config is expected to set either `run` or `component`, but `%s` has neither.",n.appKey),S.registerComponent(n.appKey,n.component,n.section))})},registerComponent:function(n,t,s){var c=(0,i.default)();return C[n]={componentProvider:t,run:function(i,s){O(T(t,c),i.initialProps,i.rootTag,l&&l(i),i.fabric,P,c,'LogBox'===n,n,(0,o.coerceDisplayMode)(s),i.concurrentRoot)}},s&&(A[n]=C[n]),n},registerRunnable:function(n,t){return C[n]={run:t},n},registerSection:function(n,t){S.registerComponent(n,t,!0)},getAppKeys:function(){return Object.keys(C)},getSectionKeys:function(){return Object.keys(A)},getSections:function(){return f({},A)},getRunnable:function(n){return C[n]},getRegistry:function(){return{sections:S.getSectionKeys(),runnables:f({},C)}},setComponentProviderInstrumentationHook:function(n){T=n},runApplication:function(n,t,o){if('LogBox'!==n){var i='Running "'+n+'" with '+JSON.stringify(t);k(i),y.addSource('AppRegistry.runApplication'+w++,function(){return i})}v(C[n]&&C[n].run,"\""+n+"\" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and `AppRegistry.registerComponent` wasn't called."),b.setActiveScene({name:n}),C[n].run(t,o)},setSurfaceProps:function(n,t,o){if('LogBox'!==n){var i='Updating props for Surface "'+n+'" with '+JSON.stringify(t);k(i),y.addSource('AppRegistry.setSurfaceProps'+w++,function(){return i})}v(C[n]&&C[n].run,"\""+n+"\" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and `AppRegistry.registerComponent` wasn't called."),C[n].run(t,o)},unmountApplicationComponentAtRootTag:function(n){h.unmountComponentAtNodeAndRemoveContainer(n)},registerHeadlessTask:function(n,t){this.registerCancellableHeadlessTask(n,t,function(){return function(){}})},registerCancellableHeadlessTask:function(n,t,o){j.has(n)&&console.warn("registerHeadlessTask or registerCancellableHeadlessTask called multiple times for same key '"+n+"'"),j.set(n,t),R.set(n,o)},startHeadlessTask:function(n,t,o){var i=j.get(t);if(!i)return console.warn("No task registered for key "+t),void(s.default&&s.default.notifyTaskFinished(n));i()(o).then(function(){s.default&&s.default.notifyTaskFinished(n)}).catch(function(t){console.error(t),s.default&&t instanceof c.default&&s.default.notifyTaskRetry(n).then(function(t){t||s.default.notifyTaskFinished(n)})})},cancelHeadlessTask:function(n,t){var o=R.get(t);if(!o)throw new Error("No task canceller registered for key '"+t+"'");o()()}};p.registerCallableModule('AppRegistry',S),S.registerComponent('LogBox',function(){return function(){return null}}),m.exports=S},340,[1,34,341,86,342,343,45,344,24,348,87,15,349]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.coerceDisplayMode=function(t){switch(t){case D.SUSPENDED:return D.SUSPENDED;case D.HIDDEN:return D.HIDDEN;default:return D.VISIBLE}},e.default=void 0;var D=Object.freeze({VISIBLE:1,SUSPENDED:2,HIDDEN:3});var t=D;e.default=t},341,[]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var c=p?Object.getOwnPropertyDescriptor(n,l):null;c&&(c.get||c.set)?Object.defineProperty(f,l,c):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('HeadlessJsTaskSupport');e.default=n},342,[39]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),u=t(r(d[2])),n=t(r(d[3])),f=t(r(d[4])),c=t(r(d[5]));function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var l=(function(t){(0,n.default)(v,t);var l,s,p=(l=v,s=o(),function(){var t,e=(0,c.default)(l);if(s){var u=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,u)}else t=e.apply(this,arguments);return(0,f.default)(this,t)});function v(){return(0,u.default)(this,v),p.apply(this,arguments)}return(0,e.default)(v)})((0,t(r(d[6])).default)(Error));_e.default=l},343,[1,3,2,4,6,9,35]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),l=t(r(d[4])),i=t(r(d[5])),c=t(r(d[6]));function f(t,n){var u="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(u)return(u=u.call(t)).next.bind(u);if(Array.isArray(t)||(u=s(t))||n&&t&&"number"==typeof t.length){u&&(t=u);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,n){if(t){if("string"==typeof t)return y(t,n);var u=Object.prototype.toString.call(t).slice(8,-1);return"Object"===u&&t.constructor&&(u=t.constructor.name),"Map"===u||"Set"===u?Array.from(t):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?y(t,n):void 0}}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var u=0,o=new Array(n);u<n;u++)o[u]=t[u];return o}function b(){v.addFileSource('react_hierarchy.txt',function(){return r(d[7])()})}var v=(function(){function t(){(0,u.default)(this,t)}return(0,o.default)(t,null,[{key:"_maybeInit",value:function(){t._subscription||(t._subscription=l.default.addListener('collectBugExtraData',t.collectExtraData,null),b()),t._redboxSubscription||(t._redboxSubscription=l.default.addListener('collectRedBoxExtraData',t.collectExtraData,null))}},{key:"addSource",value:function(n,u){return this._addSource(n,u,t._extraSources)}},{key:"addFileSource",value:function(n,u){return this._addSource(n,u,t._fileSources)}},{key:"_addSource",value:function(n,u,o){return t._maybeInit(),o.has(n)&&console.warn("BugReporting.add* called multiple times for same key '"+n+"'"),o.set(n,u),{remove:function(){o.delete(n)}}}},{key:"collectExtraData",value:function(){for(var u,o={},l=f(t._extraSources);!(u=l()).done;){var s=u.value,y=(0,n.default)(s,2),b=y[0],v=y[1];o[b]=v()}for(var p,x={},S=f(t._fileSources);!(p=S()).done;){var _=p.value,h=(0,n.default)(_,2),E=h[0],D=h[1];x[E]=D()}return null!=c.default&&null!=c.default.setExtraData&&c.default.setExtraData(o,x),null!=i.default&&null!=i.default.setExtraData&&i.default.setExtraData(o,'From BugReporting.js'),{extras:o,files:x}}}]),t})();v._extraSources=new Map,v._fileSources=new Map,v._subscription=null,v._redboxSubscription=null,m.exports=v},344,[1,41,2,3,18,345,346,347]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('RedBox');e.default=n},345,[39]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(f,c,l):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('BugReporting');e.default=n},346,[39]);
__d(function(g,r,i,a,m,_e,d){'use strict';m.exports=function(){try{return"React tree dumps have been temporarily disabled while React is upgraded to Fiber."}catch(e){return'Failed to dump react tree: '+e}}},347,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=[],t={name:'default'},c={setActiveScene:function(c){t=c,n.forEach(function(n){return n(t)})},getActiveScene:function(){return t},addActiveSceneChangedListener:function(t){return n.push(t),{remove:function(){n=n.filter(function(n){return t!==n})}}}};m.exports=c},348,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),c=(t(r(d[4])),r(d[5])),p=r(d[6]),u=r(d[7]);r(d[8]),m.exports=function(t,s,f,_,v,x,E,T,b,h,A){u(f,'Expect to have a valid rootTag, instead got ',f);var R=null!=E?E:o.default,P=p.createElement(l.default.Provider,{value:R},p.createElement(c,{rootTag:f,fabric:v,showArchitectureIndicator:x,WrapperComponent:_,initialProps:null!=s?s:Object.freeze({}),internal_excludeLogBox:T},p.createElement(t,(0,n.default)({},s,{rootTag:f}))));R.startTimespan('renderApplication_React_render'),R.setExtra('usedReactFabric',v?'1':'0'),v?r(d[9]).render(P,f,null,A):r(d[10]).render(P,f),R.stopTimespan('renderApplication_React_render')}},349,[1,13,85,350,351,302,10,15,352,353,24]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.usePerformanceLogger=function(){return(0,n.useContext)(f)};var n=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var p=c?Object.getOwnPropertyDescriptor(t,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=t[l]}f.default=t,o&&o.set(t,f);return f})(r(d[1])),o=t(r(d[2]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}var f=n.createContext(o.default);var c=f;e.default=c},350,[1,10,85]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=n.get(t);u||((u=function(n){var t=n.children;return t}).displayName=t,n.set(t,u));return u};var n=new Map},351,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(){}m.exports=r(d[0]);var n={exitApp:t,addEventListener:function(n,o){return{remove:t}},removeEventListener:function(t,n){}};m.exports=n},352,[181]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,s=r(d[0]);t=r(d[1]),g.RN$Bridgeless?g.RN$stopSurface=t.stopSurface:s.BatchedBridge.registerCallableModule('ReactFabric',t),m.exports=t},353,[125,354]);
__d(function(e,n,t,r,l,a,i){"use strict";var u=n(i[0]);n(i[1]);var o=n(i[2]),s=n(i[3]),c=n(i[4]);function d(e,n,t,r,l,a,i,u,o){var s=Array.prototype.slice.call(arguments,3);try{n.apply(t,s)}catch(e){this.onError(e)}}var f=!1,p=null,h=!1,g=null,m={onError:function(e){f=!0,p=e}};function v(e,n,t,r,l,a,i,u,o){f=!1,p=null,d.apply(m,arguments)}function b(e,n,t,r,l,a,i,u,o){if(v.apply(this,arguments),f){if(!f)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var s=p;f=!1,p=null,h||(h=!0,g=s)}}var y=Array.isArray,S=null,k=null,w=null;function x(e,n,t){var r=e.type||"unknown-event";e.currentTarget=w(t),b(r,n,void 0,e),e.currentTarget=null}function P(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(y(n))throw Error("executeDirectDispatch(...): Invalid `event`.");return e.currentTarget=n?w(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function R(){return!0}function T(){return!1}function _(e,n,t,r){for(var l in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,this._dispatchInstances=this._dispatchListeners=null,e=this.constructor.Interface)e.hasOwnProperty(l)&&((n=e[l])?this[l]=n(t):"target"===l?this.target=r:this[l]=t[l]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?R:T,this.isPropagationStopped=T,this}function E(e,n,t,r){if(this.eventPool.length){var l=this.eventPool.pop();return this.call(l,e,n,t,r),l}return new this(e,n,t,r)}function N(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function C(e){e.getPooled=E,e.eventPool=[],e.release=N}u(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=R)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=R)},persist:function(){this.isPersistent=R},isPersistent:T,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=T,this._dispatchInstances=this._dispatchListeners=null}}),_.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},_.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var l=new n;return u(l,t.prototype),t.prototype=l,t.prototype.constructor=t,t.Interface=u({},r.Interface,e),t.extend=r.extend,C(t),t},C(_);var z=_.extend({touchHistory:function(){return null}});function I(e){return"topTouchStart"===e}function L(e){return"topTouchMove"===e}var U=["topTouchStart"],M=["topTouchMove"],F=["topTouchCancel","topTouchEnd"],D=[],A={touchBank:D,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function H(e){return e.timeStamp||e.timestamp}function Q(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function j(e){var n=Q(e),t=D[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=H(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=H(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=H(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:H(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:H(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:H(e)},D[n]=t),A.mostRecentTimeStamp=H(e)}function B(e){var n=D[Q(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=H(e),A.mostRecentTimeStamp=H(e))}function W(e){var n=D[Q(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=H(e),A.mostRecentTimeStamp=H(e))}var O,V={instrument:function(e){O=e},recordTouchTrack:function(e,n){if(null!=O&&O(e,n),L(e))n.changedTouches.forEach(B);else if(I(e))n.changedTouches.forEach(j),A.numberActiveTouches=n.touches.length,1===A.numberActiveTouches&&(A.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(W),A.numberActiveTouches=n.touches.length,1===A.numberActiveTouches))for(e=0;e<D.length;e++)if(null!=(n=D[e])&&n.touchActive){A.indexOfSingleActiveTouch=e;break}},touchHistory:A};function Y(e,n){if(null==n)throw Error("accumulate(...): Accumulated items must not be null or undefined.");return null==e?n:y(e)?e.concat(n):y(n)?[e].concat(n):[e,n]}function q(e,n){if(null==n)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?n:y(e)?y(n)?(e.push.apply(e,n),e):(e.push(n),e):y(n)?[e].concat(n):[e,n]}function X(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var $=null,G=0;function J(e,n){var t=$;$=e,null!==ie.GlobalResponderHandler&&ie.GlobalResponderHandler.onChange(t,e,n)}var K={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:U},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:M},responderStart:{registrationName:"onResponderStart",dependencies:U},responderMove:{registrationName:"onResponderMove",dependencies:M},responderEnd:{registrationName:"onResponderEnd",dependencies:F},responderRelease:{registrationName:"onResponderRelease",dependencies:F},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function Z(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function ee(e,n,t){for(var r=[];e;)r.push(e),e=Z(e);for(e=r.length;0<e--;)n(r[e],"captured",t);for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function ne(e,n){if(null===(e=e.stateNode))return null;if(null===(e=S(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}function te(e,n,t){(n=ne(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=q(t._dispatchListeners,n),t._dispatchInstances=q(t._dispatchInstances,e))}function re(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=ne(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=q(e._dispatchListeners,t),e._dispatchInstances=q(e._dispatchInstances,n))}}}function le(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;ee(n=n?Z(n):null,te,e)}}function ae(e){e&&e.dispatchConfig.phasedRegistrationNames&&ee(e._targetInst,te,e)}var ie={_getResponder:function(){return $},eventTypes:K,extractEvents:function(e,n,t,r){if(I(e))G+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=G))return null;--G}if(V.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<G&&"topSelectionChange"===e||I(e)||L(e))){var l=I(e)?K.startShouldSetResponder:L(e)?K.moveShouldSetResponder:"topSelectionChange"===e?K.selectionChangeShouldSetResponder:K.scrollShouldSetResponder;if($)e:{for(var a=$,i=0,u=a;u;u=Z(u))i++;u=0;for(var o=n;o;o=Z(o))u++;for(;0<i-u;)a=Z(a),i--;for(;0<u-i;)n=Z(n),u--;for(;i--;){if(a===n||a===n.alternate)break e;a=Z(a),n=Z(n)}a=null}else a=n;a=(n=a)===$,(l=z.getPooled(l,n,t,r)).touchHistory=V.touchHistory,X(l,a?le:ae);e:{if(a=l._dispatchListeners,n=l._dispatchInstances,y(a)){for(i=0;i<a.length&&!l.isPropagationStopped();i++)if(a[i](l,n[i])){a=n[i];break e}}else if(a&&a(l,n)){a=n;break e}a=null}if(l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),a&&a!==$)if((l=z.getPooled(K.responderGrant,a,t,r)).touchHistory=V.touchHistory,X(l,re),n=!0===P(l),$)if((i=z.getPooled(K.responderTerminationRequest,$,t,r)).touchHistory=V.touchHistory,X(i,re),u=!i._dispatchListeners||P(i),i.isPersistent()||i.constructor.release(i),u){(i=z.getPooled(K.responderTerminate,$,t,r)).touchHistory=V.touchHistory,X(i,re);var s=Y(s,[l,i]);J(a,n)}else(l=z.getPooled(K.responderReject,a,t,r)).touchHistory=V.touchHistory,X(l,re),s=Y(s,l);else s=Y(s,l),J(a,n);else s=null}else s=null;if(l=$&&I(e),a=$&&L(e),n=$&&("topTouchEnd"===e||"topTouchCancel"===e),(l=l?K.responderStart:a?K.responderMove:n?K.responderEnd:null)&&((l=z.getPooled(l,$,t,r)).touchHistory=V.touchHistory,X(l,re),s=Y(s,l)),l=$&&"topTouchCancel"===e,e=$&&!l&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(a=0;a<e.length;a++)if(null!==(n=e[a].target)&&void 0!==n&&0!==n){i=k(n);n:{for(n=$;i;){if(n===i||n===i.alternate){n=!0;break n}i=Z(i)}n=!1}if(n){e=!1;break e}}e=!0}return(e=l?K.responderTerminate:e?K.responderRelease:null)&&((t=z.getPooled(e,$,t,r)).touchHistory=V.touchHistory,X(t,re),s=Y(s,t),J(null)),s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){ie.GlobalResponderHandler=e}}},ue=null,oe={};function se(){if(ue)for(var e in oe){var n=oe[e],t=ue.indexOf(e);if(!(-1<t))throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!de[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var r in de[t]=n,t=n.eventTypes){var l=void 0,a=t[r],i=r;if(fe.hasOwnProperty(i))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+i+"`.");fe[i]=a;var u=a.phasedRegistrationNames;if(u){for(l in u)u.hasOwnProperty(l)&&ce(u[l],n);l=!0}else a.registrationName?(ce(a.registrationName,n),l=!0):l=!1;if(!l)throw Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`.")}}}}function ce(e,n){if(pe[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");pe[e]=n}var de=[],fe={},pe={};function he(e,n){if(null===(e=e.stateNode))return null;if(null===(e=S(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}var ge=o.ReactNativeViewConfigRegistry.customBubblingEventTypes,me=o.ReactNativeViewConfigRegistry.customDirectEventTypes;function ve(e,n,t){(n=he(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=q(t._dispatchListeners,n),t._dispatchInstances=q(t._dispatchInstances,e))}function be(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var n=e._targetInst,t=[];n;){t.push(n);do{n=n.return}while(n&&5!==n.tag);n=n||null}for(n=t.length;0<n--;)ve(t[n],"captured",e);for(n=0;n<t.length;n++)ve(t[n],"bubbled",e)}}function ye(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=he(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=q(e._dispatchListeners,t),e._dispatchInstances=q(e._dispatchInstances,n))}}}if(ue)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");ue=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),se();var Se,ke={ResponderEventPlugin:ie,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,r){if(null==n)return null;var l=ge[e],a=me[e];if(!l&&!a)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=_.getPooled(l||a,n,t,r),l)X(e,be);else{if(!a)return null;X(e,ye)}return e}}},we=!1;for(Se in ke)if(ke.hasOwnProperty(Se)){var xe=ke[Se];if(!oe.hasOwnProperty(Se)||oe[Se]!==xe){if(oe[Se])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+Se+"`.");oe[Se]=xe,we=!0}}function Pe(e){return e}we&&se(),S=function(e){return e.canonical.currentProps},k=Pe,w=function(e){if(!(e=e.stateNode.canonical)._nativeTag)throw Error("All native instances should have a tag.");return e},ie.injection.injectGlobalResponderHandler({onChange:function(e,n,t){var r=e||n;(r=r&&r.stateNode)&&r.canonical._internalInstanceHandle?(e&&nativeFabricUIManager.setIsJSResponder(e.stateNode.node,!1,t||!1),n&&nativeFabricUIManager.setIsJSResponder(n.stateNode.node,!0,t||!1)):null!==n?o.UIManager.setJSResponder(n.stateNode.canonical._nativeTag,t):o.UIManager.clearJSResponder()}});var Re=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=60103,_e=60106,Ee=60107,Ne=60108,Ce=60114,ze=60109,Ie=60110,Le=60112,Ue=60113,Me=60120,Fe=60115,De=60116,Ae=60129,He=60130,Qe=60131,je=60132;if("function"==typeof Symbol&&Symbol.for){var Be=Symbol.for;Te=Be("react.element"),_e=Be("react.portal"),Ee=Be("react.fragment"),Ne=Be("react.strict_mode"),Ce=Be("react.profiler"),ze=Be("react.provider"),Ie=Be("react.context"),Le=Be("react.forward_ref"),Ue=Be("react.suspense"),Me=Be("react.suspense_list"),Fe=Be("react.memo"),De=Be("react.lazy"),Be("react.scope"),Ae=Be("react.debug_trace_mode"),He=Be("react.offscreen"),Qe=Be("react.legacy_hidden"),je=Be("react.cache")}var We="function"==typeof Symbol&&Symbol.iterator;function Oe(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=We&&e[We]||e["@@iterator"])?e:null}function Ve(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Ee:return"Fragment";case _e:return"Portal";case Ce:return"Profiler";case Ne:return"StrictMode";case Ue:return"Suspense";case Me:return"SuspenseList";case je:return"Cache"}if("object"==typeof e)switch(e.$$typeof){case Ie:return(e.displayName||"Context")+".Consumer";case ze:return(e._context.displayName||"Context")+".Provider";case Le:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Fe:return null!==(n=e.displayName||null)?n:Ve(e.type)||"Memo";case De:n=e._payload,e=e._init;try{return Ve(e(n))}catch(e){}}return null}function Ye(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(n);case 23:return"LegacyHidden";case 8:return n===Ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function qe(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!=(2050&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function Xe(e){if(qe(e)!==e)throw Error("Unable to find node on an unmounted component.")}function $e(e){var n=e.alternate;if(!n){if(null===(n=qe(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,r=n;;){var l=t.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(r=l.return)){t=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===t)return Xe(l),e;if(a===r)return Xe(l),n;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==r.return)t=l,r=a;else{for(var i=!1,u=l.child;u;){if(u===t){i=!0,t=l,r=a;break}if(u===r){i=!0,r=l,t=a;break}u=u.sibling}if(!i){for(u=a.child;u;){if(u===t){i=!0,t=a,r=l;break}if(u===r){i=!0,r=a,t=l;break}u=u.sibling}if(!i)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function Ge(e){return null!==(e=$e(e))?Je(e):null}function Je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=Je(e);if(null!==n)return n;e=e.sibling}return null}function Ke(e,n){return function(){if(n&&("boolean"!=typeof e.__isMounted||e.__isMounted))return n.apply(e,arguments)}}var Ze={},en=null,nn=0,tn={unsafelyIgnoreFunctions:!0};function rn(e,n){return"object"!=typeof n||null===n||o.deepDiffer(e,n,tn)}function ln(e,n,t){if(y(n))for(var r=n.length;r--&&0<nn;)ln(e,n[r],t);else if(n&&0<nn)for(r in en)if(en[r]){var l=n[r];if(void 0!==l){var a=t[r];a&&("function"==typeof l&&(l=!0),void 0===l&&(l=null),"object"!=typeof a?e[r]=l:"function"!=typeof a.diff&&"function"!=typeof a.process||(l="function"==typeof a.process?a.process(l):l,e[r]=l),en[r]=!1,nn--)}}}function an(e,n,t,r){if(!e&&n===t)return e;if(!n||!t)return t?un(e,t,r):n?on(e,n,r):e;if(!y(n)&&!y(t))return sn(e,n,t,r);if(y(n)&&y(t)){var l,a=n.length<t.length?n.length:t.length;for(l=0;l<a;l++)e=an(e,n[l],t[l],r);for(;l<n.length;l++)e=on(e,n[l],r);for(;l<t.length;l++)e=un(e,t[l],r);return e}return y(n)?sn(e,o.flattenStyle(n),t,r):sn(e,n,o.flattenStyle(t),r)}function un(e,n,t){if(!n)return e;if(!y(n))return sn(e,Ze,n,t);for(var r=0;r<n.length;r++)e=un(e,n[r],t);return e}function on(e,n,t){if(!n)return e;if(!y(n))return sn(e,n,Ze,t);for(var r=0;r<n.length;r++)e=on(e,n[r],t);return e}function sn(e,n,t,r){var l,a;for(a in t)if(l=r[a]){var i=n[a],u=t[a];"function"==typeof u&&(u=!0,"function"==typeof i&&(i=!0)),void 0===u&&(u=null,void 0===i&&(i=null)),en&&(en[a]=!1),e&&void 0!==e[a]?"object"!=typeof l?e[a]=u:"function"!=typeof l.diff&&"function"!=typeof l.process||(l="function"==typeof l.process?l.process(u):u,e[a]=l):i!==u&&("object"!=typeof l?rn(i,u)&&((e||(e={}))[a]=u):"function"==typeof l.diff||"function"==typeof l.process?(void 0===i||("function"==typeof l.diff?l.diff(i,u):rn(i,u)))&&(l="function"==typeof l.process?l.process(u):u,(e||(e={}))[a]=l):(en=null,nn=0,e=an(e,i,u,l),0<nn&&e&&(ln(e,u,l),en=null)))}for(var o in n)void 0===t[o]&&(!(l=r[o])||e&&void 0!==e[o]||void 0!==(i=n[o])&&("object"!=typeof l||"function"==typeof l.diff||"function"==typeof l.process?((e||(e={}))[o]=null,en||(en={}),en[o]||(en[o]=!0,nn++)):e=on(e,i,l)));return e}function cn(e,n){return e(n)}var dn=!1;function fn(e,n){if(dn)return e(n);dn=!0;try{return cn(e,n)}finally{dn=!1}}var pn=null;function hn(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(y(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)x(e,n[r],t[r]);else n&&x(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var gn=c.unstable_scheduleCallback,mn=c.unstable_cancelCallback,vn=c.unstable_shouldYield,bn=c.unstable_requestPaint,yn=c.unstable_now,Sn=c.unstable_ImmediatePriority,kn=c.unstable_UserBlockingPriority,wn=c.unstable_NormalPriority,xn=c.unstable_IdlePriority,Pn=null,Rn=null;function Tn(e){if(Rn&&"function"==typeof Rn.onCommitFiberRoot)try{Rn.onCommitFiberRoot(Pn,e,void 0,128==(128&e.current.flags))}catch(e){}}var _n=64,En=4194304;function Nn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=268435455&t;if(0!==i){var u=i&~l;0!==u?r=Nn(u):0!==(a&=i)&&(r=Nn(a))}else 0!==(i=t&~l)?r=Nn(i):0!==a&&(r=Nn(a));if(0===r)return 0;if(0!==n&&n!==r&&0==(n&l)&&((l=r&-r)>=(a=n&-n)||16===l&&0!=(4194240&a)))return n;if(0!=(4&r)&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)l=1<<(t=31-Dn(n)),r|=e[t],n&=~l;return r}function zn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function In(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ln(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Un(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-Dn(n)]=t}function Mn(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var l=31-Dn(t),a=1<<l;n[l]=0,r[l]=-1,e[l]=-1,t&=~a}}function Fn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-Dn(t),l=1<<r;l&n|e[r]&n&&(e[r]|=n),t&=~l}}var Dn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(An(e)/Hn|0)|0},An=Math.log,Hn=Math.LN2;var Qn=0;function jn(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}function Bn(){throw Error("The current renderer does not support mutation. This error is likely caused by a bug in React. Please file an issue.")}function Wn(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}var On=nativeFabricUIManager,Vn=On.createNode,Yn=On.cloneNode,qn=On.cloneNodeWithNewChildren,Xn=On.cloneNodeWithNewChildrenAndProps,$n=On.cloneNodeWithNewProps,Gn=On.createChildSet,Jn=On.appendChild,Kn=On.appendChildToSet,Zn=On.completeRoot,et=On.registerEventHandler,nt=On.measure,tt=On.measureInWindow,rt=On.measureLayout,lt=On.unstable_DiscreteEventPriority,at=On.unstable_getCurrentEventPriority,it=o.ReactNativeViewConfigRegistry.get,ut=2;et&&et(function(e,n,t){var r=null;if(null!=e){var l=e.stateNode;null!=l&&(r=l.canonical)}fn(function(){for(var l=r,a=null,i=de,u=0;u<i.length;u++){var o=i[u];o&&(o=o.extractEvents(n,e,t,l))&&(a=q(a,o))}if(null!==(l=a)&&(pn=q(pn,l)),l=pn,pn=null,l){if(X(l,hn),pn)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(h)throw l=g,h=!1,g=null,l}})});var ot=(function(){function e(e,n,t,r){this._nativeTag=e,this.viewConfig=n,this.currentProps=t,this._internalInstanceHandle=r}var n=e.prototype;return n.blur=function(){o.TextInputState.blurTextInput(this)},n.focus=function(){o.TextInputState.focusTextInput(this)},n.measure=function(e){nt(this._internalInstanceHandle.stateNode.node,Ke(this,e))},n.measureInWindow=function(e){tt(this._internalInstanceHandle.stateNode.node,Ke(this,e))},n.measureLayout=function(n,t,r){"number"!=typeof n&&n instanceof e&&rt(this._internalInstanceHandle.stateNode.node,n._internalInstanceHandle.stateNode.node,Ke(this,r),Ke(this,t))},n.setNativeProps=function(){},e})();function st(e,n,t,r){if(!t.isInAParentText)throw Error("Text strings must be rendered within a <Text> component.");return t=ut,ut+=2,{node:Vn(t,"RCTRawText",n,{text:e},r)}}var ct=setTimeout,dt=clearTimeout;function ft(e){var n=e.node,t=sn(null,Ze,{style:{display:"none"}},e.canonical.viewConfig.validAttributes);return{node:$n(n,t),canonical:e.canonical}}function pt(e,n,t){return n="",t&&(n=" (created by "+t+")"),"\n    in "+(e||"Unknown")+n}function ht(e,n){return e?pt(e.displayName||e.name||null,n,null):""}var gt=Object.prototype.hasOwnProperty,mt=[],vt=-1;function bt(e){return{current:e}}function yt(e){0>vt||(e.current=mt[vt],mt[vt]=null,vt--)}function St(e,n){mt[++vt]=e.current,e.current=n}var kt={},wt=bt(kt),xt=bt(!1),Pt=kt;function Rt(e,n){var t=e.type.contextTypes;if(!t)return kt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in t)a[l]=n[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function Tt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _t(){yt(xt),yt(wt)}function Et(e,n,t){if(wt.current!==kt)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");St(wt,n),St(xt,t)}function Nt(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var l in r=r.getChildContext())if(!(l in n))throw Error((Ye(e)||"Unknown")+'.getChildContext(): key "'+l+'" is not defined in childContextTypes.');return u({},t,r)}function Ct(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kt,Pt=wt.current,St(wt,e),St(xt,xt.current),!0}function zt(e,n,t){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");t?(e=Nt(e,n,Pt),r.__reactInternalMemoizedMergedChildContext=e,yt(xt),yt(wt),St(wt,e)):yt(xt),St(xt,t)}var It=null,Lt=!1,Ut=!1;function Mt(){if(!Ut&&null!==It){Ut=!0;var e=0,n=Qn;try{var t=It;for(Qn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}It=null,Lt=!1}catch(n){throw null!==It&&(It=It.slice(e+1)),gn(Sn,Mt),n}finally{Qn=n,Ut=!1}}return null}var Ft=Re.ReactCurrentBatchConfig;var Dt="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function At(e,n){if(Dt(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!gt.call(n,t[r])||!Dt(e[t[r]],n[t[r]]))return!1;return!0}function Ht(e){switch(e.tag){case 5:return pt(e.type,null,null);case 16:return pt("Lazy",null,null);case 13:return pt("Suspense",null,null);case 19:return pt("SuspenseList",null,null);case 0:case 2:case 15:return ht(e.type,null);case 11:return ht(e.type.render,null);case 1:return e=ht(e.type,null);default:return""}}function Qt(e,n){if(e&&e.defaultProps){for(var t in n=u({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}var jt=bt(null),Bt=null,Wt=null,Ot=null;function Vt(){Ot=Wt=Bt=null}function Yt(e){var n=jt.current;yt(jt),e._currentValue2=n}function qt(e,n){for(;null!==e;){var t=e.alternate;if((e.childLanes&n)===n){if(null===t||(t.childLanes&n)===n)break;t.childLanes|=n}else e.childLanes|=n,null!==t&&(t.childLanes|=n);e=e.return}}function Xt(e,n){Bt=e,Ot=Wt=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&n)&&(kl=!0),e.firstContext=null)}function $t(e){var n=e._currentValue2;if(Ot!==e)if(e={context:e,memoizedValue:n,next:null},null===Wt){if(null===Bt)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Wt=e,Bt.dependencies={lanes:0,firstContext:e}}else Wt=Wt.next=e;return n}var Gt=null,Jt=!1;function Kt(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zt(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function nr(e,n){var t=e.updateQueue;null!==t&&(t=t.shared,null!==ma&&0!=(1&e.mode)&&0==(8&ga)?(null===(e=t.interleaved)?(n.next=n,null===Gt?Gt=[t]:Gt.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n))}function tr(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!=(4194240&t))){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,Fn(e,t)}}function rr(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var l=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?l=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?l=a=n:a=a.next=n}else l=a=n;return t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function lr(e,n,t,r){var l=e.updateQueue;Jt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(null!==o){l.shared.pending=null;var s=o,c=s.next;s.next=null,null===i?a=c:i.next=c,i=s;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=s))}if(null!==a){var f=l.baseState;for(i=0,d=c=s=null,o=a;;){var p=o.lane,h=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(p=n,h=t,m.tag){case 1:if("function"==typeof(g=m.payload)){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=-16385&g.flags|128;case 0:if(null===(p="function"==typeof(g=m.payload)?g.call(h,f,p):g)||void 0===p)break e;f=u({},f,p);break e;case 2:Jt=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=l.effects)?l.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,s=f):d=d.next=h,i|=p;if(null===(o=o.next)){if(null===(o=l.shared.pending))break;o=(p=o).next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}if(null===d&&(s=f),l.baseState=s,l.firstBaseUpdate=c,l.lastBaseUpdate=d,null!==(n=l.shared.interleaved)){l=n;do{i|=l.lane,l=l.next}while(l!==n)}else null===a&&(l.shared.lanes=0);xa|=i,e.lanes=i,e.memoizedState=f}}function ar(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],l=r.callback;if(null!==l){if(r.callback=null,"function"!=typeof l)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+l);l.call(t)}}}var ir=(new s.Component).refs;function ur(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:u({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var or={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Aa(),l=Ha(e),a=er(r,l);a.payload=n,void 0!==t&&null!==t&&(a.callback=t),nr(e,a),null!==(n=Qa(e,l,r))&&tr(n,e,l)},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Aa(),l=Ha(e),a=er(r,l);a.tag=1,a.payload=n,void 0!==t&&null!==t&&(a.callback=t),nr(e,a),null!==(n=Qa(e,l,r))&&tr(n,e,l)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Aa(),r=Ha(e),l=er(t,r);l.tag=2,void 0!==n&&null!==n&&(l.callback=n),nr(e,l),null!==(n=Qa(e,r,t))&&tr(n,e,r)}};function sr(e,n,t,r,l,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!At(t,r)||!At(l,a))}function cr(e,n,t){var r=!1,l=kt,a=n.contextType;return"object"==typeof a&&null!==a?a=$t(a):(l=Tt(n)?Pt:wt.current,a=(r=null!==(r=n.contextTypes)&&void 0!==r)?Rt(e,l):kt),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=or,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),n}function dr(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&or.enqueueReplaceState(n,n.state,null)}function fr(e,n,t,r){var l=e.stateNode;l.props=t,l.state=e.memoizedState,l.refs=ir,Kt(e);var a=n.contextType;"object"==typeof a&&null!==a?l.context=$t(a):(a=Tt(n)?Pt:wt.current,l.context=Rt(e,a)),l.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(ur(e,n,a,t),l.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(n=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),n!==l.state&&or.enqueueReplaceState(l,l.state,null),lr(e,t,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4)}function pr(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");var r=t.stateNode}if(!r)throw Error("Missing owner for string ref "+e+". This error is likely caused by a bug in React. Please file an issue.");var l=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===l?n.ref:((n=function(e){var n=r.refs;n===ir&&(n=r.refs={}),null===e?delete n[l]:n[l]=e})._stringRef=l,n)}if("string"!=typeof e)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!t._owner)throw Error("Element ref was specified as a string ("+e+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return e}function hr(e,n){throw e=Object.prototype.toString.call(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}function gr(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function l(e,n){return(e=fi(e,n)).index=0,e.sibling=null,e}function a(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):t}function i(n){return e&&null===n.alternate&&(n.flags|=2),n}function u(e,n,t,r){return null===n||6!==n.tag?((n=mi(t,e.mode,r)).return=e,n):((n=l(n,t)).return=e,n)}function o(e,n,t,r){var a=t.type;return a===Ee?c(e,n,t.props.children,r,t.key):null!==n&&n.elementType===a?((r=l(n,t.props)).ref=pr(e,n,t),r.return=e,r):((r=pi(t.type,t.key,t.props,null,e.mode,r)).ref=pr(e,n,t),r.return=e,r)}function s(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=vi(t,e.mode,r)).return=e,n):((n=l(n,t.children||[])).return=e,n)}function c(e,n,t,r,a){return null===n||7!==n.tag?((n=hi(t,e.mode,r,a)).return=e,n):((n=l(n,t)).return=e,n)}function d(e,n,t){if("string"==typeof n||"number"==typeof n)return(n=mi(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case Te:return(t=pi(n.type,n.key,n.props,null,e.mode,t)).ref=pr(e,null,n),t.return=e,t;case _e:return(n=vi(n,e.mode,t)).return=e,n}if(y(n)||Oe(n))return(n=hi(n,e.mode,t,null)).return=e,n;hr(e,n)}return null}function f(e,n,t,r){var l=null!==n?n.key:null;if("string"==typeof t||"number"==typeof t)return null!==l?null:u(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case Te:return t.key===l?o(e,n,t,r):null;case _e:return t.key===l?s(e,n,t,r):null}if(y(t)||Oe(t))return null!==l?null:c(e,n,t,r,null);hr(e,t)}return null}function p(e,n,t,r,l){if("string"==typeof r||"number"==typeof r)return u(n,e=e.get(t)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Te:return o(n,e=e.get(null===r.key?t:r.key)||null,r,l);case _e:return s(n,e=e.get(null===r.key?t:r.key)||null,r,l)}if(y(r)||Oe(r))return c(n,e=e.get(t)||null,r,l,null);hr(n,r)}return null}function h(l,i,u,o){for(var s=null,c=null,h=i,g=i=0,m=null;null!==h&&g<u.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(l,h,u[g],o);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&n(l,h),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v,h=m}if(g===u.length)return t(l,h),s;if(null===h){for(;g<u.length;g++)null!==(h=d(l,u[g],o))&&(i=a(h,i,g),null===c?s=h:c.sibling=h,c=h);return s}for(h=r(l,h);g<u.length;g++)null!==(m=p(h,l,g,u[g],o))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),i=a(m,i,g),null===c?s=m:c.sibling=m,c=m);return e&&h.forEach(function(e){return n(l,e)}),s}function g(l,i,u,o){var s=Oe(u);if("function"!=typeof s)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");if(null==(u=s.call(u)))throw Error("An iterable object provided no iterator.");for(var c=s=null,h=i,g=i=0,m=null,v=u.next();null!==h&&!v.done;g++,v=u.next()){h.index>g?(m=h,h=null):m=h.sibling;var b=f(l,h,v.value,o);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&n(l,h),i=a(b,i,g),null===c?s=b:c.sibling=b,c=b,h=m}if(v.done)return t(l,h),s;if(null===h){for(;!v.done;g++,v=u.next())null!==(v=d(l,v.value,o))&&(i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return s}for(h=r(l,h);!v.done;g++,v=u.next())null!==(v=p(h,l,g,v.value,o))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),i=a(v,i,g),null===c?s=v:c.sibling=v,c=v);return e&&h.forEach(function(e){return n(l,e)}),s}return function(e,r,a,u){var o="object"==typeof a&&null!==a&&a.type===Ee&&null===a.key;if(o&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case Te:e:{var s=a.key;for(o=r;null!==o;){if(o.key===s){if((s=a.type)===Ee){if(7===o.tag){t(e,o.sibling),(r=l(o,a.props.children)).return=e,e=r;break e}}else if(o.elementType===s){t(e,o.sibling),(r=l(o,a.props)).ref=pr(e,o,a),r.return=e,e=r;break e}t(e,o);break}n(e,o),o=o.sibling}a.type===Ee?((r=hi(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=pi(a.type,a.key,a.props,null,e.mode,u)).ref=pr(e,r,a),u.return=e,e=u)}return i(e);case _e:e:{for(o=a.key;null!==r;){if(r.key===o){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){t(e,r.sibling),(r=l(r,a.children||[])).return=e,e=r;break e}t(e,r);break}n(e,r),r=r.sibling}(r=vi(a,e.mode,u)).return=e,e=r}return i(e)}if(y(a))return h(e,r,a,u);if(Oe(a))return g(e,r,a,u);hr(e,a)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(t(e,r.sibling),(r=l(r,a)).return=e,e=r):(t(e,r),(r=mi(a,e.mode,u)).return=e,e=r),i(e);if(void 0===a&&!o)switch(e.tag){case 1:case 0:case 11:case 15:throw Error((Ye(e)||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return t(e,r)}}var mr=gr(!0),vr=gr(!1),br={},yr=bt(br),Sr=bt(br),kr=bt(br);function wr(e){if(e===br)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function xr(e,n){St(kr,n),St(Sr,e),St(yr,br),yt(yr),St(yr,{isInAParentText:!1})}function Pr(){yt(yr),yt(Sr),yt(kr)}function Rr(e){wr(kr.current);var n=wr(yr.current),t=e.type;t="AndroidTextInput"===t||"RCTMultilineTextInputView"===t||"RCTSinglelineTextInputView"===t||"RCTText"===t||"RCTVirtualText"===t,n!==(t=n.isInAParentText!==t?{isInAParentText:t}:n)&&(St(Sr,e),St(yr,t))}function Tr(e){Sr.current===e&&(yt(yr),yt(Sr))}var _r=bt(0);function Er(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||Wn()||Wn()))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Nr=[];function Cr(){for(var e=0;e<Nr.length;e++)Nr[e]._workInProgressVersionSecondary=null;Nr.length=0}var zr=Re.ReactCurrentDispatcher,Ir=Re.ReactCurrentBatchConfig,Lr=0,Ur=null,Mr=null,Fr=null,Dr=!1,Ar=!1;function Hr(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Qr(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Dt(e[t],n[t]))return!1;return!0}function jr(e,n,t,r,l,a){if(Lr=a,Ur=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,zr.current=null===e||null===e.memoizedState?fl:pl,e=t(r,l),Ar){a=0;do{if(Ar=!1,!(25>a))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");a+=1,Fr=Mr=null,n.updateQueue=null,zr.current=hl,e=t(r,l)}while(Ar)}if(zr.current=dl,n=null!==Mr&&null!==Mr.next,Lr=0,Fr=Mr=Ur=null,Dr=!1,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return e}function Br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Fr?Ur.memoizedState=Fr=e:Fr=Fr.next=e,Fr}function Wr(){if(null===Mr){var e=Ur.alternate;e=null!==e?e.memoizedState:null}else e=Mr.next;var n=null===Fr?Ur.memoizedState:Fr.next;if(null!==n)Fr=n,Mr=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");e={memoizedState:(Mr=e).memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},null===Fr?Ur.memoizedState=Fr=e:Fr=Fr.next=e}return Fr}function Or(e,n){return"function"==typeof n?n(e):n}function Vr(e){var n=Wr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=Mr,l=r.baseQueue,a=t.pending;if(null!==a){if(null!==l){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,t.pending=null}if(null!==l){a=l.next,r=r.baseState;var u=i=null,o=null,s=a;do{var c=s.lane;if((Lr&c)===c)null!==o&&(o=o.next={lane:0,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),r=s.eagerReducer===e?s.eagerState:e(r,s.action);else{var d={lane:c,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===o?(u=o=d,i=r):o=o.next=d,Ur.lanes|=c,xa|=c}s=s.next}while(null!==s&&s!==a);null===o?i=r:o.next=u,Dt(r,n.memoizedState)||(kl=!0),n.memoizedState=r,n.baseState=i,n.baseQueue=o,t.lastRenderedState=r}if(null!==(e=t.interleaved)){l=e;do{a=l.lane,Ur.lanes|=a,xa|=a,l=l.next}while(l!==e)}else null===l&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Yr(e){var n=Wr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=t.dispatch,l=t.pending,a=n.memoizedState;if(null!==l){t.pending=null;var i=l=l.next;do{a=e(a,i.action),i=i.next}while(i!==l);Dt(a,n.memoizedState)||(kl=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function qr(e,n,t){var r=n._getVersion;r=r(n._source);var l=n._workInProgressVersionSecondary;if(null!==l?e=l===r:(e=e.mutableReadLanes,(e=(Lr&e)===e)&&(n._workInProgressVersionSecondary=r,Nr.push(n))),e)return t(n._source);throw Nr.push(n),Error("Cannot read from mutable source during the current render without tearing. This may be a bug in React. Please file an issue.")}function Xr(e,n,t,r){var l=ma;if(null===l)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");var a=n._getVersion,i=a(n._source),u=zr.current,o=u.useState(function(){return qr(l,n,t)}),s=o[1],c=o[0];o=Fr;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,h=d.source;d=d.subscribe;var g=Ur;return e.memoizedState={refs:f,source:n,subscribe:r},u.useEffect(function(){f.getSnapshot=t,f.setSnapshot=s;var e=a(n._source);Dt(i,e)||(e=t(n._source),Dt(c,e)||(s(e),e=Ha(g),l.mutableReadLanes|=e&l.pendingLanes),Fn(l,l.mutableReadLanes))},[t,n,r]),u.useEffect(function(){return r(n._source,function(){var e=f.getSnapshot,t=f.setSnapshot;try{t(e(n._source));var r=Ha(g);l.mutableReadLanes|=r&l.pendingLanes}catch(e){t(function(){throw e})}})},[n,r]),Dt(p,t)&&Dt(h,n)&&Dt(d,r)||((e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:c}).dispatch=s=cl.bind(null,Ur,e),o.queue=e,o.baseQueue=null,c=qr(l,n,t),o.memoizedState=o.baseState=c),c}function $r(e,n,t){return Xr(Wr(),e,n,t)}function Gr(e){var n=Br();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e=(e=n.queue={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:e}).dispatch=cl.bind(null,Ur,e),[n.memoizedState,e]}function Jr(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=Ur.updateQueue)?(n={lastEffect:null},Ur.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Kr(){return Wr().memoizedState}function Zr(e,n,t,r){var l=Br();Ur.flags|=e,l.memoizedState=Jr(1|n,t,void 0,void 0===r?null:r)}function el(e,n,t,r){var l=Wr();r=void 0===r?null:r;var a=void 0;if(null!==Mr){var i=Mr.memoizedState;if(a=i.destroy,null!==r&&Qr(r,i.deps))return void(l.memoizedState=Jr(n,t,a,r))}Ur.flags|=e,l.memoizedState=Jr(1|n,t,a,r)}function nl(e,n){return Zr(1049600,4,e,n)}function tl(e,n){return el(1024,4,e,n)}function rl(e,n){return el(4,2,e,n)}function ll(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function al(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,el(4,2,ll.bind(null,n,e),t)}function il(){}function ul(e,n){var t=Wr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Qr(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function ol(e,n){var t=Wr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Qr(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function sl(e,n){var t=Qn;Qn=0!==t&&4>t?t:4,e(!0);var r=Ir.transition;Ir.transition=1;try{e(!1),n()}finally{Qn=t,Ir.transition=r}}function cl(e,n,t){var r=Aa(),l=Ha(e),a={lane:l,action:t,eagerReducer:null,eagerState:null,next:null},i=e.alternate;if(e===Ur||null!==i&&i===Ur)Ar=Dr=!0,null===(l=n.pending)?a.next=a:(a.next=l.next,l.next=a),n.pending=a;else{if(null!==ma&&0!=(1&e.mode)&&0==(8&ga)){var u=n.interleaved;null===u?(a.next=a,null===Gt?Gt=[n]:Gt.push(n)):(a.next=u.next,u.next=a),n.interleaved=a}else null===(u=n.pending)?a.next=a:(a.next=u.next,u.next=a),n.pending=a;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=n.lastRenderedReducer))try{var o=n.lastRenderedState,s=i(o,t);if(a.eagerReducer=i,a.eagerState=s,Dt(s,o))return}catch(e){}a=Qa(e,l,r),0!=(4194240&l)&&null!==a&&(e=n.lanes,l|=e&=a.pendingLanes,n.lanes=l,Fn(a,l))}}var dl={readContext:$t,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useOpaqueIdentifier:Hr,unstable_isNewReconciler:!1},fl={readContext:$t,useCallback:function(e,n){return Br().memoizedState=[e,void 0===n?null:n],e},useContext:$t,useEffect:nl,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Zr(4,2,ll.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Zr(4,2,e,n)},useMemo:function(e,n){var t=Br();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Br();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e=(e=r.queue={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n}).dispatch=cl.bind(null,Ur,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Br().memoizedState=e},useState:Gr,useDebugValue:il,useDeferredValue:function(e){var n=Gr(e),t=n[0],r=n[1];return nl(function(){var n=Ir.transition;Ir.transition=1;try{r(e)}finally{Ir.transition=n}},[e]),t},useTransition:function(){var e=Gr(!1),n=e[0];return e=sl.bind(null,e[1]),Br().memoizedState=e,[n,e]},useMutableSource:function(e,n,t){var r=Br();return r.memoizedState={refs:{getSnapshot:n,setSnapshot:null},source:e,subscribe:t},Xr(r,e,n,t)},useOpaqueIdentifier:function(){throw Error("Not yet implemented")},unstable_isNewReconciler:!1},pl={readContext:$t,useCallback:ul,useContext:$t,useEffect:tl,useImperativeHandle:al,useLayoutEffect:rl,useMemo:ol,useReducer:Vr,useRef:Kr,useState:function(){return Vr(Or)},useDebugValue:il,useDeferredValue:function(e){var n=Vr(Or),t=n[0],r=n[1];return tl(function(){var n=Ir.transition;Ir.transition=1;try{r(e)}finally{Ir.transition=n}},[e]),t},useTransition:function(){return[Vr(Or)[0],Wr().memoizedState]},useMutableSource:$r,useOpaqueIdentifier:function(){return Vr(Or)[0]},unstable_isNewReconciler:!1},hl={readContext:$t,useCallback:ul,useContext:$t,useEffect:tl,useImperativeHandle:al,useLayoutEffect:rl,useMemo:ol,useReducer:Yr,useRef:Kr,useState:function(){return Yr(Or)},useDebugValue:il,useDeferredValue:function(e){var n=Yr(Or),t=n[0],r=n[1];return tl(function(){var n=Ir.transition;Ir.transition=1;try{r(e)}finally{Ir.transition=n}},[e]),t},useTransition:function(){return[Yr(Or)[0],Wr().memoizedState]},useMutableSource:$r,useOpaqueIdentifier:function(){return Yr(Or)[0]},unstable_isNewReconciler:!1};function gl(e,n){try{var t="",r=n;do{t+=Ht(r),r=r.return}while(r);var l=t}catch(e){l="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:l}}if("function"!=typeof o.ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");function ml(e,n){try{!1!==o.ReactFiberErrorDialog.showErrorDialog({componentStack:null!==n.stack?n.stack:"",error:n.value,errorBoundary:null!==e&&1===e.tag?e.stateNode:null})&&console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var vl="function"==typeof WeakMap?WeakMap:Map;function bl(e,n,t){(t=er(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Ea||(Ea=!0,Na=r),ml(e,n)},t}function yl(e,n,t){(t=er(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=n.value;t.payload=function(){return ml(e,n),r(l)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(t.callback=function(){"function"!=typeof r&&(null===Ca?Ca=new Set([this]):Ca.add(this),ml(e,n));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),t}var Sl=Re.ReactCurrentOwner,kl=!1;function wl(e,n,t,r){n.child=null===e?vr(n,null,t,r):mr(n,e.child,t,r)}function xl(e,n,t,r,l){t=t.render;var a=n.ref;return Xt(n,l),r=jr(e,n,t,r,a,l),null===e||kl?(n.flags|=1,wl(e,n,r,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-1029,e.lanes&=~l,Vl(e,n,l))}function Pl(e,n,t,r,l,a){if(null===e){var i=t.type;return"function"!=typeof i||ci(i)||void 0!==i.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=pi(t.type,null,r,n,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=i,Rl(e,n,i,r,l,a))}return i=e.child,0==(l&a)&&(l=i.memoizedProps,(t=null!==(t=t.compare)?t:At)(l,r)&&e.ref===n.ref)?Vl(e,n,a):(n.flags|=1,(e=fi(i,r)).ref=n.ref,e.return=n,n.child=e)}function Rl(e,n,t,r,l,a){if(null!==e&&At(e.memoizedProps,r)&&e.ref===n.ref){if(kl=!1,0==(a&l))return n.lanes=e.lanes,Vl(e,n,a);0!=(32768&e.flags)&&(kl=!0)}return El(e,n,t,r,a)}function Tl(e,n,t){var r=n.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null},St(Sa,ya),ya|=t;else{if(0==(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null},n.updateQueue=null,St(Sa,ya),ya|=e,null;n.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:t,St(Sa,ya),ya|=r}else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,St(Sa,ya),ya|=r;return wl(e,n,l,t),n.child}function _l(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=256)}function El(e,n,t,r,l){var a=Tt(t)?Pt:wt.current;return a=Rt(n,a),Xt(n,l),t=jr(e,n,t,r,a,l),null===e||kl?(n.flags|=1,wl(e,n,t,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-1029,e.lanes&=~l,Vl(e,n,l))}function Nl(e,n,t,r,l){if(Tt(t)){var a=!0;Ct(n)}else a=!1;if(Xt(n,l),null===n.stateNode)null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),cr(n,t,r),fr(n,t,r,l),r=!0;else if(null===e){var i=n.stateNode,u=n.memoizedProps;i.props=u;var o=i.context,s=t.contextType;"object"==typeof s&&null!==s?s=$t(s):s=Rt(n,s=Tt(t)?Pt:wt.current);var c=t.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(u!==r||o!==s)&&dr(n,i,r,s),Jt=!1;var f=n.memoizedState;i.state=f,lr(n,r,i,l),o=n.memoizedState,u!==r||f!==o||xt.current||Jt?("function"==typeof c&&(ur(n,t,c,r),o=n.memoizedState),(u=Jt||sr(n,t,u,r,f,o,s))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(n.flags|=4)):("function"==typeof i.componentDidMount&&(n.flags|=4),n.memoizedProps=r,n.memoizedState=o),i.props=r,i.state=o,i.context=s,r=u):("function"==typeof i.componentDidMount&&(n.flags|=4),r=!1)}else{i=n.stateNode,Zt(e,n),u=n.memoizedProps,s=n.type===n.elementType?u:Qt(n.type,u),i.props=s,d=n.pendingProps,f=i.context,"object"==typeof(o=t.contextType)&&null!==o?o=$t(o):o=Rt(n,o=Tt(t)?Pt:wt.current);var p=t.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(u!==d||f!==o)&&dr(n,i,r,o),Jt=!1,f=n.memoizedState,i.state=f,lr(n,r,i,l);var h=n.memoizedState;u!==d||f!==h||xt.current||Jt?("function"==typeof p&&(ur(n,t,p,r),h=n.memoizedState),(s=Jt||sr(n,t,s,r,f,h,o)||!1)?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,o),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,o)),"function"==typeof i.componentDidUpdate&&(n.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(n.flags|=512)):("function"!=typeof i.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=512),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=o,r=s):("function"!=typeof i.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(n.flags|=512),r=!1)}return Cl(e,n,t,r,a,l)}function Cl(e,n,t,r,l,a){_l(e,n);var i=0!=(128&n.flags);if(!r&&!i)return l&&zt(n,t,!1),Vl(e,n,a);r=n.stateNode,Sl.current=n;var u=i&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=mr(n,e.child,null,a),n.child=mr(n,null,u,a)):wl(e,n,u,a),n.memoizedState=r.state,l&&zt(n,t,!0),n.child}function zl(e){var n=e.stateNode;n.pendingContext?Et(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Et(0,n.context,!1),xr(e,n.containerInfo)}var Il,Ll,Ul,Ml,Fl={dehydrated:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null}}function Al(e,n,t){var r,l=n.pendingProps,a=_r.current,i=!1;return(r=0!=(128&n.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(i=!0,n.flags&=-129):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=1),St(_r,1&a),null===e?(e=l.children,a=l.fallback,i?(e=Hl(n,e,a,t),n.child.memoizedState=Dl(t),n.memoizedState=Fl,e):"number"==typeof l.unstable_expectedLoadTime?(e=Hl(n,e,a,t),n.child.memoizedState=Dl(t),n.memoizedState=Fl,n.lanes=4194304,e):((t=gi({mode:"visible",children:e},n.mode,t,null)).return=n,n.child=t)):(e.memoizedState,i?(l=jl(e,n,l.children,l.fallback,t),i=n.child,a=e.child.memoizedState,i.memoizedState=null===a?Dl(t):{baseLanes:a.baseLanes|t,cachePool:null},i.childLanes=e.childLanes&~t,n.memoizedState=Fl,l):(t=Ql(e,n,l.children,t),n.memoizedState=null,t))}function Hl(e,n,t,r){var l=e.mode,a=e.child;return n={mode:"hidden",children:n},0==(1&l)&&null!==a?(a.childLanes=0,a.pendingProps=n):a=gi(n,l,0,null),t=hi(t,l,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,t}function Ql(e,n,t,r){var l=e.child;return e=l.sibling,t=fi(l,{mode:"visible",children:t}),0==(1&n.mode)&&(t.lanes=r),t.return=n,t.sibling=null,null!==e&&(null===(r=n.deletions)?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=t}function jl(e,n,t,r,l){var a=n.mode,i=(e=e.child).sibling,u={mode:"hidden",children:t};return 0==(1&a)&&n.child!==e?((t=n.child).childLanes=0,t.pendingProps=u,n.deletions=null):(t=fi(e,u)).subtreeFlags=1835008&e.subtreeFlags,null!==i?r=fi(i,r):(r=hi(r,a,l,null)).flags|=2,r.return=n,t.return=n,t.sibling=r,n.child=t,r}function Bl(e,n){e.lanes|=n;var t=e.alternate;null!==t&&(t.lanes|=n),qt(e.return,n)}function Wl(e,n,t,r,l){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=l)}function Ol(e,n,t){var r=n.pendingProps,l=r.revealOrder,a=r.tail;if(wl(e,n,r.children,t),0!=(2&(r=_r.current)))r=1&r|2,n.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,t);else if(19===e.tag)Bl(e,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(St(_r,r),0==(1&n.mode))n.memoizedState=null;else switch(l){case"forwards":for(t=n.child,l=null;null!==t;)null!==(e=t.alternate)&&null===Er(e)&&(l=t),t=t.sibling;null===(t=l)?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),Wl(n,!1,l,t,a);break;case"backwards":for(t=null,l=n.child,n.child=null;null!==l;){if(null!==(e=l.alternate)&&null===Er(e)){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}Wl(n,!0,t,null,a);break;case"together":Wl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vl(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),xa|=n.lanes,0==(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=fi(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=fi(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Yl(e,n){if(null!==e&&e.child===n.child)return!0;if(0!=(16&n.flags))return!1;for(e=n.child;null!==e;){if(0!=(6454&e.flags)||0!=(6454&e.subtreeFlags))return!1;e=e.sibling}return!0}function ql(e,n,t,r){for(var l=n.child;null!==l;){if(5===l.tag){var a=l.stateNode;t&&r&&(a=ft(a)),Kn(e,a.node)}else if(6===l.tag){if(a=l.stateNode,t&&r)throw Error("Not yet implemented.");Kn(e,a.node)}else if(4!==l.tag){if(13===l.tag&&0!=(4&l.flags)&&(a=null!==l.memoizedState)){var i=l.child;if(null!==i&&(null!==i.child&&(i.child.return=i,ql(e,i,!0,a)),null!==(a=i.sibling))){a.return=l,l=a;continue}}if(null!==l.child){l.child.return=l,l=l.child;continue}}if(l===n)break;for(;null===l.sibling;){if(null===l.return||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}}function Xl(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $l(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=1835008&l.subtreeFlags,r|=1835008&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Gl(e,n,t){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $l(n),null;case 1:return Tt(n.type)&&_t(),$l(n),null;case 3:return r=n.stateNode,Pr(),yt(xt),yt(wt),Cr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||r.hydrate||(n.flags|=512),Ll(e,n),$l(n),null;case 5:Tr(n),t=wr(kr.current);var l=n.type;if(null!==e&&null!=n.stateNode)Ul(e,n,l,r,t),e.ref!==n.ref&&(n.flags|=256);else{if(!r){if(null===n.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return $l(n),null}wr(yr.current),e=ut,ut+=2,l=it(l);var a=sn(null,Ze,r,l.validAttributes);t=Vn(e,l.uiViewClassName,t,a,n),e=new ot(e,l,r,n),Il(e={node:t,canonical:e},n,!1,!1),n.stateNode=e,null!==n.ref&&(n.flags|=256)}return $l(n),null;case 6:if(e&&null!=n.stateNode)Ml(e,n,e.memoizedProps,r);else{if("string"!=typeof r&&null===n.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");e=wr(kr.current),t=wr(yr.current),n.stateNode=st(r,e,t,n)}return $l(n),null;case 13:return yt(_r),r=n.memoizedState,0!=(128&n.flags)?(n.lanes=t,n):(r=null!==r,t=!1,null!==e&&(t=null!==e.memoizedState),r&&!t&&0!=(1&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&_r.current)?0===ka&&(ka=3):(0!==ka&&3!==ka||(ka=4),null===ma||0==(268435455&xa)&&0==(268435455&Pa)||Oa(ma,ba))),r&&(n.flags|=4),$l(n),null);case 4:return Pr(),Ll(e,n),$l(n),null;case 10:return Yt(n.type._context),$l(n),null;case 17:return Tt(n.type)&&_t(),$l(n),null;case 19:if(yt(_r),null===(l=n.memoizedState))return $l(n),null;if(r=0!=(128&n.flags),null===(a=l.rendering))if(r)Xl(l,!1);else{if(0!==ka||null!==e&&0!=(128&e.flags))for(e=n.child;null!==e;){if(null!==(a=Er(e))){for(n.flags|=128,Xl(l,!1),null!==(e=a.updateQueue)&&(n.updateQueue=e,n.flags|=4),n.subtreeFlags=0,e=t,r=n.child;null!==r;)l=e,(t=r).flags&=1835010,null===(a=t.alternate)?(t.childLanes=0,t.lanes=l,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,l=a.dependencies,t.dependencies=null===l?null:{lanes:l.lanes,firstContext:l.firstContext}),r=r.sibling;return St(_r,1&_r.current|2),n.child}e=e.sibling}null!==l.tail&&yn()>_a&&(n.flags|=128,r=!0,Xl(l,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=Er(a))){if(n.flags|=128,r=!0,null!==(e=e.updateQueue)&&(n.updateQueue=e,n.flags|=4),Xl(l,!0),null===l.tail&&"hidden"===l.tailMode&&!a.alternate)return $l(n),null}else 2*yn()-l.renderingStartTime>_a&&1073741824!==t&&(n.flags|=128,r=!0,Xl(l,!1),n.lanes=4194304);l.isBackwards?(a.sibling=n.child,n.child=a):(null!==(e=l.last)?e.sibling=a:n.child=a,l.last=a)}return null!==l.tail?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=yn(),n.sibling=null,e=_r.current,St(_r,r?1&e|2:1&e),n):($l(n),null);case 22:case 23:return Ya(),t=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==t&&"unstable-defer-without-hiding"!==r.mode&&(n.flags|=4),t&&0==(1073741824&ya)&&0!=(1&n.mode)||$l(n),null}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Jl(e){switch(e.tag){case 1:Tt(e.type)&&_t();var n=e.flags;return 16384&n?(e.flags=-16385&n|128,e):null;case 3:if(Pr(),yt(xt),yt(wt),Cr(),0!=(128&(n=e.flags)))throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return e.flags=-16385&n|128,e;case 5:return Tr(e),null;case 13:return yt(_r),16384&(n=e.flags)?(e.flags=-16385&n|128,e):null;case 19:return yt(_r),null;case 4:return Pr(),null;case 10:return Yt(e.type._context),null;case 22:case 23:return Ya(),null;case 24:default:return null}}Il=function(e,n,t,r){for(var l=n.child;null!==l;){if(5===l.tag){var a=l.stateNode;t&&r&&(a=ft(a)),Jn(e.node,a.node)}else if(6===l.tag){if(a=l.stateNode,t&&r)throw Error("Not yet implemented.");Jn(e.node,a.node)}else if(4!==l.tag){if(13===l.tag&&0!=(4&l.flags)&&(a=null!==l.memoizedState)){var i=l.child;if(null!==i&&(null!==i.child&&(i.child.return=i,Il(e,i,!0,a)),null!==(a=i.sibling))){a.return=l,l=a;continue}}if(null!==l.child){l.child.return=l,l=l.child;continue}}if(l===n)break;for(;null===l.sibling;){if(null===l.return||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ll=function(e,n){var t=n.stateNode;if(!Yl(e,n)){e=t.containerInfo;var r=Gn(e);ql(r,n,!1,!1),t.pendingChildren=r,n.flags|=4,Zn(e,r)}},Ul=function(e,n,t,r){t=e.stateNode;var l=e.memoizedProps;if((e=Yl(e,n))&&l===r)n.stateNode=t;else{var a=n.stateNode;wr(yr.current);var i=null;l!==r&&(l=sn(null,l,r,a.canonical.viewConfig.validAttributes),a.canonical.currentProps=r,i=l),e&&null===i?n.stateNode=t:(r=i,l=t.node,t={node:e?null!==r?$n(l,r):Yn(l):null!==r?Xn(l,r):qn(l),canonical:t.canonical},n.stateNode=t,e?n.flags|=4:Il(t,n,!1,!1))}},Ml=function(e,n,t,r){t!==r?(e=wr(kr.current),t=wr(yr.current),n.stateNode=st(r,e,t,n),n.flags|=4):n.stateNode=e.stateNode};var Kl="function"==typeof WeakSet?WeakSet:Set,Zl=null;function ea(e,n){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ai(e,n,t)}else t.current=null}var na=!1;function ta(e,n){for(Zl=n;null!==Zl;)if(n=(e=Zl).child,0!=(516&e.subtreeFlags)&&null!==n)n.return=e,Zl=n;else for(;null!==Zl;){e=Zl;try{var t=e.alternate;if(0!=(512&e.flags))switch(e.tag){case 0:case 11:case 15:break;case 1:if(null!==t){var r=t.memoizedProps,l=t.memoizedState,a=e.stateNode,i=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:Qt(e.type,r),l);a.__reactInternalSnapshotBeforeUpdate=i}break;case 3:break;case 5:case 6:case 4:case 17:break;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}catch(n){ai(e,e.return,n)}if(null!==(n=e.sibling)){n.return=e.return,Zl=n;break}Zl=e.return}return t=na,na=!1,t}function ra(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;if(l.destroy=void 0,void 0!==a){var i=n,u=t;try{a()}catch(e){ai(i,u,e)}}}l=l.next}while(l!==r)}}function la(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function aa(e){var n=e.alternate;null!==n&&(e.alternate=null,aa(n)),e.child=null,e.deletions=null,e.sibling=null,e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ia(e,n){switch(n.tag){case 0:case 11:case 14:case 15:return void ra(3,n,n.return);case 12:return;case 13:return null!==n.memoizedState&&(Ta=yn()),void ua(n);case 19:return void ua(n);case 22:case 23:return}e:{switch(n.tag){case 1:case 5:case 6:break e;case 3:case 4:break e}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function ua(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Kl),n.forEach(function(n){var r=ui.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function oa(e,n){for(Zl=n;null!==Zl;){if(null!==(n=(e=Zl).deletions))for(var t=0;t<n.length;t++){var r=n[t];try{e:for(var l=r;;){var a=l;if(Rn&&"function"==typeof Rn.onCommitFiberUnmount)try{Rn.onCommitFiberUnmount(Pn,a)}catch(e){}switch(a.tag){case 0:case 11:case 14:case 15:var i=a.updateQueue;if(null!==i){var u=i.lastEffect;if(null!==u){var o=u.next,s=o;do{var c=s,d=c.destroy,f=c.tag;if(void 0!==d&&0!=(2&f)){c=a;var p=e;try{d()}catch(e){ai(c,p,e)}}s=s.next}while(s!==o)}}break;case 1:ea(a,e);var h=a.stateNode;if("function"==typeof h.componentWillUnmount)try{s=a,(c=h).props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(n){ai(a,e,n)}break;case 5:ea(a,e);break;case 4:Gn(a.stateNode.containerInfo)}if(null!==l.child)l.child.return=l,l=l.child;else{if(l===r)break;for(;null===l.sibling;){if(null===l.return||l.return===r)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}}var g=r.alternate;null!==g&&(g.return=null),r.return=null}catch(n){ai(r,e,n)}}if(n=e.child,0!=(6454&e.subtreeFlags)&&null!==n)n.return=e,Zl=n;else for(;null!==Zl;){e=Zl;try{var m=e.flags;if(256&m){var v=e.alternate;if(null!==v){var b=v.ref;null!==b&&("function"==typeof b?b(null):b.current=null)}}switch(2054&m){case 2:e.flags&=-3;break;case 6:e.flags&=-3,ia(e.alternate,e);break;case 2048:e.flags&=-2049;break;case 2052:e.flags&=-2049,ia(e.alternate,e);break;case 4:ia(e.alternate,e)}}catch(n){ai(e,e.return,n)}if(null!==(n=e.sibling)){n.return=e.return,Zl=n;break}Zl=e.return}}}function sa(e){for(Zl=e;null!==Zl;){var n=Zl,t=n.child;if(0!=(324&n.subtreeFlags)&&null!==t)t.return=n,Zl=t;else for(n=e;null!==Zl;){if(0!=(324&(t=Zl).flags)){var r=t.alternate;try{if(0!=(68&t.flags))switch(t.tag){case 0:case 11:case 15:la(3,t);break;case 1:var l=t.stateNode;if(4&t.flags)if(null===r)l.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Qt(t.type,r.memoizedProps);l.componentDidUpdate(a,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&ar(t,i,l);break;case 3:var u=t.updateQueue;if(null!==u){if(r=null,null!==t.child)switch(t.child.tag){case 5:r=t.child.stateNode.canonical;break;case 1:r=t.child.stateNode}ar(t,u,r)}break;case 5:null===r&&4&t.flags&&Bn();break;case 6:case 4:case 12:case 13:break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(256&t.flags){r=void 0;var o=t.ref;if(null!==o){var s=t.stateNode;switch(t.tag){case 5:r=s.canonical;break;default:r=s}"function"==typeof o?o(r):o.current=r}}}catch(e){ai(t,t.return,e)}}if(t===n){Zl=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zl=r;break}Zl=t.return}}}var ca,da=Math.ceil,fa=Re.ReactCurrentDispatcher,pa=Re.ReactCurrentOwner,ha=Re.ReactCurrentBatchConfig,ga=0,ma=null,va=null,ba=0,ya=0,Sa=bt(0),ka=0,wa=null,xa=0,Pa=0,Ra=0,Ta=0,_a=1/0,Ea=!1,Na=null,Ca=null,za=!1,Ia=null,La=0,Ua=0,Ma=null,Fa=-1,Da=0;function Aa(){return 0!=(24&ga)?yn():-1!==Fa?Fa:Fa=yn()}function Ha(e){if(0==(1&e.mode))return 1;if(0!=(8&ga)&&0!==ba)return ba&-ba;if(0!==Ft.transition)return 0===Da&&(e=_n,0==(4194240&(_n<<=1))&&(_n=64),Da=e),Da;if(0===(e=Qn))e:{if(null!=(e=at?at():null))switch(e){case lt:e=1;break e}e=16}return e}function Qa(e,n,t){if(50<Ua)throw Ua=0,Ma=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");var r=ja(e,n);return null===r?null:(Un(r,n,t),r===ma&&(0==(8&ga)&&(Pa|=n),4===ka&&Oa(r,ba)),1===n?0!=(4&ga)&&0==(24&ga)?Va(r):(Ba(r,t),0===ga&&0==(1&e.mode)&&(_a=yn()+500,Lt&&Mt())):Ba(r,t),r)}function ja(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}function Ba(e,n){for(var t=e.callbackNode,r=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var u=31-Dn(i),o=1<<u,s=a[u];-1===s?0!=(o&r)&&0==(o&l)||(a[u]=zn(o,n)):s<=n&&(e.expiredLanes|=o),i&=~o}if(0===(r=Cn(e,e===ma?ba:0)))null!==t&&mn(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&mn(t),1===n)0===e.tag?(t=Va.bind(null,e),Lt=!0,null===It?It=[t]:It.push(t)):(t=Va.bind(null,e),null===It?It=[t]:It.push(t)),gn(Sn,Mt),t=null;else{switch(jn(r)){case 1:t=Sn;break;case 4:t=kn;break;case 16:t=wn;break;case 536870912:t=xn;break;default:t=wn}t=gn(t,Wa.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function Wa(e,n){if(Fa=-1,Da=0,0!=(24&ga))throw Error("Should not already be working.");var t=e.callbackNode;if(ri()&&e.callbackNode!==t)return null;var r=Cn(e,e===ma?ba:0);if(0===r)return null;var l=0==(r&e.expiredLanes)&&0==(30&r);if(l&&!n){n=r,l=ga,ga|=8;var a=$a();for(ma===e&&ba===n||(_a=yn()+500,qa(e,n));;)try{Ka();break}catch(n){Xa(e,n)}Vt(),fa.current=a,ga=l,null!==va?n=0:(ma=null,ba=0,n=ka)}else n=Ga(e,r);if(0!==n){if(2===n&&(ga|=32,e.hydrate&&(e.hydrate=!1,Bn(e.containerInfo)),0!==(l=In(e))&&(r=l,n=Ga(e,l))),1===n)throw t=wa,qa(e,0),Oa(e,r),Ba(e,yn()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 2:ni(e);break;case 3:if(Oa(e,r),(130023424&r)===r&&10<(n=Ta+500-yn())){if(0!==Cn(e,0))break;if(((l=e.suspendedLanes)&r)!==r){Aa(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ct(ni.bind(null,e),n);break}ni(e);break;case 4:if(Oa(e,r),(4194240&r)===r)break;for(n=e.eventTimes,l=-1;0<r;){var i=31-Dn(r);a=1<<i,(i=n[i])>l&&(l=i),r&=~a}if(r=l,10<(r=(120>(r=yn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*da(r/1960))-r)){e.timeoutHandle=ct(ni.bind(null,e),r);break}ni(e);break;case 5:ni(e);break;default:throw Error("Unknown root exit status.")}}return Ba(e,yn()),e.callbackNode===t?Wa.bind(null,e):null}function Oa(e,n){for(n&=~Ra,n&=~Pa,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-Dn(n),r=1<<t;e[t]=-1,n&=~r}}function Va(e){if(0!=(24&ga))throw Error("Should not already be working.");ri();var n=Cn(e,0);if(0==(1&n))return Ba(e,yn()),null;var t=Ga(e,n);if(0!==e.tag&&2===t){ga|=32,e.hydrate&&(e.hydrate=!1,Bn(e.containerInfo));var r=In(e);0!==r&&(t=Ga(e,n=r))}if(1===t)throw t=wa,qa(e,0),Oa(e,n),Ba(e,yn()),t;return e.finishedWork=e.current.alternate,e.finishedLanes=n,ni(e),Ba(e,yn()),null}function Ya(){ya=Sa.current,yt(Sa)}function qa(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,dt(t)),null!==va)for(t=va.return;null!==t;){var r=t;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_t();break;case 3:Pr(),yt(xt),yt(wt),Cr();break;case 5:Tr(r);break;case 4:Pr();break;case 13:case 19:yt(_r);break;case 10:Yt(r.type._context);break;case 22:case 23:Ya()}t=t.return}if(ma=e,va=fi(e.current,null),ba=ya=n,ka=0,wa=null,Ra=Pa=xa=0,null!==Gt){for(e=0;e<Gt.length;e++)if(null!==(t=(n=Gt[e]).interleaved)){n.interleaved=null,r=t.next;var l=n.pending;if(null!==l){var a=l.next;l.next=r,t.next=a}n.pending=t}Gt=null}}function Xa(e,n){for(;;){var t=va;try{if(Vt(),zr.current=dl,Dr){for(var r=Ur.memoizedState;null!==r;){var l=r.queue;null!==l&&(l.pending=null),r=r.next}Dr=!1}if(Lr=0,Fr=Mr=Ur=null,Ar=!1,pa.current=null,null===t||null===t.return){ka=1,wa=n,va=null;break}e:{var a=e,i=t.return,u=t,o=n;if(n=ba,u.flags|=8192,null!==o&&"object"==typeof o&&"function"==typeof o.then){var s=o,c=u.tag;if(0==(1&u.mode)&&(0===c||11===c||15===c)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!=(1&_r.current),p=i;do{var h;if(h=13===p.tag){var g=p.memoizedState;if(null!==g)h=null!==g.dehydrated;else{var m=p.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(h){var v=p.updateQueue;if(null===v){var b=new Set;b.add(s),p.updateQueue=b}else v.add(s);if(0==(1&p.mode)&&p!==i){if(p.flags|=128,u.flags|=32768,u.flags&=-10053,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=er(-1,1);y.tag=2,nr(u,y)}u.lanes|=1;break e}o=void 0,u=n;var S=a.pingCache;if(null===S?(S=a.pingCache=new vl,o=new Set,S.set(s,o)):void 0===(o=S.get(s))&&(o=new Set,S.set(s,o)),!o.has(u)){o.add(u);var k=ii.bind(null,a,s,u);s.then(k,k)}p.flags|=16384,p.lanes=n;break e}p=p.return}while(null!==p);o=Error((Ye(u)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ka&&(ka=2),o=gl(o,u),p=i;do{switch(p.tag){case 3:a=o,p.flags|=16384,n&=-n,p.lanes|=n,rr(p,bl(p,a,n));break e;case 1:a=o;var w=p.type,x=p.stateNode;if(0==(128&p.flags)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ca||!Ca.has(x)))){p.flags|=16384,n&=-n,p.lanes|=n,rr(p,yl(p,a,n));break e}}p=p.return}while(null!==p)}ei(t)}catch(e){n=e,va===t&&null!==t&&(va=t=t.return);continue}break}}function $a(){var e=fa.current;return fa.current=dl,null===e?dl:e}function Ga(e,n){var t=ga;ga|=8;var r=$a();for(ma===e&&ba===n||qa(e,n);;)try{Ja();break}catch(n){Xa(e,n)}if(Vt(),ga=t,fa.current=r,null!==va)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return ma=null,ba=0,ka}function Ja(){for(;null!==va;)Za(va)}function Ka(){for(;null!==va&&!vn();)Za(va)}function Za(e){var n=ca(e.alternate,e,ya);e.memoizedProps=e.pendingProps,null===n?ei(e):va=n,pa.current=null}function ei(e){var n=e;do{var t=n.alternate;if(e=n.return,0==(8192&n.flags)){if(null!==(t=Gl(t,n,ya)))return void(va=t)}else{if(null!==(t=Jl(n)))return t.flags&=8191,void(va=t);null!==e&&(e.flags|=8192,e.subtreeFlags=0,e.deletions=null)}if(null!==(n=n.sibling))return void(va=n);va=n=e}while(null!==n);0===ka&&(ka=5)}function ni(e){var n=Qn,t=ha.transition;try{ha.transition=0,Qn=1,ti(e,n)}finally{ha.transition=t,Qn=n}return null}function ti(e,n){do{ri()}while(null!==Ia);if(0!=(24&ga))throw Error("Should not already be working.");var t=e.finishedWork,r=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0;var l=t.lanes|t.childLanes;if(Mn(e,l),e===ma&&(va=ma=null,ba=0),0==(1040&t.subtreeFlags)&&0==(1040&t.flags)||za||(za=!0,gn(wn,function(){return ri(),null})),l=0!=(8054&t.flags),0!=(8054&t.subtreeFlags)||l){l=ha.transition,ha.transition=0;var a=Qn;Qn=1;var i=ga;ga|=16,pa.current=null,ta(e,t),oa(e,t),e.current=t,sa(t),bn(),ga=i,Qn=a,ha.transition=l}else e.current=t;if(za&&(za=!1,Ia=e,La=r),0===(l=e.pendingLanes)&&(Ca=null),0!=(1&l)?e===Ma?Ua++:(Ua=0,Ma=e):Ua=0,Tn(t.stateNode),Ba(e,yn()),Ea)throw Ea=!1,e=Na,Na=null,e;return 0!=(4&ga)?null:(0!=(1&La)&&0!==e.tag&&ri(),Mt(),null)}function ri(){if(null!==Ia){var e=jn(La),n=ha.transition,t=Qn;try{if(ha.transition=0,Qn=16>e?16:e,null===Ia)var r=!1;else{if(e=Ia,Ia=null,La=0,0!=(24&ga))throw Error("Cannot flush passive effects while already rendering.");var l=ga;for(ga|=16,Zl=e.current;null!==Zl;){var a=Zl,i=a.child;if(0!=(16&Zl.flags)){var u=a.deletions;if(null!==u){for(var o=0;o<u.length;o++){var s=u[o];for(Zl=s;null!==Zl;){var c=Zl;switch(c.tag){case 0:case 11:case 15:ra(4,c,a)}var d=c.child;if(null!==d)d.return=c,Zl=d;else for(;null!==Zl;){var f=(c=Zl).sibling,p=c.return;if(aa(c),c===s){Zl=null;break}if(null!==f){f.return=p,Zl=f;break}Zl=p}}}var h=a.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Zl=a}}if(0!=(1040&a.subtreeFlags)&&null!==i)i.return=a,Zl=i;else e:for(;null!==Zl;){if(0!=(1024&(a=Zl).flags))switch(a.tag){case 0:case 11:case 15:ra(5,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zl=v;break e}Zl=a.return}}var b=e.current;for(Zl=b;null!==Zl;){var y=(i=Zl).child;if(0!=(1040&i.subtreeFlags)&&null!==y)y.return=i,Zl=y;else e:for(i=b;null!==Zl;){if(0!=(1024&(u=Zl).flags))try{switch(u.tag){case 0:case 11:case 15:la(5,u)}}catch(e){ai(u,u.return,e)}if(u===i){Zl=null;break e}var S=u.sibling;if(null!==S){S.return=u.return,Zl=S;break e}Zl=u.return}}if(ga=l,Mt(),Rn&&"function"==typeof Rn.onPostCommitFiberRoot)try{Rn.onPostCommitFiberRoot(Pn,e)}catch(e){}r=!0}return r}finally{Qn=t,ha.transition=n}}return!1}function li(e,n,t){nr(e,n=bl(e,n=gl(t,n),1)),n=Aa(),null!==(e=ja(e,1))&&(Un(e,1,n),Ba(e,n))}function ai(e,n,t){if(3===e.tag)li(e,e,t);else for(n=e.return;null!==n;){if(3===n.tag){li(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ca||!Ca.has(r))){nr(n,e=yl(n,e=gl(t,e),1)),e=Aa(),null!==(n=ja(n,1))&&(Un(n,1,e),Ba(n,e));break}}n=n.return}}function ii(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=Aa(),e.pingedLanes|=e.suspendedLanes&t,ma===e&&(ba&t)===t&&(4===ka||3===ka&&(130023424&ba)===ba&&500>yn()-Ta?qa(e,0):Ra|=t),Ba(e,n)}function ui(e,n){var t=e.stateNode;null!==t&&t.delete(n),0===(n=0)&&(0==(1&e.mode)?n=1:(n=En,0==(130023424&(En<<=1))&&(En=4194304))),t=Aa(),null!==(e=ja(e,n))&&(Un(e,n,t),Ba(e,t))}function oi(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(e,n,t,r){return new oi(e,n,t,r)}function ci(e){return!(!(e=e.prototype)||!e.isReactComponent)}function di(e){if("function"==typeof e)return ci(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Le)return 11;if(e===Fe)return 14}return 2}function fi(e,n){var t=e.alternate;return null===t?((t=si(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=1835008&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function pi(e,n,t,r,l,a){var i=2;if(r=e,"function"==typeof e)ci(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case Ee:return hi(t.children,l,a,n);case Ae:i=8,l|=4;break;case Ne:i=8,l|=8;break;case Ce:return(e=si(12,t,n,2|l)).elementType=Ce,e.lanes=a,e;case Ue:return(e=si(13,t,n,l)).elementType=Ue,e.lanes=a,e;case Me:return(e=si(19,t,n,l)).elementType=Me,e.lanes=a,e;case He:return gi(t,l,a,n);case Qe:return(e=si(23,t,n,l)).elementType=Qe,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ze:i=10;break e;case Ie:i=9;break e;case Le:i=11;break e;case Fe:i=14;break e;case De:i=16,r=null;break e}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+".")}return(n=si(i,t,n,l)).elementType=e,n.type=r,n.lanes=a,n}function hi(e,n,t,r){return(e=si(7,e,r,n)).lanes=t,e}function gi(e,n,t,r){return(e=si(22,e,r,n)).elementType=He,e.lanes=t,e}function mi(e,n,t){return(e=si(6,e,null,n)).lanes=t,e}function vi(e,n,t){return(n=si(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function bi(e,n,t){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ln(0),this.expirationTimes=Ln(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ln(0)}function yi(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_e,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function Si(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e))}return null===(e=Ge(n))?null:e.stateNode}function ki(e,n,t,r){var l=n.current,a=Aa(),i=Ha(l);e:if(t){t=t._reactInternals;n:{if(qe(t)!==t||1!==t.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var u=t;do{switch(u.tag){case 3:u=u.stateNode.context;break n;case 1:if(Tt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break n}}u=u.return}while(null!==u);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}if(1===t.tag){var o=t.type;if(Tt(o)){t=Nt(t,o,u);break e}}t=u}else t=kt;return null===n.context?n.context=t:n.pendingContext=t,(n=er(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),nr(l,n),null!==(e=Qa(l,i,a))&&tr(e,l,i),i}function wi(e){return null==e?null:"number"==typeof e?e:e._nativeTag?e._nativeTag:e.canonical&&e.canonical._nativeTag?e.canonical._nativeTag:null==(e=Si(e))?e:e.canonical?e.canonical._nativeTag:e._nativeTag}ca=function(e,n,t){var r=n.lanes;if(null!==e)if(e.memoizedProps!==n.pendingProps||xt.current)kl=!0;else{if(0==(t&r)){switch(kl=!1,n.tag){case 3:zl(n);break;case 5:Rr(n);break;case 1:Tt(n.type)&&Ct(n);break;case 4:xr(n,n.stateNode.containerInfo);break;case 10:r=n.type._context;var l=n.memoizedProps.value;St(jt,r._currentValue2),r._currentValue2=l;break;case 13:if(null!==n.memoizedState)return 0!=(t&n.child.childLanes)?Al(e,n,t):(St(_r,1&_r.current),null!==(n=Vl(e,n,t))?n.sibling:null);St(_r,1&_r.current);break;case 19:if(r=0!=(t&n.childLanes),0!=(128&e.flags)){if(r)return Ol(e,n,t);n.flags|=128}if(null!==(l=n.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),St(_r,_r.current),r)break;return null;case 22:case 23:return n.lanes=0,Tl(e,n,t)}return Vl(e,n,t)}kl=0!=(32768&e.flags)}else kl=!1;switch(n.lanes=0,n.tag){case 2:if(r=n.type,null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,l=Rt(n,wt.current),Xt(n,t),l=jr(null,n,r,e,l,t),n.flags|=1,"object"==typeof l&&null!==l&&"function"==typeof l.render&&void 0===l.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,Tt(r)){var a=!0;Ct(n)}else a=!1;n.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,Kt(n),l.updater=or,n.stateNode=l,l._reactInternals=n,fr(n,r,e,t),n=Cl(null,n,r,!0,a,t)}else n.tag=0,wl(null,n,l,t),n=n.child;return n;case 16:l=n.elementType;e:{switch(null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,l=(a=l._init)(l._payload),n.type=l,a=n.tag=di(l),e=Qt(l,e),a){case 0:n=El(null,n,l,e,t);break e;case 1:n=Nl(null,n,l,e,t);break e;case 11:n=xl(null,n,l,e,t);break e;case 14:n=Pl(null,n,l,Qt(l.type,e),r,t);break e}throw Error("Element type is invalid. Received a promise that resolves to: "+l+". Lazy element type must resolve to a class or function.")}return n;case 0:return r=n.type,l=n.pendingProps,El(e,n,r,l=n.elementType===r?l:Qt(r,l),t);case 1:return r=n.type,l=n.pendingProps,Nl(e,n,r,l=n.elementType===r?l:Qt(r,l),t);case 3:if(zl(n),r=n.updateQueue,null===e||null===r)throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");return l=n.pendingProps,r=n.memoizedState.element,Zt(e,n),lr(n,l,null,t),(l=n.memoizedState.element)===r?n=Vl(e,n,t):(wl(e,n,l,t),n=n.child),n;case 5:return Rr(n),r=n.pendingProps.children,_l(e,n),wl(e,n,r,t),n.child;case 6:return null;case 13:return Al(e,n,t);case 4:return xr(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=mr(n,null,r,t):wl(e,n,r,t),n.child;case 11:return r=n.type,l=n.pendingProps,xl(e,n,r,l=n.elementType===r?l:Qt(r,l),t);case 7:return wl(e,n,n.pendingProps,t),n.child;case 8:case 12:return wl(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,l=n.pendingProps,a=n.memoizedProps;var i=l.value;if(St(jt,r._currentValue2),r._currentValue2=i,null!==a)if(Dt(a.value,i)){if(a.children===l.children&&!xt.current){n=Vl(e,n,t);break e}}else for(null!==(i=n.child)&&(i.return=n);null!==i;){var u=i.dependencies;if(null!==u){a=i.child;for(var o=u.firstContext;null!==o;){if(o.context===r){if(1===i.tag){(o=er(-1,t&-t)).tag=2;var s=i.updateQueue;if(null!==s){var c=(s=s.shared).pending;null===c?o.next=o:(o.next=c.next,c.next=o),s.pending=o}}i.lanes|=t,null!==(o=i.alternate)&&(o.lanes|=t),qt(i.return,t),u.lanes|=t;break}o=o.next}}else a=10===i.tag&&i.type===n.type?null:i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===n){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}wl(e,n,l.children,t),n=n.child}return n;case 9:return l=n.type,r=n.pendingProps.children,Xt(n,t),r=r(l=$t(l)),n.flags|=1,wl(e,n,r,t),n.child;case 14:return a=Qt(l=n.type,n.pendingProps),Pl(e,n,l,a=Qt(l.type,a),r,t);case 15:return Rl(e,n,n.type,n.pendingProps,r,t);case 17:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Qt(r,l),null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,Tt(r)?(e=!0,Ct(n)):e=!1,Xt(n,t),cr(n,r,l),fr(n,r,l,t),Cl(null,n,r,!0,e,t);case 19:return Ol(e,n,t);case 22:case 23:return Tl(e,n,t)}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")},cn=function(e,n){var t=ga;ga|=1;try{return e(n)}finally{0===(ga=t)&&(_a=yn()+500,Lt&&Mt())}};var xi=new Map,Pi={findFiberByHostInstance:Pe,bundleType:0,version:"18.0.0-experimental-568dc3532",rendererPackageName:"react-native-renderer",rendererConfig:{getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}.bind(null,wi)}},Ri={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Re.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-experimental-568dc3532"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ti.isDisabled&&Ti.supportsFiber)try{Pn=Ti.inject(Ri),Rn=Ti}catch(e){}}a.createPortal=function(e,n){return yi(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.dispatchCommand=function(e,n,t){null!=e._nativeTag&&(e._internalInstanceHandle?nativeFabricUIManager.dispatchCommand(e._internalInstanceHandle.stateNode.node,n,t):o.UIManager.dispatchViewManagerCommand(e._nativeTag,n,t))},a.findHostInstance_DEPRECATED=function(e){return null==e?null:e._nativeTag?e:e.canonical&&e.canonical._nativeTag?e.canonical:null==(e=Si(e))?e:e.canonical?e.canonical:e},a.findNodeHandle=wi,a.render=function(e,n,t,r){var l=xi.get(n);l||(r=new bi(n,l=r?1:0,!1),l=si(3,null,null,1===l?1:0),r.current=l,l.stateNode=r,l.memoizedState={element:null},Kt(l),l=r,xi.set(n,l)),ki(e,l,null,t);e:if(e=l.current,e.child)switch(e.child.tag){case 5:e=e.child.stateNode.canonical;break e;default:e=e.child.stateNode}else e=null;return e},a.sendAccessibilityEvent=function(e,n){null!=e._nativeTag&&(e._internalInstanceHandle?nativeFabricUIManager.sendAccessibilityEvent(e._internalInstanceHandle.stateNode.node,n):o.legacySendAccessibilityEvent(e._nativeTag,n))},a.stopSurface=function(e){var n=xi.get(e);n&&ki(null,n,null,function(){xi.delete(e)})},a.unmountComponentAtNode=function(e){this.stopSurface(e)}},354,[13,26,125,10,172]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6])),p=(function(){function t(){var s=this;if((0,n.default)(this,t),this.currentState=null,null==l.default)this.isAvailable=!1;else{this.isAvailable=!0;var p=new u.default('ios'!==c.default.OS?null:l.default);this._emitter=p,this.currentState=l.default.getConstants().initialAppState;var f=!1;p.addListener('appStateDidChange',function(t){f=!0,s.currentState=t.app_state}),l.default.getCurrentAppState(function(t){f||s.currentState===t.app_state||(s.currentState=t.app_state,p.emit('appStateDidChange',t))},o.default)}}return(0,s.default)(t,[{key:"addEventListener",value:function(t,n){var s=this._emitter;if(null==s)throw new Error('Cannot use AppState when `isAvailable` is false.');switch(t){case'change':var u=n;return s.addListener('appStateDidChange',function(t){u(t.app_state)});case'memoryWarning':var o=n;return s.addListener('memoryWarning',o);case'blur':case'focus':var l=n;return s.addListener('appStateFocusChange',function(n){'blur'!==t||n||l(),'focus'===t&&n&&l()})}throw new Error('Trying to subscribe to unknown event: '+t)}},{key:"removeEventListener",value:function(t,n){var s=this._emitter;if(null==s)throw new Error('Cannot use AppState when `isAvailable` is false.');switch(t){case'change':return void s.removeListener('appStateDidChange',n);case'memoryWarning':return void s.removeListener('memoryWarning',n);case'blur':case'focus':return void s.addListener('appStateFocusChange',n)}throw new Error('Trying to unsubscribe from unknown event: '+t)}}]),t})();m.exports=new p},355,[1,2,3,99,356,357,55]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];if(1===n.length&&n[0]instanceof Error){var t=n[0];console.error('Error: "'+t.message+'".  Stack:\n'+t.stack)}else console.error.apply(console,n)}},356,[]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var l=p?Object.getOwnPropertyDescriptor(n,c):null;l&&(l.get||l.set)?Object.defineProperty(u,c,l):u[c]=n[c]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('AppState');e.default=n},357,[39]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),i=e(r(d[4])),o=u.default||n.default,l={_getRequests:[],_getKeys:[],_immediate:null,getItem:function(e,t){return(0,i.default)(o,'RCTAsyncStorage not available'),new Promise(function(n,u){o.multiGet([e],function(e,i){var o=i&&i[0]&&i[0][1]?i[0][1]:null,l=s(e);t&&t(l&&l[0],o),l?u(l[0]):n(o)})})},setItem:function(e,t,n){return(0,i.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,i){o.multiSet([[e,t]],function(e){var t=s(e);n&&n(t&&t[0]),t?i(t[0]):u()})})},removeItem:function(e,t){return(0,i.default)(o,'RCTAsyncStorage not available'),new Promise(function(n,u){o.multiRemove([e],function(e){var i=s(e);t&&t(i&&i[0]),i?u(i[0]):n()})})},mergeItem:function(e,t,n){return(0,i.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,i){o.multiMerge([[e,t]],function(e){var t=s(e);n&&n(t&&t[0]),t?i(t[0]):u()})})},clear:function(e){return(0,i.default)(o,'RCTAsyncStorage not available'),new Promise(function(t,n){o.clear(function(u){e&&e(c(u)),u&&c(u)?n(c(u)):t()})})},getAllKeys:function(e){return(0,i.default)(o,'RCTAsyncStorage not available'),new Promise(function(t,n){o.getAllKeys(function(u,i){e&&e(c(u),i),u?n(c(u)):t(i)})})},flushGetRequests:function(){var e=this._getRequests,n=this._getKeys;this._getRequests=[],this._getKeys=[],(0,i.default)(o,'RCTAsyncStorage not available'),o.multiGet(n,function(n,u){var i={};u&&u.forEach(function(e){var n=(0,t.default)(e,2),u=n[0],o=n[1];return i[u]=o,o});for(var o=e.length,l=0;l<o;l++){var s=e[l],c=s.keys.map(function(e){return[e,i[e]]});s.callback&&s.callback(null,c),s.resolve&&s.resolve(c)}})},multiGet:function(e,t){var n=this;return this._immediate||(this._immediate=setImmediate(function(){n._immediate=null,n.flushGetRequests()})),new Promise(function(u,i){n._getRequests.push({keys:e,callback:t,keyIndex:n._getKeys.length,resolve:u,reject:i}),e.forEach(function(e){-1===n._getKeys.indexOf(e)&&n._getKeys.push(e)})})},multiSet:function(e,t){return(0,i.default)(o,'RCTAsyncStorage not available'),new Promise(function(n,u){o.multiSet(e,function(e){var i=s(e);t&&t(i),i?u(i):n()})})},multiRemove:function(e,t){return(0,i.default)(o,'RCTAsyncStorage not available'),new Promise(function(n,u){o.multiRemove(e,function(e){var i=s(e);t&&t(i),i?u(i):n()})})},multiMerge:function(e,t){return(0,i.default)(o,'RCTAsyncStorage not available'),new Promise(function(n,u){o.multiMerge(e,function(e){var i=s(e);t&&t(i),i?u(i):n()})})}};function s(e){return e?(Array.isArray(e)?e:[e]).map(function(e){return c(e)}):null}function c(e){if(!e)return null;var t=new Error(e.message);return t.key=e.key,t}o&&!o.multiMerge&&(delete l.mergeItem,delete l.multiMerge),m.exports=l},358,[1,41,359,360,15]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('AsyncLocalStorage');e.default=n},359,[39]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('AsyncSQLiteDBStorage');e.default=n},360,[39]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports={getString:function(){return t.default.getString()},setString:function(n){t.default.setString(n)}}},361,[1,362]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('Clipboard');e.default=n},362,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),s=(function(){function s(){t(this,s)}return o(s,null,[{key:"open",value:function(t){return n.async(function(n){for(;;)switch(n.prev=n.next){case 0:throw new Error('DatePickerAndroid is not supported on this platform.');case 1:case"end":return n.stop()}},null,null,null,Promise)}}]),s})();s.dateSetAction='dateSetAction',s.dismissedAction='dismissedAction',m.exports=s},363,[68,2,3]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=t.default},364,[1,160]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);n(r(d[1])),n(r(d[2])),n(r(d[3]));m.exports={addMenuItem:function(n,o){},reload:function(n){},onFastRefresh:function(){}}},365,[1,366,99,55]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('DevSettings');e.default=n},366,[39]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]),n=o(r(d[1])),l=o(r(d[2])),t={canRecordVideos:function(o){return(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.canRecordVideos(o)},canUseCamera:function(o){return(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.canUseCamera(o)},openCameraDialog:function(o,t,u){(0,l.default)(n.default,'ImagePickerIOS is not available');var s={videoMode:!0,unmirrorFrontFacingCamera:!1};return null!=o.videoMode&&(s.videoMode=o.videoMode),null!=o.unmirrorFrontFacingCamera&&(s.unmirrorFrontFacingCamera=o.unmirrorFrontFacingCamera),n.default.openCameraDialog(s,t,u)},openSelectDialog:function(o,t,u){(0,l.default)(n.default,'ImagePickerIOS is not available');var s={showImages:!0,showVideos:!1};return null!=o.showImages&&(s.showImages=o.showImages),null!=o.showVideos&&(s.showVideos=o.showVideos),n.default.openSelectDialog(s,t,u)},removePendingVideo:function(o){(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.removePendingVideo(o)},clearAllPendingVideos:function(){(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.clearAllPendingVideos()}};m.exports=t},367,[1,368,15]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('ImagePickerIOS');e.default=n},368,[39]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),f=e(r(d[4])),l=e(r(d[5])),o=e(r(d[6])),c=e(r(d[7])),s=e(r(d[8])),v=e(r(d[9])),p=e(r(d[10])),R=e(r(d[11])),L=e(r(d[12]));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var U=(function(e){(0,u.default)(O,e);var o,U,h=(o=O,U=y(),function(){var e,t=(0,l.default)(o);if(U){var n=(0,l.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,f.default)(this,e)});function O(){return(0,t.default)(this,O),h.call(this,'ios'===s.default.OS?(0,L.default)(v.default):void 0)}return(0,n.default)(O,[{key:"addEventListener",value:function(e,t,n){return this.addListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.removeListener(e,t)}},{key:"openURL",value:function(e){return this._validateURL(e),'android'===s.default.OS?(0,L.default)(p.default).openURL(e):(0,L.default)(v.default).openURL(e)}},{key:"canOpenURL",value:function(e){return this._validateURL(e),'android'===s.default.OS?(0,L.default)(p.default).canOpenURL(e):(0,L.default)(v.default).canOpenURL(e)}},{key:"openSettings",value:function(){return'android'===s.default.OS?(0,L.default)(p.default).openSettings():(0,L.default)(v.default).openSettings()}},{key:"getInitialURL",value:function(){return'android'===s.default.OS?c.default.runAfterInteractions().then(function(){return(0,L.default)(p.default).getInitialURL()}):(0,L.default)(v.default).getInitialURL()}},{key:"sendIntent",value:function(e,t){return'android'===s.default.OS?(0,L.default)(p.default).sendIntent(e,t):new Promise(function(e,t){return t(new Error('Unsupported'))})}},{key:"_validateURL",value:function(e){(0,R.default)('string'==typeof e,'Invalid URL: should be a string. Was: '+e),(0,R.default)(e,'Invalid URL: cannot be empty')}}]),O})(o.default);m.exports=new U},369,[1,2,3,4,6,9,99,224,55,370,371,15,327]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('LinkingManager');e.default=n},370,[39]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('IntentAndroid');e.default=n},371,[39]);
__d(function(g,r,i,a,m,e,d){var n,o=r(d[0]);o(r(d[1])),o(r(d[2]));n={install:function(){},uninstall:function(){},isInstalled:function(){return!1},ignoreLogs:function(n){},ignoreAllLogs:function(n){},clearAllLogs:function(){},addLog:function(n){},addException:function(n){}},m.exports=n},372,[1,55,118]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=r(d[1]),t=o.currentCentroidXOfTouchesChangedAfter,u=o.currentCentroidYOfTouchesChangedAfter,s=o.previousCentroidXOfTouchesChangedAfter,c=o.previousCentroidYOfTouchesChangedAfter,p=o.currentCentroidX,v=o.currentCentroidY,h={_initializeGestureState:function(n){n.moveX=0,n.moveY=0,n.x0=0,n.y0=0,n.dx=0,n.dy=0,n.vx=0,n.vy=0,n.numberActiveTouches=0,n._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(n,o){n.numberActiveTouches=o.numberActiveTouches,n.moveX=t(o,n._accountsForMovesUpTo),n.moveY=u(o,n._accountsForMovesUpTo);var p=n._accountsForMovesUpTo,v=s(o,p),h=t(o,p),l=c(o,p),S=u(o,p),R=n.dx+(h-v),T=n.dy+(S-l),f=o.mostRecentTimeStamp-n._accountsForMovesUpTo;n.vx=(R-n.dx)/f,n.vy=(T-n.dy)/f,n.dx=R,n.dy=T,n._accountsForMovesUpTo=o.mostRecentTimeStamp},create:function(o){var t={handle:null},u={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(n){return null!=o.onStartShouldSetPanResponder&&o.onStartShouldSetPanResponder(n,u)},onMoveShouldSetResponder:function(n){return null!=o.onMoveShouldSetPanResponder&&o.onMoveShouldSetPanResponder(n,u)},onStartShouldSetResponderCapture:function(n){return 1===n.nativeEvent.touches.length&&h._initializeGestureState(u),u.numberActiveTouches=n.touchHistory.numberActiveTouches,null!=o.onStartShouldSetPanResponderCapture&&o.onStartShouldSetPanResponderCapture(n,u)},onMoveShouldSetResponderCapture:function(n){var t=n.touchHistory;return u._accountsForMovesUpTo!==t.mostRecentTimeStamp&&(h._updateGestureStateOnMove(u,t),!!o.onMoveShouldSetPanResponderCapture&&o.onMoveShouldSetPanResponderCapture(n,u))},onResponderGrant:function(s){return t.handle||(t.handle=n.createInteractionHandle()),u.x0=p(s.touchHistory),u.y0=v(s.touchHistory),u.dx=0,u.dy=0,o.onPanResponderGrant&&o.onPanResponderGrant(s,u),null==o.onShouldBlockNativeResponder||o.onShouldBlockNativeResponder(s,u)},onResponderReject:function(n){l(t,o.onPanResponderReject,n,u)},onResponderRelease:function(n){l(t,o.onPanResponderRelease,n,u),h._initializeGestureState(u)},onResponderStart:function(n){var t=n.touchHistory;u.numberActiveTouches=t.numberActiveTouches,o.onPanResponderStart&&o.onPanResponderStart(n,u)},onResponderMove:function(n){var t=n.touchHistory;u._accountsForMovesUpTo!==t.mostRecentTimeStamp&&(h._updateGestureStateOnMove(u,t),o.onPanResponderMove&&o.onPanResponderMove(n,u))},onResponderEnd:function(n){var s=n.touchHistory;u.numberActiveTouches=s.numberActiveTouches,l(t,o.onPanResponderEnd,n,u)},onResponderTerminate:function(n){l(t,o.onPanResponderTerminate,n,u),h._initializeGestureState(u)},onResponderTerminationRequest:function(n){return null==o.onPanResponderTerminationRequest||o.onPanResponderTerminationRequest(n,u)}},getInteractionHandle:function(){return t.handle}}}};function l(o,t,u,s){o.handle&&(n.clearInteractionHandle(o.handle),o.handle=null),t&&t(u,s)}m.exports=h},373,[224,374]);
__d(function(g,r,_i,a,m,e,d){var n={centroidDimension:function(t,i,o,u){var c=t.touchBank,f=0,s=0,h=1===t.numberActiveTouches?t.touchBank[t.indexOfSingleActiveTouch]:null;if(null!==h)h.touchActive&&h.currentTimeStamp>i&&(f+=u&&o?h.currentPageX:u&&!o?h.currentPageY:!u&&o?h.previousPageX:h.previousPageY,s=1);else for(var v=0;v<c.length;v++){var C=c[v];if(null!==C&&void 0!==C&&C.touchActive&&C.currentTimeStamp>=i){f+=u&&o?C.currentPageX:u&&!o?C.currentPageY:!u&&o?C.previousPageX:C.previousPageY,s++}}return s>0?f/s:n.noCentroid},currentCentroidXOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!1,!1)},currentCentroidX:function(t){return n.centroidDimension(t,0,!0,!0)},currentCentroidY:function(t){return n.centroidDimension(t,0,!1,!0)},noCentroid:-1};m.exports=n},374,[]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]),i=n(r(d[1])),o=n(r(d[2])),s=n(r(d[3])),t=n(r(d[4])),E=n(r(d[5])),A=n(r(d[6])),u=n(r(d[7]));function O(n,i){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);i&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),o.push.apply(o,s)}return o}function _(n){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?O(Object(s),!0).forEach(function(i){(0,o.default)(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}r(d[8]);var S=Object.freeze({GRANTED:'granted',DENIED:'denied',NEVER_ASK_AGAIN:'never_ask_again'}),c=Object.freeze({READ_CALENDAR:'android.permission.READ_CALENDAR',WRITE_CALENDAR:'android.permission.WRITE_CALENDAR',CAMERA:'android.permission.CAMERA',READ_CONTACTS:'android.permission.READ_CONTACTS',WRITE_CONTACTS:'android.permission.WRITE_CONTACTS',GET_ACCOUNTS:'android.permission.GET_ACCOUNTS',ACCESS_FINE_LOCATION:'android.permission.ACCESS_FINE_LOCATION',ACCESS_COARSE_LOCATION:'android.permission.ACCESS_COARSE_LOCATION',ACCESS_BACKGROUND_LOCATION:'android.permission.ACCESS_BACKGROUND_LOCATION',RECORD_AUDIO:'android.permission.RECORD_AUDIO',READ_PHONE_STATE:'android.permission.READ_PHONE_STATE',CALL_PHONE:'android.permission.CALL_PHONE',READ_CALL_LOG:'android.permission.READ_CALL_LOG',WRITE_CALL_LOG:'android.permission.WRITE_CALL_LOG',ADD_VOICEMAIL:'com.android.voicemail.permission.ADD_VOICEMAIL',USE_SIP:'android.permission.USE_SIP',PROCESS_OUTGOING_CALLS:'android.permission.PROCESS_OUTGOING_CALLS',BODY_SENSORS:'android.permission.BODY_SENSORS',SEND_SMS:'android.permission.SEND_SMS',RECEIVE_SMS:'android.permission.RECEIVE_SMS',READ_SMS:'android.permission.READ_SMS',RECEIVE_WAP_PUSH:'android.permission.RECEIVE_WAP_PUSH',RECEIVE_MMS:'android.permission.RECEIVE_MMS',READ_EXTERNAL_STORAGE:'android.permission.READ_EXTERNAL_STORAGE',WRITE_EXTERNAL_STORAGE:'android.permission.WRITE_EXTERNAL_STORAGE',BLUETOOTH_CONNECT:'android.permission.BLUETOOTH_CONNECT',BLUETOOTH_SCAN:'android.permission.BLUETOOTH_SCAN',BLUETOOTH_ADVERTISE:'android.permission.BLUETOOTH_ADVERTISE'}),l=new((function(){function n(){(0,s.default)(this,n),this.PERMISSIONS=c,this.RESULTS=S}return(0,t.default)(n,[{key:"checkPermission",value:function(n){return console.warn('"PermissionsAndroid.checkPermission" is deprecated. Use "PermissionsAndroid.check" instead'),console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve(!1)}},{key:"check",value:function(n){return console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve(!1)}},{key:"requestPermission",value:function(n,o){var s;return i.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:return console.warn('"PermissionsAndroid.requestPermission" is deprecated. Use "PermissionsAndroid.request" instead'),console.warn('"PermissionsAndroid" module works only for Android platform.'),t.abrupt("return",Promise.resolve(!1));case 4:return t.next=6,i.default.awrap(this.request(n,o));case 6:return s=t.sent,t.abrupt("return",s===this.RESULTS.GRANTED);case 8:case"end":return t.stop()}},null,this,null,Promise)}},{key:"request",value:function(n,o){return i.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:return console.warn('"PermissionsAndroid" module works only for Android platform.'),s.abrupt("return",Promise.resolve(this.RESULTS.DENIED));case 3:if((0,u.default)(A.default,'PermissionsAndroid is not installed correctly.'),!o){s.next=10;break}return s.next=7,i.default.awrap(A.default.shouldShowRequestPermissionRationale(n));case 7:if(!s.sent||!E.default){s.next=10;break}return s.abrupt("return",new Promise(function(i,s){var t=_({},o);E.default.showAlert(t,function(){return s(new Error('Error showing rationale'))},function(){return i(A.default.requestPermission(n))})}));case 10:return s.abrupt("return",A.default.requestPermission(n));case 11:case"end":return s.stop()}},null,this,null,Promise)}},{key:"requestMultiple",value:function(n){return console.warn('"PermissionsAndroid" module works only for Android platform.'),Promise.resolve({})}}]),n})());m.exports=l},375,[1,68,34,2,3,111,376,15,55]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('PermissionsAndroid');e.default=n},376,[39]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=t(r(d[6])),s=new l.default('ios'!==f.default.OS?null:u.default),v=new Map,h=(function(){function t(n){var l=this;(0,o.default)(this,t),this._data={},this._remoteNotificationCompleteCallbackCalled=!1,this._isRemote=n.remote,this._isRemote&&(this._notificationId=n.notificationId),n.remote?Object.keys(n).forEach(function(t){var o=n[t];'aps'===t?(l._alert=o.alert,l._sound=o.sound,l._badgeCount=o.badge,l._category=o.category,l._contentAvailable=o['content-available'],l._threadID=o['thread-id']):l._data[t]=o}):(this._badgeCount=n.applicationIconBadgeNumber,this._sound=n.soundName,this._alert=n.alertBody,this._data=n.userInfo,this._category=n.category)}return(0,n.default)(t,[{key:"finish",value:function(t){this._isRemote&&this._notificationId&&!this._remoteNotificationCompleteCallbackCalled&&(this._remoteNotificationCompleteCallbackCalled=!0,(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.onFinishRemoteNotification(this._notificationId,t))}},{key:"getMessage",value:function(){return this._alert}},{key:"getSound",value:function(){return this._sound}},{key:"getCategory",value:function(){return this._category}},{key:"getAlert",value:function(){return this._alert}},{key:"getContentAvailable",value:function(){return this._contentAvailable}},{key:"getBadgeCount",value:function(){return this._badgeCount}},{key:"getData",value:function(){return this._data}},{key:"getThreadID",value:function(){return this._threadID}}],[{key:"presentLocalNotification",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.presentLocalNotification(t)}},{key:"scheduleLocalNotification",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.scheduleLocalNotification(t)}},{key:"cancelAllLocalNotifications",value:function(){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.cancelAllLocalNotifications()}},{key:"removeAllDeliveredNotifications",value:function(){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.removeAllDeliveredNotifications()}},{key:"getDeliveredNotifications",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.getDeliveredNotifications(t)}},{key:"removeDeliveredNotifications",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.removeDeliveredNotifications(t)}},{key:"setApplicationIconBadgeNumber",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.setApplicationIconBadgeNumber(t)}},{key:"getApplicationIconBadgeNumber",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.getApplicationIconBadgeNumber(t)}},{key:"cancelLocalNotifications",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.cancelLocalNotifications(t)}},{key:"getScheduledLocalNotifications",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.getScheduledLocalNotifications(t)}},{key:"addEventListener",value:function(o,n){var l;(0,c.default)('notification'===o||'register'===o||'registrationError'===o||'localNotification'===o,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events'),'notification'===o?l=s.addListener("remoteNotificationReceived",function(o){n(new t(o))}):'localNotification'===o?l=s.addListener("localNotificationReceived",function(o){n(new t(o))}):'register'===o?l=s.addListener("remoteNotificationsRegistered",function(t){n(t.deviceToken)}):'registrationError'===o&&(l=s.addListener("remoteNotificationRegistrationError",function(t){n(t)})),v.set(o,l)}},{key:"removeEventListener",value:function(t,o){(0,c.default)('notification'===t||'register'===t||'registrationError'===t||'localNotification'===t,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events');var n=v.get(t);n&&(n.remove(),v.delete(t))}},{key:"requestPermissions",value:function(t){var o={alert:!0,badge:!0,sound:!0};return t&&(o={alert:!!t.alert,badge:!!t.badge,sound:!!t.sound}),(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.requestPermissions(o)}},{key:"abandonPermissions",value:function(){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.abandonPermissions()}},{key:"checkPermissions",value:function(t){(0,c.default)('function'==typeof t,'Must provide a valid callback'),(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.checkPermissions(t)}},{key:"getInitialNotification",value:function(){return(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.getInitialNotification().then(function(o){return o&&new t(o)})}},{key:"getAuthorizationStatus",value:function(t){(0,c.default)(u.default,'PushNotificationManager is not available.'),u.default.getAuthorizationStatus(t)}}]),t})();h.FetchResult={NewData:'UIBackgroundFetchResultNewData',NoData:'UIBackgroundFetchResultNoData',ResultFailed:'UIBackgroundFetchResultFailed'},m.exports=h},377,[1,2,3,99,378,15,55]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(f,l,p):f[l]=n[l]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('PushNotificationManager');e.default=n},378,[39]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),c=t(r(d[3])),l=t(r(d[4])),u=[],f={_settings:c.default&&c.default.getConstants().settings,get:function(t){return this._settings[t]},set:function(t){this._settings=(0,s.default)(this._settings,t),c.default.setValues(t)},watchKeys:function(t,s){'string'==typeof t&&(t=[t]),(0,l.default)(Array.isArray(t),'keys should be a string or array of strings');var n=u.length;return u.push({keys:t,callback:s}),n},clearWatch:function(t){t<u.length&&(u[t]={keys:[],callback:null})},_sendObservations:function(t){var s=this;Object.keys(t).forEach(function(n){var c=t[n],l=s._settings[n]!==c;s._settings[n]=c,l&&u.forEach(function(t){-1!==t.keys.indexOf(n)&&t.callback&&t.callback()})})}};n.default.addListener('settingsUpdated',f._sendObservations.bind(f)),m.exports=f},379,[1,13,18,380,15]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('SettingsManager');e.default=n},380,[39]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=(t(r(d[1])),t(r(d[2]))),n=t(r(d[3])),s=t(r(d[4])),u=(t(r(d[5])),r(d[6]),r(d[7])),c=r(d[8]),l=(function(){function t(){(0,o.default)(this,t)}return(0,n.default)(t,null,[{key:"share",value:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u('object'==typeof t&&null!==t,'Content to share must be a valid object'),u('string'==typeof t.url||'string'==typeof t.message,'At least one of URL and message is required'),u('object'==typeof o&&null!==o,'Options must be a valid object'),new Promise(function(n,l){var f=c(o.tintColor);u(null==f||'number'==typeof f,'Unexpected color given for options.tintColor'),u(s.default,'NativeActionSheetManager is not registered on iOS, but it should be.'),s.default.showShareActionSheetWithOptions({message:'string'==typeof t.message?t.message:void 0,url:'string'==typeof t.url?t.url:void 0,subject:o.subject,tintColor:'number'==typeof f?f:void 0,excludedActivityTypes:o.excludedActivityTypes},function(t){return l(t)},function(t,o){n(t?{action:'sharedAction',activityType:o}:{action:'dismissedAction',activityType:null})})})}}]),t})();l.sharedAction='sharedAction',l.dismissedAction='dismissedAction',m.exports=l},381,[1,34,2,3,336,382,55,15,134]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,u=new WeakMap;return(t=function(t){return t?u:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var u=t(o);if(u&&u.has(n))return u.get(n);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var p=l?Object.getOwnPropertyDescriptor(n,c):null;p&&(p.get||p.set)?Object.defineProperty(f,c,p):f[c]=n[c]}f.default=n,u&&u.set(n,f);return f})(r(d[0])).get('ShareModule');e.default=n},382,[39]);
__d(function(g,r,i,a,m,e,d){'use strict';var o={show:function(o,t){console.warn('ToastAndroid is not supported on this platform.')},showWithGravity:function(o,t,n){console.warn('ToastAndroid is not supported on this platform.')},showWithGravityAndOffset:function(o,t,n,s,p){console.warn('ToastAndroid is not supported on this platform.')}};m.exports=o},383,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var n=(0,u.useMemo)(function(){return{getCurrentValue:function(){return o.default.getColorScheme()},subscribe:function(n){var u=o.default.addChangeListener(n);return function(){u.remove()}}}},[]);return(0,t.useSubscription)(n)};var u=r(d[1]),t=r(d[2]),o=n(r(d[3]))},384,[1,10,385,337]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},385,[386]);
__d(function(_g,r,i,_a,m,_e,_d){'use strict';var e=r(_d[0]),u=Object.assign;_e.useSubscription=function(t){var n=t.getCurrentValue,s=t.subscribe,a=e.useState(function(){return{getCurrentValue:n,subscribe:s,value:n()}});t=a[0];var c=a[1];return a=t.value,t.getCurrentValue===n&&t.subscribe===s||(a=n(),c({getCurrentValue:n,subscribe:s,value:a})),e.useDebugValue(a),e.useEffect(function(){function e(){if(!t){var e=n();c(function(t){return t.getCurrentValue!==n||t.subscribe!==s||t.value===e?t:u({},t,{value:e})})}}var t=!1,a=s(e);return e(),function(){t=!0,a()}},[n,s]),a}},386,[10]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(0,f.useState)(function(){return u.default.get('window')}),o=(0,n.default)(t,2),c=o[0],l=o[1];return(0,f.useEffect)(function(){function t(t){var n=t.window;c.width===n.width&&c.height===n.height&&c.scale===n.scale&&c.fontScale===n.fontScale||l(n)}var n=u.default.addEventListener('change',t);return t({window:u.default.get('window')}),function(){n.remove()}},[c]),c};var n=t(r(d[1])),u=t(r(d[2])),f=r(d[3])},387,[1,41,159,10]);
__d(function(g,r,i,a,m,e,d){'use strict';var A=r(d[0])({BOM:"\ufeff",BULLET:"\u2022",BULLET_SP:"\xa0\u2022\xa0",MIDDOT:"\xb7",MIDDOT_SP:"\xa0\xb7\xa0",MIDDOT_KATAKANA:"\u30fb",MDASH:"\u2014",MDASH_SP:"\xa0\u2014\xa0",NDASH:"\u2013",NDASH_SP:"\xa0\u2013\xa0",NBSP:"\xa0",PIZZA:"\ud83c\udf55",TRIANGLE_LEFT:"\u25c0",TRIANGLE_RIGHT:"\u25b6"});m.exports=A},388,[52]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=(r(d[2]),!1),o=0,u=400;function f(f){var v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||(n=!0,0===f[0]&&(t.default.vibrate(u),f=f.slice(1)),0!==f.length?setTimeout(function(){return l(++o,f,v,1)},f[0]):n=!1)}function l(f,v,c,b){if(n&&f===o){if(t.default.vibrate(u),b>=v.length){if(!c)return void(n=!1);b=0}setTimeout(function(){return l(f,v,c,b+1)},v[b])}}var v={vibrate:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!n)if('number'==typeof o)t.default.vibrate(o);else{if(!Array.isArray(o))throw new Error('Vibration pattern should be a number or array');f(o,l)}},cancel:function(){n=!1}};m.exports=v},389,[1,390,55]);
__d(function(g,r,i,a,m,e,d){function t(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,f=new WeakMap;return(t=function(t){return t?f:o})(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var f=t(o);if(f&&f.has(n))return f.get(n);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var p=c?Object.getOwnPropertyDescriptor(n,l):null;p&&(p.get||p.set)?Object.defineProperty(u,l,p):u[l]=n[l]}u.default=n,f&&f.set(n,u);return u})(r(d[0])).getEnforcing('Vibration');e.default=n},390,[39]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),n=r(d[1]),e=r(d[2]),u=r(d[3]),c=r(d[4]);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var f,l=r(d[5]);r(d[6]);f=(function(f){e(p,f);var l,s,y=(l=p,s=o(),function(){var t,n=c(l);if(s){var e=c(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return u(this,t)});function p(){return t(this,p),y.apply(this,arguments)}return n(p,[{key:"render",value:function(){return null}}],[{key:"ignoreWarnings",value:function(t){}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}}]),p})(l.Component),m.exports=f},391,[2,3,4,6,9,10,372]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicColorIOS=void 0;var t=r(d[0]);e.DynamicColorIOS=function(o){return(0,t.DynamicColorIOSPrivate)({light:o.light,dark:o.dark,highContrastLight:o.highContrastLight,highContrastDark:o.highContrastDark})}},392,[137]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),s=n.shape({x:n.number,y:n.number});m.exports=s},393,[191]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r(d[1]);r(d[2]);var l=o(r(d[3]));r(d[4]),o(r(d[5]));console.ignoredYellowBox=!0;var t=l.default;e.default=t},394,[1,395,14,553,630,10]);
__d(function(g,r,i,a,m,e,d){r(d[0]),r(d[1])},395,[396,397]);
__d(function(g,r,i,a,m,e,d){var _;void 0===(_=g||window||this).__filename&&(_.__filename='__filename')},396,[]);
__d(function(g,r,_i,a,m,e,_d){var t=r(_d[0]),n=r(_d[1]),o=r(_d[2]),i=t(r(_d[3]));r(_d[4]),r(_d[5]);var d=t(r(_d[6]));function s(t,n){var o=null;return t&&l(t,function(t){return 1===t.nodeType&&t.nodeName===n&&(o=t,!0)}),o}function l(t,n){if(n(t))return!0;if(t=t.firstChild)do{if(l(t,n))return!0}while(t=t.nextSibling);return!1}!(function(t){if(t.DOMParser=n.DOMParser,void 0===t.addEventListener&&(t.addEventListener=function(){}),void 0===t.removeEventListener&&(t.removeEventListener=function(){}),void 0===t.document){var l=(new n.DOMParser).parseFromString('<html><head></head><body></body></html>','text/xml');void 0===l.addEventListener&&(l.addEventListener=function(){}),void 0===l.cookie&&(l.cookie=''),void 0===l.implementation.createHTMLDocument&&(l.implementation.createHTMLDocument=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'',o=(new n.DOMParser).parseFromString("<html>\n                            <head><title>"+t+"</title></head>\n                            <body></body>\n                        </html>",'text/xml');return Object.defineProperty(o,'body',{get:function(){return o.getElementsByTagName('body')[0]}}),o});var u=Object.getPrototypeOf(l.documentElement);u&&(void 0===u.querySelector&&(u.querySelector=function(t){return s(this,t)}),void 0===u.remove&&(u.remove=function(){null!==this.parentNode&&this.parentNode.removeChild(this)}),u.hasOwnProperty('innerHTML')||Object.defineProperty(u,'innerHTML',{get:function(){return this.childNodes.toString()},set:function(t){this.textContent='';for(var o,i=(new n.DOMParser).parseFromString("<div>"+t+"</div>",'text/xml').documentElement;o=i.firstChild;)this.appendChild(o)}}),u.hasOwnProperty('children')||Object.defineProperty(u,'children',{get:function(){for(var t=this.childNodes,n=[],o=0,i=t[o];i;)1===i.nodeType&&n.push(i),i=t[o+=1];return n}})),t.document=l}void 0===t.location&&(t.location={href:'',search:''});var c=t.navigator;if(c){var f=c.userAgent||'',v=r(_d[7]),h=v.name,p=v.version,O=h||'react-native';p&&(O+="/"+p),-1===f.indexOf(O)&&(f=f?O+" "+f:O);var y="("+o.Platform.OS+" "+o.Platform.Version+")";-1===f.indexOf(y)&&(f=f?f+" "+y:y),c.userAgent=f}r(_d[8]);var P=t.performance.now,b=r(_d[9]);if(t.performance=b.default,t.performance.now=P,t.PerformanceObserver=b.PerformanceObserver,r(_d[10]),t.callstats=r(_d[11]),t.XMLHttpRequest){var w=t.XMLHttpRequest.prototype;w&&!w.hasOwnProperty('responseXML')&&Object.defineProperty(w,'responseXML',{get:function(){var t=this.responseText;return t&&(new n.DOMParser).parseFromString(t,'text/xml')}})}'android'===o.Platform.OS&&(t.clearTimeout=i.default.clearTimeout.bind(i.default),t.clearInterval=i.default.clearInterval.bind(i.default),t.setInterval=i.default.setInterval.bind(i.default),t.setTimeout=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.default.setTimeout(t,n)}),void 0===t.localStorage&&(t.localStorage=new d.default('@jitsi-meet/')),void 0===t.sessionStorage&&(t.sessionStorage=new d.default)})(g||window||this)},397,[1,398,14,404,405,489,509,515,516,543,549,552]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);e.DOMImplementation=n.DOMImplementation,e.XMLSerializer=n.XMLSerializer,e.DOMParser=r(d[1]).DOMParser},398,[399,401]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]).NAMESPACE;function t(e){return''!==e}function n(e){return e?e.split(/[\t\n\f\r ]+/).filter(t):[]}function i(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function o(e){if(!e)return[];var t=n(e);return Object.keys(t.reduce(i,{}))}function u(e,t){for(var n in e)t[n]=e[n]}function s(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,u(n,i=new i),e.prototype=n=i}n.constructor!=e&&('function'!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var l={},c=l.ELEMENT_NODE=1,f=l.ATTRIBUTE_NODE=2,p=l.TEXT_NODE=3,h=l.CDATA_SECTION_NODE=4,N=l.ENTITY_REFERENCE_NODE=5,v=l.ENTITY_NODE=6,E=l.PROCESSING_INSTRUCTION_NODE=7,y=l.COMMENT_NODE=8,b=l.DOCUMENT_NODE=9,T=l.DOCUMENT_TYPE_NODE=10,w=l.DOCUMENT_FRAGMENT_NODE=11,S=l.NOTATION_NODE=12,D={},_={},I=(D.INDEX_SIZE_ERR=(_[1]="Index size error",1),D.DOMSTRING_SIZE_ERR=(_[2]="DOMString size error",2),D.HIERARCHY_REQUEST_ERR=(_[3]="Hierarchy request error",3)),C=(D.WRONG_DOCUMENT_ERR=(_[4]="Wrong document",4),D.INVALID_CHARACTER_ERR=(_[5]="Invalid character",5),D.NO_DATA_ALLOWED_ERR=(_[6]="No data allowed",6),D.NO_MODIFICATION_ALLOWED_ERR=(_[7]="No modification allowed",7),D.NOT_FOUND_ERR=(_[8]="Not found",8)),R=(D.NOT_SUPPORTED_ERR=(_[9]="Not supported",9),D.INUSE_ATTRIBUTE_ERR=(_[10]="Attribute in use",10));D.INVALID_STATE_ERR=(_[11]="Invalid state",11),D.SYNTAX_ERR=(_[12]="Syntax error",12),D.INVALID_MODIFICATION_ERR=(_[13]="Invalid modification",13),D.NAMESPACE_ERR=(_[14]="Invalid namespace",14),D.INVALID_ACCESS_ERR=(_[15]="Invalid access",15);function A(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,_[e]),this.message=_[e],Error.captureStackTrace&&Error.captureStackTrace(this,A);return n.code=e,t&&(this.message=this.message+": "+t),n}function x(){}function O(e,t){this._node=e,this._refresh=t,U(this)}function U(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);de(e,'length',n.length),u(n,e),e._inc=t}}function M(){}function B(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function L(e,t,n,i){if(i?t[B(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(i&&z(o,e,i),Y(o,e,n))}}function P(e,t,n){var i=B(t,n);if(!(i>=0))throw A(C,new Error(e.tagName+'@'+n));for(var o=t.length-1;i<o;)t[i]=t[++i];if(t.length=o,e){var u=e.ownerDocument;u&&(z(u,e,n),n.ownerElement=null)}}function k(){}function V(){}function j(e){return('<'==e?'&lt;':'>'==e&&'&gt;')||'&'==e&&'&amp;'||'"'==e&&'&quot;'||'&#'+e.charCodeAt()+';'}function F(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(F(e,t))return!0}while(e=e.nextSibling)}function X(){}function Y(t,n,i){t&&t._inc++,i.namespaceURI===e.XMLNS&&(n._nsMap[i.prefix?i.localName:'']=i.value)}function z(t,n,i,o){t&&t._inc++,i.namespaceURI===e.XMLNS&&delete n._nsMap[i.prefix?i.localName:'']}function $(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var o=t.firstChild,u=0;o;)i[u++]=o,o=o.nextSibling;i.length=u}}}function H(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,$(e.ownerDocument,e),t}function G(e,t,n){var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===w){var o=t.firstChild;if(null==o)return t;var u=t.lastChild}else o=u=t;var s=n?n.previousSibling:e.lastChild;o.previousSibling=s,u.nextSibling=n,s?s.nextSibling=o:e.firstChild=o,null==n?e.lastChild=u:n.previousSibling=u;do{o.parentNode=e}while(o!==u&&(o=o.nextSibling));return $(e.ownerDocument||e,e),t.nodeType==w&&(t.firstChild=t.lastChild=null),t}function W(e,t){var n=t.parentNode;if(n){var i=e.lastChild;n.removeChild(t);i=e.lastChild}i=e.lastChild;return t.parentNode=e,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:e.firstChild=t,e.lastChild=t,$(e.ownerDocument,e,t),t}function q(){this._nsMap={}}function Z(){}function Q(){}function J(){}function K(){}function ee(){}function te(){}function ne(){}function re(){}function ie(){}function oe(){}function ae(){}function ue(){}function se(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,o=i.prefix,u=i.namespaceURI;if(u&&null==o&&null==(o=i.lookupPrefix(u)))var s=[{namespace:u,prefix:null}];return fe(this,n,e,t,s),n.join('')}function le(t,n,i){var o=t.prefix||'',u=t.namespaceURI;if(!u)return!1;if("xml"===o&&u===e.XML||u===e.XMLNS)return!1;for(var s=i.length;s--;){var l=i[s];if(l.prefix===o)return l.namespace!==u}return!0}function ce(e,t,n){e.push(' ',t,'="',n.replace(/[<&"]/g,j),'"')}function fe(t,n,i,o,u){if(u||(u=[]),o){if(!(t=o(t)))return;if('string'==typeof t)return void n.push(t)}switch(t.nodeType){case c:var s=t.attributes,l=s.length,v=t.firstChild,S=t.tagName,D=S;if(!(i=e.isHTML(t.namespaceURI)||i)&&!t.prefix&&t.namespaceURI){for(var _,I=0;I<s.length;I++)if('xmlns'===s.item(I).name){_=s.item(I).value;break}if(!_)for(var C=u.length-1;C>=0;C--){if(''===(R=u[C]).prefix&&R.namespace===t.namespaceURI){_=R.namespace;break}}if(_!==t.namespaceURI)for(C=u.length-1;C>=0;C--){var R;if((R=u[C]).namespace===t.namespaceURI){R.prefix&&(D=R.prefix+':'+S);break}}}n.push('<',D);for(var A=0;A<l;A++){'xmlns'==(x=s.item(A)).prefix?u.push({prefix:x.localName,namespace:x.value}):'xmlns'==x.nodeName&&u.push({prefix:'',namespace:x.value})}for(A=0;A<l;A++){var x;if(le(x=s.item(A),0,u)){var O=x.prefix||'',U=x.namespaceURI;ce(n,O?'xmlns:'+O:"xmlns",U),u.push({prefix:O,namespace:U})}fe(x,n,i,o,u)}if(S===D&&le(t,0,u)){O=t.prefix||'',U=t.namespaceURI;ce(n,O?'xmlns:'+O:"xmlns",U),u.push({prefix:O,namespace:U})}if(v||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(S)){if(n.push('>'),i&&/^script$/i.test(S))for(;v;)v.data?n.push(v.data):fe(v,n,i,o,u.slice()),v=v.nextSibling;else for(;v;)fe(v,n,i,o,u.slice()),v=v.nextSibling;n.push('</',D,'>')}else n.push('/>');return;case b:case w:for(v=t.firstChild;v;)fe(v,n,i,o,u.slice()),v=v.nextSibling;return;case f:return ce(n,t.name,t.value);case p:return n.push(t.data.replace(/[<&]/g,j).replace(/]]>/g,']]&gt;'));case h:return n.push('<![CDATA[',t.data,']]>');case y:return n.push("\x3c!--",t.data,"--\x3e");case T:var M=t.publicId,B=t.systemId;if(n.push('<!DOCTYPE ',t.name),M)n.push(' PUBLIC ',M),B&&'.'!=B&&n.push(' ',B),n.push('>');else if(B&&'.'!=B)n.push(' SYSTEM ',B,'>');else{var L=t.internalSubset;L&&n.push(" [",L,"]"),n.push(">")}return;case E:return n.push("<?",t.target," ",t.data,"?>");case N:return n.push('&',t.nodeName,';');default:n.push('??',t.nodeName)}}function pe(e,t,n){var i;switch(t.nodeType){case c:(i=t.cloneNode(!1)).ownerDocument=e;case w:break;case f:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var o=t.firstChild;o;)i.appendChild(pe(e,o,n)),o=o.nextSibling;return i}function he(e,t,n){var i=new t.constructor;for(var o in t){var u=t[o];'object'!=typeof u&&u!=i[o]&&(i[o]=u)}switch(t.childNodes&&(i.childNodes=new x),i.ownerDocument=e,i.nodeType){case c:var s=t.attributes,l=i.attributes=new M,p=s.length;l._ownerElement=i;for(var h=0;h<p;h++)i.setAttributeNode(he(e,s.item(h),!0));break;case f:n=!0}if(n)for(var N=t.firstChild;N;)i.appendChild(he(e,N,n)),N=N.nextSibling;return i}function de(e,t,n){e[t]=n}A.prototype=Error.prototype,u(D,A),x.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)fe(this[i],n,e,t);return n.join('')}},O.prototype.item=function(e){return U(this),this[e]},s(O,x),M.prototype={length:0,item:x.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new A(R);var n=this.getNamedItem(e.nodeName);return L(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new A(R);return t=this.getNamedItemNS(e.namespaceURI,e.localName),L(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return P(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return P(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},k.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new X;if(i.implementation=this,i.childNodes=new x,i.doctype=n||null,n&&i.appendChild(n),t){var o=i.createElementNS(e,t);i.appendChild(o)}return i},createDocumentType:function(e,t,n){var i=new te;return i.name=e,i.nodeName=e,i.publicId=t||'',i.systemId=n||'',i}},V.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return G(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return H(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return he(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==p&&e.nodeType==p?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(n[i]==e)return i;t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},u(l,V),u(l,V.prototype),X.prototype={nodeName:'#document',nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==w){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return null==this.documentElement&&e.nodeType==c&&(this.documentElement=e),G(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),H(this,e)},importNode:function(e,t){return pe(this,e,t)},getElementById:function(e){var t=null;return F(this.documentElement,function(n){if(n.nodeType==c&&n.getAttribute('id')==e)return t=n,!0}),t},getElementsByClassName:function(e){var t=o(e);return new O(this,function(n){var i=[];return t.length>0&&F(n.documentElement,function(u){if(u!==n&&u.nodeType===c){var s=u.getAttribute('class');if(s){var l=e===s;if(!l){var f=o(s);l=t.every((p=f,function(e){return p&&-1!==p.indexOf(e)}))}l&&i.push(u)}}var p}),i})},createElement:function(e){var t=new q;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new x,(t.attributes=new M)._ownerElement=t,t},createDocumentFragment:function(){var e=new oe;return e.ownerDocument=this,e.childNodes=new x,e},createTextNode:function(e){var t=new J;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new K;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ee;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ae;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new Z;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ie;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new q,i=t.split(':'),o=n.attributes=new M;return n.childNodes=new x,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,o._ownerElement=n,n},createAttributeNS:function(e,t){var n=new Z,i=t.split(':');return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},s(X,V),q.prototype={nodeType:c,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||''},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===w?this.insertBefore(e,null):W(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||''},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new O(this,function(t){var n=[];return F(t,function(i){i===t||i.nodeType!=c||'*'!==e&&i.tagName!=e||n.push(i)}),n})},getElementsByTagNameNS:function(e,t){return new O(this,function(n){var i=[];return F(n,function(o){o===n||o.nodeType!==c||'*'!==e&&o.namespaceURI!==e||'*'!==t&&o.localName!=t||i.push(o)}),i})}},X.prototype.getElementsByTagName=q.prototype.getElementsByTagName,X.prototype.getElementsByTagNameNS=q.prototype.getElementsByTagNameNS,s(q,V),Z.prototype.nodeType=f,s(Z,V),Q.prototype={data:'',substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(_[I])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},s(Q,V),J.prototype={nodeName:"#text",nodeType:p,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},s(J,Q),K.prototype={nodeName:"#comment",nodeType:y},s(K,Q),ee.prototype={nodeName:"#cdata-section",nodeType:h},s(ee,Q),te.prototype.nodeType=T,s(te,V),ne.prototype.nodeType=S,s(ne,V),re.prototype.nodeType=v,s(re,V),ie.prototype.nodeType=N,s(ie,V),oe.prototype.nodeName="#document-fragment",oe.prototype.nodeType=w,s(oe,V),ae.prototype.nodeType=E,s(ae,V),ue.prototype.serializeToString=function(e,t,n){return se.call(e,t,n)},V.prototype.toString=se;try{if(Object.defineProperty){function me(e){switch(e.nodeType){case c:case w:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(me(e)),e=e.nextSibling;return t.join('');default:return e.nodeValue}}Object.defineProperty(O.prototype,'length',{get:function(){return U(this),this.$$length}}),Object.defineProperty(V.prototype,'textContent',{get:function(){return me(this)},set:function(e){switch(this.nodeType){case c:case w:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),de=function(e,t,n){e['$$'+t]=n}}}catch(e){}_e.DocumentType=te,_e.DOMException=A,_e.DOMImplementation=k,_e.Element=q,_e.Node=V,_e.NodeList=x,_e.XMLSerializer=ue},399,[400]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,M){return void 0===M&&(M=Object),M&&'function'==typeof M.freeze?M.freeze(t):t}var M=t({HTML:'text/html',isHTML:function(t){return t===M.HTML},XML_APPLICATION:'application/xml',XML_TEXT:'text/xml',XML_XHTML_APPLICATION:'application/xhtml+xml',XML_SVG_IMAGE:'image/svg+xml'}),n=t({HTML:'http://www.w3.org/1999/xhtml',isHTML:function(t){return t===n.HTML},SVG:'http://www.w3.org/2000/svg',XML:'http://www.w3.org/XML/1998/namespace',XMLNS:'http://www.w3.org/2000/xmlns/'});e.freeze=t,e.MIME_TYPE=M,e.NAMESPACE=n},400,[]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]),n=r(d[1]),o=r(d[2]),i=r(d[3]),c=n.DOMImplementation,l=t.NAMESPACE,s=i.ParseError,u=i.XMLReader;function h(t){this.options=t||{locator:{}}}function f(t,n,o){if(!t){if(n instanceof p)return n;t=n}var i={},c=t instanceof Function;function l(n){var l=t[n];!l&&c&&(l=2==t.length?function(o){t(n,o)}:t),i[n]=l&&function(t){l('[xmldom '+n+']\t'+t+D(o))}||function(){}}return o=o||{},l('warning'),l('error'),l('fatalError'),i}function p(){this.cdata=!1}function E(t,n){n.lineNumber=t.lineNumber,n.columnNumber=t.columnNumber}function D(t){if(t)return'\n@'+(t.systemId||'')+'#[line:'+t.lineNumber+',col:'+t.columnNumber+']'}function y(t,n,o){return'string'==typeof t?t.substr(n,o):t.length>=n+o||n?new java.lang.String(t,n,o)+'':t}function v(t,n){t.currentElement?t.currentElement.appendChild(n):t.doc.appendChild(n)}h.prototype.parseFromString=function(t,n){var i=this.options,c=new u,s=i.domBuilder||new p,h=i.errorHandler,E=i.locator,D=i.xmlns||{},y=/\/x?html?$/.test(n),v=y?o.HTML_ENTITIES:o.XML_ENTITIES;return E&&s.setDocumentLocator(E),c.errorHandler=f(h,s,E),c.domBuilder=i.domBuilder||s,y&&(D['']=l.HTML),D.xml=D.xml||l.XML,t&&'string'==typeof t?c.parse(t,D,v):c.errorHandler.error("invalid doc source"),s.doc},p.prototype={startDocument:function(){this.doc=(new c).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,n,o,i){var c=this.doc,l=c.createElementNS(t,o||n),s=i.length;v(this,l),this.currentElement=l,this.locator&&E(this.locator,l);for(var u=0;u<s;u++){t=i.getURI(u);var h=i.getValue(u),f=(o=i.getQName(u),c.createAttributeNS(t,o));this.locator&&E(i.getLocator(u),f),f.value=f.nodeValue=h,l.setAttributeNode(f)}},endElement:function(t,n,o){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(t,n){},endPrefixMapping:function(t){},processingInstruction:function(t,n){var o=this.doc.createProcessingInstruction(t,n);this.locator&&E(this.locator,o),v(this,o)},ignorableWhitespace:function(t,n,o){},characters:function(t,n,o){if(t=y.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(t);else i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&E(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,n,o){t=y.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&E(this.locator,i),v(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,n,o){var i=this.doc.implementation;if(i&&i.createDocumentType){var c=i.createDocumentType(t,n,o);this.locator&&E(this.locator,c),v(this,c),this.doc.doctype=c}},warning:function(t){console.warn('[xmldom warning]\t'+t,D(this.locator))},error:function(t){console.error('[xmldom error]\t'+t,D(this.locator))},fatalError:function(t){throw new s(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){p.prototype[t]=function(){return null}}),e.__DOMHandler=p,e.DOMParser=h,e.DOMImplementation=n.DOMImplementation,e.XMLSerializer=n.XMLSerializer},401,[400,399,402,403]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]).freeze;e.XML_ENTITIES=u({amp:'&',apos:"'",gt:'>',lt:'<',quot:'"'}),e.HTML_ENTITIES=u({lt:'<',gt:'>',amp:'&',quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),e.entityMap=e.HTML_ENTITIES},402,[400]);
__d(function(g,r,_i,_a,_m,_e,d){var e=r(d[0]).NAMESPACE,t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp('^'+t.source+a.source+'*(?::'+t.source+a.source+'*)?$'),s=0,i=1,c=2,u=3,o=4,l=5,f=6,m=7;function h(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,h)}function p(){}function b(t,a,n,s,i){function c(e){if(e>65535){var t=55296+((e-=65536)>>10),a=56320+(1023&e);return String.fromCharCode(t,a)}return String.fromCharCode(e)}function u(e){var t=e.slice(1,-1);return t in n?n[t]:'#'===t.charAt(0)?c(parseInt(t.substr(1).replace('x','0x'))):(i.error('entity not found:'+e),e)}function o(e){if(e>A){var a=t.substring(A,e).replace(/&#?\w+;/g,u);b&&l(A),s.characters(a,0,e-A),A=e}}function l(e,a){for(;e>=m&&(a=p.exec(t));)f=a.index,m=f+a[0].length,b.lineNumber++;b.columnNumber=e-f+1}for(var f=0,m=0,p=/.*(?:\r\n?|\n)|.*$/g,b=s.locator,F=[{currentNSMap:a}],T={},A=0;;){try{var C=t.indexOf('<',A);if(C<0){if(!t.substr(A).match(/^\s*$/)){var S=s.doc,O=S.createTextNode(t.substr(A));S.appendChild(O),s.currentElement=O}return}switch(C>A&&o(C),t.charAt(C+1)){case'/':var $=t.indexOf('>',C+3),y=t.substring(C+2,$).replace(/[ \t\n\r]+$/g,''),L=F.pop();$<0?(y=t.substring(C+2).replace(/[\s<].*/,''),i.error("end tag name: "+y+' is not complete:'+L.tagName),$=C+1+y.length):y.match(/\s</)&&(y=y.replace(/[\s<].*/,''),i.error("end tag name: "+y+' maybe not complete'),$=C+1+y.length);var q=L.localNSMap,I=L.tagName==y;if(I||L.tagName&&L.tagName.toLowerCase()==y.toLowerCase()){if(s.endElement(L.uri,L.localName,y),q)for(var P in q)s.endPrefixMapping(P);I||i.fatalError("end tag name: "+y+' is not match the current start tagName:'+L.tagName)}else F.push(L);$++;break;case'?':b&&l(C),$=D(t,C,s);break;case'!':b&&l(C),$=k(t,C,s,i);break;default:b&&l(C);var H=new M,R=F[F.length-1].currentNSMap,V=($=N(t,C,H,R,u,i),H.length);if(!H.closed&&E(t,$,H.tagName,T)&&(H.closed=!0,n.nbsp||i.warning('unclosed xml attribute')),b&&V){for(var X=w(b,{}),_=0;_<V;_++){var B=H[_];l(B.offset),B.locator=w(b,{})}s.locator=X,v(H,s,R)&&F.push(H),s.locator=b}else v(H,s,R)&&F.push(H);e.isHTML(H.uri)&&!H.closed?$=x(t,$,H.tagName,u,s):$++}}catch(e){if(e instanceof h)throw e;i.error('element parse error: '+e),$=-1}$>A?A=$:o(Math.max(C,A)+1)}}function w(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function N(t,a,n,h,p,b){function w(e,t,a){n.attributeNames.hasOwnProperty(e)&&b.fatalError('Attribute '+e+' redefined'),n.addValue(e,t,a)}for(var N,v=++a,x=s;;){var E=t.charAt(v);switch(E){case'=':if(x===i)N=t.slice(a,v),x=u;else{if(x!==c)throw new Error('attribute equal must after attrName');x=u}break;case'\'':case'"':if(x===u||x===i){if(x===i&&(b.warning('attribute value must after "="'),N=t.slice(a,v)),a=v+1,!((v=t.indexOf(E,a))>0))throw new Error('attribute value no end \''+E+'\' match');w(N,F=t.slice(a,v).replace(/&#?\w+;/g,p),a-1),x=l}else{if(x!=o)throw new Error('attribute value must after "="');w(N,F=t.slice(a,v).replace(/&#?\w+;/g,p),a),b.warning('attribute "'+N+'" missed start quot('+E+')!!'),a=v+1,x=l}break;case'/':switch(x){case s:n.setTagName(t.slice(a,v));case l:case f:case m:x=m,n.closed=!0;case o:case i:case c:break;default:throw new Error("attribute invalid close char('/')")}break;case'':return b.error('unexpected end of input'),x==s&&n.setTagName(t.slice(a,v)),v;case'>':switch(x){case s:n.setTagName(t.slice(a,v));case l:case f:case m:break;case o:case i:'/'===(F=t.slice(a,v)).slice(-1)&&(n.closed=!0,F=F.slice(0,-1));case c:x===c&&(F=N),x==o?(b.warning('attribute "'+F+'" missed quot(")!'),w(N,F.replace(/&#?\w+;/g,p),a)):(e.isHTML(h[''])&&F.match(/^(?:disabled|checked|selected)$/i)||b.warning('attribute "'+F+'" missed value!! "'+F+'" instead!!'),w(F,F,a));break;case u:throw new Error('attribute value missed!!')}return v;case"\x80":E=' ';default:if(E<=' ')switch(x){case s:n.setTagName(t.slice(a,v)),x=f;break;case i:N=t.slice(a,v),x=c;break;case o:var F=t.slice(a,v).replace(/&#?\w+;/g,p);b.warning('attribute "'+F+'" missed quot(")!!'),w(N,F,a);case l:x=f}else switch(x){case c:n.tagName;e.isHTML(h[''])&&N.match(/^(?:disabled|checked|selected)$/i)||b.warning('attribute "'+N+'" missed value!! "'+N+'" instead2!!'),w(N,N,a),a=v,x=i;break;case l:b.warning('attribute space is required"'+N+'"!!');case f:x=i,a=v;break;case u:x=o,a=v;break;case m:throw new Error("elements closed character '/' and '>' must be connected to")}}v++}}function v(t,a,n){for(var s=t.tagName,i=null,c=t.length;c--;){var u=t[c],o=u.qName,l=u.value;if((p=o.indexOf(':'))>0)var f=u.prefix=o.slice(0,p),m=o.slice(p+1),h='xmlns'===f&&m;else m=o,f=null,h='xmlns'===o&&'';u.localName=m,!1!==h&&(null==i&&(i={},F(n,n={})),n[h]=i[h]=l,u.uri=e.XMLNS,a.startPrefixMapping(h,l))}for(c=t.length;c--;){(f=(u=t[c]).prefix)&&('xml'===f&&(u.uri=e.XML),'xmlns'!==f&&(u.uri=n[f||'']))}var p;(p=s.indexOf(':'))>0?(f=t.prefix=s.slice(0,p),m=t.localName=s.slice(p+1)):(f=null,m=t.localName=s);var b=t.uri=n[f||''];if(a.startElement(b,m,s,t),!t.closed)return t.currentNSMap=n,t.localNSMap=i,!0;if(a.endElement(b,m,s),i)for(f in i)a.endPrefixMapping(f)}function x(e,t,a,n,s){if(/^(?:script|textarea)$/i.test(a)){var i=e.indexOf('</'+a+'>',t),c=e.substring(t+1,i);if(/[&<]/.test(c))return/^script$/i.test(a)?(s.characters(c,0,c.length),i):(c=c.replace(/&#?\w+;/g,n),s.characters(c,0,c.length),i)}return t+1}function E(e,t,a,n){var s=n[a];return null==s&&((s=e.lastIndexOf('</'+a+'>'))<t&&(s=e.lastIndexOf('</'+a)),n[a]=s),s<t}function F(e,t){for(var a in e)t[a]=e[a]}function k(e,t,a,n){switch(e.charAt(t+2)){case'-':return'-'===e.charAt(t+3)?(s=e.indexOf('--\x3e',t+4))>t?(a.comment(e,t+4,s-t-4),s+3):(n.error("Unclosed comment"),-1):-1;default:if('CDATA['==e.substr(t+3,6)){var s=e.indexOf(']]>',t+9);return a.startCDATA(),a.characters(e,t+9,s-t-9),a.endCDATA(),s+3}var i=T(e,t),c=i.length;if(c>1&&/!doctype/i.test(i[0][0])){var u=i[1][0],o=!1,l=!1;c>3&&(/^public$/i.test(i[2][0])?(o=i[3][0],l=c>4&&i[4][0]):/^system$/i.test(i[2][0])&&(l=i[3][0]));var f=i[c-1];return a.startDTD(u,o,l),a.endDTD(),f.index+f[0].length}}return-1}function D(e,t,a){var n=e.indexOf('?>',t);if(n){var s=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(s){s[0].length;return a.processingInstruction(s[1],s[2]),n+2}return-1}return-1}function M(){this.attributeNames={}}function T(e,t){var a,n=[],s=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(s.lastIndex=t,s.exec(e);a=s.exec(e);)if(n.push(a),a[1])return n}h.prototype=new Error,h.prototype.name=h.name,p.prototype={parse:function(e,t,a){var n=this.domBuilder;n.startDocument(),F(t,t={}),b(e,t,a,n,this.errorHandler),n.endDocument()}},M.prototype={setTagName:function(e){if(!n.test(e))throw new Error('invalid tagName:'+e);this.tagName=e},addValue:function(e,t,a){if(!n.test(e))throw new Error('invalid attribute:'+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:a}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},_e.XMLReader=p,_e.ParseError=h},403,[400]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),c=r(d[3]),l=c.NativeModules.RNBackgroundTimer,o=new c.NativeEventEmitter(l),s=new((function(){function t(){var u=this;(0,n.default)(this,t),this.uniqueId=0,this.callbacks={},o.addListener('backgroundTimer.timeout',function(t){if(u.callbacks[t]){var n=u.callbacks[t].callback;u.callbacks[t].interval?l.setTimeout(t,u.callbacks[t].timeout):delete u.callbacks[t],n()}})}return(0,u.default)(t,[{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return l.start(t)}},{key:"stop",value:function(){return l.stop()}},{key:"runBackgroundTimer",value:function(t,n){var u=this,l=c.Platform.select({ios:function(){return c.NativeAppEventEmitter},android:function(){return c.DeviceEventEmitter}})();this.start(0),this.backgroundListener=l.addListener('backgroundTimer',function(){u.backgroundListener.remove(),u.backgroundClockMethod(t,n)})}},{key:"backgroundClockMethod",value:function(t,n){var u=this;this.backgroundTimer=this.setTimeout(function(){t(),u.backgroundClockMethod(t,n)},n)}},{key:"stopBackgroundTimer",value:function(){this.stop(),this.clearTimeout(this.backgroundTimer)}},{key:"setTimeout",value:function(t,n){this.uniqueId+=1;var u=this.uniqueId;return this.callbacks[u]={callback:t,interval:!1,timeout:n},l.setTimeout(u,n),u}},{key:"clearTimeout",value:function(t){this.callbacks[t]&&delete this.callbacks[t]}},{key:"setInterval",value:function(t,n){this.uniqueId+=1;var u=this.uniqueId;return this.callbacks[u]={callback:t,interval:!0,timeout:n},l.setTimeout(u,n),u}},{key:"clearInterval",value:function(t){this.callbacks[t]&&delete this.callbacks[t]}}]),t})());e.default=s},404,[1,2,3,14]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0])()},405,[406]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l=r(d[1]),n=r(d[2]);m.exports=function(){t();var o=l();return n(Promise,{allSettled:o},{allSettled:function(){return Promise.allSettled!==o}}),o}},406,[407,408,431]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){if('function'!=typeof Promise)throw new TypeError('`Promise.allSettled` requires a global `Promise` be available.')}},407,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);m.exports=function(){return t(),'function'==typeof Promise.allSettled?Promise.allSettled:n}},408,[407,409]);
__d(function(g,r,i,a,m,_e,d){'use strict';r(d[0])();var t=r(d[1]),e=r(d[2]),n=r(d[3]),u=r(d[4]),s=r(d[5]),c=r(d[6]),o=c(s('%Promise.all%')),f=c(s('%Promise.reject%'));m.exports=function(s){var c=this;if('Object'!==e(c))throw new TypeError('`this` value must be an object');var l=n(s);return o(c,u(l,function(e){var n=t(c,e);try{return n.then(function(t){return{status:'fulfilled',value:t}},function(t){return{status:'rejected',reason:t}})}catch(t){return f(c,t)}}))}},409,[407,410,418,420,430,411,417]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=r(d[1]),t=o('%Promise.resolve%',!0),s=t&&n(t);m.exports=function(o,n){if(!s)throw new SyntaxError('This environment does not support Promises.');return s(o,n)}},410,[411,417]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var t=SyntaxError,e=Function,o=TypeError,n=function(t){try{return e('"use strict"; return ('+t+').constructor;')()}catch(t){}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},'')}catch(t){y=null}var i=function(){throw new o},p=y?(function(){try{return arguments.callee,i}catch(t){try{return y(arguments,'callee').get}catch(t){return i}}})():i,f=r(d[0])(),c=Object.getPrototypeOf||function(t){return t.__proto__},l={},u='undefined'==typeof Uint8Array?void 0:c(Uint8Array),s={'%AggregateError%':'undefined'==typeof AggregateError?void 0:AggregateError,'%Array%':Array,'%ArrayBuffer%':'undefined'==typeof ArrayBuffer?void 0:ArrayBuffer,'%ArrayIteratorPrototype%':f?c([][Symbol.iterator]()):void 0,'%AsyncFromSyncIteratorPrototype%':void 0,'%AsyncFunction%':l,'%AsyncGenerator%':l,'%AsyncGeneratorFunction%':l,'%AsyncIteratorPrototype%':l,'%Atomics%':'undefined'==typeof Atomics?void 0:Atomics,'%BigInt%':'undefined'==typeof BigInt?void 0:BigInt,'%Boolean%':Boolean,'%DataView%':'undefined'==typeof DataView?void 0:DataView,'%Date%':Date,'%decodeURI%':decodeURI,'%decodeURIComponent%':decodeURIComponent,'%encodeURI%':encodeURI,'%encodeURIComponent%':encodeURIComponent,'%Error%':Error,'%eval%':eval,'%EvalError%':EvalError,'%Float32Array%':'undefined'==typeof Float32Array?void 0:Float32Array,'%Float64Array%':'undefined'==typeof Float64Array?void 0:Float64Array,'%FinalizationRegistry%':'undefined'==typeof FinalizationRegistry?void 0:FinalizationRegistry,'%Function%':e,'%GeneratorFunction%':l,'%Int8Array%':'undefined'==typeof Int8Array?void 0:Int8Array,'%Int16Array%':'undefined'==typeof Int16Array?void 0:Int16Array,'%Int32Array%':'undefined'==typeof Int32Array?void 0:Int32Array,'%isFinite%':isFinite,'%isNaN%':isNaN,'%IteratorPrototype%':f?c(c([][Symbol.iterator]())):void 0,'%JSON%':'object'==typeof JSON?JSON:void 0,'%Map%':'undefined'==typeof Map?void 0:Map,'%MapIteratorPrototype%':'undefined'!=typeof Map&&f?c((new Map)[Symbol.iterator]()):void 0,'%Math%':Math,'%Number%':Number,'%Object%':Object,'%parseFloat%':parseFloat,'%parseInt%':parseInt,'%Promise%':'undefined'==typeof Promise?void 0:Promise,'%Proxy%':'undefined'==typeof Proxy?void 0:Proxy,'%RangeError%':RangeError,'%ReferenceError%':ReferenceError,'%Reflect%':'undefined'==typeof Reflect?void 0:Reflect,'%RegExp%':RegExp,'%Set%':'undefined'==typeof Set?void 0:Set,'%SetIteratorPrototype%':'undefined'!=typeof Set&&f?c((new Set)[Symbol.iterator]()):void 0,'%SharedArrayBuffer%':'undefined'==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,'%String%':String,'%StringIteratorPrototype%':f?c(''[Symbol.iterator]()):void 0,'%Symbol%':f?Symbol:void 0,'%SyntaxError%':t,'%ThrowTypeError%':p,'%TypedArray%':u,'%TypeError%':o,'%Uint8Array%':'undefined'==typeof Uint8Array?void 0:Uint8Array,'%Uint8ClampedArray%':'undefined'==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,'%Uint16Array%':'undefined'==typeof Uint16Array?void 0:Uint16Array,'%Uint32Array%':'undefined'==typeof Uint32Array?void 0:Uint32Array,'%URIError%':URIError,'%WeakMap%':'undefined'==typeof WeakMap?void 0:WeakMap,'%WeakRef%':'undefined'==typeof WeakRef?void 0:WeakRef,'%WeakSet%':'undefined'==typeof WeakSet?void 0:WeakSet},A=function t(e){var o;if('%AsyncFunction%'===e)o=n('async function () {}');else if('%GeneratorFunction%'===e)o=n('function* () {}');else if('%AsyncGeneratorFunction%'===e)o=n('async function* () {}');else if('%AsyncGenerator%'===e){var y=t('%AsyncGeneratorFunction%');y&&(o=y.prototype)}else if('%AsyncIteratorPrototype%'===e){var i=t('%AsyncGenerator%');i&&(o=c(i.prototype))}return s[e]=o,o},P={'%ArrayBufferPrototype%':['ArrayBuffer','prototype'],'%ArrayPrototype%':['Array','prototype'],'%ArrayProto_entries%':['Array','prototype','entries'],'%ArrayProto_forEach%':['Array','prototype','forEach'],'%ArrayProto_keys%':['Array','prototype','keys'],'%ArrayProto_values%':['Array','prototype','values'],'%AsyncFunctionPrototype%':['AsyncFunction','prototype'],'%AsyncGenerator%':['AsyncGeneratorFunction','prototype'],'%AsyncGeneratorPrototype%':['AsyncGeneratorFunction','prototype','prototype'],'%BooleanPrototype%':['Boolean','prototype'],'%DataViewPrototype%':['DataView','prototype'],'%DatePrototype%':['Date','prototype'],'%ErrorPrototype%':['Error','prototype'],'%EvalErrorPrototype%':['EvalError','prototype'],'%Float32ArrayPrototype%':['Float32Array','prototype'],'%Float64ArrayPrototype%':['Float64Array','prototype'],'%FunctionPrototype%':['Function','prototype'],'%Generator%':['GeneratorFunction','prototype'],'%GeneratorPrototype%':['GeneratorFunction','prototype','prototype'],'%Int8ArrayPrototype%':['Int8Array','prototype'],'%Int16ArrayPrototype%':['Int16Array','prototype'],'%Int32ArrayPrototype%':['Int32Array','prototype'],'%JSONParse%':['JSON','parse'],'%JSONStringify%':['JSON','stringify'],'%MapPrototype%':['Map','prototype'],'%NumberPrototype%':['Number','prototype'],'%ObjectPrototype%':['Object','prototype'],'%ObjProto_toString%':['Object','prototype','toString'],'%ObjProto_valueOf%':['Object','prototype','valueOf'],'%PromisePrototype%':['Promise','prototype'],'%PromiseProto_then%':['Promise','prototype','then'],'%Promise_all%':['Promise','all'],'%Promise_reject%':['Promise','reject'],'%Promise_resolve%':['Promise','resolve'],'%RangeErrorPrototype%':['RangeError','prototype'],'%ReferenceErrorPrototype%':['ReferenceError','prototype'],'%RegExpPrototype%':['RegExp','prototype'],'%SetPrototype%':['Set','prototype'],'%SharedArrayBufferPrototype%':['SharedArrayBuffer','prototype'],'%StringPrototype%':['String','prototype'],'%SymbolPrototype%':['Symbol','prototype'],'%SyntaxErrorPrototype%':['SyntaxError','prototype'],'%TypedArrayPrototype%':['TypedArray','prototype'],'%TypeErrorPrototype%':['TypeError','prototype'],'%Uint8ArrayPrototype%':['Uint8Array','prototype'],'%Uint8ClampedArrayPrototype%':['Uint8ClampedArray','prototype'],'%Uint16ArrayPrototype%':['Uint16Array','prototype'],'%Uint32ArrayPrototype%':['Uint32Array','prototype'],'%URIErrorPrototype%':['URIError','prototype'],'%WeakMapPrototype%':['WeakMap','prototype'],'%WeakSetPrototype%':['WeakSet','prototype']},v=r(d[1]),S=r(d[2]),E=v.call(Function.call,Array.prototype.concat),I=v.call(Function.apply,Array.prototype.splice),F=v.call(Function.call,String.prototype.replace),h=v.call(Function.call,String.prototype.slice),U=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,b=/\\(\\)?/g,R=function(e){var o=h(e,0,1),n=h(e,-1);if('%'===o&&'%'!==n)throw new t('invalid intrinsic syntax, expected closing `%`');if('%'===n&&'%'!==o)throw new t('invalid intrinsic syntax, expected opening `%`');var y=[];return F(e,U,function(t,e,o,n){y[y.length]=o?F(n,b,'$1'):e||t}),y},w=function(e,n){var y,i=e;if(S(P,i)&&(i='%'+(y=P[i])[0]+'%'),S(s,i)){var p=s[i];if(p===l&&(p=A(i)),void 0===p&&!n)throw new o('intrinsic '+e+' exists, but is not available. Please file an issue!');return{alias:y,name:i,value:p}}throw new t('intrinsic '+e+' does not exist!')};m.exports=function(e,n){if('string'!=typeof e||0===e.length)throw new o('intrinsic name must be a non-empty string');if(arguments.length>1&&'boolean'!=typeof n)throw new o('"allowMissing" argument must be a boolean');var i=R(e),p=i.length>0?i[0]:'',f=w('%'+p+'%',n),c=f.name,l=f.value,u=!1,A=f.alias;A&&(p=A[0],I(i,E([0,1],A)));for(var P=1,v=!0;P<i.length;P+=1){var F=i[P],U=h(F,0,1),b=h(F,-1);if(('"'===U||"'"===U||'`'===U||'"'===b||"'"===b||'`'===b)&&U!==b)throw new t('property names with quotes must have matching quotes');if('constructor'!==F&&v||(u=!0),S(s,c='%'+(p+='.'+F)+'%'))l=s[c];else if(null!=l){if(!(F in l)){if(!n)throw new o('base intrinsic for '+e+' exists, but the property is not available.');return}if(y&&P+1>=i.length){var O=y(l,F);l=(v=!!O)&&'get'in O&&!('originalValue'in O.get)?O.get:l[F]}else v=S(l,F),l=l[F];v&&!u&&(s[c]=l)}}return l}},411,[412,414,416]);
__d(function(g,r,i,a,m,e,d){'use strict';var o='undefined'!=typeof Symbol&&Symbol,t=r(d[0]);m.exports=function(){return'function'==typeof o&&('function'==typeof Symbol&&('symbol'==typeof o('foo')&&('symbol'==typeof Symbol('bar')&&t())))}},412,[413]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){if('function'!=typeof Symbol||'function'!=typeof Object.getOwnPropertySymbols)return!1;if('symbol'==typeof Symbol.iterator)return!0;var t={},o=Symbol('test'),n=Object(o);if('string'==typeof o)return!1;if('[object Symbol]'!==Object.prototype.toString.call(o))return!1;if('[object Symbol]'!==Object.prototype.toString.call(n))return!1;for(o in t[o]=42,t)return!1;if('function'==typeof Object.keys&&0!==Object.keys(t).length)return!1;if('function'==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var c=Object.getOwnPropertySymbols(t);if(1!==c.length||c[0]!==o)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,o))return!1;if('function'==typeof Object.getOwnPropertyDescriptor){var y=Object.getOwnPropertyDescriptor(t,o);if(42!==y.value||!0!==y.enumerable)return!1}return!0}},413,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=Function.prototype.bind||t},414,[415]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=Array.prototype.slice,n=Object.prototype.toString;m.exports=function(o){var i=this;if('function'!=typeof i||"[object Function]"!==n.call(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var p,c=t.call(arguments,1),l=Math.max(0,i.length-c.length),u=[],y=0;y<l;y++)u.push('$'+y);if(p=Function('binder','return function ('+u.join(',')+'){ return binder.apply(this,arguments); }')(function(){if(this instanceof p){var n=i.apply(this,c.concat(t.call(arguments)));return Object(n)===n?n:this}return i.apply(o,c.concat(t.call(arguments)))}),i.prototype){var f=function(){};f.prototype=i.prototype,p.prototype=new f,f.prototype=null}return p}},415,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t.call(Function.call,Object.prototype.hasOwnProperty)},416,[414]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n=e('%Function.prototype.apply%'),l=e('%Function.prototype.call%'),p=e('%Reflect.apply%',!0)||t.call(l,n),o=e('%Object.getOwnPropertyDescriptor%',!0),c=e('%Object.defineProperty%',!0),u=e('%Math.max%');if(c)try{c({},'a',{value:1})}catch(t){c=null}m.exports=function(e){var n=p(t,l,arguments);o&&c&&(o(n,'length').configurable&&c(n,'length',{value:1+u(0,e.length-(arguments.length-1))}));return n};var y=function(){return p(t,n,arguments)};c?c(m.exports,'apply',{value:y}):m.exports.apply=y},417,[414,411]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n){return'symbol'==typeof n?'Symbol':'bigint'==typeof n?'BigInt':t(n)}},418,[419]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(o){return null===o?'Null':void 0===o?'Undefined':'function'==typeof o||'object'==typeof o?'Object':'number'==typeof o?'Number':'boolean'==typeof o?'Boolean':'string'==typeof o?'String':void 0}},419,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=TypeError,o=r(d[1]);m.exports=function(u){var v=n(u);if(!v)throw new t('non-iterable value provided');return arguments.length>1?o(v,arguments[1]):o(v)}},420,[421,429]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var t=r(d[0]);if(r(d[1])()||r(d[2])()){var e=Symbol.iterator;m.exports=function(o){return null!=o&&void 0!==o[e]?o[e]():t(o)?Array.prototype[e].call(o):void 0}}else{var o=r(d[3]),n=r(d[4]),i=r(d[5]),u=i('%Map%',!0),p=i('%Set%',!0),f=r(d[6]),s=f('Array.prototype.push'),v=f('String.prototype.charCodeAt'),c=f('String.prototype.slice'),l=function(t,e){if(e+1>=t.length)return e+1;var o=v(t,e);if(o<55296||o>56319)return e+1;var n=v(t,e+1);return n<56320||n>57343?e+1:e+2},y=function(t){var e=0;return{next:function(){var o,n=e>=t.length;return n||(o=t[e],e+=1),{done:n,value:o}}}},h=function(e,i){if(o(e)||t(e))return y(e);if(n(e)){var u=0;return{next:function(){var t=l(e,u),o=c(e,u,t);return u=t,{done:t>e.length,value:o}}}}return i&&void 0!==e['_es6-shim iterator_']?e['_es6-shim iterator_']():void 0};if(u||p){var _=r(d[7]),S=r(d[8]),x=f('Map.prototype.forEach',!0),M=f('Set.prototype.forEach',!0);if('undefined'==typeof process||!process.versions||!process.versions.node)var A=f('Map.prototype.iterator',!0),E=f('Set.prototype.iterator',!0),b=function(t){var e=!1;return{next:function(){try{return{done:e,value:e?void 0:t.next()}}catch(t){return e=!0,{done:!0,value:void 0}}}}};var C=f('Map.prototype.@@iterator',!0)||f('Map.prototype._es6-shim iterator_',!0),j=f('Set.prototype.@@iterator',!0)||f('Set.prototype._es6-shim iterator_',!0),k=function(t){if(_(t)){if(A)return b(A(t));if(C)return C(t);if(x){var e=[];return x(t,function(t,o){s(e,[o,t])}),y(e)}}if(S(t)){if(E)return b(E(t));if(j)return j(t);if(M){var o=[];return M(t,function(t){s(o,t)}),y(o)}}};m.exports=function(t){return k(t)||h(t)}}else m.exports=function(t){if(null!=t)return h(t,!0)}}},421,[422,412,413,425,426,411,424,427,428]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(),n=r(d[1])('Object.prototype.toString'),o=function(o){return!(t&&o&&'object'==typeof o&&Symbol.toStringTag in o)&&'[object Arguments]'===n(o)},c=function(t){return!!o(t)||null!==t&&'object'==typeof t&&'number'==typeof t.length&&t.length>=0&&'[object Array]'!==n(t)&&'[object Function]'===n(t.callee)},u=(function(){return o(arguments)})();o.isLegacyArguments=c,m.exports=u?o:c},422,[423,424]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(){return t()&&!!Symbol.toStringTag}},423,[413]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=n(t('String.prototype.indexOf'));m.exports=function(p,f){var u=t(p,!!f);return'function'==typeof u&&o(p,'.prototype.')>-1?n(u):u}},424,[411,417]);
__d(function(g,r,i,a,m,e,d){var t={}.toString;m.exports=Array.isArray||function(n){return'[object Array]'==t.call(n)}},425,[]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=String.prototype.valueOf,e=function(e){try{return t.call(e),!0}catch(t){return!1}},n=Object.prototype.toString,o=r(d[0])();m.exports=function(t){return'string'==typeof t||'object'==typeof t&&(o?e(t):"[object String]"===n.call(t))}},426,[423]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t,n='function'==typeof Map&&Map.prototype?Map:null,e='function'==typeof Set&&Set.prototype?Set:null;n||(t=function(t){return!1});var o=n?Map.prototype.has:null,u=e?Set.prototype.has:null;t||o||(t=function(t){return!1}),m.exports=t||function(t){if(!t||'object'!=typeof t)return!1;try{if(o.call(t),u)try{u.call(t)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},427,[]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t,n='function'==typeof Map&&Map.prototype?Map:null,e='function'==typeof Set&&Set.prototype?Set:null;e||(t=function(t){return!1});var o=n?Map.prototype.has:null,u=e?Set.prototype.has:null;t||u||(t=function(t){return!1}),m.exports=t||function(t){if(!t||'object'!=typeof t)return!1;try{if(u.call(t),o)try{o.call(t)}catch(t){return!0}return t instanceof e}catch(t){}return!1}},428,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=TypeError;m.exports=function(n){if(!n||'function'!=typeof n.next)throw new t('iterator must be an object with a `next` method');if(arguments.length>1){var o=arguments[1];if('function'!=typeof o)throw new t('`callback`, if provided, must be a function')}for(var f,u=o||[];(f=n.next())&&!f.done;)o?o(f.value):u.push(f.value);if(!o)return u}},429,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]),p=r(d[4]),s=p(),c=r(d[5]),u=o('Array.prototype.slice'),y=function(t,o){return n(t),s.apply(t,u(arguments,1))};t(y,{getPolyfill:p,implementation:l,shim:c}),m.exports=y},430,[431,435,424,437,486,488]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var t=r(d[0]),e='function'==typeof Symbol&&'symbol'==typeof Symbol('foo'),o=Object.prototype.toString,n=Array.prototype.concat,c=Object.defineProperty,u=c&&(function(){var t={};try{for(var e in c(t,'x',{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}})(),l=function(t,e,n,l){var i;e in t&&('function'!=typeof(i=l)||'[object Function]'!==o.call(i)||!l())||(u?c(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},i=function(o,c){var u=arguments.length>2?arguments[2]:{},i=t(c);e&&(i=n.call(i,Object.getOwnPropertySymbols(c)));for(var f=0;f<i.length;f+=1)l(o,i[f],c[i[f]],u[i[f]])};i.supportsDescriptors=!!u,m.exports=i},431,[432]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Array.prototype.slice,n=r(d[0]),c=Object.keys,s=c?function(t){return c(t)}:r(d[1]),u=Object.keys;s.shim=function(){Object.keys?(function(){var t=Object.keys(arguments);return t&&t.length===arguments.length})(1,2)||(Object.keys=function(c){return n(c)?u(t.call(c)):u(c)}):Object.keys=s;return Object.keys||s},m.exports=s},432,[433,434]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Object.prototype.toString;m.exports=function(n){var o=t.call(n),c='[object Arguments]'===o;return c||(c='[object Array]'!==o&&null!==n&&'object'==typeof n&&'number'==typeof n.length&&n.length>=0&&'[object Function]'===t.call(n.callee)),c}},433,[]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=r(d[0]),l=Object.prototype.propertyIsEnumerable,c=!l.call({toString:null},'toString'),i=l.call(function(){},'prototype'),f=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],u=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},s=(function(){if('undefined'==typeof window)return!1;for(var t in window)try{if(!p['$'+t]&&e.call(window,t)&&null!==window[t]&&'object'==typeof window[t])try{u(window[t])}catch(t){return!0}}catch(t){return!0}return!1})(),$=function(t){if('undefined'==typeof window||!s)return u(t);try{return u(t)}catch(t){return!1}};t=function(t){var l=null!==t&&'object'==typeof t,u='[object Function]'===n.call(t),p=o(t),s=l&&'[object String]'===n.call(t),w=[];if(!l&&!u&&!p)throw new TypeError('Object.keys called on a non-object');var h=i&&u;if(s&&t.length>0&&!e.call(t,0))for(var y=0;y<t.length;++y)w.push(String(y));if(p&&t.length>0)for(var b=0;b<t.length;++b)w.push(String(b));else for(var v in t)h&&'prototype'===v||!e.call(t,v)||w.push(String(v));if(c)for(var O=$(t),j=0;j<f.length;++j)O&&'constructor'===f[j]||!e.call(t,f[j])||w.push(f[j]);return w}}m.exports=t},434,[433]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},435,[436]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])('%TypeError%');m.exports=function(t,o){if(null==t)throw new n(o||'Cannot call method on '+t);return t}},436,[411]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),p=r(d[3]),c=r(d[4]),f=r(d[5]),s=r(d[6]),u=r(d[7]),l=r(d[8]),v=r(d[9]),h=r(d[10]),y=Object('a'),b='a'!==y[0]||!(0 in y),w=v('String.prototype.split');m.exports=function(v){var y,_=u(this),j=b&&h(_)?w(_,''):_,k=s(j.length);if(!f(v))throw new TypeError('Array.prototype.map callback must be a function');arguments.length>1&&(y=arguments[1]);for(var x=t(_,k),A=0;A<k;){var E=l(A);if(c(_,E)){var O=p(_,E),S=n(v,y,[O,A,_]);o(x,E,S)}A+=1}return x}},437,[438,466,467,446,475,464,476,484,485,424,426]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t('%Symbol.species%',!0),o=t('%TypeError%'),s=r(d[1]),u=r(d[2]),c=r(d[3]),f=r(d[4]),l=r(d[5]),w=r(d[6]);m.exports=function(t,b){if(!l(b)||b<0)throw new o('Assertion failed: length must be an integer >= 0');if(!c(t))return s(b);var v=u(t,'constructor');if(n&&'Object'===w(v)&&null===(v=u(v,n))&&(v=void 0),void 0===v)return s(b);if(!f(v))throw new o('C must be a constructor');return new v(b)}},438,[411,439,446,450,451,440,443]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t('%Array.prototype%'),n=t('%RangeError%'),p=t('%SyntaxError%'),s=t('%TypeError%'),h=r(d[1]),u=Math.pow(2,32)-1,_=t('%Object.setPrototypeOf%',!0)||([].__proto__!==o?null:function(t,o){return t.__proto__=o,t});m.exports=function(t){if(!h(t)||t<0)throw new s('Assertion failed: `length` must be an integer Number >= 0');if(t>u)throw new n('length is greater than (2**32 - 1)');var f=arguments.length>1?arguments[1]:o,y=[];if(f!==o){if(!_)throw new p('ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]');_(y,f)}return 0!==t&&(y.length=t),y}},439,[411,440]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),c=r(d[3]),f=r(d[4]);m.exports=function(o){if('Number'!==u(o)||c(o)||!f(o))return!1;var s=t(o);return n(s)===s}},440,[441,442,443,444,445]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%Math.abs%');m.exports=function(n){return t(n)}},441,[411]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Math.floor;m.exports=function(n){return t(n)}},442,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n){return'symbol'==typeof n?'Symbol':'bigint'==typeof n?'BigInt':t(n)}},443,[419]);
__d(function(g,r,i,_a,m,e,d){'use strict';m.exports=Number.isNaN||function(t){return t!=t}},444,[]);
__d(function(g,r,i,_a,m,e,d){'use strict';var n=Number.isNaN||function(n){return n!=n};m.exports=Number.isFinite||function(t){return'number'==typeof t&&!n(t)&&t!==1/0&&t!==-1/0}},445,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%TypeError%'),o=r(d[1]),n=r(d[2]),s=r(d[3]);m.exports=function(f,c){if('Object'!==s(f))throw new t('Assertion failed: Type(O) is not Object');if(!n(c))throw new t('Assertion failed: IsPropertyKey(P) is not true, got '+o(c));return f[c]}},446,[411,447,449,443]);
__d(function(g,r,_i,a,_m,_e,d){var t='function'==typeof Map&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,'size'):null,n=t&&e&&'function'==typeof e.get?e.get:null,o=t&&Map.prototype.forEach,i='function'==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,'size'):null,u=i&&c&&'function'==typeof c.get?c.get:null,l=i&&Set.prototype.forEach,f='function'==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p='function'==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,y='function'==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,s=Object.prototype.toString,S=Function.prototype.toString,h=String.prototype.match,m=String.prototype.slice,v=String.prototype.replace,j=String.prototype.toUpperCase,O=String.prototype.toLowerCase,w=RegExp.prototype.test,x=Array.prototype.concat,_=Array.prototype.join,k=Array.prototype.slice,M=Math.floor,W='function'==typeof BigInt?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,L='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?Symbol.prototype.toString:null,$='function'==typeof Symbol&&'object'==typeof Symbol.iterator,A='function'==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===$||'symbol')?Symbol.toStringTag:null,T=Object.prototype.propertyIsEnumerable,q=('function'==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function I(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||w.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if('number'==typeof t){var o=t<0?-M(-t):M(t);if(o!==t){var i=String(o),c=m.call(e,i.length+1);return v.call(i,n,'$&_')+'.'+v.call(v.call(c,/([0-9]{3})/g,'$&_'),/_$/,'')}}return v.call(e,n,'$&_')}var N=r(d[0]).custom,P=N&&J(N)?N:null;function R(t,e,n){var o='double'===(n.quoteStyle||e)?'"':"'";return o+t+o}function D(t){return v.call(String(t),/"/g,'&quot;')}function B(t){return!('[object Array]'!==X(t)||A&&'object'==typeof t&&A in t)}function C(t){return!('[object Date]'!==X(t)||A&&'object'==typeof t&&A in t)}function z(t){return!('[object RegExp]'!==X(t)||A&&'object'==typeof t&&A in t)}function F(t){return!('[object Error]'!==X(t)||A&&'object'==typeof t&&A in t)}function H(t){return!('[object String]'!==X(t)||A&&'object'==typeof t&&A in t)}function U(t){return!('[object Number]'!==X(t)||A&&'object'==typeof t&&A in t)}function G(t){return!('[object Boolean]'!==X(t)||A&&'object'==typeof t&&A in t)}function J(t){if($)return t&&'object'==typeof t&&t instanceof Symbol;if('symbol'==typeof t)return!0;if(!t||'object'!=typeof t||!L)return!1;try{return L.call(t),!0}catch(t){}return!1}function K(t){if(!t||'object'!=typeof t||!W)return!1;try{return W.call(t),!0}catch(t){}return!1}_m.exports=function t(e,i,c,f){var p=i||{};if(V(p,'quoteStyle')&&'single'!==p.quoteStyle&&'double'!==p.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(p,'maxStringLength')&&('number'==typeof p.maxStringLength?p.maxStringLength<0&&p.maxStringLength!==1/0:null!==p.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var y=!V(p,'customInspect')||p.customInspect;if('boolean'!=typeof y&&'symbol'!==y)throw new TypeError('option "customInspect", if provided, must be `true`, `false`, or `\'symbol\'`');if(V(p,'indent')&&null!==p.indent&&'\t'!==p.indent&&!(parseInt(p.indent,10)===p.indent&&p.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(p,'numericSeparator')&&'boolean'!=typeof p.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=p.numericSeparator;if(void 0===e)return'undefined';if(null===e)return'null';if('boolean'==typeof e)return e?'true':'false';if('string'==typeof e)return ct(e,p);if('number'==typeof e){if(0===e)return 1/0/e>0?'0':'-0';var S=String(e);return s?I(e,S):S}if('bigint'==typeof e){var h=String(e)+'n';return s?I(e,h):h}var j=void 0===p.depth?5:p.depth;if(void 0===c&&(c=0),c>=j&&j>0&&'object'==typeof e)return B(e)?'[Array]':'[Object]';var w=yt(p,c);if(void 0===f)f=[];else if(Z(f,e)>=0)return'[Circular]';function M(e,n,o){if(n&&(f=k.call(f)).push(n),o){var i={depth:p.depth};return V(p,'quoteStyle')&&(i.quoteStyle=p.quoteStyle),t(e,i,c+1,f)}return t(e,p,c+1,f)}if('function'==typeof e){var E=Y(e),N=bt(e,M);return'[Function'+(E?': '+E:' (anonymous)')+']'+(N.length>0?' { '+_.call(N,', ')+' }':'')}if(J(e)){var Q=$?v.call(String(e),/^(Symbol\(.*\))_[^)]*$/,'$1'):L.call(e);return'object'!=typeof e||$?Q:lt(Q)}if(it(e)){for(var ut='<'+O.call(String(e.nodeName)),st=e.attributes||[],St=0;St<st.length;St++)ut+=' '+st[St].name+'='+R(D(st[St].value),'double',p);return ut+='>',e.childNodes&&e.childNodes.length&&(ut+='...'),ut+='</'+O.call(String(e.nodeName))+'>'}if(B(e)){if(0===e.length)return'[]';var ht=bt(e,M);return w&&!pt(ht)?'['+gt(ht,w)+']':'[ '+_.call(ht,', ')+' ]'}if(F(e)){var mt=bt(e,M);return'cause'in e&&!T.call(e,'cause')?'{ ['+String(e)+'] '+_.call(x.call('[cause]: '+M(e.cause),mt),', ')+' }':0===mt.length?'['+String(e)+']':'{ ['+String(e)+'] '+_.call(mt,', ')+' }'}if('object'==typeof e&&y){if(P&&'function'==typeof e[P])return e[P]();if('symbol'!==y&&'function'==typeof e.inspect)return e.inspect()}if(tt(e)){var vt=[];return o.call(e,function(t,n){vt.push(M(n,e,!0)+' => '+M(t,e))}),at('Map',n.call(e),vt,w)}if(nt(e)){var dt=[];return l.call(e,function(t){dt.push(M(t,e))}),at('Set',u.call(e),dt,w)}if(et(e))return ft('WeakMap');if(ot(e))return ft('WeakSet');if(rt(e))return ft('WeakRef');if(U(e))return lt(M(Number(e)));if(K(e))return lt(M(W.call(e)));if(G(e))return lt(b.call(e));if(H(e))return lt(M(String(e)));if(!C(e)&&!z(e)){var jt=bt(e,M),Ot=q?q(e)===Object.prototype:e instanceof Object||e.constructor===Object,wt=e instanceof Object?'':'null prototype',xt=!Ot&&A&&Object(e)===e&&A in e?m.call(X(e),8,-1):wt?'Object':'',_t=(Ot||'function'!=typeof e.constructor?'':e.constructor.name?e.constructor.name+' ':'')+(xt||wt?'['+_.call(x.call([],xt||[],wt||[]),': ')+'] ':'');return 0===jt.length?_t+'{}':w?_t+'{'+gt(jt,w)+'}':_t+'{ '+_.call(jt,', ')+' }'}return String(e)};var Q=Object.prototype.hasOwnProperty||function(t){return t in this};function V(t,e){return Q.call(t,e)}function X(t){return s.call(t)}function Y(t){if(t.name)return t.name;var e=h.call(S.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Z(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1}function tt(t){if(!n||!t||'object'!=typeof t)return!1;try{n.call(t);try{u.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}function et(t){if(!f||!t||'object'!=typeof t)return!1;try{f.call(t,f);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}function rt(t){if(!y||!t||'object'!=typeof t)return!1;try{return y.call(t),!0}catch(t){}return!1}function nt(t){if(!u||!t||'object'!=typeof t)return!1;try{u.call(t);try{n.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}function ot(t){if(!p||!t||'object'!=typeof t)return!1;try{p.call(t,p);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}function it(t){return!(!t||'object'!=typeof t)&&('undefined'!=typeof HTMLElement&&t instanceof HTMLElement||'string'==typeof t.nodeName&&'function'==typeof t.getAttribute)}function ct(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,o='... '+n+' more character'+(n>1?'s':'');return ct(m.call(t,0,e.maxStringLength),e)+o}return R(v.call(v.call(t,/(['\\])/g,'\\$1'),/[\x00-\x1f]/g,ut),'single',e)}function ut(t){var e=t.charCodeAt(0),n={8:'b',9:'t',10:'n',12:'f',13:'r'}[e];return n?'\\'+n:'\\x'+(e<16?'0':'')+j.call(e.toString(16))}function lt(t){return'Object('+t+')'}function ft(t){return t+' { ? }'}function at(t,e,n,o){return t+' ('+e+') {'+(o?gt(n,o):_.call(n,', '))+'}'}function pt(t){for(var e=0;e<t.length;e++)if(Z(t[e],'\n')>=0)return!1;return!0}function yt(t,e){var n;if('\t'===t.indent)n='\t';else{if(!('number'==typeof t.indent&&t.indent>0))return null;n=_.call(Array(t.indent+1),' ')}return{base:n,prev:_.call(Array(e+1),n)}}function gt(t,e){if(0===t.length)return'';var n='\n'+e.prev+e.base;return n+_.call(t,','+n)+'\n'+e.prev}function bt(t,e){var n=B(t),o=[];if(n){o.length=t.length;for(var i=0;i<t.length;i++)o[i]=V(t,i)?e(t[i],t):''}var c,u='function'==typeof E?E(t):[];if($){c={};for(var l=0;l<u.length;l++)c['$'+u[l]]=u[l]}for(var f in t)V(t,f)&&(n&&String(Number(f))===f&&f<t.length||$&&c['$'+f]instanceof Symbol||(w.call(/[^\w$]/,f)?o.push(e(f,t)+': '+e(t[f],t)):o.push(f+': '+e(t[f],t))));if('function'==typeof E)for(var p=0;p<u.length;p++)T.call(t,u[p])&&o.push('['+e(u[p])+']: '+e(t[u[p]],t));return o}},447,[448]);
__d(function(g,r,i,a,m,e,d){"use strict"},448,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return'string'==typeof t||'symbol'==typeof t}},449,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%Array%'),o=!t.isArray&&r(d[1])('Object.prototype.toString');m.exports=t.isArray||function(t){return'[object Array]'===o(t)}},450,[411,424]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0])('%Reflect.construct%',!0),n=r(d[1]);try{n({},'',{'[[Get]]':function(){}})}catch(t){n=null}if(n&&t){var e={},c={};n(c,'length',{'[[Get]]':function(){throw e},'[[Enumerable]]':!0}),m.exports=function(n){try{t(n,c)}catch(t){return t===e}}}else m.exports=function(t){return'function'==typeof t&&!!t.prototype}},451,[452,453]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},452,[411]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0])('%TypeError%'),t=r(d[1]),o=r(d[2]),c=r(d[3]),n=r(d[4]),p=r(d[5]),f=r(d[6]),D=r(d[7]),y=r(d[8]),w=r(d[9]);m.exports=function(u,A,I){if('Object'!==w(u))throw new s('Assertion failed: Type(O) is not Object');if(!f(A))throw new s('Assertion failed: IsPropertyKey(P) is not true');var l=t({Type:w,IsDataDescriptor:p,IsAccessorDescriptor:n},I)?I:y(I);if(!t({Type:w,IsDataDescriptor:p,IsAccessorDescriptor:n},l))throw new s('Assertion failed: Desc is not a valid Property Descriptor');return o(p,D,c,u,A,l)}},453,[411,454,455,457,459,460,449,461,462,443]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),s=t('%TypeError%');m.exports=function(t,n){if('Object'!==t.Type(n))return!1;var c={'[[Configurable]]':!0,'[[Enumerable]]':!0,'[[Get]]':!0,'[[Set]]':!0,'[[Value]]':!0,'[[Writable]]':!0};for(var u in n)if(o(n,u)&&!c[u])return!1;if(t.IsDataDescriptor(n)&&t.IsAccessorDescriptor(n))throw new s('Property Descriptors may not be both accessor and data descriptors');return!0}},454,[411,416]);
__d(function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0])('%Object.defineProperty%',!0);if(e)try{e({},'a',{value:1})}catch(t){e=null}var t=e&&0===e([],'length',{value:1}).length,n=t&&r(d[1]),l=r(d[2])('Object.prototype.propertyIsEnumerable');m.exports=function(u,f,o,c,h,b){if(!e){if(!u(b))return!1;if(!b['[[Configurable]]']||!b['[[Writable]]'])return!1;if(h in c&&l(c,h)!==!!b['[[Enumerable]]'])return!1;var p=b['[[Value]]'];return c[h]=p,f(c[h],p)}return t&&'length'===h&&'[[Value]]'in b&&n(c)&&c.length!==b['[[Value]]']?(c.length=b['[[Value]]'],c.length===b['[[Value]]']):(e(c,h,o(b)),!0)}},455,[411,456,424]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%Array%'),o=!t.isArray&&r(d[1])('Object.prototype.toString');m.exports=t.isArray||function(t){return'[object Array]'===o(t)}},456,[411,424]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(u){if(void 0===u)return u;n(t,'Property Descriptor','Desc',u);var l={};return'[[Value]]'in u&&(l.value=u['[[Value]]']),'[[Writable]]'in u&&(l.writable=u['[[Writable]]']),'[[Get]]'in u&&(l.get=u['[[Get]]']),'[[Set]]'in u&&(l.set=u['[[Set]]']),'[[Enumerable]]'in u&&(l.enumerable=u['[[Enumerable]]']),'[[Configurable]]'in u&&(l.configurable=u['[[Configurable]]']),l}},457,[458,443]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t('%TypeError%'),o=t('%SyntaxError%'),u=r(d[1]),c={'Property Descriptor':function(t,o){if('Object'!==t(o))return!1;var c={'[[Configurable]]':!0,'[[Enumerable]]':!0,'[[Get]]':!0,'[[Set]]':!0,'[[Value]]':!0,'[[Writable]]':!0};for(var f in o)if(u(o,f)&&!c[f])return!1;var s=u(o,'[[Value]]'),p=u(o,'[[Get]]')||u(o,'[[Set]]');if(s&&p)throw new n('Property Descriptors may not be both accessor and data descriptors');return!0}};m.exports=function(t,u,f,s){var p=c[u];if('function'!=typeof p)throw new o('unknown record type: '+u);if(!p(t,s))throw new n(f+' must be a '+u)}},458,[411,416]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),c=r(d[2]);m.exports=function(n){return void 0!==n&&(o(c,'Property Descriptor','Desc',n),!(!t(n,'[[Get]]')&&!t(n,'[[Set]]')))}},459,[416,458,443]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),c=r(d[2]);m.exports=function(n){return void 0!==n&&(o(c,'Property Descriptor','Desc',n),!(!t(n,'[[Value]]')&&!t(n,'[[Writable]]')))}},460,[416,458,443]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n,u){return n===u?0!==n||1/n==1/u:t(n)&&t(u)}},461,[444]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1])('%TypeError%'),n=r(d[2]),u=r(d[3]),b=r(d[4]);m.exports=function(l){if('Object'!==n(l))throw new o('ToPropertyDescriptor requires an object');var s={};if(t(l,'enumerable')&&(s['[[Enumerable]]']=u(l.enumerable)),t(l,'configurable')&&(s['[[Configurable]]']=u(l.configurable)),t(l,'value')&&(s['[[Value]]']=l.value),t(l,'writable')&&(s['[[Writable]]']=u(l.writable)),t(l,'get')){var c=l.get;if(void 0!==c&&!b(c))throw new o('getter must be a function');s['[[Get]]']=c}if(t(l,'set')){var f=l.set;if(void 0!==f&&!b(f))throw new o('setter must be a function');s['[[Set]]']=f}if((t(s,'[[Get]]')||t(s,'[[Set]]'))&&(t(s,'[[Value]]')||t(s,'[[Writable]]')))throw new o('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');return s}},462,[416,411,443,463,464]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return!!t}},463,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},464,[465]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t,n,e=Function.prototype.toString,o='object'==typeof Reflect&&null!==Reflect&&Reflect.apply;if('function'==typeof o&&'function'==typeof Object.defineProperty)try{t=Object.defineProperty({},'length',{get:function(){throw n}}),n={},o(function(){throw 42},null,t)}catch(t){t!==n&&(o=null)}else o=null;var c=/^\s*class\b/,u=function(t){try{var n=e.call(t);return c.test(n)}catch(t){return!1}},f=function(t){try{return!u(t)&&(e.call(t),!0)}catch(t){return!1}},l=Object.prototype.toString,p='function'==typeof Symbol&&!!Symbol.toStringTag,y='object'==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};m.exports=o?function(e){if(e===y)return!0;if(!e)return!1;if('function'!=typeof e&&'object'!=typeof e)return!1;if('function'==typeof e&&!e.prototype)return!0;try{o(e,null,t)}catch(t){if(t!==n)return!1}return!u(e)}:function(t){if(t===y)return!0;if(!t)return!1;if('function'!=typeof t&&'object'!=typeof t)return!1;if('function'==typeof t&&!t.prototype)return!0;if(p)return f(t);if(u(t))return!1;var n=l.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n}},465,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=t('%TypeError%'),p=r(d[2]),s=t('%Reflect.apply%',!0)||n('%Function.prototype.apply%');m.exports=function(t,n){var u=arguments.length>2?arguments[2]:[];if(!p(u))throw new o('Assertion failed: optional `argumentsList`, if provided, must be a List');return s(t,n,u)}},466,[411,424,450]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%TypeError%'),o=r(d[1]),n=r(d[2]),s=r(d[3]);m.exports=function(f,c,p){if('Object'!==s(f))throw new t('Assertion failed: Type(O) is not Object');if(!n(c))throw new t('Assertion failed: IsPropertyKey(P) is not true');var u=o(f,c,p);if(!u)throw new t('unable to create data property');return u}},467,[411,468,449,443]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%TypeError%'),n=r(d[1]),o=r(d[2]),s=r(d[3]),u=r(d[4]),f=r(d[5]),l=r(d[6]),b=r(d[7]),c=r(d[8]);m.exports=function(p,w,y){if('Object'!==c(p))throw new t('Assertion failed: Type(O) is not Object');if(!l(w))throw new t('Assertion failed: IsPropertyKey(P) is not true');var O=s(p,w),h=!O||f(p);return!(O&&(!O['[[Writable]]']||!O['[[Configurable]]'])||!h)&&n(u,b,o,p,w,{'[[Configurable]]':!0,'[[Enumerable]]':!0,'[[Value]]':y,'[[Writable]]':!0})}},468,[411,455,457,469,460,473,449,461,443]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=t('%TypeError%'),s=r(d[2])('Object.prototype.propertyIsEnumerable'),u=r(d[3]),b=r(d[4]),f=r(d[5]),l=r(d[6]),p=r(d[7]),c=r(d[8]);m.exports=function(t,y){if('Object'!==c(t))throw new o('Assertion failed: O must be an Object');if(!f(y))throw new o('Assertion failed: P must be a Property Key');if(u(t,y)){if(!n){var w=b(t)&&'length'===y,O=l(t)&&'lastIndex'===y;return{'[[Configurable]]':!(w||O),'[[Enumerable]]':s(t,y),'[[Value]]':t[y],'[[Writable]]':!0}}return p(n(t,y))}}},469,[411,470,424,416,450,449,471,462,443]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0])('%Object.getOwnPropertyDescriptor%',!0);if(t)try{t([],'length')}catch(e){t=null}m.exports=t},470,[411]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%Symbol.match%',!0),n=r(d[1]),o=r(d[2]);m.exports=function(f){if(!f||'object'!=typeof f)return!1;if(t){var u=f[t];if(void 0!==u)return o(u)}return n(f)}},471,[411,472,463]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t,e,o,n,c=r(d[0]),p=r(d[1])();if(p){t=c('Object.prototype.hasOwnProperty'),e=c('RegExp.prototype.exec'),o={};var f=function(){throw o};n={toString:f,valueOf:f},'symbol'==typeof Symbol.toPrimitive&&(n[Symbol.toPrimitive]=f)}var y=c('Object.prototype.toString'),u=Object.getOwnPropertyDescriptor;m.exports=p?function(c){if(!c||'object'!=typeof c)return!1;var p=u(c,'lastIndex');if(!(p&&t(p,'value')))return!1;try{e(c,n)}catch(t){return t===o}}:function(t){return!(!t||'object'!=typeof t&&'function'!=typeof t)&&"[object RegExp]"===y(t)}},472,[424,423]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t('%Object.preventExtensions%',!0),s=t('%Object.isExtensible%',!0),c=r(d[1]);m.exports=n?function(t){return!c(t)&&s(t)}:function(t){return!c(t)}},473,[411,474]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return null===t||'function'!=typeof t&&'object'!=typeof t}},474,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%TypeError%'),n=r(d[1]),o=r(d[2]);m.exports=function(s,f){if('Object'!==o(s))throw new t('Assertion failed: `O` must be an Object');if(!n(f))throw new t('Assertion failed: `P` must be a Property Key');return f in s}},475,[411,449,443]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n){return t(n)>>>0}},476,[477]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n('%TypeError%'),o=n('%Number%'),f=n('%RegExp%'),u=n('%parseInt%'),p=r(d[1]),s=r(d[2]),y=r(d[3]),b=p('String.prototype.slice'),c=s(/^0b[01]+$/i),l=s(/^0o[0-7]+$/i),v=s(/^[-+]0x[0-9a-f]+$/i),w=s(new f('['+["\x85","\u200b","\ufffe"].join('')+']','g')),x=["\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(''),$=new RegExp('(^['+x+']+)|(['+x+']+$)','g'),E=p('String.prototype.replace'),N=function(n){return E(n,$,'')},S=r(d[4]);m.exports=function n(f){var p=y(f)?f:S(f,o);if('symbol'==typeof p)throw new t('Cannot convert a Symbol value to a number');if('bigint'==typeof p)throw new t('Conversion from \'BigInt\' to \'number\' is not allowed.');if('string'==typeof p){if(c(p))return n(u(b(p,2),2));if(l(p))return n(u(b(p,2),8));if(w(p)||v(p))return NaN;var s=N(p);if(s!==p)return n(s)}return o(p)}},477,[411,424,478,474,479]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('RegExp.prototype.test'),n=r(d[1]);m.exports=function(o){return n(t,o)}},478,[411,417]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(n){return arguments.length>1?t(n,arguments[1]):t(n)}},479,[480]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator,o=r(d[0]),n=r(d[1]),i=r(d[2]),u=r(d[3]),f=function(t,i){if(void 0===t||null===t)throw new TypeError('Cannot call method on '+t);if('string'!=typeof i||'number'!==i&&'string'!==i)throw new TypeError('hint must be "string" or "number"');var u,f,l,v='string'===i?['toString','valueOf']:['valueOf','toString'];for(l=0;l<v.length;++l)if(u=t[v[l]],n(u)&&(f=u.call(t),o(f)))return f;throw new TypeError('No default value')},l=function(t,o){var i=t[o];if(null!==i&&void 0!==i){if(!n(i))throw new TypeError(i+' returned for property '+o+' of object '+t+' is not a function');return i}};m.exports=function(n){if(o(n))return n;var v,y='default';if(arguments.length>1&&(arguments[1]===String?y='string':arguments[1]===Number&&(y='number')),t&&(Symbol.toPrimitive?v=l(n,Symbol.toPrimitive):u(n)&&(v=Symbol.prototype.valueOf)),void 0!==v){var b=v.call(n,y);if(o(b))return b;throw new TypeError('unable to convert exotic object to primitive')}return'default'===y&&(i(n)||u(n))&&(y='string'),f(n,'default'===y?'number':y)}},480,[481,465,482,483]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return null===t||'function'!=typeof t&&'object'!=typeof t}},481,[]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=Date.prototype.getDay,e=function(e){try{return t.call(e),!0}catch(t){return!1}},o=Object.prototype.toString,c=r(d[0])();m.exports=function(t){return'object'==typeof t&&null!==t&&(c?e(t):"[object Date]"===o.call(t))}},482,[423]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=Object.prototype.toString;if(r(d[0])()){var o=Symbol.prototype.toString,e=/^Symbol\(.*\)$/,n=function(t){return'symbol'==typeof t.valueOf()&&e.test(o.call(t))};m.exports=function(o){if('symbol'==typeof o)return!0;if('[object Symbol]'!==t.call(o))return!1;try{return n(o)}catch(t){return!1}}}else m.exports=function(t){return!1}},483,[412]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('%Object%'),n=r(d[1]);m.exports=function(c){return n(c),t(c)}},484,[411,435]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t('%String%'),o=t('%TypeError%');m.exports=function(t){if('symbol'==typeof t)throw new o('Cannot convert a Symbol value to a string');return n(t)}},485,[411]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);m.exports=function(){var o=Array.prototype.map;return t(o)?o:n}},486,[487,437]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(t){var n=!0,c=!0,f=!1;if('function'==typeof t){try{t.call('f',function(t,c,f){'object'!=typeof f&&(n=!1)}),t.call([null],function(){'use strict';c='string'==typeof this},'x')}catch(t){f=!0}return!f&&n&&c}return!1}},487,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);m.exports=function(){var o=n();return t(Array.prototype,{map:o},{map:function(){return Array.prototype.map!==o}}),o}},488,[431,486]);
__d(function(g,r,i,a,m,e,d){(0,r(d[0]).setupURLPolyfill)()},489,[490]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t={setupURLPolyfill:!0};e.setupURLPolyfill=function(){g.REACT_NATIVE_URL_POLYFILL=o.name+"@"+o.version,(0,n.polyfillGlobal)('URL',function(){return r(d[3]).URL}),(0,n.polyfillGlobal)('URLSearchParams',function(){return r(d[4]).URLSearchParams})},r(d[0]);var n=r(d[1]),o=r(d[2]),l=r(d[3]);Object.keys(l).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===l[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return l[n]}}))});var u=r(d[4]);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))})},490,[491,61,492,493,508]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=parseInt(t.Platform.Version,10);'ios'===t.Platform.OS&&10===n&&null==Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,'byteLength')&&Object.defineProperty(ArrayBuffer.prototype,'byteLength',{configurable:!0,enumerable:!1,get:function(){return null}})},491,[14]);
__d(function(e,t,i,r,a,n,s){a.exports={name:"react-native-url-polyfill",version:"1.3.0",description:"A lightweight and trustworthy URL polyfill for React Native",keywords:["URL","URLSearchParams","polyfill","react native","whatwg-url"],bugs:{url:"https://github.com/charpeni/react-native-url-polyfill/issues"},homepage:"https://github.com/charpeni/react-native-url-polyfill",readme:"https://github.com/charpeni/react-native-url-polyfill#readme",repository:{type:"git",url:"https://github.com/charpeni/react-native-url-polyfill.git"},main:"index.js",types:"index.d.ts",scripts:{test:"jest",lint:"eslint .","bundle-size":"node scripts/bundle-size"},author:"Nicolas Charpentier <nicolas.charpentier079@gmail.com>",license:"MIT",dependencies:{"whatwg-url-without-unicode":"8.0.0-3"},devDependencies:{"@react-native-community/eslint-config":"^2.0.0",chalk:"^4.0.0",eslint:"^7.1.0","eslint-plugin-prettier":"^3.1.3",execa:"^5.0.0",filesize:"^6.1.0",husky:">=1",jest:"^26.0.1","lint-staged":">=8","metro-react-native-babel-preset":"^0.65.0",ora:"^5.3.0","prepend-file":"^1.3.1",prettier:"^2.0.5",react:"16.13.1","react-native":"0.63.4",rmfr:"^2.0.0","source-map-explorer":"^2.4.2",tmp:"^0.2.1",typescript:"^4.1.3",uuid:"^8.1.0"},peerDependencies:{"react-native":"*"},jest:{preset:"react-native",testPathIgnorePatterns:["/node_modules/","./detox/"]},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.js":["eslint --fix","git add"]}}},492,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.URL=void 0;var t=r(d[0]),o=r(d[1]),n=null,f=t.NativeModules.BlobModule;f&&'string'==typeof f.BLOB_URI_SCHEME&&(n=f.BLOB_URI_SCHEME+':','string'==typeof f.BLOB_URI_HOST&&(n+="//"+f.BLOB_URI_HOST+"/")),o.URL.createObjectURL=function(t){if(null===n)throw new Error('Cannot create URL for blob!');return""+n+t.data.blobId+"?offset="+t.data.offset+"&size="+t.size},o.URL.revokeObjectURL=function(t){};var L=o.URL;e.URL=L},493,[14,494]);
__d(function(g,r,i,a,m,e,d){"use strict";var s=r(d[0]),t=s.URL,n=s.URLSearchParams,U=r(d[1]),L=r(d[2]),R={};t.install(R),n.install(R),e.URL=R.URL,e.URLSearchParams=R.URLSearchParams,e.parseURL=U.parseURL,e.basicURLParse=U.basicURLParse,e.serializeURL=U.serializeURL,e.serializeHost=U.serializeHost,e.serializeInteger=U.serializeInteger,e.serializeURLOrigin=U.serializeURLOrigin,e.setTheUsername=U.setTheUsername,e.setThePassword=U.setThePassword,e.cannotHaveAUsernamePasswordPort=U.cannotHaveAUsernamePasswordPort,e.percentDecode=L.percentDecode},494,[495,500,505]);
__d(function(g,r,i,a,m,e,d){"use strict";var c=r(d[0]),s=r(d[1]);e.URL=c,e.URLSearchParams=s},495,[496,506]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=r(d[0]),o=r(d[1]),n=r(d[2]);function i(t,o){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=s(t))||o&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,o){if(t){if("string"==typeof t)return h(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,o):void 0}}function h(t,o){(null==o||o>t.length)&&(o=t.length);for(var n=0,i=new Array(o);n<o;n++)i[n]=t[n];return i}var l=r(d[3]),p=r(d[4]),c=p.implSymbol,u=p.ctorRegistrySymbol,f={_mixedIntoPredicates:[],is:function(t){if(t){if(p.hasOwn(t,c)&&t[c]instanceof v.implementation)return!0;for(var o,n=i(m.exports._mixedIntoPredicates);!(o=n()).done;){if((0,o.value)(t))return!0}}return!1},isImpl:function(t){if(t){if(t instanceof v.implementation)return!0;for(var o,n=p.wrapperForImpl(t),s=i(m.exports._mixedIntoPredicates);!(o=s()).done;){if((0,o.value)(n))return!0}}return!1},convert:function(t){var o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,n=void 0===o?"The provided value":o;if(m.exports.is(t))return p.implForWrapper(t);throw new TypeError(n+" is not of type 'URL'.")},create:function(t,o,n){if(void 0===t[u])throw new Error("Internal error: invalid global object");var i=t[u].URL;if(void 0===i)throw new Error("Internal error: constructor URL is not installed on the passed global object");var s=Object.create(i.prototype);return s=f.setup(s,t,o,n)},createImpl:function(t,o,n){var i=f.create(t,o,n);return p.implForWrapper(i)},_internalSetup:function(t){},setup:function(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i.wrapper=t,f._internalSetup(t),Object.defineProperty(t,c,{value:new v.implementation(o,n,i),configurable:!0}),t[c][p.wrapperSymbol]=t,v.init&&v.init(t[c],i),t},install:function(i){var s=(function(){function t(n){if(o(this,t),arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");var s=[],h=arguments[0];h=l.USVString(h,{context:"Failed to construct 'URL': parameter 1"}),s.push(h);var p=arguments[1];return void 0!==p&&(p=l.USVString(p,{context:"Failed to construct 'URL': parameter 2"})),s.push(p),f.setup(Object.create(this.constructor.prototype),i,s)}return n(t,[{key:"toJSON",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].toJSON()}},{key:"href",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].href},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=l.USVString(t,{context:"Failed to set the 'href' property on 'URL': The provided value"}),this[c].href=t}},{key:"toString",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].href}},{key:"origin",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].origin}},{key:"protocol",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].protocol},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=l.USVString(t,{context:"Failed to set the 'protocol' property on 'URL': The provided value"}),this[c].protocol=t}},{key:"username",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].username},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=l.USVString(t,{context:"Failed to set the 'username' property on 'URL': The provided value"}),this[c].username=t}},{key:"password",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].password},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=l.USVString(t,{context:"Failed to set the 'password' property on 'URL': The provided value"}),this[c].password=t}},{key:"host",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].host},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=l.USVString(t,{context:"Failed to set the 'host' property on 'URL': The provided value"}),this[c].host=t}},{key:"hostname",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].hostname},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=l.USVString(t,{context:"Failed to set the 'hostname' property on 'URL': The provided value"}),this[c].hostname=t}},{key:"port",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].port},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=l.USVString(t,{context:"Failed to set the 'port' property on 'URL': The provided value"}),this[c].port=t}},{key:"pathname",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].pathname},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=l.USVString(t,{context:"Failed to set the 'pathname' property on 'URL': The provided value"}),this[c].pathname=t}},{key:"search",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].search},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=l.USVString(t,{context:"Failed to set the 'search' property on 'URL': The provided value"}),this[c].search=t}},{key:"searchParams",get:function(){var t=this;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return p.getSameObject(this,"searchParams",function(){return p.tryWrapperForImpl(t[c].searchParams)})}},{key:"hash",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].hash},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=l.USVString(t,{context:"Failed to set the 'hash' property on 'URL': The provided value"}),this[c].hash=t}}]),t})();Object.defineProperties(s.prototype,t({toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0}},Symbol.toStringTag,{value:"URL",configurable:!0})),void 0===i[u]&&(i[u]=Object.create(null)),i[u].URL=s,Object.defineProperty(i,"URL",{configurable:!0,writable:!0,value:s})}};m.exports=f;var v=r(d[5])},496,[34,2,3,497,498,499]);
__d(function(g,r,_i,_a,m,_e,_d){"use strict";function n(n,t){return(t&&t.context?t.context:"Value")+" "+n+"."}function t(n){if(null===n)return"Null";switch(typeof n){case"undefined":return"Undefined";case"boolean":return"Boolean";case"number":return"Number";case"string":return"String";case"symbol":return"Symbol";case"object":case"function":default:return"Object"}}function e(n){return a(n>0&&n%1==.5&&0==(1&n)||n<0&&n%1==-.5&&1==(1&n)?Math.floor(n):Math.round(n))}function o(n){return a(Math.trunc(n))}function i(n){return n<0?-1:1}function u(n,t){var e=n%t;return i(t)!==i(e)?e+t:e}function a(n){return 0===n?0:n}function f(t,i){var f,c,s=!i.unsigned;64===t?(c=Math.pow(2,53)-1,f=s?1-Math.pow(2,53):0):s?(f=-Math.pow(2,t-1),c=Math.pow(2,t-1)-1):(f=0,c=Math.pow(2,t)-1);var l=Math.pow(2,t),y=Math.pow(2,t-1);return function(t,i){void 0===i&&(i={});var w=+t;if(w=a(w),i.enforceRange){if(!Number.isFinite(w))throw new TypeError(n("is not a finite number",i));if((w=o(w))<f||w>c)throw new TypeError(n("is outside the accepted range of "+f+" to "+c+", inclusive",i));return w}return!Number.isNaN(w)&&i.clamp?w=e(w=Math.min(Math.max(w,f),c)):Number.isFinite(w)&&0!==w?(w=o(w))>=f&&w<=c?w:(w=u(w,l),s&&w>=y?w-l:w):0}}function c(t,e){if("function"!=typeof t)throw new TypeError(n("is not a function",e));return t}_e.any=function(n){return n},_e.void=function(){},_e.boolean=function(n){return!!n},_e.byte=f(8,{unsigned:!1}),_e.octet=f(8,{unsigned:!0}),_e.short=f(16,{unsigned:!1}),_e["unsigned short"]=f(16,{unsigned:!0}),_e.long=f(32,{unsigned:!1}),_e["unsigned long"]=f(32,{unsigned:!0}),_e["long long"]=f(64,{unsigned:!1}),_e["unsigned long long"]=f(64,{unsigned:!0}),_e.double=function(t,e){var o=+t;if(!Number.isFinite(o))throw new TypeError(n("is not a finite floating-point value",e));return o},_e["unrestricted double"]=function(n){return+n},_e.float=function(t,e){var o=+t;if(!Number.isFinite(o))throw new TypeError(n("is not a finite floating-point value",e));if(Object.is(o,-0))return o;var i=Math.fround(o);if(!Number.isFinite(i))throw new TypeError(n("is outside the range of a single-precision floating-point value",e));return i},_e["unrestricted float"]=function(n){var t=+n;return isNaN(t)?t:Object.is(t,-0)?t:Math.fround(t)},_e.DOMString=function(t,e){if(void 0===e&&(e={}),e.treatNullAsEmptyString&&null===t)return"";if("symbol"==typeof t)throw new TypeError(n("is a symbol, which cannot be converted to a string",e));return String(t)},_e.ByteString=function(t,e){for(var o,i=_e.DOMString(t,e),u=0;void 0!==(o=i.codePointAt(u));++u)if(o>255)throw new TypeError(n("is not a valid ByteString",e));return i},_e.USVString=function(n,t){for(var e=_e.DOMString(n,t),o=e.length,i=[],u=0;u<o;++u){var a=e.charCodeAt(u);if(a<55296||a>57343)i.push(String.fromCodePoint(a));else if(56320<=a&&a<=57343)i.push(String.fromCodePoint(65533));else if(u===o-1)i.push(String.fromCodePoint(65533));else{var f=e.charCodeAt(u+1);if(56320<=f&&f<=57343){var c=1023&a,s=1023&f;i.push(String.fromCodePoint(65536+1024*c+s)),++u}else i.push(String.fromCodePoint(65533))}}return i.join("")},_e.object=function(e,o){if("Object"!==t(e))throw new TypeError(n("is not an object",o));return e};var s=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;function l(n){try{return s.call(n),!0}catch(n){return!1}}_e.ArrayBuffer=function(t,e){if(!l(t))throw new TypeError(n("is not a view on an ArrayBuffer object",e));return t};var y=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;_e.DataView=function(t,e){try{return y.call(t),t}catch(t){throw new TypeError(n("is not a view on an DataView object",e))}},[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(function(t){var e=t.name,o=/^[AEIOU]/.test(e)?"an":"a";_e[e]=function(t,i){if(!ArrayBuffer.isView(t)||t.constructor.name!==e)throw new TypeError(n("is not "+o+" "+e+" object",i));return t}}),_e.ArrayBufferView=function(t,e){if(!ArrayBuffer.isView(t))throw new TypeError(n("is not a view on an ArrayBuffer object",e));return t},_e.BufferSource=function(t,e){if(!ArrayBuffer.isView(t)&&!l(t))throw new TypeError(n("is not an ArrayBuffer object or a view on one",e));return t},_e.DOMTimeStamp=_e["unsigned long long"],_e.Function=c,_e.VoidFunction=c},497,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";var e=Symbol("wrapper"),t=Symbol("impl"),o=Symbol("SameObject caches"),p=Symbol.for("[webidl2js]  constructor registry");function n(t){return t?t[e]:null}function y(e){return e?e[t]:null}var i=Symbol("internal"),l=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));var s=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;var u=Symbol("supports property index"),c=Symbol("supported property indices"),b=Symbol("supports property name"),S=Symbol("supported property names"),f=Symbol("indexed property get"),x=Symbol("indexed property set new"),O=Symbol("indexed property set existing"),w=Symbol("named property get"),j=Symbol("named property set new"),P=Symbol("named property set existing"),I=Symbol("named property delete");m.exports={isObject:function(e){return"object"==typeof e&&null!==e||"function"==typeof e},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},wrapperSymbol:e,implSymbol:t,getSameObject:function(e,t,p){return e[o]||(e[o]=Object.create(null)),t in e[o]?e[o][t]:(e[o][t]=p(),e[o][t])},ctorRegistrySymbol:p,wrapperForImpl:n,implForWrapper:y,tryWrapperForImpl:function(e){var t=n(e);return t||e},tryImplForWrapper:function(e){var t=y(e);return t||e},iterInternalSymbol:i,IteratorPrototype:l,isArrayBuffer:function(e){try{return s.call(e),!0}catch(e){return!1}},isArrayIndexPropName:function(e){if("string"!=typeof e)return!1;var t=e>>>0;return t!==Math.pow(2,32)-1&&e===""+t},supportsPropertyIndex:u,supportedPropertyIndices:c,supportsPropertyName:b,supportedPropertyNames:S,indexedGet:f,indexedSetNew:x,indexedSetExisting:O,namedGet:w,namedSetNew:j,namedSetExisting:P,namedDelete:I}},498,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),s=r(d[1]),n=r(d[2]),u=r(d[3]),l=r(d[4]);e.implementation=(function(){function h(s,u){t(this,h);var o=u[0],_=u[1],c=null;if(void 0!==_&&null===(c=n.basicURLParse(_)))throw new TypeError("Invalid base URL: "+_);var f=n.basicURLParse(o,{baseURL:c});if(null===f)throw new TypeError("Invalid URL: "+o);var y=null!==f.query?f.query:"";this._url=f,this._query=l.createImpl(s,[y],{doNotStripQMark:!0}),this._query._url=this}return s(h,[{key:"href",get:function(){return n.serializeURL(this._url)},set:function(t){var s=n.basicURLParse(t);if(null===s)throw new TypeError("Invalid URL: "+t);this._url=s,this._query._list.splice(0);var l=s.query;null!==l&&(this._query._list=u.parseUrlencoded(l))}},{key:"origin",get:function(){return n.serializeURLOrigin(this._url)}},{key:"protocol",get:function(){return this._url.scheme+":"},set:function(t){n.basicURLParse(t+":",{url:this._url,stateOverride:"scheme start"})}},{key:"username",get:function(){return this._url.username},set:function(t){n.cannotHaveAUsernamePasswordPort(this._url)||n.setTheUsername(this._url,t)}},{key:"password",get:function(){return this._url.password},set:function(t){n.cannotHaveAUsernamePasswordPort(this._url)||n.setThePassword(this._url,t)}},{key:"host",get:function(){var t=this._url;return null===t.host?"":null===t.port?n.serializeHost(t.host):n.serializeHost(t.host)+":"+n.serializeInteger(t.port)},set:function(t){this._url.cannotBeABaseURL||n.basicURLParse(t,{url:this._url,stateOverride:"host"})}},{key:"hostname",get:function(){return null===this._url.host?"":n.serializeHost(this._url.host)},set:function(t){this._url.cannotBeABaseURL||n.basicURLParse(t,{url:this._url,stateOverride:"hostname"})}},{key:"port",get:function(){return null===this._url.port?"":n.serializeInteger(this._url.port)},set:function(t){n.cannotHaveAUsernamePasswordPort(this._url)||(""===t?this._url.port=null:n.basicURLParse(t,{url:this._url,stateOverride:"port"}))}},{key:"pathname",get:function(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")},set:function(t){this._url.cannotBeABaseURL||(this._url.path=[],n.basicURLParse(t,{url:this._url,stateOverride:"path start"}))}},{key:"search",get:function(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query},set:function(t){var s=this._url;if(""===t)return s.query=null,void(this._query._list=[]);var l="?"===t[0]?t.substring(1):t;s.query="",n.basicURLParse(l,{url:s,stateOverride:"query"}),this._query._list=u.parseUrlencoded(l)}},{key:"searchParams",get:function(){return this._query}},{key:"hash",get:function(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment},set:function(t){if(""!==t){var s="#"===t[0]?t.substring(1):t;this._url.fragment="",n.basicURLParse(s,{url:this._url,stateOverride:"fragment"})}else this._url.fragment=null}},{key:"toJSON",value:function(){return this.href}}]),h})()},499,[2,3,500,505,506]);
__d(function(g,r,_i2,a,m,_e,d){"use strict";function t(t,s){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=e(t))||s&&t&&"number"==typeof t.length){i&&(t=i);var h=0;return function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(t,e){if(t){if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}var i=r(d[0]).Buffer,h=r(d[1]),n=r(d[2]),u=r(d[3]),o=u.percentEncode,l=u.percentDecode,p={ftp:21,file:null,http:80,https:443,ws:80,wss:443},f=Symbol("failure");function c(t){return h.ucs2.decode(t).length}function b(t,e){var s=t[e];return isNaN(s)?void 0:String.fromCodePoint(s)}function v(t){return"."===t||"%2e"===t.toLowerCase()}function y(t){return 2===t.length&&n.isASCIIAlpha(t.codePointAt(0))&&(":"===t[1]||"|"===t[1])}function A(t){return void 0!==p[t]}function w(t){return A(t.scheme)}function I(t){return!A(t.scheme)}function S(t){return p[t]}function E(t){for(var e=i.from(t),s="",h=0;h<e.length;++h)s+=o(e[h]);return s}function O(t){return t<=31||t>126}var C=new Set([47,58,59,61,64,91,92,93,94,124]);function q(t){return U(t)||C.has(t)}var N=new Set([32,34,60,62,96]);function x(t){return O(t)||N.has(t)}var L=new Set([35,63,123,125]);function U(t){return x(t)||L.has(t)}function R(t,e){var s=String.fromCodePoint(t);return e(t)?E(s):s}function B(t){var e=10;if(t.length>=2&&"0"===t.charAt(0)&&"x"===t.charAt(1).toLowerCase()?(t=t.substring(2),e=16):t.length>=2&&"0"===t.charAt(0)&&(t=t.substring(1),e=8),""===t)return 0;var s=/[^0-7]/;return 10===e&&(s=/[^0-9]/),16===e&&(s=/[^0-9A-Fa-f]/),s.test(t)?f:parseInt(t,e)}function F(e){var s=e.split(".");if(""===s[s.length-1]&&s.length>1&&s.pop(),s.length>4)return e;for(var i,h=[],n=t(s);!(i=n()).done;){var u=i.value;if(""===u)return e;var o=B(u);if(o===f)return e;h.push(o)}for(var l=0;l<h.length-1;++l)if(h[l]>255)return f;if(h[h.length-1]>=Math.pow(256,5-h.length))return f;for(var p=h.pop(),c=0,b=0,v=h;b<v.length;b++){p+=v[b]*Math.pow(256,3-c),++c}return p}function P(t){for(var e="",s=t,i=1;i<=4;++i)e=String(s%256)+e,4!==i&&(e="."+e),s=Math.floor(s/256);return e}function H(t){var e=[0,0,0,0,0,0,0,0],s=0,i=null,u=0;if(58===(t=h.ucs2.decode(t))[u]){if(58!==t[u+1])return f;u+=2,i=++s}for(;u<t.length;){if(8===s)return f;if(58!==t[u]){for(var o=0,l=0;l<4&&n.isASCIIHex(t[u]);)o=16*o+parseInt(b(t,u),16),++u,++l;if(46===t[u]){if(0===l)return f;if(u-=l,s>6)return f;for(var p=0;void 0!==t[u];){var c=null;if(p>0){if(!(46===t[u]&&p<4))return f;++u}if(!n.isASCIIDigit(t[u]))return f;for(;n.isASCIIDigit(t[u]);){var v=parseInt(b(t,u));if(null===c)c=v;else{if(0===c)return f;c=10*c+v}if(c>255)return f;++u}e[s]=256*e[s]+c,2!==++p&&4!==p||++s}if(4!==p)return f;break}if(58===t[u]){if(void 0===t[++u])return f}else if(void 0!==t[u])return f;e[s]=o,++s}else{if(null!==i)return f;++u,i=++s}}if(null!==i){var y=s-i;for(s=7;0!==s&&y>0;){var A=e[i+y-1];e[i+y-1]=e[s],e[s]=A,--s,--y}}else if(null===i&&8!==s)return f;return e}function k(t){for(var e="",s=z(t).idx,i=!1,h=0;h<=7;++h){if(!i||0!==t[h])if(i&&(i=!1),s!==h)e+=t[h].toString(16),7!==h&&(e+=":");else e+=0===h?"::":":",i=!0}return e}function D(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("["===t[0])return"]"!==t[t.length-1]?f:H(t.substring(1,t.length-1));if(e)return T(t);var s=j(l(i.from(t)).toString());if(s===f)return f;if(-1!==s.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return f;var h=F(s);return"number"==typeof h||h===f?h:s}function T(t){if(-1!==t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return f;for(var e="",s=h.ucs2.decode(t),i=0;i<s.length;++i)e+=R(s[i],O);return e}function z(t){for(var e=null,s=1,i=null,h=0,n=0;n<t.length;++n)0!==t[n]?(h>s&&(e=i,s=h),i=null,h=0):(null===i&&(i=n),++h);return h>s&&(e=i,s=h),{idx:e,len:s}}function M(t){return"number"==typeof t?P(t):t instanceof Array?"["+k(t)+"]":t}function j(t){return null===t?f:t}function $(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function _(t){return t.replace(/\u0009|\u000A|\u000D/g,"")}function Z(t){var e,s=t.path;0!==s.length&&("file"===t.scheme&&1===s.length&&(e=s[0],/^[A-Za-z]:$/.test(e))||s.pop())}function G(t){return""!==t.username||""!==t.password}function J(t,e,s,i,n){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=s||"utf-8",this.stateOverride=n,this.url=i,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};var u=$(this.input);u!==this.input&&(this.parseError=!0),this.input=u}var o=_(this.input);for(o!==this.input&&(this.parseError=!0),this.input=o,this.state=n||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=h.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){var l=this.input[this.pointer],p=isNaN(l)?void 0:String.fromCodePoint(l),c=this["parse "+this.state](l,p);if(!c)break;if(c===f){this.failure=!0;break}}}J.prototype["parse scheme start"]=function(t,e){if(n.isASCIIAlpha(t))this.buffer+=e.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,f;this.state="no scheme",--this.pointer}return!0},J.prototype["parse scheme"]=function(t,e){if(n.isASCIIAlphanumeric(t)||43===t||45===t||46===t)this.buffer+=e.toLowerCase();else if(58===t){if(this.stateOverride){if(w(this.url)&&!A(this.buffer))return!1;if(!w(this.url)&&A(this.buffer))return!1;if((G(this.url)||null!==this.url.port)&&"file"===this.buffer)return!1;if("file"===this.url.scheme&&(""===this.url.host||null===this.url.host))return!1}if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===S(this.url.scheme)&&(this.url.port=null),!1;this.buffer="","file"===this.url.scheme?(47===this.input[this.pointer+1]&&47===this.input[this.pointer+2]||(this.parseError=!0),this.state="file"):w(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":w(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,f;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},J.prototype["parse no scheme"]=function(t){return null===this.base||this.base.cannotBeABaseURL&&35!==t?f:(this.base.cannotBeABaseURL&&35===t?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):"file"===this.base.scheme?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},J.prototype["parse special relative or authority"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},J.prototype["parse path or authority"]=function(t){return 47===t?this.state="authority":(this.state="path",--this.pointer),!0},J.prototype["parse relative"]=function(t){return this.url.scheme=this.base.scheme,isNaN(t)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===t?this.state="relative slash":63===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):w(this.url)&&92===t?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},J.prototype["parse relative slash"]=function(t){return!w(this.url)||47!==t&&92!==t?47===t?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer):(92===t&&(this.parseError=!0),this.state="special authority ignore slashes"),!0},J.prototype["parse special authority slashes"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},J.prototype["parse special authority ignore slashes"]=function(t){return 47!==t&&92!==t?(this.state="authority",--this.pointer):this.parseError=!0,!0},J.prototype["parse authority"]=function(t,e){if(64===t){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;for(var s=c(this.buffer),i=0;i<s;++i){var h=this.buffer.codePointAt(i);if(58!==h||this.passwordTokenSeenFlag){var n=R(h,q);this.passwordTokenSeenFlag?this.url.password+=n:this.url.username+=n}else this.passwordTokenSeenFlag=!0}this.buffer=""}else if(isNaN(t)||47===t||63===t||35===t||w(this.url)&&92===t){if(this.atFlag&&""===this.buffer)return this.parseError=!0,f;this.pointer-=c(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=e;return!0},J.prototype["parse hostname"]=J.prototype["parse host"]=function(t,e){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==t||this.arrFlag)if(isNaN(t)||47===t||63===t||35===t||w(this.url)&&92===t){if(--this.pointer,w(this.url)&&""===this.buffer)return this.parseError=!0,f;if(this.stateOverride&&""===this.buffer&&(G(this.url)||null!==this.url.port))return this.parseError=!0,!1;var s=D(this.buffer,I(this.url));if(s===f)return f;if(this.url.host=s,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===t?this.arrFlag=!0:93===t&&(this.arrFlag=!1),this.buffer+=e;else{if(""===this.buffer)return this.parseError=!0,f;var i=D(this.buffer,I(this.url));if(i===f)return f;if(this.url.host=i,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},J.prototype["parse port"]=function(t,e){if(n.isASCIIDigit(t))this.buffer+=e;else{if(!(isNaN(t)||47===t||63===t||35===t||w(this.url)&&92===t||this.stateOverride))return this.parseError=!0,f;if(""!==this.buffer){var s=parseInt(this.buffer);if(s>Math.pow(2,16)-1)return this.parseError=!0,f;this.url.port=s===S(this.url.scheme)?null:s,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};var K=new Set([47,92,63,35]);function Q(t,e){var s,i,h=t.length-e;return h>=2&&(s=t[e],i=t[e+1],n.isASCIIAlpha(s)&&(58===i||124===i))&&(2===h||K.has(t[e+2]))}J.prototype["parse file"]=function(t){return this.url.scheme="file",47===t||92===t?(92===t&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(t)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(Q(this.input,this.pointer)?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),Z(this.url)),this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},J.prototype["parse file slash"]=function(t){var e;return 47===t||92===t?(92===t&&(this.parseError=!0),this.state="file host"):(null===this.base||"file"!==this.base.scheme||Q(this.input,this.pointer)||(2===(e=this.base.path[0]).length&&n.isASCIIAlpha(e.codePointAt(0))&&":"===e[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},J.prototype["parse file host"]=function(t,e){if(isNaN(t)||47===t||92===t||63===t||35===t)if(--this.pointer,!this.stateOverride&&y(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{var s=D(this.buffer,I(this.url));if(s===f)return f;if("localhost"===s&&(s=""),this.url.host=s,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=e;return!0},J.prototype["parse path start"]=function(t){return w(this.url)?(92===t&&(this.parseError=!0),this.state="path",47!==t&&92!==t&&--this.pointer):this.stateOverride||63!==t?this.stateOverride||35!==t?void 0!==t&&(this.state="path",47!==t&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},J.prototype["parse path"]=function(t){if(isNaN(t)||47===t||w(this.url)&&92===t||!this.stateOverride&&(63===t||35===t)){if(w(this.url)&&92===t&&(this.parseError=!0),".."===(e=(e=this.buffer).toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e?(Z(this.url),47===t||w(this.url)&&92===t||this.url.path.push("")):!v(this.buffer)||47===t||w(this.url)&&92===t?v(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&y(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)):this.url.path.push(""),this.buffer="","file"===this.url.scheme&&(void 0===t||63===t||35===t))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===t&&(this.url.query="",this.state="query"),35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||n.isASCIIHex(this.input[this.pointer+1])&&n.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=R(t,U);var e;return!0},J.prototype["parse cannot-be-a-base-URL path"]=function(t){return 63===t?(this.url.query="",this.state="query"):35===t?(this.url.fragment="",this.state="fragment"):(isNaN(t)||37===t||(this.parseError=!0),37!==t||n.isASCIIHex(this.input[this.pointer+1])&&n.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),isNaN(t)||(this.url.path[0]+=R(t,O))),!0},J.prototype["parse query"]=function(t,e){if(isNaN(t)||!this.stateOverride&&35===t){w(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");for(var s=i.from(this.buffer),h=0;h<s.length;++h)s[h]<33||s[h]>126||34===s[h]||35===s[h]||60===s[h]||62===s[h]||39===s[h]&&w(this.url)?this.url.query+=o(s[h]):this.url.query+=String.fromCodePoint(s[h]);this.buffer="",35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||n.isASCIIHex(this.input[this.pointer+1])&&n.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=e;return!0},J.prototype["parse fragment"]=function(t){return isNaN(t)||(0===t?this.parseError=!0:(37!==t||n.isASCIIHex(this.input[this.pointer+1])&&n.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=R(t,x))),!0},m.exports.serializeURL=function(e,s){var i=e.scheme+":";if(null!==e.host?(i+="//",""===e.username&&""===e.password||(i+=e.username,""!==e.password&&(i+=":"+e.password),i+="@"),i+=M(e.host),null!==e.port&&(i+=":"+e.port)):null===e.host&&"file"===e.scheme&&(i+="//"),e.cannotBeABaseURL)i+=e.path[0];else for(var h,n=t(e.path);!(h=n()).done;)i+="/"+h.value;return null!==e.query&&(i+="?"+e.query),s||null===e.fragment||(i+="#"+e.fragment),i},m.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return m.exports.serializeURLOrigin(m.exports.parseURL(t.path[0]))}catch(t){return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return e={scheme:t.scheme,host:t.host,port:t.port},s=e.scheme+"://",s+=M(e.host),null!==e.port&&(s+=":"+e.port),s;case"file":default:return"null"}var e,s},m.exports.basicURLParse=function(t,e){void 0===e&&(e={});var s=new J(t,e.baseURL,e.encodingOverride,e.url,e.stateOverride);return s.failure?null:s.url},m.exports.setTheUsername=function(t,e){t.username="";for(var s=h.ucs2.decode(e),i=0;i<s.length;++i)t.username+=R(s[i],q)},m.exports.setThePassword=function(t,e){t.password="";for(var s=h.ucs2.decode(e),i=0;i<s.length;++i)t.password+=R(s[i],q)},m.exports.serializeHost=M,m.exports.cannotHaveAUsernamePasswordPort=function(t){return null===t.host||""===t.host||t.cannotBeABaseURL||"file"===t.scheme},m.exports.serializeInteger=function(t){return String(t)},m.exports.parseURL=function(t,e){return void 0===e&&(e={}),m.exports.basicURLParse(t,{baseURL:e.baseURL,encodingOverride:e.encodingOverride})}},500,[501,503,504,505]);
__d(function(g,r,_i,_a,_m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),n='function'==typeof Symbol&&'function'==typeof Symbol.for?Symbol.for('nodejs.util.inspect.custom'):null;_e.Buffer=f,_e.SlowBuffer=function(t){+t!=t&&(t=0);return f.alloc(+t)},_e.INSPECT_MAX_BYTES=50;var i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,n){if('number'==typeof t){if('string'==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}return u(t,e,n)}function u(t,e,n){if('string'==typeof t)return p(t,e);if(ArrayBuffer.isView(t))return l(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if($(t,ArrayBuffer)||t&&$(t.buffer,ArrayBuffer))return y(t,e,n);if('undefined'!=typeof SharedArrayBuffer&&($(t,SharedArrayBuffer)||t&&$(t.buffer,SharedArrayBuffer)))return y(t,e,n);if('number'==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return f.from(i,e,n);var o=w(t);if(o)return o;if('undefined'!=typeof Symbol&&null!=Symbol.toPrimitive&&'function'==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]('string'),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function s(t){if('number'!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t,e,n){return s(t),t<=0?o(t):void 0!==e?'string'==typeof n?o(t).fill(e,n):o(t).fill(e):o(t)}function a(t){return s(t),o(t<0?0:0|v(t))}function p(t,e){if('string'==typeof e&&''!==e||(e='utf8'),!f.isEncoding(e))throw new TypeError('Unknown encoding: '+e);var n=0|b(t,e),i=o(n),u=i.write(t,e);return u!==n&&(i=i.slice(0,u)),i}function c(t){for(var e=t.length<0?0:0|v(t.length),n=o(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function l(t){if($(t,Uint8Array)){var e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return c(t)}function y(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,f.prototype),i}function w(t){if(f.isBuffer(t)){var e=0|v(t.length),n=o(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}return void 0!==t.length?'number'!=typeof t.length||G(t.length)?o(0):c(t):'Buffer'===t.type&&Array.isArray(t.data)?c(t.data):void 0}function v(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+' bytes');return 0|t}function b(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||$(t,ArrayBuffer))return t.byteLength;if('string'!=typeof t)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof t);var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var o=!1;;)switch(e){case'ascii':case'latin1':case'binary':return n;case'utf8':case'utf-8':return V(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*n;case'hex':return n>>>1;case'base64':return J(t).length;default:if(o)return i?-1:V(t).length;e=(''+e).toLowerCase(),o=!0}}function m(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return'';if((void 0===n||n>this.length)&&(n=this.length),n<=0)return'';if((n>>>=0)<=(e>>>=0))return'';for(t||(t='utf8');;)switch(t){case'hex':return M(this,e,n);case'utf8':case'utf-8':return R(this,e,n);case'ascii':return P(this,e,n);case'latin1':case'binary':return k(this,e,n);case'base64':return O(this,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return _(this,e,n);default:if(i)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),i=!0}}function E(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function B(t,e,n,i,o){if(0===t.length)return-1;if('string'==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),G(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if('string'==typeof e&&(e=f.from(e,i)),f.isBuffer(e))return 0===e.length?-1:A(t,e,n,i,o);if('number'==typeof e)return e&=255,'function'==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):A(t,[e],n,i,o);throw new TypeError('val must be string, number or Buffer')}function A(t,e,n,i,o){var f,u=1,s=t.length,h=e.length;if(void 0!==i&&('ucs2'===(i=String(i).toLowerCase())||'ucs-2'===i||'utf16le'===i||'utf-16le'===i)){if(t.length<2||e.length<2)return-1;u=2,s/=2,h/=2,n/=2}function a(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(o){var p=-1;for(f=n;f<s;f++)if(a(t,f)===a(e,-1===p?0:f-p)){if(-1===p&&(p=f),f-p+1===h)return p*u}else-1!==p&&(f-=f-p),p=-1}else for(n+h>s&&(n=s-h),f=n;f>=0;f--){for(var c=!0,l=0;l<h;l++)if(a(t,f+l)!==a(e,l)){c=!1;break}if(c)return f}return-1}function U(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var f=e.length;i>f/2&&(i=f/2);for(var u=0;u<i;++u){var s=parseInt(e.substr(2*u,2),16);if(G(s))return u;t[n+u]=s}return u}function T(t,e,n,i){return Z(V(e,t.length-n),t,n,i)}function I(t,e,n,i){return Z(W(e),t,n,i)}function L(t,e,n,i){return Z(J(e),t,n,i)}function S(t,e,n,i){return Z(X(e,t.length-n),t,n,i)}function O(e,n,i){return 0===n&&i===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,i))}function R(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var f,u,s,h,a=t[o],p=null,c=a>239?4:a>223?3:a>191?2:1;if(o+c<=n)switch(c){case 1:a<128&&(p=a);break;case 2:128==(192&(f=t[o+1]))&&(h=(31&a)<<6|63&f)>127&&(p=h);break;case 3:f=t[o+1],u=t[o+2],128==(192&f)&&128==(192&u)&&(h=(15&a)<<12|(63&f)<<6|63&u)>2047&&(h<55296||h>57343)&&(p=h);break;case 4:f=t[o+1],u=t[o+2],s=t[o+3],128==(192&f)&&128==(192&u)&&128==(192&s)&&(h=(15&a)<<18|(63&f)<<12|(63&u)<<6|63&s)>65535&&h<1114112&&(p=h)}null===p?(p=65533,c=1):p>65535&&(p-=65536,i.push(p>>>10&1023|55296),p=56320|1023&p),i.push(p),o+=c}return C(i)}_e.kMaxLength=i,f.TYPED_ARRAY_SUPPORT=(function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}})(),f.TYPED_ARRAY_SUPPORT||'undefined'==typeof console||'function'!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,'parent',{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,'offset',{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,n){return h(t,e,n)},f.allocUnsafe=function(t){return a(t)},f.allocUnsafeSlow=function(t){return a(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if($(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),$(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,o=0,u=Math.min(n,i);o<u;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=f.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var u=t[n];if($(u,Uint8Array))o+u.length>i.length?f.from(u).copy(i,o):Uint8Array.prototype.set.call(i,u,o);else{if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o)}o+=u.length}return i},f.byteLength=b,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var e=0;e<t;e+=2)E(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var e=0;e<t;e+=4)E(this,e,e+3),E(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var e=0;e<t;e+=8)E(this,e,e+7),E(this,e+1,e+6),E(this,e+2,e+5),E(this,e+3,e+4);return this},f.prototype.toString=function(){var t=this.length;return 0===t?'':0===arguments.length?R(this,0,t):m.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError('Argument must be a Buffer');return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t='',e=_e.INSPECT_MAX_BYTES;return t=this.toString('hex',0,e).replace(/(.{2})/g,'$1 ').trim(),this.length>e&&(t+=' ... '),'<Buffer '+t+'>'},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(t,e,n,i,o){if($(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError('out of range index');if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var u=o-i,s=n-e,h=Math.min(u,s),a=this.slice(i,o),p=t.slice(e,n),c=0;c<h;++c)if(a[c]!==p[c]){u=a[c],s=p[c];break}return u<s?-1:s<u?1:0},f.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},f.prototype.indexOf=function(t,e,n){return B(this,t,e,n,!0)},f.prototype.lastIndexOf=function(t,e,n){return B(this,t,e,n,!1)},f.prototype.write=function(t,e,n,i){if(void 0===e)i='utf8',n=this.length,e=0;else if(void 0===n&&'string'==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i='utf8')):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError('Attempt to write outside buffer bounds');i||(i='utf8');for(var f=!1;;)switch(i){case'hex':return U(this,t,e,n);case'utf8':case'utf-8':return T(this,t,e,n);case'ascii':case'latin1':case'binary':return I(this,t,e,n);case'base64':return L(this,t,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return S(this,t,e,n);default:if(f)throw new TypeError('Unknown encoding: '+i);i=(''+i).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function C(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);for(var n='',i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=x));return n}function P(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function k(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function M(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o='',f=e;f<n;++f)o+=H[t[f]];return o}function _(t,e,n){for(var i=t.slice(e,n),o='',f=0;f<i.length-1;f+=2)o+=String.fromCharCode(i[f]+256*i[f+1]);return o}function j(t,e,n){if(t%1!=0||t<0)throw new RangeError('offset is not uint');if(t+e>n)throw new RangeError('Trying to access beyond buffer length')}function z(t,e,n,i,o,u){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<u)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError('Index out of range')}function D(t,e,n,i,o,f){if(n+i>t.length)throw new RangeError('Index out of range');if(n<0)throw new RangeError('Index out of range')}function F(t,n,i,o,f){return n=+n,i>>>=0,f||D(t,0,i,4),e.write(t,n,i,o,23,4),i+4}function N(t,n,i,o,f){return n=+n,i>>>=0,f||D(t,0,i,8),e.write(t,n,i,o,52,8),i+8}f.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,f.prototype),i},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},f.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=e,o=1,f=this[t+--i];i>0&&(o*=256);)f+=this[t+--i]*o;return f>=(o*=128)&&(f-=Math.pow(2,8*e)),f},f.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,n){return t>>>=0,n||j(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,n){return t>>>=0,n||j(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,n){return t>>>=0,n||j(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,n){return t>>>=0,n||j(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||z(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,f=0;for(this[e]=255&t;++f<n&&(o*=256);)this[e+f]=t/o&255;return e+n},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||z(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,f=1;for(this[e+o]=255&t;--o>=0&&(f*=256);)this[e+o]=t/f&255;return e+n},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);z(this,t,e,n,o-1,-o)}var f=0,u=1,s=0;for(this[e]=255&t;++f<n&&(u*=256);)t<0&&0===s&&0!==this[e+f-1]&&(s=1),this[e+f]=(t/u>>0)-s&255;return e+n},f.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);z(this,t,e,n,o-1,-o)}var f=n-1,u=1,s=0;for(this[e+f]=255&t;--f>=0&&(u*=256);)t<0&&0===s&&0!==this[e+f+1]&&(s=1),this[e+f]=(t/u>>0)-s&255;return e+n},f.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},f.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},f.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},f.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},f.prototype.copy=function(t,e,n,i){if(!f.isBuffer(t))throw new TypeError('argument should be a Buffer');if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError('targetStart out of bounds');if(n<0||n>=this.length)throw new RangeError('Index out of range');if(i<0)throw new RangeError('sourceEnd out of bounds');i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n;return this===t&&'function'==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),o},f.prototype.fill=function(t,e,n,i){if('string'==typeof t){if('string'==typeof e?(i=e,e=0,n=this.length):'string'==typeof n&&(i=n,n=this.length),void 0!==i&&'string'!=typeof i)throw new TypeError('encoding must be a string');if('string'==typeof i&&!f.isEncoding(i))throw new TypeError('Unknown encoding: '+i);if(1===t.length){var o=t.charCodeAt(0);('utf8'===i&&o<128||'latin1'===i)&&(t=o)}}else'number'==typeof t?t&=255:'boolean'==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError('Out of range index');if(n<=e)return this;var u;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),'number'==typeof t)for(u=e;u<n;++u)this[u]=t;else{var s=f.isBuffer(t)?t:f.from(t,i),h=s.length;if(0===h)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(u=0;u<n-e;++u)this[u+e]=s[u%h]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function q(t){if((t=(t=t.split('=')[0]).trim().replace(Y,'')).length<2)return'';for(;t.length%4!=0;)t+='=';return t}function V(t,e){var n;e=e||1/0;for(var i=t.length,o=null,f=[],u=0;u<i;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&f.push(239,191,189);continue}if(u+1===i){(e-=3)>-1&&f.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&f.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&f.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;f.push(n)}else if(n<2048){if((e-=2)<0)break;f.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;f.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error('Invalid code point');if((e-=4)<0)break;f.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return f}function W(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,i,o,f=[],u=0;u<t.length&&!((e-=2)<0);++u)i=(n=t.charCodeAt(u))>>8,o=n%256,f.push(o),f.push(i);return f}function J(e){return t.toByteArray(q(e))}function Z(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function $(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function G(t){return t!=t}var H=(function(){for(var t=new Array(256),e=0;e<16;++e)for(var n=16*e,i=0;i<16;++i)t[n+i]="0123456789abcdef"[e]+"0123456789abcdef"[i];return t})()},501,[92,502]);
__d(function(g,r,_i,a,_m,_e,_d){_e.read=function(o,t,h,M,f){var w,p,i=8*f-M-1,n=(1<<i)-1,N=n>>1,e=-7,u=h?f-1:0,s=h?-1:1,c=o[t+u];for(u+=s,w=c&(1<<-e)-1,c>>=-e,e+=i;e>0;w=256*w+o[t+u],u+=s,e-=8);for(p=w&(1<<-e)-1,w>>=-e,e+=M;e>0;p=256*p+o[t+u],u+=s,e-=8);if(0===w)w=1-N;else{if(w===n)return p?NaN:1/0*(c?-1:1);p+=Math.pow(2,M),w-=N}return(c?-1:1)*p*Math.pow(2,w-M)},_e.write=function(o,t,h,M,f,w){var p,i,n,N=8*w-f-1,e=(1<<N)-1,u=e>>1,s=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,c=M?0:w-1,l=M?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,p=e):(p=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-p))<1&&(p--,n*=2),(t+=p+u>=1?s/n:s*Math.pow(2,1-u))*n>=2&&(p++,n/=2),p+u>=e?(i=0,p=e):p+u>=1?(i=(t*n-1)*Math.pow(2,f),p+=u):(i=t*Math.pow(2,u-1)*Math.pow(2,f),p=0));f>=8;o[h+c]=255&i,c+=l,i/=256,f-=8);for(p=p<<f|i,N+=f;N>0;o[h+c]=255&p,c+=l,p/=256,N-=8);o[h+c-l]|=128*d}},502,[]);
__d(function(g,r,_i,a,_m,e,d){'use strict';var n=r(d[0]);function t(n,t){var i="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(i)return(i=i.call(n)).next.bind(i);if(Array.isArray(n)||(i=o(n))||t&&n&&"number"==typeof n.length){i&&(n=i);var u=0;return function(){return u>=n.length?{done:!0}:{done:!1,value:n[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(n,t){if(n){if("string"==typeof n)return i(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(n,t):void 0}}function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=n[o];return i}var u=2147483647,f=/^xn--/,l=/[^\0-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},s=Math.floor,p=String.fromCharCode;function h(n){throw new RangeError(c[n])}function b(n,t){for(var o=[],i=n.length;i--;)o[i]=t(n[i]);return o}function y(n,t){var o=n.split('@'),i='';return o.length>1&&(i=o[0]+'@',n=o[1]),i+b((n=n.replace(v,'.')).split('.'),t).join('.')}function m(n){for(var t=[],o=0,i=n.length;o<i;){var u=n.charCodeAt(o++);if(u>=55296&&u<=56319&&o<i){var f=n.charCodeAt(o++);56320==(64512&f)?t.push(((1023&u)<<10)+(1023&f)+65536):(t.push(u),o--)}else t.push(u)}return t}var w=function(n,t){return n+22+75*(n<26)-((0!=t)<<5)},A=function(n,t,o){var i=0;for(n=o?s(n/700):n>>1,n+=s(n/t);n>455;i+=36)n=s(n/35);return s(i+36*n/(n+38))},C=function(n){var t,o=[],i=n.length,f=0,l=128,v=72,c=n.lastIndexOf("-");c<0&&(c=0);for(var p=0;p<c;++p)n.charCodeAt(p)>=128&&h('not-basic'),o.push(n.charCodeAt(p));for(var b=c>0?c+1:0;b<i;){for(var y=f,m=1,w=36;;w+=36){b>=i&&h('invalid-input');var C=(t=n.charCodeAt(b++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(C>=36||C>s((u-f)/m))&&h('overflow'),f+=C*m;var S=w<=v?1:w>=v+26?26:w-v;if(C<S)break;var x=36-S;m>s(u/x)&&h('overflow'),m*=x}var I=o.length+1;v=A(f-y,I,0==y),s(f/I)>u-l&&h('overflow'),l+=s(f/I),f%=I,o.splice(f++,0,l)}return String.fromCodePoint.apply(String,o)},S=function(n){for(var o,i=[],f=(n=m(n)).length,l=128,v=0,c=72,b=t(n);!(o=b()).done;){var y=o.value;y<128&&i.push(p(y))}var C=i.length,S=C;for(C&&i.push("-");S<f;){for(var x,I=u,j=t(n);!(x=j()).done;){var E=x.value;E>=l&&E<I&&(I=E)}var F=S+1;I-l>s((u-v)/F)&&h('overflow'),v+=(I-l)*F,l=I;for(var O,k=t(n);!(O=k()).done;){var M=O.value;if(M<l&&++v>u&&h('overflow'),M==l){for(var P=v,U=36;;U+=36){var _=U<=c?1:U>=c+26?26:U-c;if(P<_)break;var L=P-_,R=36-_;i.push(p(w(_+L%R,0))),P=s(L/R)}i.push(p(w(P,0))),c=A(v,F,S==C),v=0,++S}}++v,++l}return i.join('')},x={version:'2.1.0',ucs2:{decode:m,encode:function(t){return String.fromCodePoint.apply(String,n(t))}},decode:C,encode:S,toASCII:function(n){return y(n,function(n){return l.test(n)?'xn--'+S(n):n})},toUnicode:function(n){return y(n,function(n){return f.test(n)?C(n.slice(4).toLowerCase()):n})}};_m.exports=x},503,[47]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n){return n>=48&&n<=57}function t(n){return n>=65&&n<=90||n>=97&&n<=122}m.exports={isASCIIDigit:n,isASCIIAlpha:t,isASCIIAlphanumeric:function(u){return t(u)||n(u)},isASCIIHex:function(t){return n(t)||t>=65&&t<=70||t>=97&&t<=102}}},504,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";var n=r(d[0]);function t(n,t){var i="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(i)return(i=i.call(n)).next.bind(i);if(Array.isArray(n)||(i=o(n))||t&&n&&"number"==typeof n.length){i&&(n=i);var f=0;return function(){return f>=n.length?{done:!0}:{done:!1,value:n[f++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(n,t){if(n){if("string"==typeof n)return i(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(n,t):void 0}}function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=n[o];return i}var f=r(d[1]).Buffer,u=r(d[2]).isASCIIHex;function l(n,t){for(var o=[],i=0,f=n.indexOf(t);f>=0;)o.push(n.slice(i,f)),i=f+1,f=n.indexOf(t,i);return i!==n.length&&o.push(n.slice(i)),o}function c(n,t,o){for(var i=n.indexOf(t);i>=0;)n[i]=o,i=n.indexOf(t,i+1);return n}function v(n){var t=n.toString(16).toUpperCase();return 1===t.length&&(t="0"+t),"%"+t}function s(n){for(var t=f.alloc(n.byteLength),o=0,i=0;i<n.length;++i)37===n[i]&&u(n[i+1])&&u(n[i+2])?(t[o++]=parseInt(n.slice(i+1,i+3).toString(),16),i+=2):t[o++]=n[i];return t.slice(0,o)}function h(n){for(var o,i=[],u=t(l(n,38));!(o=u()).done;){var v=o.value;if(0!==v.length){var h=void 0,p=void 0,y=v.indexOf(61);y>=0?(h=v.slice(0,y),p=v.slice(y+1)):(h=v,p=f.alloc(0)),h=c(f.from(h),43,32),p=c(f.from(p),43,32),i.push([s(h).toString(),s(p).toString()])}}return i}function p(n){for(var o,i="",f=t(n);!(o=f()).done;){var u=o.value;i+=32===u?"+":42===u||45===u||46===u||u>=48&&u<=57||u>=65&&u<=90||95===u||u>=97&&u<=122?String.fromCodePoint(u):v(u)}return i}m.exports={percentEncode:v,percentDecode:s,parseUrlencoded:function(n){return h(f.from(n))},serializeUrlencoded:function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u="utf-8";void 0!==i&&(u=i);for(var l,c="",v=t(o.entries());!(l=v()).done;){var s=l.value,h=n(s,2),y=h[0],b=h[1],S=p(f.from(b[0])),x=b[1];b.length>2&&void 0!==b[2]&&("hidden"===b[2]&&"_charset_"===S?x=u:"file"===b[2]&&(x=x.name)),x=p(f.from(x)),0!==y&&(c+="&"),c+=S+"="+x}return c}}},505,[41,501,504]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),o=r(d[2]),i=r(d[3]);function l(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=s(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,n){if(t){if("string"==typeof t)return u(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(t,n):void 0}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,i=new Array(n);o<n;o++)i[o]=t[o];return i}var c=r(d[4]),p=r(d[5]),h=p.implSymbol,f=p.ctorRegistrySymbol,v=Object.create(p.IteratorPrototype,o({next:{value:function(){var t=this[p.iterInternalSymbol],n=t.target,o=t.kind,l=t.index,s=Array.from(n[h]);if(l>=s.length)return{value:void 0,done:!0};var u=s[l];t.index=l+1;var c,f=u.map(p.tryWrapperForImpl),v=i(f,2),y=v[0],b=v[1];switch(o){case"key":c=y;break;case"value":c=b;break;case"key+value":c=[y,b]}return{value:c,done:!1}},writable:!0,enumerable:!0,configurable:!0}},Symbol.toStringTag,{value:"URLSearchParams Iterator",configurable:!0})),y={_mixedIntoPredicates:[],is:function(t){if(t){if(p.hasOwn(t,h)&&t[h]instanceof b.implementation)return!0;for(var n,o=l(m.exports._mixedIntoPredicates);!(n=o()).done;){if((0,n.value)(t))return!0}}return!1},isImpl:function(t){if(t){if(t instanceof b.implementation)return!0;for(var n,o=p.wrapperForImpl(t),i=l(m.exports._mixedIntoPredicates);!(n=i()).done;){if((0,n.value)(o))return!0}}return!1},convert:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,o=void 0===n?"The provided value":n;if(m.exports.is(t))return p.implForWrapper(t);throw new TypeError(o+" is not of type 'URLSearchParams'.")},createDefaultIterator:function(t,n){var o=Object.create(v);return Object.defineProperty(o,p.iterInternalSymbol,{value:{target:t,kind:n,index:0},configurable:!0}),o},create:function(t,n,o){if(void 0===t[f])throw new Error("Internal error: invalid global object");var i=t[f].URLSearchParams;if(void 0===i)throw new Error("Internal error: constructor URLSearchParams is not installed on the passed global object");var l=Object.create(i.prototype);return l=y.setup(l,t,n,o)},createImpl:function(t,n,o){var i=y.create(t,n,o);return p.implForWrapper(i)},_internalSetup:function(t){},setup:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i.wrapper=t,y._internalSetup(t),Object.defineProperty(t,h,{value:new b.implementation(n,o,i),configurable:!0}),t[h][p.wrapperSymbol]=t,b.init&&b.init(t[h],i),t},install:function(s){var u,v=(function(){function o(){t(this,o);var n=[],i=arguments[0];if(void 0!==i)if(p.isObject(i))if(void 0!==i[Symbol.iterator]){if(!p.isObject(i))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");for(var u,h=[],f=l(i);!(u=f()).done;){var v=u.value;if(!p.isObject(v))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");for(var b,S=[],w=l(v);!(b=w()).done;){var x=b.value;x=c.USVString(x,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element"}),S.push(x)}v=S,h.push(v)}i=h}else{if(!p.isObject(i))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");for(var U,P=Object.create(null),I=l(Reflect.ownKeys(i));!(U=I()).done;){var E=U.value,R=Object.getOwnPropertyDescriptor(i,E);if(R&&R.enumerable){var F=E;F=c.USVString(F,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key"});var T=i[E];T=c.USVString(T,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value"}),P[F]=T}}i=P}else i=c.USVString(i,{context:"Failed to construct 'URLSearchParams': parameter 1"});else i="";return n.push(i),y.setup(Object.create(this.constructor.prototype),s,n)}return n(o,[{key:"append",value:function(t,n){var o;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");var i=[],l=arguments[0];l=c.USVString(l,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1"}),i.push(l);var s=arguments[1];return s=c.USVString(s,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2"}),i.push(s),(o=this[h]).append.apply(o,i)}},{key:"delete",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],i=arguments[0];return i=c.USVString(i,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1"}),o.push(i),(n=this[h]).delete.apply(n,o)}},{key:"get",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],i=arguments[0];return i=c.USVString(i,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1"}),o.push(i),(n=this[h]).get.apply(n,o)}},{key:"getAll",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],i=arguments[0];return i=c.USVString(i,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1"}),o.push(i),p.tryWrapperForImpl((n=this[h]).getAll.apply(n,o))}},{key:"has",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],i=arguments[0];return i=c.USVString(i,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1"}),o.push(i),(n=this[h]).has.apply(n,o)}},{key:"set",value:function(t,n){var o;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");var i=[],l=arguments[0];l=c.USVString(l,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1"}),i.push(l);var s=arguments[1];return s=c.USVString(s,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2"}),i.push(s),(o=this[h]).set.apply(o,i)}},{key:"sort",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[h].sort()}},{key:"toString",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[h].toString()}},{key:"keys",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"key")}},{key:"values",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"value")}},{key:"entries",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"key+value")}},{key:"forEach",value:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1 is not a function.");for(var n=arguments[1],o=Array.from(this[h]),l=0;l<o.length;){var s=o[l].map(p.tryWrapperForImpl),u=i(s,2),c=u[0],f=u[1];t.call(n,f,c,this),o=Array.from(this[h]),l++}}}]),o})();Object.defineProperties(v.prototype,(o(u={append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0}},Symbol.toStringTag,{value:"URLSearchParams",configurable:!0}),o(u,Symbol.iterator,{value:v.prototype.entries,configurable:!0,writable:!0}),u)),void 0===s[f]&&(s[f]=Object.create(null)),s[f].URLSearchParams=v,Object.defineProperty(s,"URLSearchParams",{configurable:!0,writable:!0,value:v})}};m.exports=y;var b=r(d[6])},506,[2,3,34,41,497,498,507]);
__d(function(g,r,_i2,_a,m,e,d){"use strict";var t=r(d[0]),i=r(d[1]);function n(t,i){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=s(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var l=0;return function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,i){if(t){if("string"==typeof t)return l(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,i):void 0}}function l(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=t[n];return s}var o=r(d[2]);e.implementation=(function(s){function l(i,s,a){var u=a.doNotStripQMark,c=void 0!==u&&u;t(this,l);var h=s[0];if(this._list=[],this._url=null,c||"string"!=typeof h||"?"!==h[0]||(h=h.slice(1)),Array.isArray(h))for(var f,v=n(h);!(f=v()).done;){var p=f.value;if(2!==p.length)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([p[0],p[1]])}else if("object"==typeof h&&null===Object.getPrototypeOf(h))for(var y=0,_=Object.keys(h);y<_.length;y++){var b=_[y],S=h[b];this._list.push([b,S])}else this._list=o.parseUrlencoded(h)}return i(l,[{key:"_updateSteps",value:function(){if(null!==this._url){var t=o.serializeUrlencoded(this._list);""===t&&(t=null),this._url._url.query=t}}},{key:"append",value:function(t,i){this._list.push([t,i]),this._updateSteps()}},{key:"delete",value:function(t){for(var i=0;i<this._list.length;)this._list[i][0]===t?this._list.splice(i,1):i++;this._updateSteps()}},{key:"get",value:function(t){for(var i,s=n(this._list);!(i=s()).done;){var l=i.value;if(l[0]===t)return l[1]}return null}},{key:"getAll",value:function(t){for(var i,s=[],l=n(this._list);!(i=l()).done;){var o=i.value;o[0]===t&&s.push(o[1])}return s}},{key:"has",value:function(t){for(var i,s=n(this._list);!(i=s()).done;){if(i.value[0]===t)return!0}return!1}},{key:"set",value:function(t,i){for(var n=!1,s=0;s<this._list.length;)this._list[s][0]===t?n?this._list.splice(s,1):(n=!0,this._list[s][1]=i,s++):s++;n||this._list.push([t,i]),this._updateSteps()}},{key:"sort",value:function(){var t,i;this._list=(t=this._list,i=function(t,i){return t[0]>i[0]},t.map(function(t,i){return{item:t,index:i}}).sort(function(t,n){return i(t.item,n.item)||t.index-n.index}).map(function(t){return t.item})),this._updateSteps()}},{key:s,value:function(){return this._list[Symbol.iterator]()}},{key:"toString",value:function(){return o.serializeUrlencoded(this._list)}}]),l})(Symbol.iterator)},507,[2,3,505]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"URLSearchParams",{enumerable:!0,get:function(){return n.URLSearchParams}});var n=r(d[0])},508,[494]);
__d(function(g,r,_i2,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),i=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4]));function l(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=f(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,n){if(t){if("string"==typeof t)return s(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,n):void 0}}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,o=new Array(n);i<n;i++)o[i]=t[i];return o}var h=(function(){function t(n){var o=this;(0,i.default)(this,t),this._keyPrefix=n;var u=this._initializeAsync();u&&(this._initializing=u,u.finally(function(){o._initializing===u&&(o._initializing=void 0)}))}return(0,o.default)(t,[{key:"clear",value:function(){for(var t=0,n=Object.keys(this);t<n.length;t++){var i=n[t];this.removeItem(i)}}},{key:"getItem",value:function(t){return this.hasOwnProperty(t)?this[t]:null}},{key:"_getItemAsync",value:function(t){var n=this;return(this._initializing||Promise.resolve()).catch(function(){}).then(function(){return n.getItem(t)})}},{key:"_initializeAsync",value:function(){var t=this;if(void 0!==this._keyPrefix)return new Promise(function(i){u.default.getAllKeys().then(function(){for(var o=arguments.length,f=new Array(o),s=0;s<o;s++)f[s]=arguments[s];var h=f[f.length-1].filter(function(n){return n.startsWith(t._keyPrefix)});u.default.multiGet(h).then(function(){for(var o,u,f=(o=arguments.length-1)<0||arguments.length<=o?void 0:arguments[o],s=t._keyPrefix&&t._keyPrefix.length,h=l(f);!(u=h()).done;){var y=u.value,c=(0,n.default)(y,2),v=c[0],k=c[1];v=v.substring(s),t.hasOwnProperty(v)||(t[v]=k)}i()})})})}},{key:"key",value:function(t){var n=Object.keys(this);return t<n.length?n[t]:null}},{key:"length",get:function(){return Object.keys(this).length}},{key:"removeItem",value:function(t){delete this[t],void 0===this._keyPrefix||u.default.removeItem(""+String(this._keyPrefix)+t)}},{key:"setItem",value:function(t,n){n=String(n),this[t]=n,void 0===this._keyPrefix||u.default.setItem(""+String(this._keyPrefix)+t,n)}}]),t})();e.default=h},509,[1,41,2,3,510]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Object.defineProperty(e,"useAsyncStorage",{enumerable:!0,get:function(){return n.useAsyncStorage}});var u=t(r(d[1])),n=r(d[2]),o=u.default;e.default=o},510,[1,511,514]);
__d(function(g,r,_i,a,m,_e,d){'use strict';var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2]));if(!n.default)throw new Error("[@RNC/AsyncStorage]: NativeModule: AsyncStorage is null.\n\nTo fix this issue try these steps:\n\n  \u2022 Run `react-native link @react-native-async-storage/async-storage` in the project root.\n\n  \u2022 Rebuild and restart the app.\n\n  \u2022 Run the packager with `--reset-cache` flag.\n\n  \u2022 If you are using CocoaPods on iOS, run `pod install` in the `ios` directory and then rebuild and re-run the app.\n\n  \u2022 If this happens while testing with Jest, check out docs how to integrate AsyncStorage with it: https://react-native-async-storage.github.io/async-storage/docs/advanced/jest\n\nIf none of these fix the issue, please open an issue on the Github repository: https://github.com/react-native-async-storage/react-native-async-storage/issues\n");function i(e,t){var n=arguments.length>1;if('string'!=typeof e&&console.warn("[AsyncStorage] Using "+typeof e+" type for key is not supported. This can lead to unexpected behavior/errors. Use string instead.\nKey passed: "+e+"\n"),n&&'string'!=typeof t){if(null==t)throw new Error("[AsyncStorage] Passing null/undefined as value is not supported. If you want to remove value, Use .removeItem method instead.\nPassed value: "+t+"\nPassed key: "+e+"\n");console.warn("[AsyncStorage] The value for key \""+e+"\" is not a string. This can lead to unexpected behavior/errors. Consider stringifying it.\nPassed value: "+t+"\nPassed key: "+e+"\n")}}function u(e,t){if(!Array.isArray(e)||0===e.length||!Array.isArray(e[0]))throw new Error('[AsyncStorage] Expected array of key-value pairs as first argument to multiSet');if(t&&'function'!=typeof t){if(Array.isArray(t))throw new Error('[AsyncStorage] Expected function as second argument to multiSet. Did you forget to wrap key-value pairs in an array for the first argument?');throw new Error('[AsyncStorage] Expected function as second argument to multiSet')}}var o={_getRequests:[],_getKeys:[],_immediate:null,getItem:function(e,t){return new Promise(function(u,o){i(e),n.default.multiGet([e],function(e,n){var i=n&&n[0]&&n[0][1]?n[0][1]:null,l=s(e);t&&t(l&&l[0],i),l?o(l[0]):u(i)})})},setItem:function(e,t,u){return new Promise(function(o,l){i(e,t),n.default.multiSet([[e,t]],function(e){var t=s(e);u&&u(t&&t[0]),t?l(t[0]):o(null)})})},removeItem:function(e,t){return new Promise(function(u,o){i(e),n.default.multiRemove([e],function(e){var n=s(e);t&&t(n&&n[0]),n?o(n[0]):u(null)})})},mergeItem:function(e,t,u){return new Promise(function(o,l){i(e,t),n.default.multiMerge([[e,t]],function(e){var t=s(e);u&&u(t&&t[0]),t?l(t[0]):o(null)})})},clear:function(e){return new Promise(function(t,i){n.default.clear(function(n){var u=l(n);e&&e(u),u?i(u):t(null)})})},getAllKeys:function(e){return new Promise(function(t,i){n.default.getAllKeys(function(n,u){var o=l(n);e&&e(o,u),o?i(o):t(u)})})},flushGetRequests:function(){var e=this._getRequests,i=this._getKeys;this._getRequests=[],this._getKeys=[],n.default.multiGet(i,function(n,i){var u={};i&&i.forEach(function(e){var n=(0,t.default)(e,2),i=n[0],o=n[1];return u[i]=o,o});for(var o=e.length,l=s(n),c=l&&l.length?l[0]:null,f=0;f<o;f++){var h=e[f];if(c)h.callback&&h.callback(c),h.reject&&h.reject(c);else{var y=h.keys.map(function(e){return[e,u[e]]});h.callback&&h.callback(null,y),h.resolve&&h.resolve(y)}}})},multiGet:function(e,t){var n=this;this._immediate||(this._immediate=setImmediate(function(){n._immediate=null,n.flushGetRequests()}));var i={keys:e,callback:t,keyIndex:this._getKeys.length,resolve:null,reject:null},u=new Promise(function(e,t){i.resolve=e,i.reject=t});return this._getRequests.push(i),e.forEach(function(e){-1===n._getKeys.indexOf(e)&&n._getKeys.push(e)}),u},multiSet:function(e,o){return u(e,o),new Promise(function(u,l){e.forEach(function(e){var n=(0,t.default)(e,2);i(n[0],n[1])}),n.default.multiSet(e,function(e){var t=s(e);o&&o(t),t?l(t):u(null)})})},multiRemove:function(e,t){return new Promise(function(u,o){e.forEach(function(e){return i(e)}),n.default.multiRemove(e,function(e){var n=s(e);t&&t(n),n?o(n):u(null)})})},multiMerge:function(e,t){return new Promise(function(i,u){n.default.multiMerge(e,function(e){var n=s(e);t&&t(n),n?u(n):i(null)})})}};function s(e){return!e||Array.isArray(e)&&0===e.length?null:(Array.isArray(e)?e:[e]).map(function(e){return l(e)})}function l(e){if(!e)return null;var t=new Error(e.message);return t.key=e.key,t}n.default.multiMerge||(delete o.mergeItem,delete o.multiMerge);var c=o;_e.default=c},511,[1,41,512]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),o=t.NativeModules,c=t.TurboModuleRegistry,l=r(d[1]),S=o.PlatformLocalStorage||o.RNC_AsyncSQLiteDBStorage||o.RNCAsyncStorage;!S&&l()&&(S=c?c.get('AsyncSQLiteDBStorage')||c.get('AsyncLocalStorage'):o.AsyncSQLiteDBStorage||o.AsyncLocalStorage);var n=S;e.default=n},512,[14,513]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]).NativeModules;m.exports=function(){var t,o,u=null==(t=n.NativeUnimoduleProxy)?void 0:null==(o=t.modulesConstants)?void 0:o.ExponentConstants;if(u&&(u.appOwnership&&!u.executionEnvironment||['storeClient','standalone'].includes(u.executionEnvironment)))return!0;return!1}},513,[14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useAsyncStorage=function(t){return{getItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.getItem.apply(n.default,[t].concat(f))},setItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.setItem.apply(n.default,[t].concat(f))},mergeItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.mergeItem.apply(n.default,[t].concat(f))},removeItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.removeItem.apply(n.default,[t].concat(f))}}};var n=t(r(d[1]))},514,[1,511]);
__d(function(e,t,r,s,a,i,n){a.exports={name:"react-native",version:"0.66.4",bin:"./cli.js",description:"A framework for building native apps using React",license:"MIT",repository:"github:facebook/react-native",engines:{node:">=12"},"jest-junit":{outputDirectory:"reports/junit",outputName:"js-test-results.xml"},files:["!template/node_modules","!template/package-lock.json","!template/yarn.lock","android","cli.js","flow","flow-typed","index.js","interface.js","jest-preset.js","jest","Libraries","LICENSE","local-cli","React-Core.podspec","react-native.config.js","react.gradle","React.podspec","React","ReactAndroid","ReactCommon","README.md","rn-get-polyfills.js","scripts/compose-source-maps.js","scripts/find-node.sh","scripts/generate-specs.sh","scripts/generate-specs-cli.js","scripts/ios-configure-glog.sh","scripts/launchPackager.bat","scripts/launchPackager.command","scripts/node-binary.sh","scripts/packager.sh","scripts/react_native_pods.rb","scripts/react-native-xcode.sh","template.config.js","template","third-party-podspecs"],scripts:{start:"react-native start",test:"jest","test-ci":"jest --maxWorkers=2 --ci --reporters=\"default\" --reporters=\"jest-junit\"",flow:"flow","flow-check-ios":"flow check","flow-check-android":"flow check --flowconfig-name .flowconfig.android",lint:"eslint .","lint-ci":"./scripts/circleci/analyze_code.sh && yarn shellcheck","lint-java":"node ./scripts/lint-java.js",shellcheck:"./scripts/circleci/analyze_scripts.sh","clang-format":"clang-format -i --glob=*/**/*.{h,cpp,m,mm}",format:"npm run prettier && npm run clang-format",prettier:"prettier --write \"./**/*.{js,md,yml}\"","format-check":"prettier --list-different \"./**/*.{js,md,yml}\"","update-lock":"npx yarn-deduplicate","docker-setup-android":"docker pull reactnativecommunity/react-native-android:4.0","docker-build-android":"docker build -t reactnativeci/android -f .circleci/Dockerfiles/Dockerfile.android .","test-android-run-instrumentation":"docker run --cap-add=SYS_ADMIN -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-android-docker-instrumentation-tests.sh","test-android-run-unit":"docker run --cap-add=SYS_ADMIN -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-android-docker-unit-tests.sh","test-android-run-e2e":"docker run --privileged -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-ci-e2e-tests.sh --android --js","test-android-all":"yarn run docker-build-android && yarn run test-android-run-unit && yarn run test-android-run-instrumentation && yarn run test-android-run-e2e","test-android-instrumentation":"yarn run docker-build-android && yarn run test-android-run-instrumentation","test-android-unit":"yarn run docker-build-android && yarn run test-android-run-unit","test-android-e2e":"yarn run docker-build-android && yarn run test-android-run-e2e","build-ios-e2e":"detox build -c ios.sim.release","test-ios-e2e":"detox test -c ios.sim.release packages/rn-tester/e2e","test-ios":"./scripts/objc-test.sh test"},peerDependencies:{react:"17.0.2"},dependencies:{"@jest/create-cache-key-function":"^27.0.1","@react-native-community/cli":"^6.0.0","@react-native-community/cli-platform-android":"^6.0.0","@react-native-community/cli-platform-ios":"^6.0.0","@react-native/assets":"1.0.0","@react-native/normalize-color":"1.0.0","@react-native/polyfills":"2.0.0","abort-controller":"^3.0.0",anser:"^1.4.9","base64-js":"^1.1.2","event-target-shim":"^5.0.1","hermes-engine":"~0.9.0",invariant:"^2.2.4","jsc-android":"^250230.2.1","metro-babel-register":"0.66.2","metro-react-native-babel-transformer":"0.66.2","metro-runtime":"0.66.2","metro-source-map":"0.66.2",nullthrows:"^1.1.1","pretty-format":"^26.5.2",promise:"^8.0.3","prop-types":"^15.7.2","react-devtools-core":"^4.13.0","react-native-codegen":"^0.0.7","react-refresh":"^0.4.0","regenerator-runtime":"^0.13.2",scheduler:"^0.20.2","stacktrace-parser":"^0.1.3","use-subscription":"^1.0.0","whatwg-fetch":"^3.0.0",ws:"^6.1.4"},devDependencies:{"flow-bin":"^0.158.0",react:"17.0.2","@babel/core":"^7.14.0","@babel/generator":"^7.14.0","@babel/template":"^7.0.0","@babel/types":"^7.0.0","@react-native-community/eslint-plugin":"*","@reactions/component":"^2.0.2",async:"^2.4.0","babel-eslint":"^10.1.0","babel-preset-fbjs":"^3.4.0","clang-format":"^1.2.4",connect:"^3.6.5",coveralls:"^3.0.2",detox:"16.7.2",eslint:"7.12.0","eslint-config-fb-strict":"^24.9.0","eslint-config-fbjs":"2.1.0","eslint-config-prettier":"^6.0.0","eslint-plugin-babel":"^5.3.0","eslint-plugin-eslint-comments":"^3.1.1","eslint-plugin-flowtype":"2.50.3","eslint-plugin-jest":"22.4.1","eslint-plugin-jsx-a11y":"6.2.1","eslint-plugin-prettier":"2.6.2","eslint-plugin-react":"7.21.5","eslint-plugin-react-hooks":"^4.2.0","eslint-plugin-react-native":"3.10.0","eslint-plugin-relay":"1.8.1",jest:"^26.6.3","jest-junit":"^10.0.0",jscodeshift:"^0.11.0","metro-transform-plugins":"^0.66.0",mkdirp:"^0.5.1",prettier:"1.19.1","react-shallow-renderer":"16.14.1","react-test-renderer":"17.0.2",shelljs:"^0.7.8",signedsource:"^1.0.0",ws:"^6.1.4",yargs:"^15.3.1","metro-babel-register":"0.66.2"},detox:{"test-runner":"jest","runner-config":"packages/rn-tester/e2e/config.json",specs:"",configurations:{"android.emu.release":{binaryPath:"packages/rn-tester/android/app/build/outputs/apk/hermes/release/app-hermes-x86-release.apk",testBinaryPath:"packages/rn-tester/android/app/build/outputs/apk/androidTest/hermes/release/app-hermes-release-androidTest.apk",build:"./gradlew :packages:rn-tester:android:app:assembleRelease :packages:rn-tester:android:app:assembleAndroidTest -DtestBuildType=release",type:"android.emulator",device:{avdName:"Nexus_6_API_29"}},"android.emu.debug":{binaryPath:"packages/rn-tester/android/app/build/outputs/apk/hermes/debug/app-hermes-x86-debug.apk",testBinaryPath:"packages/rn-tester/android/app/build/outputs/apk/androidTest/hermes/debug/app-hermes-debug-androidTest.apk",build:"./gradlew :packages:rn-tester:android:app:assembleDebug :packages:rn-tester:android:app:assembleAndroidTest -DtestBuildType=debug",type:"android.emulator",device:{avdName:"Nexus_6_API_29"}},"ios.sim.release":{binaryPath:"packages/rn-tester/build/Build/Products/Release-iphonesimulator/RNTester.app/",build:"xcodebuild -workspace packages/rn-tester/RNTesterPods.xcworkspace -scheme RNTester -configuration Release -sdk iphonesimulator -derivedDataPath packages/rn-tester/build -UseModernBuildSystem=NO -quiet",type:"ios.simulator",name:"iPhone 8"},"ios.sim.debug":{binaryPath:"packages/rn-tester/build/Build/Products/Debug-iphonesimulator/RNTester.app/",build:"xcodebuild -workspace packages/rn-tester/RNTesterPods.xcworkspace -scheme RNTester -configuration Debug -sdk iphonesimulator -derivedDataPath packages/rn-tester/build -UseModernBuildSystem=NO -quiet",type:"ios.simulator",name:"iPhone 8"}}}}},515,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=r(d[1]),t=n(r(d[2]));!(function(n){void 0===n.MediaStream&&(n.MediaStream=o.MediaStream),void 0===n.MediaStreamTrack&&(n.MediaStreamTrack=o.MediaStreamTrack),void 0===n.RTCIceCandidate&&(n.RTCIceCandidate=o.RTCIceCandidate),void 0===n.RTCPeerConnection&&(n.RTCPeerConnection=t.default),void 0===n.RTCPeerConnection&&(n.webkitRTCPeerConnection=t.default),void 0===n.RTCSessionDescription&&(n.RTCSessionDescription=o.RTCSessionDescription);var s=n.navigator;s&&(void 0===s.mediaDevices&&(s.mediaDevices=o.mediaDevices),void 0===s.permissions&&(s.permissions=o.permissions))})(g||window||this)},516,[1,517,541]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MediaStream",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"MediaStreamTrack",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"RTCIceCandidate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"RTCPeerConnection",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"RTCSessionDescription",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"RTCView",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"ScreenCapturePickerView",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"mediaDevices",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"permissions",{enumerable:!0,get:function(){return v.default}}),e.registerGlobals=function(){if('object'!=typeof g.navigator)throw new Error('navigator is not an object');g.navigator.mediaDevices||(g.navigator.mediaDevices={});g.navigator.mediaDevices.getUserMedia=s.default.getUserMedia.bind(s.default),g.navigator.mediaDevices.getDisplayMedia=s.default.getDisplayMedia.bind(s.default),g.navigator.mediaDevices.enumerateDevices=s.default.enumerateDevices.bind(s.default),g.RTCPeerConnection=u.default,g.RTCIceCandidate=o.default,g.RTCSessionDescription=f.default,g.MediaStream=l.default,g.MediaStreamTrack=b.default};var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),f=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),b=t(r(d[7])),s=t(r(d[8])),v=t(r(d[9]))},517,[1,518,519,532,531,535,522,524,536,540]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,r(d[0]).requireNativeComponent)('ScreenCapturePickerView');e.default=t},518,[14]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),i=e(r(d[3])),o=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),s=r(d[7]),l=r(d[8]),f=e(r(d[9])),p=e(r(d[10])),h=e(r(d[11])),v=e(r(d[12])),C=e(r(d[13])),S=e(r(d[14])),_=e(r(d[15])),y=e(r(d[16])),w=e(r(d[17])),I=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var u=o?Object.getOwnPropertyDescriptor(e,c):null;u&&(u.get||u.set)?Object.defineProperty(i,c,u):i[c]=e[c]}i.default=e,n&&n.set(e,i);return i})(r(d[18])),b=e(r(d[19]));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var L=l.NativeModules.WebRTCModule,R=0,P=(function(e){(0,o.default)(E,e);var s,l,O=(s=E,l=A(),function(){var e,t=(0,u.default)(s);if(l){var n=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,c.default)(this,e)});function E(e){var t;return(0,n.default)(this,E),(t=O.call(this)).localDescription=null,t.remoteDescription=null,t.signalingState='stable',t.iceGatheringState='new',t.connectionState='new',t.iceConnectionState='new',t._localStreams=[],t._remoteStreams=[],t._subscriptions=[],t._peerConnectionId=R++,L.peerConnectionInit(e,t._peerConnectionId),t._registerEvents(),t}return(0,i.default)(E,[{key:"addStream",value:function(e){-1===this._localStreams.indexOf(e)&&(L.peerConnectionAddStream(e._reactTag,this._peerConnectionId),this._localStreams.push(e))}},{key:"removeStream",value:function(e){var t=this._localStreams.indexOf(e);-1!==t&&(this._localStreams.splice(t,1),L.peerConnectionRemoveStream(e._reactTag,this._peerConnectionId))}},{key:"createOffer",value:function(e){var t=this;return new Promise(function(n,i){L.peerConnectionCreateOffer(t._peerConnectionId,I.normalizeOfferAnswerOptions(e),function(e,t){e?n(t):i(t)})})}},{key:"createAnswer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,i){L.peerConnectionCreateAnswer(e._peerConnectionId,I.normalizeOfferAnswerOptions(t),function(e,t){e?n(t):i(t)})})}},{key:"setConfiguration",value:function(e){L.peerConnectionSetConfiguration(e,this._peerConnectionId)}},{key:"setLocalDescription",value:function(e){var n,i;return t.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=e?e.toJSON?e.toJSON():e:null,o.next=3,t.default.awrap(L.peerConnectionSetLocalDescription(this._peerConnectionId,n));case 3:i=o.sent,this.localDescription=new S.default(i);case 5:case"end":return o.stop()}},null,this,null,Promise)}},{key:"setRemoteDescription",value:function(e){var t=this;return new Promise(function(n,i){L.peerConnectionSetRemoteDescription(e.toJSON?e.toJSON():e,t._peerConnectionId,function(e,o){e?(t.remoteDescription=new S.default(o),n()):i(o)})})}},{key:"addIceCandidate",value:function(e){var n;return t.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e&&e.candidate){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,t.default.awrap(L.peerConnectionAddICECandidate(this._peerConnectionId,e.toJSON?e.toJSON():e));case 4:n=i.sent,this.remoteDescription=new S.default(n);case 6:case"end":return i.stop()}},null,this,null,Promise)}},{key:"getStats",value:function(){return L.peerConnectionGetStats(this._peerConnectionId).then(function(e){return new Map(JSON.parse(e))})}},{key:"getLocalStreams",value:function(){return this._localStreams.slice()}},{key:"getRemoteStreams",value:function(){return this._remoteStreams.slice()}},{key:"close",value:function(){L.peerConnectionClose(this._peerConnectionId)}},{key:"restartIce",value:function(){L.peerConnectionRestartIce(this._peerConnectionId)}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(e){return e.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var e=this;this._subscriptions=[b.default.addListener('peerConnectionOnRenegotiationNeeded',function(t){t.id===e._peerConnectionId&&e.dispatchEvent(new w.default('negotiationneeded'))}),b.default.addListener('peerConnectionIceConnectionChanged',function(t){t.id===e._peerConnectionId&&(e.iceConnectionState=t.iceConnectionState,e.dispatchEvent(new w.default('iceconnectionstatechange')),'closed'===t.iceConnectionState&&e._unregisterEvents())}),b.default.addListener('peerConnectionStateChanged',function(t){t.id===e._peerConnectionId&&(e.connectionState=t.connectionState,e.dispatchEvent(new w.default('connectionstatechange')),'closed'===t.connectionState&&e._unregisterEvents())}),b.default.addListener('peerConnectionSignalingStateChanged',function(t){t.id===e._peerConnectionId&&(e.signalingState=t.signalingState,e.dispatchEvent(new w.default('signalingstatechange')))}),b.default.addListener('peerConnectionAddedStream',function(t){if(t.id===e._peerConnectionId){var n=new f.default(t);e._remoteStreams.push(n),e.remoteDescription=new S.default(t.sdp),e.dispatchEvent(new p.default('addstream',{stream:n}))}}),b.default.addListener('peerConnectionRemovedStream',function(t){if(t.id===e._peerConnectionId){var n=e._remoteStreams.find(function(e){return e._reactTag===t.streamId});if(n){var i=e._remoteStreams.indexOf(n);-1!==i&&e._remoteStreams.splice(i,1)}e.remoteDescription=new S.default(t.sdp),e.dispatchEvent(new p.default('removestream',{stream:n}))}}),b.default.addListener('mediaStreamTrackMuteChanged',function(t){if(t.peerConnectionId===e._peerConnectionId){for(var n,i,o=k(e._remoteStreams);!(i=o()).done;){var c=i.value._tracks.find(function(e){return e.id===t.trackId});if(c){n=c;break}}if(n){n._muted=t.muted;var u=t.muted?'mute':'unmute';n.dispatchEvent(new h.default(u,{track:n}))}}}),b.default.addListener('peerConnectionGotICECandidate',function(t){if(t.id===e._peerConnectionId){e.localDescription=new S.default(t.sdp);var n=new _.default(t.candidate);e.dispatchEvent(new y.default('icecandidate',{candidate:n}))}}),b.default.addListener('peerConnectionIceGatheringChanged',function(t){t.id===e._peerConnectionId&&(e.iceGatheringState=t.iceGatheringState,'complete'===e.iceGatheringState&&(e.localDescription=new S.default(t.sdp),e.dispatchEvent(new y.default('icecandidate',{candidate:null}))),e.dispatchEvent(new w.default('icegatheringstatechange')))}),b.default.addListener('peerConnectionDidOpenDataChannel',function(t){if(t.id===e._peerConnectionId){var n=new v.default(t.dataChannel);e.dispatchEvent(new C.default('datachannel',{channel:n}))}})]}},{key:"createDataChannel",value:function(e,t){if(t&&'id'in t){var n=t.id;if('number'!=typeof n)throw new TypeError('DataChannel id must be a number: '+n)}var i=L.createDataChannel(this._peerConnectionId,e,t);if(null===i)throw new TypeError('Failed to create new DataChannel');return new v.default(i)}}]),E})(s.defineCustomEventTarget.apply(void 0,['connectionstatechange','icecandidate','icecandidateerror','iceconnectionstatechange','icegatheringstatechange','negotiationneeded','signalingstatechange','datachannel','addstream','removestream']));_e.default=P},519,[1,68,2,3,4,6,9,520,14,522,525,526,527,529,531,532,533,534,523,530]);
__d(function(g,r,_i8,a,m,_e,_d){'use strict';var e,t=r(_d[0]),n=r(_d[1]),o=r(_d[2]),i=r(_d[3]),u=r(_d[4]),c=r(_d[5]),l=r(_d[6]),s=r(_d[7]),p=r(_d[8]),f=r(_d[9]),v=r(_d[10]);function b(e){var t=d();return function(){var n,o=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return c(this,n)}}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e,t){if(!e){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];throw new TypeError(O(t,o))}}function O(e,t){var n=0;return e.replace(/%[os]/g,function(){return P(t[n++])})}function P(e){return"object"!=typeof e||null===e?String(e):Object.prototype.toString.call(e)}function R(t){try{var n=t instanceof Error?t:new Error(P(t));if(e)return void e(n);if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:n,message:n.message}));else if("undefined"!=typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",n);console.error(n)}catch(e){}}Object.defineProperty(_e,'__esModule',{value:!0});var k,w="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==g?g:"undefined"!=typeof globalThis?globalThis:void 0;var T=(function(){function e(t,n){f(this,e),this.code=t,this.message=n}return v(e,[{key:"warn",value:function(){var e;try{for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];if(k)return void k(h(h({},this),{},{args:o}));var u=(null!==(e=(new Error).stack)&&void 0!==e?e:"").replace(/^(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?\n){2}/g,"\n");(t=console).warn.apply(t,[this.message].concat(o,[u]))}catch(e){}}}]),e})(),_=new T("W01","Unable to initialize event under dispatching."),F=new T("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),A=new T("W03","Assigning any truthy value to 'returnValue' property has no effect."),D=new T("W04","Unable to preventDefault on non-cancelable events."),I=new T("W05","Unable to preventDefault inside passive event listener invocation."),j=new T("W06","An event listener wasn't added because it has been added already: %o, %o"),S=new T("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),N=new T("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),B=new T("W09","Event attribute handler must be a function: %o"),L=(function(){function e(t,n){f(this,e),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});var o=null!==n&&void 0!==n?n:{};V.set(this,{type:String(t),bubbles:Boolean(o.bubbles),cancelable:Boolean(o.cancelable),composed:Boolean(o.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}return v(e,[{key:"type",get:function(){return H(this).type}},{key:"target",get:function(){return H(this).target}},{key:"srcElement",get:function(){return H(this).target}},{key:"currentTarget",get:function(){return H(this).currentTarget}},{key:"composedPath",value:function(){var e=H(this).currentTarget;return e?[e]:[]}},{key:"NONE",get:function(){return C}},{key:"CAPTURING_PHASE",get:function(){return U}},{key:"AT_TARGET",get:function(){return W}},{key:"BUBBLING_PHASE",get:function(){return M}},{key:"eventPhase",get:function(){return H(this).dispatchFlag?2:0}},{key:"stopPropagation",value:function(){H(this).stopPropagationFlag=!0}},{key:"cancelBubble",get:function(){return H(this).stopPropagationFlag},set:function(e){e?H(this).stopPropagationFlag=!0:F.warn()}},{key:"stopImmediatePropagation",value:function(){var e=H(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}},{key:"bubbles",get:function(){return H(this).bubbles}},{key:"cancelable",get:function(){return H(this).cancelable}},{key:"returnValue",get:function(){return!H(this).canceledFlag},set:function(e){e?A.warn():G(H(this))}},{key:"preventDefault",value:function(){G(H(this))}},{key:"defaultPrevented",get:function(){return H(this).canceledFlag}},{key:"composed",get:function(){return H(this).composed}},{key:"isTrusted",get:function(){return!1}},{key:"timeStamp",get:function(){return H(this).timeStamp}},{key:"initEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=H(this);o.dispatchFlag?_.warn():V.set(this,h(h({},o),{},{type:String(e),bubbles:Boolean(t),cancelable:Boolean(n),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1}))}}],[{key:"NONE",get:function(){return C}},{key:"CAPTURING_PHASE",get:function(){return U}},{key:"AT_TARGET",get:function(){return W}},{key:"BUBBLING_PHASE",get:function(){return M}}]),e})(),C=0,U=1,W=2,M=3,V=new WeakMap;function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",n=V.get(e);return E(null!=n,"'%s' must be an object that Event constructor created, but got another one: %o",t,e),n}function G(e){e.inPassiveListenerFlag?I.warn():e.cancelable?e.canceledFlag=!0:D.warn()}Object.defineProperty(L,"NONE",{enumerable:!0}),Object.defineProperty(L,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(L,"AT_TARGET",{enumerable:!0}),Object.defineProperty(L,"BUBBLING_PHASE",{enumerable:!0});for(var x,Y=Object.getOwnPropertyNames(L.prototype),X=0;X<Y.length;++X)"constructor"!==Y[X]&&Object.defineProperty(L.prototype,Y[X],{enumerable:!0});void 0!==w&&void 0!==w.Event&&Object.setPrototypeOf(L.prototype,w.Event.prototype);var Q={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function Z(e){for(var t=Object.keys(Q),n=function(n){var o=t[n],i=Q[o];Object.defineProperty(e,o,{get:function(){return i},configurable:!0,enumerable:!0})},o=0;o<t.length;++o)n(o)}var z=(function(e){u(c,L);var t=b(c);function c(e){var n,u,s;f(this,c),s=t.call(this,e.type,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}),e.cancelBubble&&o((n=i(s),l(c.prototype)),"stopPropagation",n).call(n),e.defaultPrevented&&o((u=i(s),l(c.prototype)),"preventDefault",u).call(u),K.set(i(s),{original:e});for(var p=Object.keys(e),v=0;v<p.length;++v){var b=p[v];b in i(s)||Object.defineProperty(i(s),b,te(e,b))}return s}return v(c,[{key:"stopPropagation",value:function(){o(l(c.prototype),"stopPropagation",this).call(this);var e=q(this).original;"stopPropagation"in e&&e.stopPropagation()}},{key:"cancelBubble",get:function(){return o(l(c.prototype),"cancelBubble",this)},set:function(e){n(l(c.prototype),"cancelBubble",e,this,!0);var t=q(this).original;"cancelBubble"in t&&(t.cancelBubble=e)}},{key:"stopImmediatePropagation",value:function(){o(l(c.prototype),"stopImmediatePropagation",this).call(this);var e=q(this).original;"stopImmediatePropagation"in e&&e.stopImmediatePropagation()}},{key:"returnValue",get:function(){return o(l(c.prototype),"returnValue",this)},set:function(e){n(l(c.prototype),"returnValue",e,this,!0);var t=q(this).original;"returnValue"in t&&(t.returnValue=e)}},{key:"preventDefault",value:function(){o(l(c.prototype),"preventDefault",this).call(this);var e=q(this).original;"preventDefault"in e&&e.preventDefault()}},{key:"timeStamp",get:function(){var e=q(this).original;return"timeStamp"in e?e.timeStamp:o(l(c.prototype),"timeStamp",this)}}],[{key:"wrap",value:function(e){return new($(e))(e)}}]),c})(),K=new WeakMap;function q(e){var t=K.get(e);return E(null!=t,"'this' is expected an Event object, but got",e),t}var J=new WeakMap;function $(e){var t=Object.getPrototypeOf(e);if(null==t)return z;var n=J.get(t);return null==n&&(n=ee($(t),t),J.set(t,n)),n}function ee(e,t){for(var n=(function(t){u(o,e);var n=b(o);function o(){return f(this,o),n.apply(this,arguments)}return v(o)})(),o=Object.keys(t),i=0;i<o.length;++i)Object.defineProperty(n.prototype,o[i],te(t,o[i]));return n}function te(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return{get:function(){var e=q(this).original,n=e[t];return"function"==typeof n?n.bind(e):n},set:function(e){q(this).original[t]=e},configurable:n.configurable,enumerable:n.enumerable}}function ne(e,t,n,o,i,u){return{callback:e,flags:(t?1:0)|(n?2:0)|(o?4:0),signal:i,signalListener:u}}function re(e){e.flags|=8}function oe(e){return 1==(1&e.flags)}function ae(e){return 2==(2&e.flags)}function ie(e){return 4==(4&e.flags)}function ue(e){return 8==(8&e.flags)}function ce(e,t,n){var o=e.callback;try{"function"==typeof o?o.call(t,n):"function"==typeof o.handleEvent&&o.handleEvent(n)}catch(e){R(e)}}function le(e,t,n){for(var o=e.listeners,i=0;i<o.length;++i)if(o[i].callback===t&&oe(o[i])===n)return i;return-1}function se(e,n,o,i,u,c){var l;c&&(l=pe.bind(null,e,n,o),c.addEventListener("abort",l));var s=ne(n,o,i,u,c,l);return e.cow?(e.cow=!1,e.listeners=[].concat(t(e.listeners),[s])):e.listeners.push(s),s}function pe(e,t,n){var o=le(e,t,n);return-1!==o&&fe(e,o)}function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.listeners[t];return re(o),o.signal&&o.signal.removeEventListener("abort",o.signalListener),e.cow&&!n?(e.cow=!1,e.listeners=e.listeners.filter(function(e,n){return n!==t}),!1):(e.listeners.splice(t,1),!0)}function ge(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}J.set(Object.prototype,z),void 0!==w&&void 0!==w.Event&&J.set(w.Event.prototype,z);var ve=(function(){function e(){f(this,e),be.set(this,Object.create(null))}return v(e,[{key:"addEventListener",value:function(e,t,n){var o=de(this),i=ye(e,t,n),u=i.callback,c=i.capture,l=i.once,s=i.passive,p=i.signal,f=i.type;if(null!=u&&(null===p||void 0===p||!p.aborted)){var v=ge(o,f),b=le(v,u,c);-1===b?se(v,u,c,s,l,p):me(v.listeners[b],s,l,p)}}},{key:"removeEventListener",value:function(e,t,n){var o=de(this),i=he(e,t,n),u=i.callback,c=i.capture,l=o[i.type];null!=u&&l&&pe(l,u,c)}},{key:"dispatchEvent",value:function(e){var t=de(this)[String(e.type)];if(null==t)return!0;var n,o=e instanceof L?e:z.wrap(e),c=H(o,"event");if(c.dispatchFlag)throw n="This event has been in dispatching.",w.DOMException?new w.DOMException(n,"InvalidStateError"):(null==x&&(x=(function(e){u(n,e);var t=b(n);function n(e){var o;return f(this,n),o=t.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(i(o),n),o}return v(n,[{key:"code",get:function(){return 11}},{key:"name",get:function(){return"InvalidStateError"}}]),n})(s(Error)),Object.defineProperties(x.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),Z(x),Z(x.prototype)),new x(n));if(c.dispatchFlag=!0,c.target=c.currentTarget=this,!c.stopPropagationFlag){var l=t.cow,p=t.listeners;t.cow=!0;for(var d=0;d<p.length;++d){var y=p[d];if(!ue(y)&&(ie(y)&&fe(t,d,!l)&&(d-=1),c.inPassiveListenerFlag=ae(y),ce(y,this,o),c.inPassiveListenerFlag=!1,c.stopImmediatePropagationFlag))break}l||(t.cow=!1)}return c.target=null,c.currentTarget=null,c.stopImmediatePropagationFlag=!1,c.stopPropagationFlag=!1,c.dispatchFlag=!1,!c.canceledFlag}}]),e})(),be=new WeakMap;function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",n=be.get(e);return E(null!=n,"'%s' must be an object that EventTarget constructor created, but got another one: %o",t,e),n}function ye(e,t,n){var o;return Ee(t),"object"==typeof n&&null!==n?{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(n.capture),passive:Boolean(n.passive),once:Boolean(n.once),signal:null!==(o=n.signal)&&void 0!==o?o:void 0}:{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(n),passive:!1,once:!1,signal:void 0}}function he(e,t,n){return Ee(t),"object"==typeof n&&null!==n?{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(n.capture)}:{type:String(e),callback:null!==t&&void 0!==t?t:void 0,capture:Boolean(n)}}function Ee(e){if("function"!=typeof e&&("object"!=typeof e||null===e||"function"!=typeof e.handleEvent)){if(null!=e&&"object"!=typeof e)throw new TypeError(O(N.message,[e]));N.warn(e)}}function me(e,t,n,o){j.warn(oe(e)?"capture":"bubble",e.callback),ae(e)!==t&&S.warn("passive"),ie(e)!==n&&S.warn("once"),e.signal!==o&&S.warn("signal")}for(var Oe=Object.getOwnPropertyNames(ve.prototype),Pe=0;Pe<Oe.length;++Pe)"constructor"!==Oe[Pe]&&Object.defineProperty(ve.prototype,Oe[Pe],{enumerable:!0});function Re(e,t){var n,o;return null!==(o=null===(n=de(e,"target")[t])||void 0===n?void 0:n.attrCallback)&&void 0!==o?o:null}function ke(e,t,n){null!=n&&"function"!=typeof n&&B.warn(n),"function"==typeof n||"object"==typeof n&&null!==n?we(e,t,n):Te(e,t)}function we(e,t,n){var o=ge(de(e,"target"),String(t));o.attrCallback=n,null==o.attrListener&&(o.attrListener=se(o,Fe(o),!1,!1,!1,void 0))}function Te(e,t){var n=de(e,"target")[String(t)];n&&n.attrListener&&(pe(n,n.attrListener.callback,!1),n.attrCallback=n.attrListener=void 0)}function Fe(e){return function(t){var n=e.attrCallback;"function"==typeof n&&n.call(this,t)}}function Ae(e,t,n){Object.defineProperty(e,"on"+t,{get:function(){return Re(this,t)},set:function(e){ke(this,t,e)},configurable:!0,enumerable:!0})}void 0!==w&&void 0!==w.EventTarget&&Object.setPrototypeOf(ve.prototype,w.EventTarget.prototype),_e.Event=L,_e.EventTarget=ve,_e.default=ve,_e.defineCustomEventTarget=function(){for(var e=(function(e){u(n,ve);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n)})(),t=0;t<arguments.length;++t)Ae(e.prototype,t<0||arguments.length<=t?void 0:arguments[t]);return e},_e.defineEventAttribute=Ae,_e.getEventAttributeValue=Re,_e.setErrorHandler=function(t){E("function"==typeof t||void 0===t,"The error handler must be a function or undefined, but got %o.",t),e=t},_e.setEventAttributeValue=ke,_e.setWarningHandler=function(e){E("function"==typeof e||void 0===e,"The warning handler must be a function or undefined, but got %o.",e),k=e}},520,[47,521,78,8,4,6,9,35,34,2,3]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);function f(o,c,u,l){return(f="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(f,o,c,u){var l,p=t(f,o);if(p){if((l=Object.getOwnPropertyDescriptor(p,o)).set)return l.set.call(u,c),!0;if(!l.writable)return!1}if(l=Object.getOwnPropertyDescriptor(u,o)){if(!l.writable)return!1;l.value=c,Object.defineProperty(u,o,l)}else n(u,o,c);return!0})(o,c,u,l)}m.exports=function(t,n,o,c,u){if(!f(t,n,o,c||t)&&u)throw new Error('failed to set property');return o}},521,[79,34]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),i=e(r(d[3])),o=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),l=r(d[7]),f=r(d[8]),s=r(d[9]),v=e(r(d[10]));function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var T=l.NativeModules.WebRTCModule,_=(function(e){(0,o.default)(h,e);var l,f,y=(l=h,f=p(),function(){var e,t=(0,u.default)(l);if(f){var n=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,c.default)(this,e)});function h(e){var t;if((0,n.default)(this,h),(t=y.call(this)).active=!0,t._tracks=[],t.id=(0,s.uniqueID)(),t._reactTag=t.id,void 0===e)T.mediaStreamCreate(t.id);else if(e instanceof h){T.mediaStreamCreate(t.id);for(var i,o=k(e.getTracks());!(i=o()).done;){var c=i.value;t.addTrack(c)}}else if(Array.isArray(e)){T.mediaStreamCreate(t.id);for(var u,l=k(e);!(u=l()).done;){var f=u.value;t.addTrack(f)}}else{if(!('object'==typeof e&&e.streamId&&e.streamReactTag&&e.tracks))throw new TypeError("invalid type: "+typeof e);t.id=e.streamId,t._reactTag=e.streamReactTag;for(var p,_=k(e.tracks);!(p=_()).done;){var b=p.value;t._tracks.push(new v.default(b))}}return t}return(0,i.default)(h,[{key:"addTrack",value:function(e){-1===this._tracks.indexOf(e)&&(this._tracks.push(e),T.mediaStreamAddTrack(this._reactTag,e.id))}},{key:"removeTrack",value:function(e){var t=this._tracks.indexOf(e);-1!==t&&(this._tracks.splice(t,1),T.mediaStreamRemoveTrack(this._reactTag,e.id))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTrackById",value:function(e){return this._tracks.find(function(t){return t.id===e})}},{key:"getAudioTracks",value:function(){return this._tracks.filter(function(e){return'audio'===e.kind})}},{key:"getVideoTracks",value:function(){return this._tracks.filter(function(e){return'video'===e.kind})}},{key:"clone",value:function(){throw new Error('Not implemented.')}},{key:"toURL",value:function(){return this._reactTag}},{key:"release",value:function(){for(var e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=k((0,t.default)(this._tracks));!(e=i()).done;){var o=e.value;this.removeTrack(o),n&&o.release()}T.mediaStreamRelease(this._reactTag)}}]),h})(f.defineCustomEventTarget.apply(void 0,['active','inactive','addtrack','removetrack']));_e.default=_},522,[1,47,2,3,4,6,9,14,520,523,524]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=y,e.normalizeConstraints=function(t){for(var n=y(t),o=0,f=['audio','video'];o<f.length;o++){var c=f[o],h=n[c],v=typeof h;if('undefined'!==v)if('boolean'===v)h&&(n[c]=u(c));else{if('object'!==v)throw new TypeError("constraints."+c+" is neither a boolean nor a dictionary");n[c]=l(h,c)}}return n},e.normalizeOfferAnswerOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={};if(!t)return o;t.mandatory&&(t=t.mandatory);for(var f=0,c=Object.entries(t);f<c.length;f++){var u=c[f],v=(0,n.default)(u,2),s=v[0],l=v[1],w=h[s.toLowerCase()];w&&(o[w]=String(Boolean(l)))}return o},e.uniqueID=function(){return""+w()+w()+"-"+w()+"-"+w()+"-"+w()+"-"+w()+w()+w()};var n=t(r(d[1])),o={},f={facingMode:'user',frameRate:30,height:720,width:1280},c=1.7777777777777777,h={icerestart:'IceRestart',offertoreceiveaudio:'OfferToReceiveAudio',offertoreceivevideo:'OfferToReceiveVideo',voiceactivitydetection:'VoiceActivityDetection'};function u(t){switch(t){case'audio':return o;case'video':return f;default:throw new TypeError("Invalid media type: "+t)}}function v(t,n){var o=t[n],f=typeof o;if('object'===f)for(var c=0,h=['exact','ideal'];c<h.length;c++){var u=h[c];if(o[u])return o[u]}else if('string'===f)return o}function s(t,n){var o=t[n],f=typeof o;if('number'===f)return Number.parseInt(o);if('object'===f)for(var c=0,h=['exact','ideal','min','max'];c<h.length;c++){var u=h[c];if(o[u])return Number.parseInt(o[u])}}function l(t,n){switch(n){case'audio':return t;case'video':var o;return(o=t.mandatory?{deviceId:v(t.optional||{},'sourceId'),facingMode:v(t,'facingMode'),frameRate:s(t.mandatory,'minFrameRate'),height:s(t.mandatory,'minHeight'),width:s(t.mandatory,'minWidth')}:{deviceId:v(t,'deviceId'),facingMode:v(t,'facingMode'),frameRate:s(t,'frameRate'),height:s(t,'height'),width:s(t,'width')}).deviceId||delete o.deviceId,(!o.facingMode||'user'!==o.facingMode&&'environment'!==o.facingMode)&&(o.facingMode=f.facingMode),o.frameRate||(o.frameRate=f.frameRate),o.height||o.width?o.height?o.width||(o.width=Math.round(o.height*c)):o.height=Math.round(o.width/c):(o.height=f.height,o.width=f.width),o;default:throw new TypeError("Invalid media type: "+n)}}function w(){return Math.random().toString(16).slice(-4)}function y(t){return JSON.parse(JSON.stringify(t))}},523,[1,41]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),l=e(r(d[4])),u=e(r(d[5])),s=r(d[6]),c=r(d[7]),f=r(d[8]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var v=s.NativeModules.WebRTCModule,y=(function(e){(0,o.default)(p,e);var s,c,y=(s=p,c=h(),function(){var e,t=(0,u.default)(s);if(c){var n=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,l.default)(this,e)});function p(e){var n;(0,t.default)(this,p),(n=y.call(this))._constraints=e.constraints||{},n._enabled=e.enabled,n._settings=e.settings||{},n._muted=!1,n.id=e.id,n.kind=e.kind,n.label=e.label,n.remote=e.remote;var o=e.readyState.toLowerCase();return n.readyState='initializing'===o||'live'===o?'live':'ended',n}return(0,n.default)(p,[{key:"enabled",get:function(){return this._enabled},set:function(e){e!==this._enabled&&(v.mediaStreamTrackSetEnabled(this.id,!this._enabled),this._enabled=!this._enabled)}},{key:"muted",get:function(){return this._muted}},{key:"stop",value:function(){v.mediaStreamTrackSetEnabled(this.id,!1),this.readyState='ended'}},{key:"_switchCamera",value:function(){if(this.remote)throw new Error('Not implemented for remote tracks');if('video'!==this.kind)throw new Error('Only implemented for video tracks');v.mediaStreamTrackSwitchCamera(this.id)}},{key:"applyConstraints",value:function(){throw new Error('Not implemented.')}},{key:"clone",value:function(){throw new Error('Not implemented.')}},{key:"getCapabilities",value:function(){throw new Error('Not implemented.')}},{key:"getConstraints",value:function(){return(0,f.deepClone)(this._constraints)}},{key:"getSettings",value:function(){return(0,f.deepClone)(this._settings)}},{key:"release",value:function(){v.mediaStreamTrackRelease(this.id)}}]),p})(c.defineCustomEventTarget.apply(void 0,['ended','mute','unmute']));_e.default=y},524,[1,2,3,4,6,9,14,520,523]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=(0,u.default)(function t(u,l){(0,f.default)(this,t),this.type=u.toString(),this.stream=l.stream});e.default=l},525,[1,3,2]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=(0,u.default)(function t(u,l){(0,f.default)(this,t),this.type=u.toString(),this.track=l.track});e.default=l},526,[1,3,2]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),u=e(r(d[4])),s=e(r(d[5])),f=r(d[6]),c=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var f=u?Object.getOwnPropertyDescriptor(e,s):null;f&&(f.get||f.set)?Object.defineProperty(o,s,f):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o})(r(d[7])),l=r(d[8]),y=e(r(d[9])),p=e(r(d[10])),_=e(r(d[11]));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var b=f.NativeModules.WebRTCModule,k=(function(e){(0,o.default)(k,e);var f,l,h=(f=k,l=v(),function(){var e,t=(0,s.default)(f);if(l){var n=(0,s.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,u.default)(this,e)});function k(e){var n;return(0,t.default)(this,k),(n=h.call(this))._subscriptions=[],n.binaryType='arraybuffer',n.bufferedAmount=0,n.bufferedAmountLowThreshold=0,n._peerConnectionId=e.peerConnectionId,n._reactTag=e.reactTag,n._label=e.label,n._id=-1===e.id?null:e.id,n._ordered=Boolean(e.ordered),n._maxPacketLifeTime=e.maxPacketLifeTime,n._maxRetransmits=e.maxRetransmits,n._protocol=e.protocol||'',n._negotiated=Boolean(e.negotiated),n._readyState=e.readyState,n._registerEvents(),n}return(0,n.default)(k,[{key:"label",get:function(){return this._label}},{key:"id",get:function(){return this._id}},{key:"ordered",get:function(){return this._ordered}},{key:"maxPacketLifeTime",get:function(){return this._maxPacketLifeTime}},{key:"maxRetransmits",get:function(){return this._maxRetransmits}},{key:"protocol",get:function(){return this._protocol}},{key:"negotiated",get:function(){return this._negotiated}},{key:"readyState",get:function(){return this._readyState}},{key:"send",value:function(e){if('string'!=typeof e){if(ArrayBuffer.isView(e))e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);else{if(!(e instanceof ArrayBuffer))throw new TypeError('Data must be either string, ArrayBuffer, or ArrayBufferView');e=new Uint8Array(e)}b.dataChannelSend(this._peerConnectionId,this._reactTag,c.fromByteArray(e),'binary')}else b.dataChannelSend(this._peerConnectionId,this._reactTag,e,'text')}},{key:"close",value:function(){'closing'!==this._readyState&&'closed'!==this._readyState&&b.dataChannelClose(this._peerConnectionId,this._reactTag)}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(e){return e.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var e=this;this._subscriptions=[_.default.addListener('dataChannelStateChanged',function(t){t.reactTag===e._reactTag&&(e._readyState=t.state,null===e._id&&-1!==t.id&&(e._id=t.id),'open'===e._readyState?e.dispatchEvent(new p.default('open',{channel:e})):'closing'===e._readyState?e.dispatchEvent(new p.default('closing',{channel:e})):'closed'===e._readyState&&(e.dispatchEvent(new p.default('close',{channel:e})),e._unregisterEvents(),b.dataChannelDispose(e._peerConnectionId,e._reactTag)))}),_.default.addListener('dataChannelReceiveMessage',function(t){if(t.reactTag===e._reactTag){var n=t.data;'binary'===t.type&&(n=c.toByteArray(t.data).buffer),e.dispatchEvent(new y.default('message',{data:n}))}})]}}]),k})(l.defineCustomEventTarget.apply(void 0,['open','message','bufferedamountlow','closing','close','error']));_e.default=k},527,[1,2,3,4,6,9,14,92,520,528,529,530]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=(0,u.default)(function t(u,l){(0,f.default)(this,t),this.type=u.toString(),this.data=l.data});e.default=l},528,[1,3,2]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),l=t(r(d[2])),u=(0,n.default)(function t(n,u){(0,l.default)(this,t),this.type=n.toString(),this.channel=u.channel});e.default=u},529,[1,3,2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),u=t.NativeModules.WebRTCModule,l=new t.NativeEventEmitter(u);e.default=l},530,[14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),p=(function(){function t(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,sdp:''};(0,n.default)(this,t),this._sdp=u.sdp,this._type=u.type}return(0,u.default)(t,[{key:"sdp",get:function(){return this._sdp}},{key:"type",get:function(){return this._type}},{key:"toJSON",value:function(){return{sdp:this._sdp,type:this._type}}}]),t})();e.default=p},531,[1,2,3]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=(function(){function t(s){(0,n.default)(this,t),this.candidate=s.candidate,this.sdpMLineIndex=s.sdpMLineIndex,this.sdpMid=s.sdpMid}return(0,s.default)(t,[{key:"toJSON",value:function(){return{candidate:this.candidate,sdpMLineIndex:this.sdpMLineIndex,sdpMid:this.sdpMid}}}]),t})();e.default=u},532,[1,2,3]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),n=t(r(d[2])),u=(0,l.default)(function t(l,u){var f;(0,n.default)(this,t),this.type=l.toString(),this.candidate=null!=(f=null==u?void 0:u.candidate)?f:null});e.default=u},533,[1,3,2]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=(0,u.default)(function t(u){(0,f.default)(this,t),this.type=u.toString()});e.default=l},534,[1,3,2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,r(d[0]).requireNativeComponent)('RTCVideoView');e.default=o},535,[14]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),f=e(r(d[4])),c=e(r(d[5])),o=r(d[6]),l=r(d[7]),s=e(r(d[8])),v=e(r(d[9]));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var p=o.NativeModules.WebRTCModule,h=new((function(e){(0,u.default)(R,e);var o,l,h=(o=R,l=y(),function(){var e,t=(0,c.default)(o);if(l){var n=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,f.default)(this,e)});function R(){return(0,t.default)(this,R),h.apply(this,arguments)}return(0,n.default)(R,[{key:"enumerateDevices",value:function(){return new Promise(function(e){return p.enumerateDevices(e)})}},{key:"getDisplayMedia",value:function(){return(0,s.default)()}},{key:"getUserMedia",value:function(e){return(0,v.default)(e)}}]),R})(l.defineCustomEventTarget.apply(void 0,['devicechange'])));_e.default=h},536,[1,2,3,4,6,9,14,520,537,539]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new Promise(function(t,n){c.getDisplayMedia().then(function(n){var o=n.streamId,c=n.track,f={streamId:o,streamReactTag:o,tracks:[c]},l=new u.default(f);t(l)},function(t){n(new o.default(t))})})};var n=r(d[1]),u=t(r(d[2])),o=t(r(d[3])),c=n.NativeModules.WebRTCModule},537,[1,14,522,538]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=(0,n.default)(function t(n){(0,s.default)(this,t),this.name=n.name,this.message=n.message,this.constraintName=n.constraintName});e.default=u},538,[1,3,2]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if('object'!=typeof t)return Promise.reject(new TypeError('constraints is not a dictionary'));if(!(void 0!==t.audio&&t.audio||void 0!==t.video&&t.video))return Promise.reject(new TypeError('audio and/or video is required'));var o=[];(t=i.normalizeConstraints(t)).audio?o.push(f.default.request({name:'microphone'})):o.push(Promise.resolve(!1));t.video?o.push(f.default.request({name:'camera'})):o.push(Promise.resolve(!1));return new Promise(function(f,l){Promise.all(o).then(function(o){var p=(0,n.default)(o,2),v=p[0],b=p[1];if(v||b){v||delete t.audio,b||delete t.video;y.getUserMedia(t,function(n,o){for(var s,l=c(o);!(s=l()).done;){var p=s.value,v=t[p.kind];'object'==typeof v&&(p.constraints=i.deepClone(v))}var y={streamId:n,streamReactTag:n,tracks:o};f(new u.default(y))},function(t,n){var o;switch(t){case'TypeError':o=new TypeError(n)}o||(o=new s.default({message:n,name:t}));l(o)})}else{l(new s.default({message:'Permission denied.',name:'SecurityError'}))}})})};var n=t(r(d[1])),o=r(d[2]),i=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=l(n);if(o&&o.has(t))return o.get(t);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var f=u?Object.getOwnPropertyDescriptor(t,s):null;f&&(f.get||f.set)?Object.defineProperty(i,s,f):i[s]=t[s]}i.default=t,o&&o.set(t,i);return i})(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),f=t(r(d[6]));function l(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(l=function(t){return t?o:n})(t)}function c(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=p(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,n){if(t){if("string"==typeof t)return v(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(t,n):void 0}}function v(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,i=new Array(n);o<n;o++)i[o]=t[o];return i}var y=o.NativeModules.WebRTCModule},539,[1,41,14,523,522,538,540]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=e(r(d[1])),o=e(r(d[2])),t=r(d[3]),s=t.NativeModules.WebRTCModule,u=new((function(){function e(){(0,n.default)(this,e),this.RESULT={DENIED:'denied',GRANTED:'granted',PROMPT:'prompt'},this.VALID_PERMISSIONS=['camera','microphone'],this._lastReq=Promise.resolve()}return(0,o.default)(e,[{key:"_requestPermissionAndroid",value:function(e){return new Promise(function(n,o){t.PermissionsAndroid.request(e).then(function(e){return n(e===t.PermissionsAndroid.RESULTS.GRANTED)},function(){return n(!1)})})}},{key:"_validatePermissionDescriptior",value:function(e){if('object'!=typeof e)throw new TypeError('Argument 1 of Permissions.query is not an object.');if(void 0===e.name)throw new TypeError("Missing required 'name' member of PermissionDescriptor.");if(-1===this.VALID_PERMISSIONS.indexOf(e.name))throw new TypeError("'name' member of PermissionDescriptor is not a valid value for enumeration PermissionName.")}},{key:"query",value:function(e){var n=this;try{this._validatePermissionDescriptior(e)}catch(e){return Promise.reject(e)}if('android'===t.Platform.OS){var o='camera'===e.name?t.PermissionsAndroid.PERMISSIONS.CAMERA:t.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;return new Promise(function(e,s){t.PermissionsAndroid.check(o).then(function(o){return e(o?n.RESULT.GRANTED:n.RESULT.PROMPT)},function(){return e(n.RESULT.PROMPT)})})}return'ios'===t.Platform.OS||'macos'===t.Platform.OS?s.checkPermission(e.name):Promise.reject(new TypeError('Unsupported platform.'))}},{key:"request",value:function(e){var n=this;try{this._validatePermissionDescriptior(e)}catch(e){return Promise.reject(e)}if('android'===t.Platform.OS){var o='camera'===e.name?t.PermissionsAndroid.PERMISSIONS.CAMERA:t.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,u=function(){return n._requestPermissionAndroid(o)};return this._lastReq=this._lastReq.then(u,u),this._lastReq}return'ios'===t.Platform.OS||'macos'===t.Platform.OS?s.requestPermission(e.name):Promise.reject(new TypeError('Unsupported platform.'))}}]),e})());_e.default=u},540,[1,2,3,14]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),o=t(r(d[5])),f=t(r(d[6])),l=t(r(d[7])),s=r(d[8]),p=r(d[9]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=(function(t){(0,o.default)(R,t);var s,v,y=(s=R,v=h(),function(){var t,e=(0,l.default)(s);if(v){var n=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,f.default)(this,t)});function R(){return(0,n.default)(this,R),y.apply(this,arguments)}return(0,u.default)(R,[{key:"setRemoteDescription",value:function(t){return e.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=(0,c.default)((0,l.default)(R.prototype),"setRemoteDescription",this),n.t1=this,n.next=4,e.default.awrap((0,p.synthesizeIPv6Addresses)(t));case 4:return n.t2=n.sent,n.abrupt("return",n.t0.call.call(n.t0,n.t1,n.t2));case 6:case"end":return n.stop()}},null,this,null,Promise)}}]),R})(s.RTCPeerConnection);_e.default=v},541,[1,68,2,3,78,4,6,9,517,542]);
__d(function(g,r,_i2,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.synthesizeIPv6Addresses=function(n){return new Promise(function(t){return t(s(n))}).then(function(t){var i=t.ips,f=t.lines;return Promise.all(Array.from(i.values())).then(function(){return u(n,i,f)})})};var t=n(r(d[1])),i=r(d[2]),f=r(d[3]);var o=(function(){var n=i.NativeModules.POSIX;if(n){var f=n.getaddrinfo;if('function'==typeof f)return function(n){return f(n,void 0).then(function(n){return(0,t.default)(n,1)[0].ai_addr})}}var o=i.NativeModules.NAT64AddrInfo;if(o){var s=o.getIPv6Address;if('function'==typeof s)return s}return function(n){return Promise.resolve(n)}})();function s(n){var t=n.sdp,i=0,f=[],s=new Map;do{var u=t.indexOf('\r\n',i),v=void 0;if(-1===u?(v=t.substring(i),i=void 0):(v=t.substring(i,u),i=u+2),v.startsWith('a=candidate:')){var c=v.split(' ');if(c.length>=10&&'typ'===c[6]){for(var l=[c[4]],p=!1,h=8;h<c.length;++h)if('raddr'===c[h]){l.push(c[++h]);break}for(var y=function(n){if(-1!==n.indexOf(':'))return p=!0,"break";s.has(n)||s.set(n,new Promise(function(t,i){var f=s.get(n);f&&'string'==typeof f?t(f):o(n).then(function(i){i&&-1!==i.indexOf(':')&&i!==s.get(n)?s.set(n,i):s.delete(n),t(i)},i)}))},b=0,P=l;b<P.length;b++){if("break"===y(P[b]))break}if(p){s.clear();break}v=c}}f.push(v)}while(i);return{ips:s,lines:f}}function u(n,t,i){if(0===t.size)return n;for(var o=0;o<i.length;++o){var s=i[o];if('string'!=typeof s){var u=s[4],v=t.get(u);v&&(s[4]=v);for(var c=8;c<s.length;++c)if('raddr'===s[c]){u=s[++c],(v=t.get(u))&&(s[c]=v);break}i[o]=s.join(' ')}}return new f.RTCSessionDescription({sdp:i.join('\r\n'),type:n.type})}},542,[1,41,14,517]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.setResourceLoggingEnabled=e.default=e.PerformanceObserver=void 0;var n=r(d[0]),t=r(d[1]),o=r(d[2]),c=r(d[3]),s=n.NativeModules.RNPerformanceManager,l=(0,t.createPerformance)(),f=l.PerformanceObserver,u=l.addEntry,v=l.performance;if(e.PerformanceObserver=f,'android'===n.Platform.OS||s){var P=new n.NativeEventEmitter(s);P.addListener('mark',function(n){u(new o.PerformanceReactNativeMark(n.name,n.startTime))}),P.addListener('metric',function(n){u(new o.PerformanceMetric(n.name,{startTime:n.startTime,value:n.value}))})}var b=v;e.default=b;e.setResourceLoggingEnabled=function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?(0,c.uninstallResourceLogger)(globalThis):(0,c.installResourceLogger)(globalThis,v,u)}},543,[14,544,547,548]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultNow=e.createPerformance=void 0;var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=function(){return g.performance.now()};e.defaultNow=u;e.createPerformance=function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,s=c(),f=(0,t.createEventEmitter)(),l=f.addEventListener,p=f.removeEventListener,y=f.emit,v=new Map,T=[];function w(t){return T.push(t),'mark'!==t.entryType&&'react-native-mark'!==t.entryType||v.set(t.name,t.startTime),y(t),t}var E=function(t,n){T=T.filter(function(o){return!!(o.entryType!==t||n&&o.name!==n)||(v.delete(o.name),!1)})},h=function(t){switch(typeof t){case'string':if(!v.has(t))throw new Error("Failed to execute 'measure' on 'Performance': The mark '"+t+"' does not exist.");return v.get(t);case'number':return t;default:throw new TypeError("Failed to execute 'measure' on 'Performance': Expected mark name or timestamp, got '"+t+"'.")}};function P(t){return T.filter(function(n){return n.entryType===t})}return{PerformanceObserver:(0,n.createPerformanceObserver)({addEventListener:l,removeEventListener:p,getEntriesByType:P}),addEntry:w,performance:{timeOrigin:s,now:c,mark:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(new o.PerformanceMark(t,{startTime:'startTime'in n&&void 0!==n.startTime?n.startTime:c(),detail:n.detail}))},clearMarks:function(t){return E('mark',t)},measure:function(t,n,u){var f,l=0,p=0;if(n&&'object'==typeof n&&n.constructor==Object){if(u)throw new TypeError("Failed to execute 'measure' on 'Performance': The measureOptions and endMark arguments may not be combined.");if(!n.start&&!n.end)throw new TypeError("Failed to execute 'measure' on 'Performance': At least one of the start and end option must be passed.");if(n.start&&n.end&&n.duration)throw new TypeError("Failed to execute 'measure' on 'Performance': Cannot send start, end and duration options together.");f=n.detail,p=n&&n.end?h(n.end):n&&n.start&&n.duration?h(n.start)+h(n.duration):c(),l=n&&n.start?h(n.start):n&&n.end&&n.duration?h(n.end)-h(n.duration):s}else p=u?h(u):c(),l='string'==typeof n?h(n):s;return w(new o.PerformanceMeasure(t,{detail:f,startTime:l,duration:p-l}))},clearMeasures:function(t){return E('measure',t)},metric:function(t,n){var u,s,f;if('object'==typeof n&&n.constructor==Object){if(!n.value)throw new TypeError("Failed to execute 'metric' on 'Performance': The value option must be passed.");u=n.value,s=n.startTime,f=n.detail}else{if(void 0===n||null===n)throw new TypeError("Failed to execute 'metric' on 'Performance': The value option must be passed.");u=n}return w(new o.PerformanceMetric(t,{startTime:s||c(),value:u,detail:f}))},clearMetrics:function(t){return E('metric',t)},getEntries:function(){return T.slice(0)},getEntriesByName:function(t,n){return T.filter(function(o){return o.name===t&&(!n||o.entryType===n)})},getEntriesByType:P}}}},544,[545,546,547]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createEventEmitter=void 0;e.createEventEmitter=function(){var t=new Set;return{addEventListener:function(n){t.add(n)},removeEventListener:function(n){t.delete(n)},emit:function(n){t.forEach(function(t){t(n)})}}}},545,[]);
__d(function(g,r,i,_a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createPerformanceObserver=e.PerformanceObserverEntryList=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=(function(){function t(s){(0,n.default)(this,t),this.entries=s}return(0,s.default)(t,[{key:"getEntries",value:function(){return this.entries.slice(0)}},{key:"getEntriesByType",value:function(t){return this.entries.filter(function(n){return n.entryType===t})}},{key:"getEntriesByName",value:function(t,n){return this.entries.filter(function(s){return s.name===t&&(!n||s.entryType===n)})}}]),t})();e.PerformanceObserverEntryList=o;var u=['mark','measure','metric','react-native-mark','resource'],y=function(t,n){return t.startTime-n.startTime};e.createPerformanceObserver=function(t){var a,f=t.addEventListener,c=t.removeEventListener,h=t.getEntriesByType;return(a=(function(){function t(s){var u=this;(0,n.default)(this,t),this.emitRecords=function(){u.callback(new o(u.takeRecords()),u)},this.receiveRecord=function(t){u.entryTypes.has(t.entryType)&&(u.buffer.push(t),u.scheduleEmission())},this.callback=s,this.buffer=[],this.timer=null,this.entryTypes=new Set,this.observerType=null}return(0,s.default)(t,[{key:"scheduleEmission",value:function(){var t=this;null===this.timer&&(this.timer=requestAnimationFrame(function(){t.timer=null,t.emitRecords()}))}},{key:"observe",value:function(t){if(!t||!t.entryTypes&&!t.type)throw new TypeError("Failed to execute 'observe' on 'PerformanceObserver': An observe() call must include either entryTypes or type arguments.");if(t.entryTypes&&t.type)throw new TypeError("Failed to execute 'observe' on 'PerformanceObserver': An observe() call must not include both entryTypes and type arguments.");if(t.entryTypes){if("single"===this.observerType)throw new Error('This PerformanceObserver has performed observe({type:...}, therefore it cannot perform observe({entryTypes:...})');if(!Array.isArray(t.entryTypes))throw new TypeError('entryTypes argument must be an array');this.observerType="multiple",this.entryTypes=new Set(t.entryTypes),this.buffer=[],t.buffered&&console.warn('The PerformanceObserver does not support buffered flag with the entryTypes argument.')}else{if("multiple"===this.observerType)throw new Error('This PerformanceObserver has performed observe({entryTypes:...}, therefore it cannot perform observe({type:...})');this.observerType="single",this.entryTypes.add(t.type),t.buffered&&(this.buffer=h(t.type),this.scheduleEmission())}this.entryTypes.forEach(function(t){u.includes(t)||console.warn("The entry type '"+t+"' does not exist or isn't supported.")}),f(this.receiveRecord)}},{key:"disconnect",value:function(){c(this.receiveRecord),this.entryTypes=new Set,this.observerType=null,this.buffer=[],null!==this.timer&&(cancelAnimationFrame(this.timer),this.timer=null)}},{key:"takeRecords",value:function(){var t=this.buffer.sort(y);return this.buffer=[],t}}]),t})()).supportedEntryTypes=u,a}},546,[1,2,3]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PerformanceResourceTiming=_e.PerformanceReactNativeMark=_e.PerformanceMetric=_e.PerformanceMeasure=_e.PerformanceMark=_e.PerformanceEntry=void 0;var e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),s=t(r(d[4])),u=t(r(d[5]));function c(t){var e=f();return function(){var s,u=(0,o.default)(t);if(e){var c=(0,o.default)(this).constructor;s=Reflect.construct(u,arguments,c)}else s=u.apply(this,arguments);return(0,n.default)(this,s)}}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=(function(){function t(e,n,o,u){(0,s.default)(this,t),this.name=e,this.entryType=n,this.startTime=o,this.duration=u}return(0,u.default)(t,[{key:"toJSON",value:function(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration}}}]),t})();_e.PerformanceEntry=h;var l=(function(t){(0,e.default)(o,t);var n=c(o);function o(t){var e,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,o),(e=n.call(this,t,'mark',u.startTime,0)).detail=u.detail,e}return(0,u.default)(o,[{key:"toJSON",value:function(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail}}}]),o})(h);_e.PerformanceMark=l;var y=(function(t){(0,e.default)(o,t);var n=c(o);function o(t,e){return(0,s.default)(this,o),n.call(this,t,'react-native-mark',e,0)}return(0,u.default)(o)})(h);_e.PerformanceReactNativeMark=y;var v=(function(t){(0,e.default)(o,t);var n=c(o);function o(t,e){var u;return(0,s.default)(this,o),(u=n.call(this,t,'metric',e.startTime,0)).value=e.value,u.detail=e.detail,u}return(0,u.default)(o,[{key:"toJSON",value:function(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail,value:this.value}}}]),o})(h);_e.PerformanceMetric=v;var S=(function(t){(0,e.default)(o,t);var n=c(o);function o(t){var e,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,o),(e=n.call(this,t,'measure',u.startTime,u.duration)).detail=u.detail,e}return(0,u.default)(o,[{key:"toJSON",value:function(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail}}}]),o})(h);_e.PerformanceMeasure=S;var T=(function(t){(0,e.default)(o,t);var n=c(o);function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=e.name,c=e.startTime,f=e.duration,h=e.initiatorType,l=e.responseEnd,y=e.transferSize;return(0,s.default)(this,o),(t=n.call(this,u,'resource',c,f)).initiatorType=h,t.fetchStart=c,t.responseEnd=l,t.transferSize=y,t.connectEnd=0,t.connectStart=0,t.decodedBodySize=0,t.domainLookupEnd=0,t.domainLookupStart=0,t.encodedBodySize=0,t.redirectEnd=0,t.redirectStart=0,t.requestStart=0,t.responseStart=0,t.secureConnectionStart=0,t.serverTiming=[],t.transferSize=0,t.workerStart=0,t.workerTiming=[],t}return(0,u.default)(o,[{key:"toJSON",value:function(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,initiatorType:this.initiatorType,fetchStart:this.fetchStart,responseEnd:this.responseEnd,transferSize:this.transferSize,connectEnd:this.connectEnd,connectStart:this.connectStart,decodedBodySize:this.decodedBodySize,domainLookupEnd:this.domainLookupEnd,domainLookupStart:this.domainLookupStart,encodedBodySize:this.encodedBodySize,redirectEnd:this.redirectEnd,redirectStart:this.redirectStart,requestStart:this.requestStart,responseStart:this.responseStart,secureConnectionStart:this.secureConnectionStart,serverTiming:this.serverTiming,workerStart:this.workerStart,workerTiming:this.workerTiming}}}]),o})(h);_e.PerformanceResourceTiming=T},547,[1,4,6,9,2,3]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.uninstallResourceLogger=_e.installResourceLogger=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),u=e(r(d[4])),c=e(r(d[5])),f=e(r(d[6])),s=e(r(d[7])),l=e(r(d[8])),p=e(r(d[9])),R=r(d[10]);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}_e.installResourceLogger=function(e,L,h){if(e.XMLHttpRequest&&!e.XMLHttpRequest.performanceOriginal){var v=(function(e){(0,f.default)(M,e);var v,H,q=(v=M,H=y(),function(){var e,t=(0,p.default)(v);if(H){var n=(0,p.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,s.default)(this,e)});function M(){var e,o;(0,n.default)(this,M);for(var c=arguments.length,f=new Array(c),s=0;s<c;s++)f[s]=arguments[s];return(o=q.call.apply(q,[this].concat(f))).performanceStartTime=null,(0,l.default)((e=(0,u.default)(o),(0,p.default)(M.prototype)),"onreadystatechange",function(){if(o.readyState===o.DONE&&o.responseURL&&o.responseHeaders){var e=L.now(),n=Object.entries(o.responseHeaders).find(function(e){return'content-length'===(0,t.default)(e,1)[0].toLowerCase()});h(new R.PerformanceResourceTiming({name:o.responseURL,startTime:o.performanceStartTime,duration:e-o.performanceStartTime,initiatorType:'xmlhttprequest',responseEnd:e,transferSize:n?parseInt(n[1]):0}))}},e,!0),o}return(0,o.default)(M,[{key:"open",value:function(){var e;this.performanceStartTime=L.now();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=(0,c.default)((0,p.default)(M.prototype),"open",this)).call.apply(e,[this].concat(n))}}]),M})(e.XMLHttpRequest);v.performanceOriginal=e.XMLHttpRequest,e.XMLHttpRequest=v}};_e.uninstallResourceLogger=function(e){e.XMLHttpRequest&&e.XMLHttpRequest.performanceOriginal&&(e.XMLHttpRequest=e.XMLHttpRequest.performanceOriginal)}},548,[1,41,2,3,8,78,4,6,521,9,547]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=r(d[1]);window.csioReactNative=!0,window.RTCPeerConnection||(window.RTCPeerConnection=n.RTCPeerConnection),window.webkitRTCPeerConnection||(window.webkitRTCPeerConnection=n.RTCPeerConnection),window.performance||(window.performance={}),window.performance.timing||(window.performance.timing={},window.performance.timing.navigationStart=0),Date.now=Date.now||function(){return(new Date).getTime()},window.performance.now||(window.performance.now=function(){return Date.now()}),window.location||(window.location={},window.location.href='react-native'),window.atob||(window.atob=r(d[2]).decode),window.btoa||(window.btoa=r(d[2]).encode);window.csiosign=function(n,o,w){var t=new(r(d[3]))('SHA-256','TEXT');t.setHMACKey(o,'TEXT'),t.update(n);var c,f=t.getHMAC('BYTES');return w(null,n+='.'+(c=f,window.btoa(c).replace(/\+/g,'-').replace(/\//g,'_').replace(/\=+$/,'')))},window.csioGetOsName=function(){return o.Platform.OS},window.csioGetOsVer=function(){return o.Platform.Version+''}},549,[517,14,550,551]);
__d(function(g,r,i,_a,m,e,_d){!(function(t){var n='object'==typeof e&&e,o='object'==typeof m&&m&&m.exports==n&&m,a='object'==typeof g&&g;a.global!==a&&a.window!==a||(t=a);var c=function(t){this.message=t};(c.prototype=new Error).name='InvalidCharacterError';var h=function(t){throw new c(t)},d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',f=/[\t\n\f\r ]/g,s={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&h("The string to be encoded contains characters outside of the Latin1 range.");for(var n,o,a,c,f=t.length%3,s='',A=-1,l=t.length-f;++A<l;)n=t.charCodeAt(A)<<16,o=t.charCodeAt(++A)<<8,a=t.charCodeAt(++A),s+=d.charAt((c=n+o+a)>>18&63)+d.charAt(c>>12&63)+d.charAt(c>>6&63)+d.charAt(63&c);return 2==f?(n=t.charCodeAt(A)<<8,o=t.charCodeAt(++A),s+=d.charAt((c=n+o)>>10)+d.charAt(c>>4&63)+d.charAt(c<<2&63)+'='):1==f&&(c=t.charCodeAt(A),s+=d.charAt(c>>2)+d.charAt(c<<4&63)+'=='),s},decode:function(t){var n=(t=String(t).replace(f,'')).length;n%4==0&&(n=(t=t.replace(/==?$/,'')).length),(n%4==1||/[^+a-zA-Z0-9/]/.test(t))&&h('Invalid character: the string to be decoded is not correctly encoded.');for(var o,a,c=0,s='',A=-1;++A<n;)a=d.indexOf(t.charAt(A)),o=c%4?64*o+a:a,c++%4&&(s+=String.fromCharCode(255&o>>(-2*c&6)));return s},version:'0.1.0'};if('function'==typeof define&&'object'==typeof define.amd&&define.amd)define(function(){return s});else if(n&&!n.nodeType)if(o)o.exports=s;else for(var A in s)s.hasOwnProperty(A)&&(n[A]=s[A]);else t.base64=s})(this)},550,[]);
__d(function(_g,_r,_i,_a,_m,_e,_d){var n,t;n=this,t=function(){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function t(n,t,e,r){var i,u,o,s=t||[0],a=(e=e||0)>>>3,h=-1===r?3:0;for(i=0;i<n.length;i+=1)u=(o=i+a)>>>2,s.length<=u&&s.push(0),s[u]|=n[i]<<8*(h+r*(o%4));return{value:s,binLen:8*n.length+e}}function e(e,r,i){switch(r){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":return function(n,t,e){return(function(n,t,e,r){var i,u,o,s;if(0!=n.length%2)throw new Error("String of HEX type must be in byte increments");var a=t||[0],h=(e=e||0)>>>3,f=-1===r?3:0;for(i=0;i<n.length;i+=2){if(u=parseInt(n.substr(i,2),16),isNaN(u))throw new Error("String of HEX type contains invalid characters");for(o=(s=(i>>>1)+h)>>>2;a.length<=o;)a.push(0);a[o]|=u<<8*(f+r*(s%4))}return{value:a,binLen:4*n.length+e}})(n,t,e,i)};case"TEXT":return function(n,t,e){return(function(n,t,e,r,i){var u,o,s,a,h,f,c,w,l=0,v=e||[0],p=(r=r||0)>>>3;if("UTF8"===t)for(c=-1===i?3:0,s=0;s<n.length;s+=1)for(o=[],128>(u=n.charCodeAt(s))?o.push(u):2048>u?(o.push(192|u>>>6),o.push(128|63&u)):55296>u||57344<=u?o.push(224|u>>>12,128|u>>>6&63,128|63&u):(s+=1,u=65536+((1023&u)<<10|1023&n.charCodeAt(s)),o.push(240|u>>>18,128|u>>>12&63,128|u>>>6&63,128|63&u)),a=0;a<o.length;a+=1){for(h=(f=l+p)>>>2;v.length<=h;)v.push(0);v[h]|=o[a]<<8*(c+i*(f%4)),l+=1}else for(c=-1===i?2:0,w="UTF16LE"===t&&1!==i||"UTF16LE"!==t&&1===i,s=0;s<n.length;s+=1){for(u=n.charCodeAt(s),!0===w&&(u=(a=255&u)<<8|u>>>8),h=(f=l+p)>>>2;v.length<=h;)v.push(0);v[h]|=u<<8*(c+i*(f%4)),l+=2}return{value:v,binLen:8*l+r}})(n,r,t,e,i)};case"B64":return function(t,e,r){return(function(t,e,r,i){var u,o,s,a,h,f,c=0,w=e||[0],l=(r=r||0)>>>3,v=-1===i?3:0,p=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==p&&p<t.length)throw new Error("Invalid '=' found in base-64 string");for(u=0;u<t.length;u+=4){for(a=t.substr(u,4),s=0,o=0;o<a.length;o+=1)s|=n.indexOf(a.charAt(o))<<18-6*o;for(o=0;o<a.length-1;o+=1){for(h=(f=c+l)>>>2;w.length<=h;)w.push(0);w[h]|=(s>>>16-8*o&255)<<8*(v+i*(f%4)),c+=1}}return{value:w,binLen:8*c+r}})(t,e,r,i)};case"BYTES":return function(n,t,e){return(function(n,t,e,r){var i,u,o,s,a=t||[0],h=(e=e||0)>>>3,f=-1===r?3:0;for(u=0;u<n.length;u+=1)i=n.charCodeAt(u),o=(s=u+h)>>>2,a.length<=o&&a.push(0),a[o]|=i<<8*(f+r*(s%4));return{value:a,binLen:8*n.length+e}})(n,t,e,i)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(n){throw new Error("ARRAYBUFFER not supported by this environment")}return function(n,e,r){return(function(n,e,r,i){return t(new Uint8Array(n),e,r,i)})(n,e,r,i)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(n){throw new Error("UINT8ARRAY not supported by this environment")}return function(n,e,r){return t(n,e,r,i)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function r(t,e,r,i){switch(t){case"HEX":return function(n){return(function(n,t,e,r){var i,u,o="",s=t/8,a=-1===e?3:0;for(i=0;i<s;i+=1)u=n[i>>>2]>>>8*(a+e*(i%4)),o+="0123456789abcdef".charAt(u>>>4&15)+"0123456789abcdef".charAt(15&u);return r.outputUpper?o.toUpperCase():o})(n,e,r,i)};case"B64":return function(t){return(function(t,e,r,i){var u,o,s,a,h,f="",c=e/8,w=-1===r?3:0;for(u=0;u<c;u+=3)for(a=u+1<c?t[u+1>>>2]:0,h=u+2<c?t[u+2>>>2]:0,s=(t[u>>>2]>>>8*(w+r*(u%4))&255)<<16|(a>>>8*(w+r*((u+1)%4))&255)<<8|h>>>8*(w+r*((u+2)%4))&255,o=0;o<4;o+=1)f+=8*u+6*o<=e?n.charAt(s>>>6*(3-o)&63):i.b64Pad;return f})(t,e,r,i)};case"BYTES":return function(n){return(function(n,t,e){var r,i,u="",o=t/8,s=-1===e?3:0;for(r=0;r<o;r+=1)i=n[r>>>2]>>>8*(s+e*(r%4))&255,u+=String.fromCharCode(i);return u})(n,e,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(n){throw new Error("ARRAYBUFFER not supported by this environment")}return function(n){return(function(n,t,e){var r,i=t/8,u=new ArrayBuffer(i),o=new Uint8Array(u),s=-1===e?3:0;for(r=0;r<i;r+=1)o[r]=n[r>>>2]>>>8*(s+e*(r%4))&255;return u})(n,e,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(n){throw new Error("UINT8ARRAY not supported by this environment")}return function(n){return(function(n,t,e){var r,i=t/8,u=-1===e?3:0,o=new Uint8Array(i);for(r=0;r<i;r+=1)o[r]=n[r>>>2]>>>8*(u+e*(r%4))&255;return o})(n,e,r)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],s="Chosen SHA variant is not supported";function a(n,t){var e,r,i=n.binLen>>>3,u=t.binLen>>>3,o=i<<3,s=4-i<<3;if(i%4!=0){for(e=0;e<u;e+=4)r=i+e>>>2,n.value[r]|=t.value[e>>>2]<<o,n.value.push(0),n.value[r+1]|=t.value[e>>>2]>>>s;return(n.value.length<<2)-4>=u+i&&n.value.pop(),{value:n.value,binLen:n.binLen+t.binLen}}return{value:n.value.concat(t.value),binLen:n.binLen+t.binLen}}function h(n){var t={outputUpper:!1,b64Pad:"=",outputLen:-1},e=n||{},r="Output length must be a multiple of 8";if(t.outputUpper=e.outputUpper||!1,e.b64Pad&&(t.b64Pad=e.b64Pad),e.outputLen){if(e.outputLen%8!=0)throw new Error(r);t.outputLen=e.outputLen}else if(e.shakeLen){if(e.shakeLen%8!=0)throw new Error(r);t.outputLen=e.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}function f(n,t,r,i){var u=n+" must include a value and format";if(!t){if(!i)throw new Error(u);return i}if(void 0===t.value||!t.format)throw new Error(u);return e(t.format,t.encoding||"UTF8",r)(t.value)}var c=(function(){function n(n,t,e){var r=e||{};if(this.t=t,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=n,this.u=[],this.s=0,this.h=!1,this.v=0,this.A=!1,this.l=[],this.H=[]}return n.prototype.update=function(n){var t,e=0,r=this.S>>>5,i=this.p(n,this.u,this.s),u=i.binLen,o=i.value,s=u>>>5;for(t=0;t<s;t+=r)e+this.S<=u&&(this.m=this.R(o.slice(t,t+r),this.m),e+=this.S);this.v+=e,this.u=o.slice(e>>>5),this.s=u%this.S,this.h=!0},n.prototype.getHash=function(n,t){var e,i,u=this.U,o=h(t);if(this.T){if(-1===o.outputLen)throw new Error("Output length must be specified in options");u=o.outputLen}var s=r(n,u,this.C,o);if(this.A&&this.F)return s(this.F(o));for(i=this.K(this.u.slice(),this.s,this.v,this.B(this.m),u),e=1;e<this.numRounds;e+=1)this.T&&u%32!=0&&(i[i.length-1]&=16777215>>>24-u%32),i=this.K(i,u,0,this.L(this.o),u);return s(i)},n.prototype.setHMACKey=function(n,t,r){if(!this.g)throw new Error("Variant does not support HMAC");if(this.h)throw new Error("Cannot set MAC key after calling update");var i=e(t,(r||{}).encoding||"UTF8",this.C);this.k(i(n))},n.prototype.k=function(n){var t,e=this.S>>>3,r=e/4-1;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(e<n.binLen/8&&(n.value=this.K(n.value,n.binLen,0,this.L(this.o),this.U));n.value.length<=r;)n.value.push(0);for(t=0;t<=r;t+=1)this.l[t]=909522486^n.value[t],this.H[t]=1549556828^n.value[t];this.m=this.R(this.l,this.m),this.v=this.S,this.A=!0},n.prototype.getHMAC=function(n,t){var e=h(t);return r(n,this.U,this.C,e)(this.Y())},n.prototype.Y=function(){var n;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");var t=this.K(this.u.slice(),this.s,this.v,this.B(this.m),this.U);return n=this.R(this.H,this.L(this.o)),this.K(t,this.U,this.S,n,this.U)},n})(),w=function(n,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(n,t)};function l(n,t){function e(){this.constructor=n}w(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}function v(n,t){return n<<t|n>>>32-t}function p(n,t){return n>>>t|n<<32-t}function A(n,t){return n>>>t}function N(n,t,e){return n^t^e}function I(n,t,e){return n&t^~n&e}function m(n,t,e){return n&t^n&e^t&e}function g(n){return p(n,2)^p(n,13)^p(n,22)}function S(n,t){var e=(65535&n)+(65535&t);return(65535&(n>>>16)+(t>>>16)+(e>>>16))<<16|65535&e}function b(n,t,e,r){var i=(65535&n)+(65535&t)+(65535&e)+(65535&r);return(65535&(n>>>16)+(t>>>16)+(e>>>16)+(r>>>16)+(i>>>16))<<16|65535&i}function d(n,t,e,r,i){var u=(65535&n)+(65535&t)+(65535&e)+(65535&r)+(65535&i);return(65535&(n>>>16)+(t>>>16)+(e>>>16)+(r>>>16)+(i>>>16)+(u>>>16))<<16|65535&u}function y(n){return p(n,7)^p(n,18)^A(n,3)}function E(n){return p(n,6)^p(n,11)^p(n,25)}function H(n){return[1732584193,4023233417,2562383102,271733878,3285377520]}function U(n,t){var e,r,i,u,o,s,a,h=[];for(e=t[0],r=t[1],i=t[2],u=t[3],o=t[4],a=0;a<80;a+=1)h[a]=a<16?n[a]:v(h[a-3]^h[a-8]^h[a-14]^h[a-16],1),s=a<20?d(v(e,5),I(r,i,u),o,1518500249,h[a]):a<40?d(v(e,5),N(r,i,u),o,1859775393,h[a]):a<60?d(v(e,5),m(r,i,u),o,2400959708,h[a]):d(v(e,5),N(r,i,u),o,3395469782,h[a]),o=u,u=i,i=v(r,30),r=e,e=s;return t[0]=S(e,t[0]),t[1]=S(r,t[1]),t[2]=S(i,t[2]),t[3]=S(u,t[3]),t[4]=S(o,t[4]),t}function C(n,t,e,r){for(var i,u=15+(t+65>>>9<<4),o=t+e;n.length<=u;)n.push(0);for(n[t>>>5]|=128<<24-t%32,n[u]=4294967295&o,n[u-1]=o/4294967296|0,i=0;i<n.length;i+=16)r=U(n.slice(i,i+16),r);return r}var R=(function(n){function t(t,r,i){var u=this;if("SHA-1"!==t)throw new Error(s);var o=i||{};return(u=n.call(this,t,r,i)||this).g=!0,u.F=u.Y,u.C=-1,u.p=e(u.t,u.i,u.C),u.R=U,u.B=function(n){return n.slice()},u.L=H,u.K=C,u.m=[1732584193,4023233417,2562383102,271733878,3285377520],u.S=512,u.U=160,u.T=!1,o.hmacKey&&u.k(f("hmacKey",o.hmacKey,u.C)),u}return l(t,n),t})(c);function L(n){return"SHA-224"==n?u.slice():o.slice()}function K(n,t){var e,r,u,o,s,a,h,f,c,w,l,v,N=[];for(e=t[0],r=t[1],u=t[2],o=t[3],s=t[4],a=t[5],h=t[6],f=t[7],l=0;l<64;l+=1)N[l]=l<16?n[l]:b(p(v=N[l-2],17)^p(v,19)^A(v,10),N[l-7],y(N[l-15]),N[l-16]),c=d(f,E(s),I(s,a,h),i[l],N[l]),w=S(g(e),m(e,r,u)),f=h,h=a,a=s,s=S(o,c),o=u,u=r,r=e,e=S(c,w);return t[0]=S(e,t[0]),t[1]=S(r,t[1]),t[2]=S(u,t[2]),t[3]=S(o,t[3]),t[4]=S(s,t[4]),t[5]=S(a,t[5]),t[6]=S(h,t[6]),t[7]=S(f,t[7]),t}var T=(function(n){function t(t,r,i){var u=this;if("SHA-224"!==t&&"SHA-256"!==t)throw new Error(s);var o=i||{};return(u=n.call(this,t,r,i)||this).F=u.Y,u.g=!0,u.C=-1,u.p=e(u.t,u.i,u.C),u.R=K,u.B=function(n){return n.slice()},u.L=L,u.K=function(n,e,r,i){return(function(n,t,e,r,i){for(var u,o=15+(t+65>>>9<<4),s=t+e;n.length<=o;)n.push(0);for(n[t>>>5]|=128<<24-t%32,n[o]=4294967295&s,n[o-1]=s/4294967296|0,u=0;u<n.length;u+=16)r=K(n.slice(u,u+16),r);return"SHA-224"===i?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r})(n,e,r,i,t)},u.m=L(t),u.S=512,u.U="SHA-224"===t?224:256,u.T=!1,o.hmacKey&&u.k(f("hmacKey",o.hmacKey,u.C)),u}return l(t,n),t})(c),F=function(n,t){this.N=n,this.I=t};function k(n,t){var e;return t>32?(e=64-t,new F(n.I<<t|n.N>>>e,n.N<<t|n.I>>>e)):0!==t?(e=32-t,new F(n.N<<t|n.I>>>e,n.I<<t|n.N>>>e)):n}function B(n,t){var e;return t<32?(e=32-t,new F(n.N>>>t|n.I<<e,n.I>>>t|n.N<<e)):(e=64-t,new F(n.I>>>t|n.N<<e,n.N>>>t|n.I<<e))}function Y(n,t){return new F(n.N>>>t,n.I>>>t|n.N<<32-t)}function M(n,t,e){return new F(n.N&t.N^~n.N&e.N,n.I&t.I^~n.I&e.I)}function j(n,t,e){return new F(n.N&t.N^n.N&e.N^t.N&e.N,n.I&t.I^n.I&e.I^t.I&e.I)}function O(n){var t=B(n,28),e=B(n,34),r=B(n,39);return new F(t.N^e.N^r.N,t.I^e.I^r.I)}function X(n,t){var e,r;e=(65535&n.I)+(65535&t.I);var i=(65535&(r=(n.I>>>16)+(t.I>>>16)+(e>>>16)))<<16|65535&e;return e=(65535&n.N)+(65535&t.N)+(r>>>16),r=(n.N>>>16)+(t.N>>>16)+(e>>>16),new F((65535&r)<<16|65535&e,i)}function z(n,t,e,r){var i,u;i=(65535&n.I)+(65535&t.I)+(65535&e.I)+(65535&r.I);var o=(65535&(u=(n.I>>>16)+(t.I>>>16)+(e.I>>>16)+(r.I>>>16)+(i>>>16)))<<16|65535&i;return i=(65535&n.N)+(65535&t.N)+(65535&e.N)+(65535&r.N)+(u>>>16),u=(n.N>>>16)+(t.N>>>16)+(e.N>>>16)+(r.N>>>16)+(i>>>16),new F((65535&u)<<16|65535&i,o)}function P(n,t,e,r,i){var u,o;u=(65535&n.I)+(65535&t.I)+(65535&e.I)+(65535&r.I)+(65535&i.I);var s=(65535&(o=(n.I>>>16)+(t.I>>>16)+(e.I>>>16)+(r.I>>>16)+(i.I>>>16)+(u>>>16)))<<16|65535&u;return u=(65535&n.N)+(65535&t.N)+(65535&e.N)+(65535&r.N)+(65535&i.N)+(o>>>16),o=(n.N>>>16)+(t.N>>>16)+(e.N>>>16)+(r.N>>>16)+(i.N>>>16)+(u>>>16),new F((65535&o)<<16|65535&u,s)}function _(n,t){return new F(n.N^t.N,n.I^t.I)}function x(n){var t=B(n,1),e=B(n,8),r=Y(n,7);return new F(t.N^e.N^r.N,t.I^e.I^r.I)}function V(n){var t=B(n,14),e=B(n,18),r=B(n,41);return new F(t.N^e.N^r.N,t.I^e.I^r.I)}var Z=[new F(i[0],3609767458),new F(i[1],602891725),new F(i[2],3964484399),new F(i[3],2173295548),new F(i[4],4081628472),new F(i[5],3053834265),new F(i[6],2937671579),new F(i[7],3664609560),new F(i[8],2734883394),new F(i[9],1164996542),new F(i[10],1323610764),new F(i[11],3590304994),new F(i[12],4068182383),new F(i[13],991336113),new F(i[14],633803317),new F(i[15],3479774868),new F(i[16],2666613458),new F(i[17],944711139),new F(i[18],2341262773),new F(i[19],2007800933),new F(i[20],1495990901),new F(i[21],1856431235),new F(i[22],3175218132),new F(i[23],2198950837),new F(i[24],3999719339),new F(i[25],766784016),new F(i[26],2566594879),new F(i[27],3203337956),new F(i[28],1034457026),new F(i[29],2466948901),new F(i[30],3758326383),new F(i[31],168717936),new F(i[32],1188179964),new F(i[33],1546045734),new F(i[34],1522805485),new F(i[35],2643833823),new F(i[36],2343527390),new F(i[37],1014477480),new F(i[38],1206759142),new F(i[39],344077627),new F(i[40],1290863460),new F(i[41],3158454273),new F(i[42],3505952657),new F(i[43],106217008),new F(i[44],3606008344),new F(i[45],1432725776),new F(i[46],1467031594),new F(i[47],851169720),new F(i[48],3100823752),new F(i[49],1363258195),new F(i[50],3750685593),new F(i[51],3785050280),new F(i[52],3318307427),new F(i[53],3812723403),new F(i[54],2003034995),new F(i[55],3602036899),new F(i[56],1575990012),new F(i[57],1125592928),new F(i[58],2716904306),new F(i[59],442776044),new F(i[60],593698344),new F(i[61],3733110249),new F(i[62],2999351573),new F(i[63],3815920427),new F(3391569614,3928383900),new F(3515267271,566280711),new F(3940187606,3454069534),new F(4118630271,4000239992),new F(116418474,1914138554),new F(174292421,2731055270),new F(289380356,3203993006),new F(460393269,320620315),new F(685471733,587496836),new F(852142971,1086792851),new F(1017036298,365543100),new F(1126000580,2618297676),new F(1288033470,3409855158),new F(1501505948,4234509866),new F(1607167915,987167468),new F(1816402316,1246189591)];function q(n){return"SHA-384"===n?[new F(3418070365,u[0]),new F(1654270250,u[1]),new F(2438529370,u[2]),new F(355462360,u[3]),new F(1731405415,u[4]),new F(41048885895,u[5]),new F(3675008525,u[6]),new F(1203062813,u[7])]:[new F(o[0],4089235720),new F(o[1],2227873595),new F(o[2],4271175723),new F(o[3],1595750129),new F(o[4],2917565137),new F(o[5],725511199),new F(o[6],4215389547),new F(o[7],327033209)]}function D(n,t){var e,r,i,u,o,s,a,h,f,c,w,l,v,p,A,N,I=[];for(e=t[0],r=t[1],i=t[2],u=t[3],o=t[4],s=t[5],a=t[6],h=t[7],w=0;w<80;w+=1)w<16?(l=2*w,I[w]=new F(n[l],n[l+1])):I[w]=z((p=void 0,A=void 0,N=void 0,p=B(v=I[w-2],19),A=B(v,61),N=Y(v,6),new F(p.N^A.N^N.N,p.I^A.I^N.I)),I[w-7],x(I[w-15]),I[w-16]),f=P(h,V(o),M(o,s,a),Z[w],I[w]),c=X(O(e),j(e,r,i)),h=a,a=s,s=o,o=X(u,f),u=i,i=r,r=e,e=X(f,c);return t[0]=X(e,t[0]),t[1]=X(r,t[1]),t[2]=X(i,t[2]),t[3]=X(u,t[3]),t[4]=X(o,t[4]),t[5]=X(s,t[5]),t[6]=X(a,t[6]),t[7]=X(h,t[7]),t}var G=(function(n){function t(t,r,i){var u=this;if("SHA-384"!==t&&"SHA-512"!==t)throw new Error(s);var o=i||{};return(u=n.call(this,t,r,i)||this).F=u.Y,u.g=!0,u.C=-1,u.p=e(u.t,u.i,u.C),u.R=D,u.B=function(n){return n.slice()},u.L=q,u.K=function(n,e,r,i){return(function(n,t,e,r,i){for(var u,o=31+(t+129>>>10<<5),s=t+e;n.length<=o;)n.push(0);for(n[t>>>5]|=128<<24-t%32,n[o]=4294967295&s,n[o-1]=s/4294967296|0,u=0;u<n.length;u+=32)r=D(n.slice(u,u+32),r);return"SHA-384"===i?[(r=r)[0].N,r[0].I,r[1].N,r[1].I,r[2].N,r[2].I,r[3].N,r[3].I,r[4].N,r[4].I,r[5].N,r[5].I]:[r[0].N,r[0].I,r[1].N,r[1].I,r[2].N,r[2].I,r[3].N,r[3].I,r[4].N,r[4].I,r[5].N,r[5].I,r[6].N,r[6].I,r[7].N,r[7].I]})(n,e,r,i,t)},u.m=q(t),u.S=1024,u.U="SHA-384"===t?384:512,u.T=!1,o.hmacKey&&u.k(f("hmacKey",o.hmacKey,u.C)),u}return l(t,n),t})(c),J=[new F(0,1),new F(0,32898),new F(2147483648,32906),new F(2147483648,2147516416),new F(0,32907),new F(0,2147483649),new F(2147483648,2147516545),new F(2147483648,32777),new F(0,138),new F(0,136),new F(0,2147516425),new F(0,2147483658),new F(0,2147516555),new F(2147483648,139),new F(2147483648,32905),new F(2147483648,32771),new F(2147483648,32770),new F(2147483648,128),new F(0,32778),new F(2147483648,2147483658),new F(2147483648,2147516545),new F(2147483648,32896),new F(0,2147483649),new F(2147483648,2147516424)],Q=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function W(n){var t,e=[];for(t=0;t<5;t+=1)e[t]=[new F(0,0),new F(0,0),new F(0,0),new F(0,0),new F(0,0)];return e}function $(n){var t,e=[];for(t=0;t<5;t+=1)e[t]=n[t].slice();return e}function nn(n,t){var e,r,i,u,o,s,a,h,f,c=[],w=[];if(null!==n)for(r=0;r<n.length;r+=2)t[(r>>>1)%5][(r>>>1)/5|0]=_(t[(r>>>1)%5][(r>>>1)/5|0],new F(n[r+1],n[r]));for(e=0;e<24;e+=1){for(u=W(),r=0;r<5;r+=1)c[r]=(o=t[r][0],s=t[r][1],a=t[r][2],h=t[r][3],f=t[r][4],new F(o.N^s.N^a.N^h.N^f.N,o.I^s.I^a.I^h.I^f.I));for(r=0;r<5;r+=1)w[r]=_(c[(r+4)%5],k(c[(r+1)%5],1));for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)t[r][i]=_(t[r][i],w[r]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)u[i][(2*r+3*i)%5]=k(t[r][i],Q[r][i]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)t[r][i]=_(u[r][i],new F(~u[(r+1)%5][i].N&u[(r+2)%5][i].N,~u[(r+1)%5][i].I&u[(r+2)%5][i].I));t[0][0]=_(t[0][0],J[e])}return t}function tn(n){var t,e,r=0,i=[0,0],u=[4294967295&n,n/4294967296&2097151];for(t=6;t>=0;t--)0==(e=u[t>>2]>>>8*t&255)&&0===r||(i[r+1>>2]|=e<<8*(r+1),r+=1);return r=0!==r?r:1,i[0]|=r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}function en(n){return a(tn(n.binLen),n)}function rn(n,t){var e,r=tn(t),i=t>>>2,u=(i-(r=a(r,n)).value.length%i)%i;for(e=0;e<u;e++)r.value.push(0);return r.value}var un=(function(n){function t(t,r,i){var u=this,o=6,a=0,h=i||{};if(1!==(u=n.call(this,t,r,i)||this).numRounds){if(h.kmacKey||h.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===u.o||"CSHAKE256"===u.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(u.C=1,u.p=e(u.t,u.i,u.C),u.R=nn,u.B=$,u.L=W,u.m=W(),u.T=!1,t){case"SHA3-224":u.S=a=1152,u.U=224,u.g=!0,u.F=u.Y;break;case"SHA3-256":u.S=a=1088,u.U=256,u.g=!0,u.F=u.Y;break;case"SHA3-384":u.S=a=832,u.U=384,u.g=!0,u.F=u.Y;break;case"SHA3-512":u.S=a=576,u.U=512,u.g=!0,u.F=u.Y;break;case"SHAKE128":o=31,u.S=a=1344,u.U=-1,u.T=!0,u.g=!1,u.F=null;break;case"SHAKE256":o=31,u.S=a=1088,u.U=-1,u.T=!0,u.g=!1,u.F=null;break;case"KMAC128":o=4,u.S=a=1344,u.M(i),u.U=-1,u.T=!0,u.g=!1,u.F=u.X;break;case"KMAC256":o=4,u.S=a=1088,u.M(i),u.U=-1,u.T=!0,u.g=!1,u.F=u.X;break;case"CSHAKE128":u.S=a=1344,o=u.O(i),u.U=-1,u.T=!0,u.g=!1,u.F=null;break;case"CSHAKE256":u.S=a=1088,o=u.O(i),u.U=-1,u.T=!0,u.g=!1,u.F=null;break;default:throw new Error(s)}return u.K=function(n,t,e,r,i){return(function(n,t,e,r,i,u,o){var s,a,h=0,f=[],c=i>>>5,w=t>>>5;for(s=0;s<w&&t>=i;s+=c)r=nn(n.slice(s,s+c),r),t-=i;for(n=n.slice(s),t%=i;n.length<c;)n.push(0);for(n[(s=t>>>3)>>2]^=u<<s%4*8,n[c-1]^=2147483648,r=nn(n,r);32*f.length<o&&(a=r[h%5][h/5|0],f.push(a.I),!(32*f.length>=o));)f.push(a.N),0==64*(h+=1)%i&&(nn(null,r),h=0);return f})(n,t,0,r,a,o,i)},h.hmacKey&&u.k(f("hmacKey",h.hmacKey,u.C)),u}return l(t,n),t.prototype.O=function(n,t){var e=(function(n){var t=n||{};return{funcName:f("funcName",t.funcName,1,{value:[],binLen:0}),customization:f("Customization",t.customization,1,{value:[],binLen:0})}})(n||{});t&&(e.funcName=t);var r=a(en(e.funcName),en(e.customization));if(0!==e.customization.binLen||0!==e.funcName.binLen){for(var i=rn(r,this.S>>>3),u=0;u<i.length;u+=this.S>>>5)this.m=this.R(i.slice(u,u+(this.S>>>5)),this.m),this.v+=this.S;return 4}return 31},t.prototype.M=function(n){var t=(function(n){var t=n||{};return{kmacKey:f("kmacKey",t.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:f("Customization",t.customization,1,{value:[],binLen:0})}})(n||{});this.O(n,t.funcName);for(var e=rn(en(t.kmacKey),this.S>>>3),r=0;r<e.length;r+=this.S>>>5)this.m=this.R(e.slice(r,r+(this.S>>>5)),this.m),this.v+=this.S;this.A=!0},t.prototype.X=function(n){var t=a({value:this.u.slice(),binLen:this.s},(function(n){var t,e,r=0,i=[0,0],u=[4294967295&n,n/4294967296&2097151];for(t=6;t>=0;t--)0==(e=u[t>>2]>>>8*t&255)&&0===r||(i[r>>2]|=e<<8*r,r+=1);return i[(r=0!==r?r:1)>>2]|=r<<8*r,{value:r+1>4?i:[i[0]],binLen:8+8*r}})(n.outputLen));return this.K(t.value,t.binLen,this.v,this.B(this.m),n.outputLen)},t})(c);return(function(){function n(n,t,e){if("SHA-1"==n)this.j=new R(n,t,e);else if("SHA-224"==n||"SHA-256"==n)this.j=new T(n,t,e);else if("SHA-384"==n||"SHA-512"==n)this.j=new G(n,t,e);else{if("SHA3-224"!=n&&"SHA3-256"!=n&&"SHA3-384"!=n&&"SHA3-512"!=n&&"SHAKE128"!=n&&"SHAKE256"!=n&&"CSHAKE128"!=n&&"CSHAKE256"!=n&&"KMAC128"!=n&&"KMAC256"!=n)throw new Error(s);this.j=new un(n,t,e)}}return n.prototype.update=function(n){this.j.update(n)},n.prototype.getHash=function(n,t){return this.j.getHash(n,t)},n.prototype.setHMACKey=function(n,t,e){this.j.setHMACKey(n,t,e)},n.prototype.getHMAC=function(n,t){return this.j.getHMAC(n,t)},n})()},"object"==typeof _e&&void 0!==_m?_m.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).jsSHA=t()},551,[]);
__d(function(e,t,n,r,i,o,a){var s=t(a[0]);!(function(){return function e(n,r,i){function o(s,c){if(!r[s]){if(!n[s]){var u="function"==typeof t&&t;if(!c&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=r[s]={exports:{}};n[s][0].call(d.exports,function(e){return o(n[s][1][e]||e)},d,d.exports,e,n,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}})()({1:[function(e,t,n){!(function(e,r){"object"==typeof n&&void 0!==t?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).jabra={})})(this,function(e){"use strict";function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function o(e,t,n){return(o=i()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o}).apply(null,arguments)}function a(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){function i(){return o(e,arguments,n(this).constructor)}if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r(i,e)})(e)}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function d(e){if(Array.isArray(e)){var t=[].concat.apply([],e.map(function(e){return d(e)}));return[].concat(Array.from(new Set(t).values()))}return e instanceof RegExp?Array.from(R.keys()).filter(function(t){return e.test(t)}):R.has(e)?[e]:(O.warn("Unknown event "+e+" ignored when adding/removing eventlistener"),[])}function f(e,t){d(e).map(function(e){var n=R.get(e);n.find(function(e){return e===t})||n.push(t)})}function h(){return y("getactivedevice")}function p(){return y("getdevices")}function v(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=!0),!(!n||n&&j.initialized))throw new Error("Browser integration not initialized");var r=(F++).toString(),i={direction:"jabra-headset-extension-from-page-script",message:e,args:t||{},requestId:r,apiClientId:M,version_jsapi:C};O.trace("Sending command to content script: "+JSON.stringify(i)),window.postMessage(i,"*")}function y(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=!0),!n||n&&j.initialized){var r=(F++).toString();return new Promise(function(n,i){x.set(r,{cmd:e,resolve:n,reject:i});var o={direction:"jabra-headset-extension-from-page-script",message:e,args:t||{},requestId:r,apiClientId:M,version_jsapi:C};O.trace("Sending command to content script expecting result: "+JSON.stringify(o)),window.postMessage(o,"*")})}return Promise.reject(new Error("Browser integration not initialized"))}function g(e,t,n){function r(e,t){var n=e.productID.toString(16).padStart(4,"0");return t.findIndex(function(e){return e.indexOf("(0b0e:"+n)>=0})}function i(e,t,n){return n.find(function(n){return n.groupId==e&&n.kind==t})}if(e&&e.deviceName){var o=void 0,a=void 0,s=void 0,c=void 0,u=n.filter(function(e){return e.label&&e.label.toLowerCase().includes("jabra")&&("audioinput"===e.kind||"audiooutput"===e.kind)}),l=(function(n){if(n.length>0){var i=r(e,n);if(i>=0)return i;var o=t.find(function(t){return t.deviceID===e.connectedDeviceID});if(o&&(i=r(o,n))>=0)return i}return-1})(u.map(function(e){return e.label}));if(l>=0){var d=u[l];if(o=d.groupId,c=d.label,"audioinput"===d.kind){a=d.deviceId;var f=i(o,"audiooutput",u);f&&(s=f.deviceId)}else if("audiooutput"===d.kind){s=d.deviceId;var h=i(o,"audioinput",u);h&&(a=h.deviceId)}}o&&(e.browserGroupId=o),c&&(e.browserLabel=c),a&&(e.browserAudioInputId=a),s&&(e.browserAudioOutputId=s)}}function m(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?j.initialized?"https:"!==location.protocol?Promise.reject(new Error("Your browser needs https for lookup to work")):Promise.all([h(),p(),navigator.mediaDevices.enumerateDevices()]).then(function(e){var t=e[0];return g(t,e[1],e[2]),t}):Promise.reject(new Error("Browser integration not initialized")):Promise.reject(new Error("Your browser does not support required media api"))}function b(e){if(""!==e&&("string"==typeof e||e instanceof String))return"true"===e||"1"===e;if("boolean"==typeof e)return e;throw new Error("Illegal/missing argument - boolean or string expected")}function w(e){if(""!==e&&("string"==typeof e||e instanceof String))return parseInt(e);if("number"==typeof e)return e;throw new Error("Illegal/missing argument - number or string expected")}function k(e){if(""!==e&&("string"==typeof e||e instanceof String)){var t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]}if("number"==typeof e){return[e>>16&255,e>>8&255,255&e]}if(Array.isArray(e)){if(3!=e.length)throw new Error("Illegal argument - wrong dimension of number array (3 expected)");return e}throw new Error("Illegal/missing argument - number array or hex string expected")}function S(e){if("ID"in e.data)switch(e.data.ID){case"VOLUP TAP":return new L("volumeup",!0,e.data.TimeStampMs);case"VOLDOWN TAP":return new L("volumedown",!0,e.data.TimeStampMs)}for(var t in D)if(t in e.data){var n=D[t],r=e.data[t];switch(n.valueType){case"boolean":r="true"===r.toLowerCase();break;case"number":r=Number(r)}return new L(n.eventType,r,e.data.TimeStampMs)}return null}var C="3.0.0",T=C.includes("beta"),_="okpeabepajdgiepelmhkfhkjlhhmofma",P=_,E=["devices","activedevice","getinstallinfo","Version","setmmifocus","setactivedevice2","setbusylight","setremotemmilightaction"];!(function(e){e[e.NoError=0]="NoError",e[e.SSLError=1]="SSLError",e[e.CertError=2]="CertError",e[e.NetworkError=3]="NetworkError",e[e.DownloadError=4]="DownloadError",e[e.ParseError=5]="ParseError",e[e.OtherError=6]="OtherError",e[e.DeviceInfoError=7]="DeviceInfoError",e[e.FileNotAccessible=8]="FileNotAccessible",e[e.FileNotCompatible=9]="FileNotCompatible",e[e.Device_NotFound=10]="Device_NotFound",e[e.Parameter_fail=11]="Parameter_fail",e[e.Authorization_failed=12]="Authorization_failed",e[e.FileNotAvailable=13]="FileNotAvailable",e[e.ConfigParseError=14]="ConfigParseError",e[e.SetSettings_Fail=15]="SetSettings_Fail",e[e.Device_Reboot=16]="Device_Reboot",e[e.Device_ReadFail=17]="Device_ReadFail",e[e.Device_NotReady=18]="Device_NotReady",e[e.FilePartiallyCompatible=19]="FilePartiallyCompatible"})(e.ErrorCodes||(e.ErrorCodes={})),(function(e){e[e.Return_Ok=0]="Return_Ok",e[e.Device_Unknown=1]="Device_Unknown",e[e.Device_Invalid=2]="Device_Invalid",e[e.Not_Supported=3]="Not_Supported",e[e.Return_ParameterFail=4]="Return_ParameterFail",e[e.ProtectedSetting_Write=5]="ProtectedSetting_Write",e[e.No_Information=6]="No_Information",e[e.NetworkRequest_Fail=7]="NetworkRequest_Fail",e[e.Device_WriteFail=8]="Device_WriteFail",e[e.Device_ReadFails=9]="Device_ReadFails",e[e.No_FactorySupported=10]="No_FactorySupported",e[e.System_Error=11]="System_Error",e[e.Device_BadState=12]="Device_BadState",e[e.FileWrite_Fail=13]="FileWrite_Fail",e[e.File_AlreadyExists=14]="File_AlreadyExists",e[e.File_Not_Accessible=15]="File_Not_Accessible",e[e.Firmware_UpToDate=16]="Firmware_UpToDate",e[e.Firmware_Available=17]="Firmware_Available",e[e.Return_Async=18]="Return_Async",e[e.Invalid_Authorization=19]="Invalid_Authorization",e[e.FWU_Application_Not_Available=20]="FWU_Application_Not_Available",e[e.Device_AlreadyConnected=21]="Device_AlreadyConnected",e[e.Device_NotConnected=22]="Device_NotConnected",e[e.CannotClear_DeviceConnected=23]="CannotClear_DeviceConnected",e[e.Device_Rebooted=24]="Device_Rebooted",e[e.Upload_AlreadyInProgress=25]="Upload_AlreadyInProgress",e[e.Download_AlreadyInProgress=26]="Download_AlreadyInProgress"})(e.ErrorReturnCodes||(e.ErrorReturnCodes={}));var I=(function(e){function n(t,n,r){var i;return(i=e.call(this,"Command "+t+" failed with error  message "+n+" and details: "+JSON.stringify(r||{}))||this).command=t,i.errmessage=n,i.data=r,i.name="CommandError",i}return t(n,e),n})(s(Error)),R=new Map;["mute","unmute","device attached","device detached","acceptcall","endcall","reject","flash","online","offline","linebusy","lineidle","redial","key0","key1","key2","key3","key4","key5","key6","key7","key8","key9","keyStar","keyPound","keyClear","Online","speedDial","voiceMail","LineBusy","outOfRange","intoRange","pseudoAcceptcall","pseudoEndcall","button1","button2","button3","volumeUp","volumeDown","fireAlarm","jackConnection","jackDisConnection","qdConnection","qdDisconnection","headsetConnection","headsetDisConnection","devlog","busylight","hearThrough","batteryStatus","gnpButton","mmi","error"].forEach(function(e){return R.set(e,[])}),(function(e){e[e.BusyLight=1e3]="BusyLight",e[e.FactoryReset=1001]="FactoryReset",e[e.PairingList=1002]="PairingList",e[e.RemoteMMI=1003]="RemoteMMI",e[e.MusicEqualizer=1004]="MusicEqualizer",e[e.EarbudInterconnectionStatus=1005]="EarbudInterconnectionStatus",e[e.StepRate=1006]="StepRate",e[e.HeartRate=1007]="HeartRate",e[e.RRInterval=1008]="RRInterval",e[e.RingtoneUpload=1009]="RingtoneUpload",e[e.ImageUpload=1010]="ImageUpload",e[e.NeedsExplicitRebootAfterOta=1011]="NeedsExplicitRebootAfterOta",e[e.NeedsToBePutIncCradleToCompleteFwu=1012]="NeedsToBePutIncCradleToCompleteFwu",e[e.RemoteMMIv2=1013]="RemoteMMIv2",e[e.Logging=1014]="Logging",e[e.PreferredSoftphoneListInDevice=1015]="PreferredSoftphoneListInDevice",e[e.VoiceAssistant=1016]="VoiceAssistant",e[e.PlayRingtone=1017]="PlayRingtone"})(e.DeviceFeature||(e.DeviceFeature={})),(function(e){e[e.MMI_TYPE_MFB=0]="MMI_TYPE_MFB",e[e.MMI_TYPE_VOLUP=1]="MMI_TYPE_VOLUP",e[e.MMI_TYPE_VOLDOWN=2]="MMI_TYPE_VOLDOWN",e[e.MMI_TYPE_VCB=3]="MMI_TYPE_VCB",e[e.MMI_TYPE_APP=4]="MMI_TYPE_APP",e[e.MMI_TYPE_TR_FORW=5]="MMI_TYPE_TR_FORW",e[e.MMI_TYPE_TR_BACK=6]="MMI_TYPE_TR_BACK",e[e.MMI_TYPE_PLAY=7]="MMI_TYPE_PLAY",e[e.MMI_TYPE_MUTE=8]="MMI_TYPE_MUTE",e[e.MMI_TYPE_HOOK_OFF=9]="MMI_TYPE_HOOK_OFF",e[e.MMI_TYPE_HOOK_ON=10]="MMI_TYPE_HOOK_ON",e[e.MMI_TYPE_BLUETOOTH=11]="MMI_TYPE_BLUETOOTH",e[e.MMI_TYPE_JABRA=12]="MMI_TYPE_JABRA",e[e.MMI_TYPE_BATTERY=13]="MMI_TYPE_BATTERY",e[e.MMI_TYPE_PROG=14]="MMI_TYPE_PROG",e[e.MMI_TYPE_LINK=15]="MMI_TYPE_LINK",e[e.MMI_TYPE_ANC=16]="MMI_TYPE_ANC",e[e.MMI_TYPE_LISTEN_IN=17]="MMI_TYPE_LISTEN_IN",e[e.MMI_TYPE_DOT3=18]="MMI_TYPE_DOT3",e[e.MMI_TYPE_DOT4=19]="MMI_TYPE_DOT4",e[e.MMI_TYPE_BUSYLIGHT=128]="MMI_TYPE_BUSYLIGHT"})(e.RemoteMmiType||(e.RemoteMmiType={})),(function(e){e[e.MMI_LED_SEQUENCE_OFF=0]="MMI_LED_SEQUENCE_OFF",e[e.MMI_LED_SEQUENCE_ON=1]="MMI_LED_SEQUENCE_ON",e[e.MMI_LED_SEQUENCE_SLOW=2]="MMI_LED_SEQUENCE_SLOW",e[e.MMI_LED_SEQUENCE_FAST=3]="MMI_LED_SEQUENCE_FAST"})(e.RemoteMmiSequence||(e.RemoteMmiSequence={})),(function(e){e[e.MMI_ACTION_UP=1]="MMI_ACTION_UP",e[e.MMI_ACTION_DOWN=2]="MMI_ACTION_DOWN",e[e.MMI_ACTION_TAP=4]="MMI_ACTION_TAP",e[e.MMI_ACTION_DOUBLE_TAP=8]="MMI_ACTION_DOUBLE_TAP",e[e.MMI_ACTION_PRESS=16]="MMI_ACTION_PRESS",e[e.MMI_ACTION_LONG_PRESS=32]="MMI_ACTION_LONG_PRESS",e[e.MMI_ACTION_X_LONG_PRESS=64]="MMI_ACTION_X_LONG_PRESS"})(e.RemoteMmiActionInput||(e.RemoteMmiActionInput={})),e.logLevel=2;var O=new((function(){function t(){}var n=t.prototype;return n.trace=function(t){e.logLevel>=4&&console.log(t)},n.info=function(t){e.logLevel>=3&&console.log(t)},n.warn=function(t){e.logLevel>=2&&console.warn(t)},n.error=function(t){e.logLevel>=1&&console.error(t)},t})()),M=Math.random().toString(36).substr(2,9),x=new Map,F=1,j={},A=(function(){function e(){this.listeners=new Map}var t=e.prototype;return t.addEventListener=function(e,t){var n=this.listeners.get(e)||[];this.listeners.set(e,[].concat(n,[t]))},t.on=function(e,t){this.addEventListener(e,t)},t.removeEventListener=function(e,t){var n=this.listeners.get(e)||[];this.listeners.set(e,n.filter(function(e){return e!==t}))},t.off=function(e,t){this.removeEventListener(e,t)},t.emit=function(e,t){var n=this.listeners.get(e);n&&n.forEach(function(e){e(t)})},e})(),D={Speech_Analysis_TX:{eventType:"txspeech",valueType:"boolean"},Speech_Analysis_RX:{eventType:"rxspeech",valueType:"boolean"},"TX Acoustic Logging Level":{eventType:"txacousticlevel",valueType:"number"},"RX Acoustic Logging Level":{eventType:"rxacousticlevel",valueType:"number"},"TX Acoustic Logging Peak":{eventType:"txacousticpeak",valueType:"number"},"RX Acoustic Logging Peak":{eventType:"rxacousticpeak",valueType:"number"},"Boom Position Guidance OK":{eventType:"armpositionok",valueType:"boolean"},"Bad_Mic_detect Flag":{eventType:"badmic",valueType:"boolean"},"Mute State":{eventType:"mute",valueType:"boolean"}},L=function(e,t,n){this.type=e,this.value=t,this.timestamp=n||Date.now()},N=(function(){function e(){this.events=[]}var t=e.prototype;return t.add=function(e){var t=this.events.findIndex(function(t){return e.timestamp<t.timestamp});return-1===t&&(t=this.events.length),this.events=[].concat(this.events.slice(0,t),[e],this.events.slice(t)),e},t.newest=function(e){if(e){for(var t=this.events.length-1;t>0;t--){var n=this.events[t];if(n.type===e)return n}return null}return this.events[this.events.length-1]||null},t.find=function(e){var t=this.events;if(e){var n=e.eventType,r=e.limit,i=e.interval,o=e.limitEvent,a=e.offsetEvent;o&&(t=t.slice(0,this.events.indexOf(o))),a&&(t=t.slice(this.events.indexOf(a))),(n||i)&&(t=t.filter(function(e){var t=e.type,r=e.timestamp;return!(n&&!n.includes(t)||i&&i.start&&r<i.start||i&&i.end&&r>i.end)})),r&&(t=r>0?t.slice(0,r):t.slice(r))}return t},t.clear=function(){this.events=[]},e})(),B=(function(e){function n(t){var n;return void 0===t&&(t=null),(n=e.call(this)||this).events=new N,f("devlog",function(e){if(n.startTime&&!n.stopTime&&(!t||t===e.data.deviceID)){var r=S(e);r&&(n.events.add(r),n.emit(r.type,r))}}),console.warn("WARNING: The Analytics APIs are pre-release and subject to change without warning in future releases. Only use for evaluation purposes."),n}t(n,e);var r=n.prototype;return r.start=function(){this.clear(),this.startTime=Date.now(),this.stopTime=void 0},r.stop=function(){this.stopTime=Date.now()},r.clear=function(){this.events.clear()},r.getSpeechStatus=function(){var e=this.events.newest("txspeech"),t=this.events.newest("rxspeech"),n=!!e&&e.value,r=!!t&&t.value,i=n&&r;return{isSilent:!n&&!r,isCrosstalking:i,isTXSpeaking:!i&&n,isRXSpeaking:!i&&r}},r.getSpeechTime=function(e,t){var n={eventType:"txspeech rxspeech"};e&&t&&(n.interval={start:e,end:t});var r,i,o,a=this.events.find(n),s=e||this.startTime||0,c=t||this.stopTime||Date.now(),u=0,d=0,f=0;if(e&&t){var h=this.events.find({eventType:"txspeech",limitEvent:a[0],limit:-1})[0],p=this.events.find({eventType:"rxspeech",limitEvent:a[0],limit:-1})[0];h&&!0===h.value&&a.unshift(new L("txspeech",!0,s)),p&&!0===p.value&&a.unshift(new L("rxspeech",!0,s)),a.push(new L("txspeech",!1,c),new L("rxspeech",!1,c))}for(var v,y=l(a);!(v=y()).done;){var g=v.value,m="txspeech"===g.type,b="rxspeech"===g.type;m&&!0===g.value&&!r&&(r=g),b&&!0===g.value&&!i&&(i=g),m&&!1===g.value&&r&&(o?(f+=g.timestamp-o.timestamp,o=void 0,i&&(i=g)):u+=g.timestamp-r.timestamp,r=void 0),b&&!1===g.value&&i&&(o?(f+=g.timestamp-o.timestamp,o=void 0,r&&(r=g)):d+=g.timestamp-i.timestamp,i=void 0),r&&i&&!o&&(o=g,m&&(d+=g.timestamp-i.timestamp),b&&(u+=g.timestamp-r.timestamp))}var w=c-s,k=w-(u+d+f),S=function(e){var t=100*e/w;return+(Math.round(t+"e+2")+"e-2")};return{totalTime:w,txSpeechTime:u,txSpeechTimePct:S(u),rxSpeechTime:d,rxSpeechTimePct:S(d),crosstalkTime:f,crosstalkTimePct:S(f),silenceTime:k,silenceTimePct:S(k)}},r.getMutedStatus=function(){var e=this.events.newest("mute");return!!e&&e.value},r.getMutedCount=function(){return this.events.find({eventType:"mute"}).filter(function(e){return e.value}).length},r.getBoomArmStatus=function(){var e=this.events.newest("boomarm");return e?e.value:void 0},r.getBoomArmMisalignedCount=function(){return this.events.find({eventType:"boomarm"}).filter(function(e){return e.value}).length},r.getVolumeUpCount=function(){return this.events.find({eventType:"volumeup"}).filter(function(e){return e.value}).length},r.getVolumeDownCount=function(){return this.events.find({eventType:"volumedown"}).filter(function(e){return e.value}).length},r.getAudioExposure=function(e){return void 0===e&&(e=-15),this.events.find({limit:e,eventType:"rxacousticlevel"})},r.getAverageAudioExposure=function(e,t){return this.getAverageAcousticLevel("rxacousticlevel",e,t)},r.getBackgroundNoise=function(e){return void 0===e&&(e=-15),this.events.find({limit:e,eventType:"txacousticlevel"})},r.getAverageBackgroundNoise=function(e,t){return this.getAverageAcousticLevel("txacousticlevel",e,t)},r.getAverageAcousticLevel=function(e,t,n){var r=[];if(t&&n){var i=this.events.find({eventType:e,interval:{start:t,end:n}});r=[].concat(this.events.find({eventType:e,limitEvent:i[0],limit:-1}),i)}else r=this.events.find({eventType:e});if(0===r.length)return 0;if(1===r.length)return r[0].value;for(var o=0,a=0,s=0;s<r.length-1;s++){var c=r[s],u=r[s+1].timestamp-c.timestamp;o+=u*c.value,a+=u}return Math.round(o/a)},n})(A);e.Analytics=B,e.CommandError=I,e._getEvents=d,e._setActiveDeviceId=function(e){var t=w(e);v("setactivedevice "+e.toString(),{id:t})},e.addEventListener=f,e.apiVersion=C,e.getActiveDevice=function(e){return void 0===e&&(e=!1),b(e)?m():h()},e.getDevices=function(e){return void 0===e&&(e=!1),b(e)?navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?j.initialized?"https:"!==location.protocol?Promise.reject(new Error("Your browser needs https for lookup to work")):Promise.all([p(),navigator.mediaDevices.enumerateDevices()]).then(function(e){var t=e[0],n=e[1];return t.forEach(function(e){g(e,t,n)}),t}):Promise.reject(new Error("Browser integration not initialized")):Promise.reject(new Error("Your browser does not support required media api")):p()},e.getInstallInfo=function(){return y("getinstallinfo")},e.getUserDeviceMediaExt=function(e){function t(e,n){if(null!==n&&void 0!==n&&"object"==typeof e){var r={};for(var i in n)r[i]=n[i];for(var i in e)r[i]=t(e[i],n[i]);return r}return e}return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?j.initialized?("https:"!==location.protocol&&O.warn("This function needs to run under https for best UX experience (persisted permissions)"),void 0!==e&&null!==e&&"object"!=typeof e?Promise.reject(new Error("Optional constraints parameter must be an object")):navigator.mediaDevices.getUserMedia(t({audio:!0},e)).then(function(n){return m().then(function(r){return n.getTracks().forEach(function(e){e.stop()}),r&&r.browserAudioInputId?navigator.mediaDevices.getUserMedia(t({audio:{deviceId:r.browserAudioInputId}},e)).then(function(e){return{stream:e,deviceInfo:r}}):Promise.reject(new Error("Could not find a Jabra device with a microphone"))})})):Promise.reject(new Error("Browser integration not initialized")):Promise.reject(new Error("Your browser does not support required media api"))},e.hold=function(){v("hold")},e.init=function(){return new Promise(function(t,n){function r(e){var t=[e.version_browserextension,e.version_chromehost,e.version_jsapi];return!(t.some(function(e){return!e})||!e.version_nativesdk||!t.map(function(e){var t=e.lastIndexOf("beta");return t>=0&&e.length>t+4?e.substr(t+4):void 0}).filter(function(e){return e}).every(function(e,t,n){return e===n[0]}))}function i(e,t){var n=R.get(e);n?n.forEach(function(e){e(t)}):O.error("Unexpected unknown eventName: "+e)}function o(e){var t;if(e)t=x.get(e),x.delete(e);else if(1===x.size){var n=x.entries().next().value;t=n[1],x.delete(n[0])}else t=void 0;var r=x.size;return r>10&&r%10==0&&O.warn("Memory leak found - Request result map is getting too large (size #"+r+")"),t}if(!/Chrome/.test(navigator.userAgent)||!/Google Inc/.test(navigator.vendor))return n(new Error("Jabra Browser Integration: Only supported by <a href='https://google.com/chrome'>Google Chrome</a>."));if(j.initialized||j.initializing)return n(new Error("Jabra Browser Integration already initialized"));j.initializing=!0,x.clear();var a=!0;j.eventCallback=function(s){if(s&&s.source===window&&s.data&&s.data.direction&&"jabra-headset-extension-from-content-script"===s.data.direction){var c=s.data.apiClientId||"",u=s.data.requestId||"";if(M===c||""===c)if(O.trace("Receiving event from content script: "+JSON.stringify(s.data)),"na"===s.data.message&&delete s.data.message,s.data.message&&s.data.message.startsWith("Error:")&&(s.data.error=s.data.message,delete s.data.message),s.data.message){O.trace("Got message: "+JSON.stringify(s.data));var l=s.data.message.substring(7);if(l.startsWith("logLevel"))return e.logLevel=parseInt(s.data.message.substring(16)),void O.trace("Logger set to level "+e.logLevel);var d=E.findIndex(function(e){return l.startsWith(e)});if(d>=0){("getinstallinfo"===l||l.startsWith("Version "))&&(s.data.data||(s.data.data={}),s.data.data.version_jsapi=C),"getinstallinfo"===l&&(s.data.data.installationOk=r(s.data.data));var f=o(u);if(f){var h;if(s.data.data)h=s.data.data;else{var p=E[d].length+1,v=l.substring(p);h={},v&&(h.legacy_result=v)}f.resolve(h)}else{var y="Result target information missing for message "+s.data.message+". This is likely due to some software components that have not been updated or a software bug. Please upgrade extension and/or chromehost";O.error(y),i("error",{error:y,message:s.data.message})}}else{if(!R.has(l))return O.warn("Unknown message: "+s.data.message),void i("error",{error:"Unknown message: ",message:s.data.message});var g=JSON.parse(JSON.stringify(s.data));delete g.direction,delete g.apiClientId,delete g.requestId,g.message=l,i(l,g)}if(a)return a=!1,t()}else if(s.data.error){O.error("Got error: "+s.data.error);var m=s.data.error.substring(7),b=o(u);if(b)b.reject(new I(b.cmd,m,s.data.data));else{var w=JSON.parse(JSON.stringify(s.data));delete w.direction,delete w.apiClientId,delete w.requestId,w.error=m,i("error",w)}if(a)return a=!1,n(new Error(s.data.error))}}},window.addEventListener("message",j.eventCallback),setTimeout(function(){y("getversion",null,!1).then(function(e){var t="string"==typeof e||e instanceof String?e:JSON.stringify(e,null,2);O.trace("getversion returned successfully with : "+t),v("logLevel",null,!1)}).catch(function(e){O.error(e)})},1e3),setTimeout(function(){!0===a&&(a=!1,n(new Error("Jabra Browser Integration: You need to use this <a href='https://chrome.google.com/webstore/detail/"+(T?P:_)+"'>Extension</a> and then reload this page")))},5e3),j.initialized=!0,j.initializing=!1})},e.isDeviceSelectedForInput=function(e,t){if(!e||!t)throw Error("Call to isDeviceSelectedForInput has argument(s) missing");for(var n=e.getAudioTracks(),r=0,i=n.length;r<i;r++)if(n[r].getCapabilities().deviceId!==t.browserAudioInputId)return!1;return!0},e.mute=function(){v("mute")},e.offHook=function(e){v("offhook",{continueRinger:!!e&&b(e)})},e.onHook=function(e){v("onhook",{continueRinger:!!e&&b(e)})},e.removeEventListener=function(e,t){d(e).map(function(e){var n=R.get(e),r=n.findIndex(function(e){return e===t});r>=0&&n.splice(r,1)})},e.resume=function(){v("resume")},e.ring=function(){v("ring")},e.setActiveDeviceId=function(e){return y("setactivedevice2",{id:w(e)})},e.setBusyLight=function(e){return y("setbusylight",{busy:b(e)})},e.setMmiFocus=function(e,t){return y("setmmifocus",{type:w(e),capture:b(t)})},e.setRemoteMmiLightAction=function(e,t,n){return y("setremotemmilightaction",{type:w(e),color:k(t),effect:w(n)})},e.shutdown=function(){return j.initialized?(window.removeEventListener("message",j.eventCallback),j.eventCallback=void 0,x.clear(),F=1,j.initialized=!1,R.forEach(function(e,t){}),Promise.resolve()):Promise.reject(new Error("Browser integration not initialized"))},e.trySetDeviceOutput=function(e,t){return e&&t?"function"!=typeof e.setSinkId?Promise.reject(new Error("Your browser does not support required Audio Output Devices API")):e.setSinkId(t.browserAudioOutputId).then(function(){return e.sinkId===t.browserAudioOutputId}):Promise.reject(new Error("Call to trySetDeviceOutput has argument(s) missing"))},e.unmute=function(){v("unmute")},e.unring=function(){v("unring")},Object.defineProperty(e,"__esModule",{value:!0})})},{}],2:[function(t,n,r){(function(e,t,i){(function(){!(function(e){if("object"==typeof r&&void 0!==n)n.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;"undefined"!=typeof window?i=window:void 0!==t?i=t:"undefined"!=typeof self&&(i=self),i.Promise=e()}})(function(){return(function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return i(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i})({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._haveDrainedQueues=!1;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c}function o(e){for(;e.length()>0;)a(e)}function a(e){var t=e.shift();if("function"!=typeof t)t._settlePromises();else{var n=e.shift(),r=e.shift();t.call(n,r)}}var s;try{throw new Error}catch(e){s=e}var c=t("./schedule"),u=t("./queue");i.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},i.prototype.invokeLater=function(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()},i.prototype.invoke=function(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()},i.prototype.settlePromises=function(e){this._normalQueue._pushOne(e),this._queueTick()},i.prototype._drainQueues=function(){o(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,o(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=s},{"./queue":26,"./schedule":29}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var u=n(o),l=new e(t);l._propagateFrom(this,1);var d=this._target();if(l._setBoundTo(u),u instanceof e){var f={promiseRejectionQueued:!1,promise:l,target:d,bindingPromise:u};d._then(t,a,void 0,l,f),u._then(s,c,void 0,l,f),l._setOnCancel(u)}else l._resolveCallback(d);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=e("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(e){}return i},t.exports=i},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+a.classString(e)+" has no method '"+a.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){return n(e,this.pop()).apply(e,this)}function i(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var a=e("./util"),s=a.canEvaluate;a.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;if("number"==typeof e)t=o;else if(s){var n=(void 0)(e);t=null!==n?n:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,c=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),r=e("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(e,a,s){return function(c){var u=s._boundValue();e:for(var l=0;l<e.length;++l){var d=e[l];if(d===Error||null!=d&&d.prototype instanceof Error){if(c instanceof d)return i(a).call(u,c)}else if("function"==typeof d){var f=i(d).call(u,c);if(f===o)return f;if(f)return i(a).call(u,c)}else if(n.isObject(c)){for(var h=r(d),p=0;p<h.length;++p){var v=h[p];if(d[v]!=c[v])continue e}return i(a).call(u,c)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(n())}function n(){var e=i.length-1;if(e>=0)return i[e]}var r=!1,i=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,i.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=i.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=function(){if(r)return new t},t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var i=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=i,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=c,r=!1},r=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=n,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r,i,o){function a(e,t){return{promise:t}}function s(){return!1}function c(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+N.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function u(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?N.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function l(){return this._onCancelField}function d(e){this._onCancelField=e}function f(){this._cancellationParent=void 0,this._onCancelField=void 0}function h(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function p(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function v(){this._trace=new M(this._peekContext())}function y(e,t){if(H(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=T(e);N.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),N.notEnumerableProp(e,"__stackCleaned__",!0)}}}function g(){this._trace=void 0}function m(e,t,r){if(se.warnings){var i,o=new L(e);if(t)r._attachExtraTrace(o);else if(se.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=T(o);o.stack=a.message+"\n"+a.stack.join("\n")}ne("warning",o)||_(o,"",!0)}}function b(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function w(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function k(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(s=a;s>=0;--s){var c=r[s];if(t[i]!==c)break;t.pop(),i--}t=r}}function S(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||q.test(r),o=i&&ie(r);i&&!o&&(z&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function C(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||q.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function T(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?C(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:S(t)}}function _(e,t,n){if("undefined"!=typeof console){var r;if(N.isObject(e)){var i=e.stack;r=t+G(i,e)}else r=t+String(e);"function"==typeof j?j(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function P(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){D.throwLater(e)}"unhandledRejection"===e?ne(e,n,r)||i||_(n,"Unhandled rejection "):ne(e,r)}function E(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():N.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+I(t)+">, no stack trace)"}function I(e){return e.length<41?e:e.substr(0,38)+"..."}function R(){return"function"==typeof ae}function O(e){var t=e.match(oe);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function M(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ae(this,M),t>32&&this.uncycle()}var x,F,j,A,D=n._async,L=t("./errors").Warning,N=t("./util"),B=t("./es5"),H=N.canAttachTrace,U=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,W=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,q=null,G=null,z=!1,Y=!(0==N.env("BLUEBIRD_DEBUG")),J=!(0==N.env("BLUEBIRD_WARNINGS")||!Y&&!N.env("BLUEBIRD_WARNINGS")),Q=!(0==N.env("BLUEBIRD_LONG_STACK_TRACES")||!Y&&!N.env("BLUEBIRD_LONG_STACK_TRACES")),K=0!=N.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(J||!!N.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!(function(){function e(){for(var e=0;e<r.length;++e)r[e]._notifyUnhandledRejection();t()}function t(){r.length=0}var r=[];A=function(t){r.push(t),setTimeout(e,1)},B.defineProperty(n,"_unhandledRejectionCheck",{value:e}),B.defineProperty(n,"_unhandledRejectionClear",{value:t})})(),n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),A(this))},n.prototype._notifyUnhandledRejectionIsHandled=function(){P("rejectionHandled",x,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),P("unhandledRejection",F,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return m(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=n._getContext();F=N.contextBind(t,e)},n.onUnhandledRejectionHandled=function(e){var t=n._getContext();x=N.contextBind(t,e)};var X=function(){};n.longStackTraces=function(){if(D.haveItemsQueued()&&!se.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!se.longStackTraces&&R()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace,i=n.prototype._dereferenceTrace;se.longStackTraces=!0,X=function(){if(D.haveItemsQueued()&&!se.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,n.prototype._dereferenceTrace=i,r.deactivateLongStackTraces(),se.longStackTraces=!1},n.prototype._captureStackTrace=v,n.prototype._attachExtraTrace=y,n.prototype._dereferenceTrace=g,r.activateLongStackTraces()}},n.hasLongStackTraces=function(){return se.longStackTraces&&R()};var $={unhandledrejection:{before:function(){var e=N.global.onunhandledrejection;return N.global.onunhandledrejection=null,e},after:function(e){N.global.onunhandledrejection=e}},rejectionhandled:{before:function(){var e=N.global.onrejectionhandled;return N.global.onrejectionhandled=null,e},after:function(e){N.global.onrejectionhandled=e}}},Z=(function(){var e=function(e,t){if(!e)return!N.global.dispatchEvent(t);var n;try{return n=e.before(),!N.global.dispatchEvent(t)}finally{e.after(n)}};try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return N.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var r=new CustomEvent(t,{detail:n,cancelable:!0});return B.defineProperty(r,"promise",{value:n.promise}),B.defineProperty(r,"reason",{value:n.reason}),e($[t],r)}}if("function"==typeof Event){t=new Event("CustomEvent");return N.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var r=new Event(t,{cancelable:!0});return r.detail=n,B.defineProperty(r,"promise",{value:n.promise}),B.defineProperty(r,"reason",{value:n.reason}),e($[t],r)}}return(t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),N.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!0,n),e($[t],r)}}catch(e){}return function(){return!1}})(),ee=N.isNode?function(){return e.emit.apply(e,arguments)}:N.global?function(e){var t="on"+e.toLowerCase(),n=N.global[t];return!!n&&(n.apply(N.global,[].slice.call(arguments,1)),!0)}:function(){return!1},te={promiseCreated:a,promiseFulfilled:a,promiseRejected:a,promiseResolved:a,promiseCancelled:a,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:a},ne=function(e){var t=!1;try{t=ee.apply(null,arguments)}catch(e){D.throwLater(e),t=!0}var n=!1;try{n=Z(e,te[e].apply(null,arguments))}catch(e){D.throwLater(e),n=!0}return n||t};n.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&X()),"warnings"in e){var t=e.warnings;se.warnings=!!t,K=se.warnings,N.isObject(t)&&"wForgottenReturn"in t&&(K=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!se.cancellation){if(D.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=f,n.prototype._propagateFrom=h,n.prototype._onCancel=l,n.prototype._setOnCancel=d,n.prototype._attachCancellationCallback=u,n.prototype._execute=c,re=h,se.cancellation=!0}if("monitoring"in e&&(e.monitoring&&!se.monitoring?(se.monitoring=!0,n.prototype._fireEvent=ne):!e.monitoring&&se.monitoring&&(se.monitoring=!1,n.prototype._fireEvent=s)),"asyncHooks"in e&&N.nodeSupportsAsyncResource){var r=se.asyncHooks,a=!!e.asyncHooks;r!==a&&(se.asyncHooks=a,a?i():o())}return n},n.prototype._fireEvent=s,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._dereferenceTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var re=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)},ie=function(){return!1},oe=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;N.inherits(M,Error),r.CapturedTrace=M,M.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;for(r=(e=this._length=r)-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<e;++r){var a=n[t[r].stack];if(void 0!==a&&a!==r){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var s=r>0?t[r-1]:this;a<e-1?(s._parent=t[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var c=s._length+1,u=r-2;u>=0;--u)t[u]._length=c,c++;return}}}},M.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=T(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(S(i.stack.split("\n"))),i=i._parent;k(r),w(r),N.notEnumerableProp(e,"stack",b(n,r)),N.notEnumerableProp(e,"__stackCleaned__",!0)}};var ae=(function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():E(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,q=e,G=t;var n=Error.captureStackTrace;return ie=function(e){return U.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return q=/@/,G=t,z=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){r="stack"in e}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(G=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?E(t):t.toString()},null):(q=e,G=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})})();"undefined"!=typeof console&&void 0!==console.warn&&(j=function(e){console.warn(e)},N.isNode&&e.stderr.isTTY?j=function(e,t){var n=t?"\x1b[33m":"\x1b[31m";console.warn(n+e+"\x1b[0m\n")}:N.isNode||"string"!=typeof(new Error).stack||(j=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var se={warnings:J,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return Q&&n.longStackTraces(),{asyncHooks:function(){return se.asyncHooks},longStackTraces:function(){return se.longStackTraces},warnings:function(){return se.warnings},cancellation:function(){return se.cancellation},monitoring:function(){return se.monitoring},propagateFromFunction:function(){return re},boundValueFunction:function(){return p},checkForgottenReturns:function(e,t,n,r,i){if(void 0===e&&null!==t&&K){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=S(s),u=c.length-1;u>=0;--u){var l=c[u];if(!W.test(l)){var d=l.match(V);d&&(o="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(c.length>0){var f=c[0];for(u=0;u<s.length;++u)if(s[u]===f){u>0&&(a="\n"+s[u-1]);break}}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(h,!0,t)}},setBounds:function(e,t){if(R()){for(var n,r,i=(e.stack||"").split("\n"),o=(t.stack||"").split("\n"),a=-1,s=-1,c=0;c<i.length;++c)if(u=O(i[c])){n=u.fileName,a=u.line;break}for(c=0;c<o.length;++c){var u;if(u=O(o[c])){r=u.fileName,s=u.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(ie=function(e){if(U.test(e))return!0;var t=O(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}},warn:m,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),m(n)},CapturedTrace:M,fireDomEvent:Z,fireGlobalEvent:ee}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();return this.caught(n,function(){return r})}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return i(this)}var r=e.reduce,i=e.all;e.prototype.each=function(e){return r(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return r(this,e,t,t)},e.each=function(e,i){return r(e,i,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=function(e,n){return r(e,n,t,t)}}},{}],12:[function(e,t,n){"use strict";function r(e,t){function n(r){if(!(this instanceof n))return new n(r);d(this,"message","string"==typeof r?r:t),d(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}function i(e){if(!(this instanceof i))return new i(e);d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,a,s=e("./es5"),c=s.freeze,u=e("./util"),l=u.inherits,d=u.notEnumerableProp,f=r("Warning","warning"),h=r("CancellationError","cancellation error"),p=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(e){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<y.length;++g)"function"==typeof Array.prototype[y[g]]&&(v.prototype[y[g]]=Array.prototype[y[g]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var m=0;v.prototype.toString=function(){var e=Array(4*m+1).join(" "),t="\n"+e+"AggregateError of:\n";m++,e=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];t+=(r=i.join("\n"))+"\n"}return m--,t},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=c({CancellationError:h,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=(function(){"use strict";return void 0===this})();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function a(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function c(e){if(!a(this,e))return f.e=e,f}function u(e){var i=this.promise,u=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?u.call(i._boundValue()):u.call(i._boundValue(),e);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var h=n(l,i);if(h instanceof t){if(null!=this.cancelPromise){if(h._isCancelled()){var p=new d("late cancellation observer");return i._attachExtraTrace(p),f.e=p,f}h.isPending()&&h._attachCancellationCallback(new o(this))}return h._then(s,c,void 0,this,void 0)}}}return i.isRejected()?(a(this),f.e=e,f):(a(this),e)}var l=e("./util"),d=t.CancellationError,f=l.errorObj,h=e("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,u,u)},t.prototype.tap=function(e){return this._passThrough(e,1,u)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,u);var r,i=new Array(n-1),o=0;for(r=0;r<n-1;++r){var a=arguments[r];if(!l.isObject(a))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(a)));i[o++]=a}i.length=o;var s=arguments[r];return this._passThrough(h(i,s,this),1,void 0,u)},i}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=f(n[o])(e);if(r._popContext(),a===d){r._pushContext();var s=t.reject(d.e);return r._popContext(),s}var c=i(a,r);if(c instanceof t)return c}return null}function c(e,n,i,o){if(a.cancellation()){var s=new t(r),c=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new t(r))._captureStackTrace();this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var u=e("./errors").TypeError,l=e("./util"),d=l.errorObj,f=l.tryCatch,h=[];l.inherits(c,o),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=f(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},c.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=f(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=f(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(e){var n=this._promise;if(e===d)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof t||null!==(o=s(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=c,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+l.classString(e));h.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new c(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util");a.canEvaluate,a.tryCatch,a.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var r=[].slice.call(arguments);e&&r.pop();var i=new n(r).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,n,r,i){this.constructor$(e),this._promise._captureStackTrace();var a=t._getContext();if(this._callback=u.contextBind(a,n),this._preservedValues=i===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0),u.isArray(e))for(var s=0;s<e.length;++s){var c=e[s];c instanceof t&&c.suppressUnhandledRejections()}}function c(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));a=i.concurrency}return new s(e,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,o).promise()}var u=e("./util"),l=u.tryCatch,d=u.errorObj,f=t._async;u.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,c=this._limit;if(n<0){if(r[n=-1*n-1]=e,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var u=this._promise,f=this._callback,h=u._boundValue();u._pushContext();var p=l(f).call(h,e,n,o),v=u._popContext();if(a.checkForgottenReturns(p,v,null!==s?"Promise.filter":"Promise.map",u),p===d)return this._reject(p.e),!0;var y=i(p,this._promise);if(y instanceof t){var g=(y=y._target())._bitField;if(0==(50397184&g))return c>=1&&this._inFlight++,r[n]=y,y._proxy(this,-1*(n+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this._reject(y._reason()),!0):(this._cancel(),!0);p=y._value()}r[n]=p}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return c(this,e,t,null)},t.map=function(e,t,n,r){return c(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var r,c=new t(n);if(c._captureStackTrace(),c._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];r=a.isArray(u)?s(e).apply(l,u):s(e).call(l,u)}else r=s(e)();var d=c._popContext();return o.checkForgottenReturns(r,d,"Promise.try",c),c._resolveFromSyncValue(r),c},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&c.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){(t=new s(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var n=c.keys(e),i=0;i<n.length;++i){var a=n[i];u.test(a)||(t[a]=e[a])}return t}return o.markAsOriginatingFromRejection(e),e}var o=e("./util"),a=o.maybeWrapAsError,s=e("./errors").OperationalError,c=e("./es5"),u=/^(?:name|message|stack|cause)$/;t.exports=function(e,t){return function(n,r){if(null!==e){if(n){var o=i(a(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var s=[].slice.call(arguments,1);e._fulfill(s)}else e._fulfill(r);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){if(!o.isArray(e))return r.call(this,e,t);var n=s(t).apply(this._boundValue(),[null].concat(e));n===c&&a.throwLater(n.e)}function r(e,t){var n=this._boundValue(),r=void 0===e?s(t).call(n,null):s(t).call(n,null,e);r===c&&a.throwLater(r.e)}function i(e,t){if(!e){var n=new Error(e+"");n.cause=e,e=n}var r=s(t).call(this._boundValue(),e);r===c&&a.throwLater(r.e)}var o=e("./util"),a=t._async,s=o.tryCatch,c=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=r;void 0!==t&&Object(t).spread&&(o=n),this._then(o,i,void 0,this,e)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(e,t){if(null==e||e.constructor!==o)throw new C("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new C("expecting a function but got "+h.classString(t))}function o(e){e!==_&&i(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function c(e){var t=new o(_);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var u=function(){return new C("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},l=function(){return new o.PromiseInspection(this._target())},d=function(e){return o.reject(new C(e))},f={},h=t("./util");h.setReflectHandler(l);var p=function(){var t=e.domain;return void 0===t?null:t},v=function(){return{domain:p(),async:null}},y=h.isNode&&h.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,g=function(){return{domain:p(),async:new y("Bluebird::Promise")}},m=h.isNode?v:function(){return null};h.notEnumerableProp(o,"_getContext",m);var b=t("./es5"),w=t("./async"),k=new w;b.defineProperty(o,"_async",{value:k});var S=t("./errors"),C=o.TypeError=S.TypeError;o.RangeError=S.RangeError;var T=o.CancellationError=S.CancellationError;o.TimeoutError=S.TimeoutError,o.OperationalError=S.OperationalError,o.RejectionError=S.OperationalError,o.AggregateError=S.AggregateError;var _=function(){},P={},E={},I=t("./thenables")(o,_),R=t("./promise_array")(o,_,I,d,r),O=t("./context")(o),M=O.create,x=t("./debuggability")(o,O,function(){m=g,h.notEnumerableProp(o,"_getContext",g)},function(){m=v,h.notEnumerableProp(o,"_getContext",v)}),F=(x.CapturedTrace,t("./finally")(o,I,E)),j=t("./catch_filter")(E),A=t("./nodeback"),D=h.errorObj,L=h.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!h.isObject(o))return d("Catch statement predicate: expecting an object but got "+h.classString(o));r[i++]=o}if(r.length=i,"function"!=typeof(e=arguments[n]))throw new C("The last argument to .catch() must be a function, got "+h.toString(e));return this.then(void 0,j(r,e,this))}return this.then(void 0,e)},o.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},o.prototype.then=function(e,t){if(x.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+h.classString(e);arguments.length>1&&(n+=", "+h.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},o.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},o.prototype.spread=function(e){return"function"!=typeof e?d("expecting a function but got "+h.classString(e)):this.all()._then(e,void 0,void 0,P,void 0)},o.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new R(this).promise()},o.prototype.error=function(e){return this.caught(h.originatesFromRejection,e)},o.getNewLibraryCopy=n.exports,o.is=function(e){return e instanceof o},o.fromNode=o.fromCallback=function(e){var t=new o(_);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=L(e)(A(t,n));return r===D&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},o.all=function(e){return new R(e).promise()},o.cast=function(e){var t=I(e);return t instanceof o||((t=new o(_))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(e){var t=new o(_);return t._captureStackTrace(),t._rejectCallback(e,!0),t},o.setScheduler=function(e){if("function"!=typeof e)throw new C("expecting a function but got "+h.classString(e));return k.setScheduler(e)},o.prototype._then=function(e,t,n,r,i){var a=void 0!==i,s=a?i:new o(_),c=this._target(),u=c._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&u)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var l=m();if(0!=(50397184&u)){var d,f,p=c._settlePromiseCtx;0!=(33554432&u)?(f=c._rejectionHandler0,d=e):0!=(16777216&u)?(f=c._fulfillmentHandler0,d=t,c._unsetRejectionIsUnhandled()):(p=c._settlePromiseLateCancellationObserver,f=new T("late cancellation observer"),c._attachExtraTrace(f),d=t),k.invoke(p,c,{handler:h.contextBind(l,d),promise:s,receiver:r,value:f})}else c._addCallbacks(e,t,s,r,l);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},o.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){if(!k.hasCustomScheduler()){var e=this._bitField;this._bitField=e|(536870912&e)>>2^134217728}},o.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},o.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==f)return void 0===t&&this._isBound()?this._boundValue():t},o.prototype._promiseAt=function(e){return this[4*e-4+2]},o.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},o.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=f),this._addCallbacks(t,n,r,i,null)},o.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=f),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=h.contextBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=h.contextBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=h.contextBind(i,e)),"function"==typeof t&&(this[a+1]=h.contextBind(i,t))}return this._setLength(o+1),o},o.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},o.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(u(),!1);var n=I(e,this);if(!(n instanceof o))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(u());var i=r._bitField;if(0==(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&i))this._fulfill(r._value());else if(0!=(16777216&i))this._reject(r._reason());else{var c=new T("late cancellation observer");r._attachExtraTrace(c),this._reject(c)}}},o.prototype._rejectCallback=function(e,t,n){var r=h.ensureErrorObject(e),i=r===e;if(!i&&!n&&x.warnings()){var o="a promise was rejected with a non-error: "+h.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},o.prototype._resolveFromExecutor=function(e){if(e!==_){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},o.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),t===P?n&&"number"==typeof n.length?o=L(e).apply(this._boundValue(),n):(o=D).e=new C("cannot .spread() a non-array: "+h.classString(n)):o=L(e).call(t,n);var a=r._popContext();0==(65536&(i=r._bitField))&&(o===E?r._reject(n):o===D?r._rejectCallback(o.e,!1):(x.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(e){this._rejectionHandler0=e},o.prototype._settlePromise=function(e,t,n,i){var a=e instanceof o,s=this._bitField,c=0!=(134217728&s);0!=(65536&s)?(a&&e._invokeInternalOnCancel(),n instanceof F&&n.isFinallyHandler()?(n.cancelPromise=e,L(t).call(n,i)===D&&e._reject(D.e)):t===l?e._fulfill(l.call(n)):n instanceof r?n._promiseCancelled(e):a||e instanceof R?e._cancel():n.cancel()):"function"==typeof t?a?(c&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof r?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):a&&(c&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(i):e._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,i=e.value;"function"==typeof t?n instanceof o?this._settlePromiseFromHandler(t,r,i,n):t.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},o.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},o.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},o.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=u();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():k.settlePromises(this),this._dereferenceTrace())}},o.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return k.fatalError(e,h.isNode);(65535&t)>0?k.settlePromises(this):this._ensurePossibleRejectionHandled()}},o.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},o.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},o.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&b.defineProperty(o.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),o.defer=o.pending=function(){return x.deprecated("Promise.defer","new Promise"),{promise:new o(_),resolve:a,reject:s}},h.notEnumerableProp(o,"_makeSelfResolutionError",u),t("./method")(o,_,I,d,x),t("./bind")(o,_,I,x),t("./cancel")(o,R,d,x),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,R,I,_,k),o.Promise=o,o.version="3.7.2",t("./call_get.js")(o),t("./generators.js")(o,d,_,I,r,x),t("./map.js")(o,R,d,I,_,x),t("./nodeify.js")(o),t("./promisify.js")(o,_),t("./props.js")(o,R,I,d),t("./race.js")(o,_,I,d),t("./reduce.js")(o,R,d,I,_,x),t("./settle.js")(o,R,x),t("./some.js")(o,R,d),t("./timers.js")(o,_,x),t("./using.js")(o,d,I,M,_,x),t("./any.js")(o),t("./each.js")(o,_),t("./filter.js")(o,_),h.toFastProperties(o),h.toFastProperties(o.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new o(_)),x.setBounds(w.firstLineError,h.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function a(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var r=this._promise=new t(n);e instanceof t&&(r._propagateFrom(e,3),e.suppressUnhandledRejections()),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=e("./util");return c.isArray,c.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){var u=(s=s._target())._bitField;if(this._values=s,0==(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=c.asArray(s)))0!==s.length?this._iterate(s):-5===o?this._resolveEmptyArray():this._resolve(a(o));else{var l=i("expecting an array or an iterable object but got "+c.classString(s)).reason();this._promise._rejectCallback(l,!1)}},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var c=r(e[s],i);c instanceof t?a=(c=c._target())._bitField:a=null,o?null!==a&&c.suppressUnhandledRejections():null!==a?0==(50397184&a)?(c._proxy(this,s),this._values[s]=c):o=0!=(33554432&a)?this._promiseFulfilled(c._value(),s):0!=(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(c,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return!m.test(e)}function i(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function o(e,t,n){var r=d.getDataPropertyOrDefault(e,t+n,g);return!!r&&i(r)}function a(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,r){for(var s=d.inheritedDataKeys(e),c=[],u=0;u<s.length;++u){var l=s[u],f=e[l],h=r===b||b(l,f,e);"function"!=typeof f||i(f)||o(e,l,t)||!r(l,f,e,h)||c.push(l,f)}return a(c,t,n),c}function c(e,t,n,r,i){for(var o=new RegExp(w(t)+"$"),a=s(e,t,o,n),c=0,u=a.length;c<u;c+=2){var f=a[c],h=a[c+1],p=f+t;if(r===k)e[p]=k(f,l,f,h,t,i);else{var v=r(h,function(){return k(f,l,f,h,t,i)});d.notEnumerableProp(v,"__isPromisified__",!0),e[p]=v}}return d.toFastProperties(e),e}function u(e,t,n){return k(e,t,void 0,e,null,n)}var l={},d=e("./util"),f=e("./nodeback"),h=d.withAppended,p=d.maybeWrapAsError,v=d.canEvaluate,y=e("./errors").TypeError,g={__isPromisified__:!0},m=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),b=function(e){return d.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},w=function(e){return e.replace(/([$])/,"\\$")},k=v?void 0:function(e,r,i,o,a,s){function c(){var i=r;r===l&&(i=this);var o=new t(n);o._captureStackTrace();var a="string"==typeof v&&this!==u?this[v]:e,c=f(o,s);try{a.apply(i,h(arguments,c))}catch(e){o._rejectCallback(p(e),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var u=(function(){return this})(),v=e;return"string"==typeof v&&(e=o),d.notEnumerableProp(c,"__isPromisified__",!0),c};t.promisify=function(e,t){if("function"!=typeof e)throw new y("expecting a function but got "+d.classString(e));if(i(e))return e;var n=u(e,void 0===(t=Object(t)).context?l:t.context,!!t.multiArgs);return d.copyDescriptors(e,n,r),n},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var i=t.filter;"function"!=typeof i&&(i=b);var o=t.promisifier;if("function"!=typeof o&&(o=k),!d.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=d.inheritedDataKeys(e),s=0;s<a.length;++s){var u=e[a[s]];"constructor"!==a[s]&&d.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(e,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=d(e),n=!0;else{var r=l.keys(e),i=r.length;t=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];t[o]=e[a],t[o+i]=a}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function a(e){var n,a=r(e);return u(a)?(n=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,c=e("./util"),u=c.isObject,l=e("./es5");"function"==typeof Map&&(s=Map);var d=(function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var i=new Array(2*r.size);return r.forEach(e,i),i}})(),f=function(e){for(var t=new s,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],o=e[r];t.set(i,o)}return t};c.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=f(this._values);else{n={};for(var r=this.length(),i=0,o=this.length();i<o;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,r(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e,o){var c=r(e);if(c instanceof t)return s(c);if(null===(e=a.asArray(e)))return i("expecting an array or an iterable object but got "+a.classString(e));var u=new t(n);void 0!==o&&u._propagateFrom(o,3);for(var l=u._fulfill,d=u._reject,f=0,h=e.length;f<h;++f){var p=e[f];(void 0!==p||f in e)&&t.cast(p)._then(l,d,void 0,u,null)}return u}var a=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,n,r,i){this.constructor$(e);var a=t._getContext();this._fn=f.contextBind(a,n),void 0!==r&&(r=t.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function u(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+f.classString(t)):new s(e,t,n,i).promise()}function l(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(e){var n,r=this.array,i=r._promise,o=h(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),e,this.index,this.length):o.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(r._currentCancellable=n);var s=i._popContext();return a.checkForgottenReturns(n,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}var f=e("./util"),h=f.tryCatch;f.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n;for(var o=r;o<i;++o){var a=e[o];a instanceof t&&a.suppressUnhandledRejections()}if(!n.isRejected())for(;r<i;++r){var s={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,s,void 0),0==(127&r)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},t.prototype.reduce=function(e,t){return u(this,e,t,null)},t.reduce=function(e,t,n,r){return u(e,t,n,r)}}},{"./util":36}],29:[function(n,r,o){"use strict";var a,s=n("./util"),c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var u=t.setImmediate,l=e.nextTick;a=s.isRecentNode?function(e){u.call(t,e)}:function(t){l.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var d=c.resolve();a=function(e){d.then(e)}}else a="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?(function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(r,t);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),i()}})():void 0!==i?function(e){i(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};r.exports=a},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e)}var o=t.PromiseInspection;e("./util").inherits(i,n),i.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},t.allSettled=function(e){return new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),o=n.promise();return n.setHowMany(t),n.init(),o}var a=e("./util"),s=e("./errors").RangeError,c=e("./errors").AggregateError,u=a.isArray,l={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=u(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new c,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return e.then}function i(e){try{return r(e)}catch(e){return c.e=e,c}}function o(e){try{return l.call(e,"_promise0")}catch(e){return!1}}function a(e,r,i){var o=new t(n),a=o;i&&i._pushContext(),o._captureStackTrace(),i&&i._popContext();var u=!0,l=s.tryCatch(r).call(e,function(e){o&&(o._resolveCallback(e),o=null)},function(e){o&&(o._rejectCallback(e,u,!0),o=null)});return u=!1,o&&l===c&&(o._rejectCallback(l.e,!0,!0),o=null),a}var s=e("./util"),c=s.errorObj,u=s.isObject,l={}.hasOwnProperty;return function(e,r){if(u(e)){if(e instanceof t)return e;var s=i(e);if(s===c){r&&r._pushContext();var l=t.reject(s.e);return r&&r._popContext(),l}if("function"==typeof s)return o(e)?(l=new t(n),e._then(l._fulfill,l._reject,void 0,l,null),l):a(e,s,r)}return e}}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),c=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(u,null,null,e,void 0),r.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(n),s=setTimeout(function(){a._fulfill()},+e),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return l(e,this)};var d=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new c("operation timed out"):new c(t),s.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,c=new i(setTimeout(function(){n.isPending()&&d(n,t,s)},e));return r.cancellation()?(s=this.then(),(n=s._then(o,a,void 0,c,void 0))._setOnCancel(c)):n=this._then(o,a,void 0,c,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e){setTimeout(function(){throw e},0)}function c(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function u(e,n){var i=0,a=e.length,u=new t(o);return(function o(){if(i>=a)return u._fulfill();var l=c(e[i++]);if(l instanceof t&&l._isDisposable()){try{l=r(l._getDisposer().tryDispose(n),e.promise)}catch(e){return s(e)}if(l instanceof t)return l._then(o,s,null,null,null)}o()})(),u}function l(e,t,n){this._data=e,this._promise=t,this._context=n}function d(e,t,n){this.constructor$(e,t,n)}function f(e){return l.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function h(e){this.length=e,this.promise=null,this[e-1]=null}var p=e("./util"),v=e("./errors").TypeError,y=e("./util").inherits,g=p.errorObj,m=p.tryCatch,b={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},l.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==b?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},y(d,l),d.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},h.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return n("expecting a function but got "+p.classString(i));var o,s=!0;2===e&&Array.isArray(arguments[0])?(e=(o=arguments[0]).length,s=!1):(o=arguments,e--);for(var c=new h(e),d=0;d<e;++d){var v=o[d];if(l.isDisposer(v)){var y=v;(v=v.promise())._setDisposable(y)}else{var b=r(v);b instanceof t&&(v=b._then(f,null,null,{resources:c,index:d},void 0))}c[d]=v}var w=new Array(c.length);for(d=0;d<w.length;++d)w[d]=t.resolve(c[d]).reflect();var k=t.all(w).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return g.e=n.error(),g;if(!n.isFulfilled())return void k.cancel();e[t]=n.value()}S._pushContext(),i=m(i);var r=s?i.apply(void 0,e):i(e),o=S._popContext();return a.checkForgottenReturns(r,o,"Promise.using",S),r}),S=k.lastly(function(){var e=new t.PromiseInspection(k);return u(c,e)});return c.promise=S,S._setOnCancel(c),S},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new d(e,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(n,r,i){"use strict";function o(){try{var e=f;return f=null,e.apply(this,arguments)}catch(e){return v.e=e,v}}function a(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function s(e,t,n){if(a(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return h.defineProperty(e,t,r),e}function c(e){try{return e+""}catch(e){return"[no string representation]"}}function u(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function l(e){return u(e)&&h.propertyIsWritable(e,"stack")}function d(e){return{}.toString.call(e)}var f,h=n("./es5"),p="undefined"==typeof navigator,v={e:{}},y="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:void 0!==this?this:null,g=(function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(h.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var c=Object.getOwnPropertyDescriptor(e,s);null!=c&&null==c.get&&null==c.set&&r.push(s)}}e=h.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}})(),m=/this\s*\.\s*\S+\s*=/,b=/^[a-z$_][a-z$_0-9]*$/i,w="stack"in new Error?function(e){return l(e)?e:new Error(c(e))}:function(e){if(l(e))return e;try{throw new Error(c(e))}catch(e){return e}},k=function(e){return h.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};k=function(e){return h.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?S(e):null}}var C,T=void 0!==e&&"[object process]"===d(e).toLowerCase(),_=void 0!==e&&void 0!==e.env,P={setReflectHandler:function(e){C=e},isClass:function(e){try{if("function"==typeof e){var t=h.names(e.prototype),n=h.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=m.test(e+"")&&h.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return b.test(e)},inheritedDataKeys:g,getDataPropertyOrDefault:function(e,t,n){if(!h.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0},thrower:function(e){throw e},isArray:h.isArray,asArray:k,notEnumerableProp:s,isPrimitive:a,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:u,canEvaluate:p,errorObj:v,tryCatch:function(e){return f=e,o},inherits:function(e,t){function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},withAppended:function(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i},maybeWrapAsError:function(e){return a(e)?new Error(c(e)):e},toFastProperties:function(e){function t(){}function n(){return typeof r.foo}t.prototype=e;var r=new t;return n(),n(),e},filledRange:function(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r},toString:c,canAttachTrace:l,ensureErrorObject:w,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{s(e,"isOperational",!0)}catch(e){}},classString:d,copyDescriptors:function(e,t,n){for(var r=h.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{h.defineProperty(t,o,h.getDescriptor(e,o))}catch(e){}}},isNode:T,hasEnvVariables:_,env:function(t){return _?e.env[t]:void 0},global:y,getNativePromise:function(){if("function"==typeof Promise)try{if("[object Promise]"===d(new Promise(function(){})))return Promise}catch(e){}},contextBind:function(e,t){if(null===e||"function"!=typeof t||t===C)return t;null!==e.domain&&(t=e.domain.bind(t));var n=e.async;if(null!==n){var r=t;t=function(){var e=new Array(2).concat([].slice.call(arguments));return e[0]=r,e[1]=this,n.runInAsyncScope.apply(n,e)}}return t}};P.isRecentNode=P.isNode&&(function(){var t;return e.versions&&e.versions.node?t=e.versions.node.split(".").map(Number):e.version&&(t=e.version.split(".").map(Number)),0===t[0]&&t[1]>10||t[0]>0})(),P.nodeSupportsAsyncResource=P.isNode&&(function(){var e=!1;try{e="function"==typeof n("async_hooks").AsyncResource.prototype.runInAsyncScope}catch(t){e=!1}return e})(),P.isNode&&P.toFastProperties(e);try{throw new Error}catch(e){P.lastLineError=e}r.exports=P},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this)}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{_process:28,timers:29}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PreCallTest=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./turnConnection"),a=e("./tests/rttTest"),s=e("./tests/throughputTest"),c=e("./utility/resultsHandler"),u=e("./utility/onlineCheck"),l=e("./utility/stats/detectbrowser"),d=e("./mlPipeline/mlPipeline"),f=e("./mlPipeline/notification"),h=e("bluebird"),p={RTT:"rtt",THROUGHPUT:"throughput"},v=(function(){function e(){r(this,e),this.browserInfo=(0,l.detect)(),this.onlineCheck=new u.OnlineCheck,this.callsInProgress=0,this.turnTests=[p.RTT,p.THROUGHPUT],this.active=!1,this.rtt=null,this.resultsHandler=null,this.MLPipeline=new d.MLPipeline}return i(e,[{key:"start",value:function(e,t,n){if(this.browserInfo.browserName!==l.Constants.browserName.msie)if(this.iceServers=e,this.callback=n,this.active)this.callback&&this.callback(null,"Not started: already in progress");else if(0<this.callsInProgress)this.callback&&this.callback(null,"Not started: call in progress");else if(e){this.turnTestCounter=0,this.resultsHandler=new c.ResultsHandler,t&&(this.resultsHandler.setProvider(t.provider),this.resultsHandler.setisRunManually(t.isRunManually),this.resultsHandler.setEnableMLNotification(t.enableMLNotification));var r={type:"browser",os:this.browserInfo.os,osVersion:this.browserInfo.osVersion,buildName:this.browserInfo.browserName,buildVersion:this.browserInfo.browserVersion,userAgent:this.browserInfo.userAgent};this.resultsHandler.add("endpointInfo",r),this.onlineCheck.start(),this.active=!0,this._start()}else this.callback&&this.callback(null,"Not started: no ICE servers given");else this.callback&&this.callback(null,"Not started: disabled for IE")}},{key:"_start",value:function(){var e=this;this.active&&(this.turnConnection=new o.TurnConnection(this.browserInfo),this.turnConnection.connect(this.iceServers).then(function(){e.active?(e.resultsHandler&&e.resultsHandler.setStatusSuccess(),e.startTurnTests().then(function(){e.stop()},function(t){e.stop()})):e.stop()},function(t){var n=t.continueFlag;if(e.resultsHandler&&e.resultsHandler.failure(t),!n){e.turnConnection.disconnect(),e.active=!1;var r="";try{r=t.stack}catch(n){r=t.toString()}return r&&""!==r||(r=t.toString()),e.resultsHandler&&e.resultsHandler.setStatusFailed(),void e.callback(null,r)}e.resultsHandler?(e.resultsHandler.setStatusFailed(),e.resultsHandler.getFailureNumber()>=10?e.stop():(e.turnConnection.disconnect(),setTimeout(function(){e._start()},0))):e.stop()}))}},{key:"stop",value:function(){var e=this;if(this.browserInfo.browserName!==l.Constants.browserName.msie&&this.active){this.active=!1,this.activeTurnTest&&this.activeTurnTest.forceStop();var t=this.onlineCheck.stop();this.resultsHandler&&this.resultsHandler.add("onlineStatus",t),this.turnConnection.getIceResults().then(function(t){e.resultsHandler&&e.resultsHandler.add("ice",t),e.turnConnection.disconnect(),e.sendResults()},function(t){e.resultsHandler&&e.resultsHandler.failure(t),e.turnConnection.disconnect(),e.sendResults()})}}},{key:"sendResults",value:function(){if(this.resultsHandler){var e=this.resultsHandler.getResults();if(this.callback){if(this.resultsHandler.enableMLNotification){var t=null;try{t=this.MLPipeline.run({throughput:e.tests.throughput.average,rtt:e.tests.rtt.median,lossFraction:e.tests.throughput.fractionLostBytes,jitter:e.tests.rtt.variance,localIP:e.tests.ice.localIP})}catch(e){(t=new f.Notification).setErrorMessage="ML Pipeline execution error:"+e.message,t=t.get()}e.mlNotification=t}this.resultsHandler=null,this.callback(e,null)}}else this.callback&&this.callback(null,"No results present")}},{key:"callStarts",value:function(){this.callsInProgress+=1,this.resultsHandler&&this.resultsHandler.setStatusStopped(),this.stop()}},{key:"callFinished",value:function(){this.callsInProgress-=1}},{key:"getId",value:function(){return this.resultsHandler?this.resultsHandler.getId():null}},{key:"crashDisconnect",value:function(){try{this.turnConnection.disconnect()}catch(e){}}},{key:"startTurnTests",value:function(){var e=this;if(this.turnTestCounter>=this.turnTests.length)return new h(function(e,t){e()});var t=this.turnTests[this.turnTestCounter],n=null;switch(t){case p.RTT:n=new a.RttTest(this.turnConnection);break;case p.THROUGHPUT:n=new s.ThroughputTest(this.turnConnection,this.rtt);break;default:return new h(function(e,n){n(new Error("Unknown test: "+t))})}return this.activeTurnTest=n,this.active?n.start().then(function(){return e.handleTestResults(t,n.getResults()),e.turnTestCounter+=1,e.activeTurnTest=null,e.startTurnTests()},function(r){return e.handleTestResults(t,n.getResults(),r),e.turnTestCounter+=1,e.activeTurnTest=null,e.startTurnTests()}):new h(function(e,t){t(new Error("Test trying to start while testing is not active"))})}},{key:"handleTestResults",value:function(e,t){null==(2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)&&e==p.RTT&&(this.rtt=t.median),this.resultsHandler&&this.resultsHandler.add(e,t)}}]),e})();n.PreCallTest=v},{"./mlPipeline/mlPipeline":10,"./mlPipeline/notification":12,"./tests/rttTest":15,"./tests/throughputTest":16,"./turnConnection":18,"./utility/onlineCheck":20,"./utility/resultsHandler":23,"./utility/stats/detectbrowser":24,bluebird:2}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.config={WINDOW_SIZE:4,MIN_WINDOW_SIZE:4,SCT_METRICS_LIST:["throughput","rtt","jitter","lossFraction"],TIME_INTERVAL:3e4,notificationStatusMessage:{Ready:"Ready",Default:"Wait for more data",Error:"Wait for more data"},THROUGHPUT_MODEL:{EXCELLENT_INTERVAL:[1e3,1/0],GOOD_INTERVAL:[300,1e3],FAIR_INTERVAL:[150,300],POOR_INTERVAL:[24,150],BAD_INTERVAL:[0,24]},RTT_MODEL:{GOOD_INTERVAL:[0,150],OK_INTERVAL:[150,300],BAD_INTERVAL:[300,1/0]},LOSS_FRACTION_MODEL:{GOOD_INTERVAL:[0,.05],OK_INTERVAL:[.05,.1],BAD_INTERVAL:[.1,1]},JITTER_MODEL:{GOOD_INTERVAL:[0,40],OK_INTERVAL:[40,100],BAD_INTERVAL:[100,1/0]},DATA_COLLECTOR_NETWORK_PROPERTIES:["localID","networkType","localIP","status","siteID","deviceID","runManually","isp","city","country"],NOTIFICATION_NETWORK_PROPERTIES:["localIP","networkType","deviceID","isp","city","country"]}},{}],5:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.InvalidTimestampError=n.SlidingWindow=n.DataCollector=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("./config.js"),u=(function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="InvalidTimestampError",n}return a(t,Error),t})(),l=(function(){function e(t,n,r){i(this,e),this.counters=new Map,this.latestTimeBoundary=null,this.minTimeInterval=n,this.minWindowSize=r,this.newData=!1,this.windowSize=t,this.window=[],this.validWindow=!1}return s(e,[{key:"setWindowSize",value:function(e){this.windowSize=e}},{key:"getWindow",value:function(){return this.newData=!1,this.window}},{key:"hasNewData",value:function(){return this.newData}},{key:"checkWindow",value:function(){return this.validWindow}},{key:"clear",value:function(){this.window=[],this.counters.clear(),this.newData=!1,this.validWindow=!1}},{key:"calcMajority",value:function(){var e=this;if(0===this.counters.size)return null;this.newData=!1;var t=Math.max.apply(Math,r(this.counters.values())),n=[].concat(r(this.counters.keys())).filter(function(n){return e.counters.get(n)===t});return 1<n.length?n=this._calcAverageFloor(this.window):n[0]}},{key:"add",value:function(e,t){if(null===this.latestTimeBoundary)this.latestTimeBoundary=this._getTimeBoundary(e);else{if(e<this.latestTimeBoundary)return this.newData=!1,new u("Invalid timestamp: "+e+". \n        The timestamp is earlier than the time boundary: "+this.latestTimeBoundary+".");this.latestTimeBoundary=this._getTimeBoundary(e)}return this._add(t),null}},{key:"_add",value:function(e){this.window.push(e);var t=e;if(this.counters.has(t)){var n=this.counters.get(t);this.counters.set(t,n+1)}else this.counters.set(t,1);if(this.window.length>this.windowSize){var r=this.window.shift(),i=this.counters.get(r);this.counters.set(r,i-1)}this.window.length>=this.minWindowSize?this.validWindow=!0:this.validWindow=!1,this.newData=!0}},{key:"_getTimeBucket",value:function(e){var t=e-e%this.minTimeInterval;return[t,t+this.minTimeInterval]}},{key:"_getTimeBoundary",value:function(e){return this._getTimeBucket(e)[1]}},{key:"_calcAverageFloor",value:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];var r=t/e.length;return Math.floor(r)}}]),e})(),d=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;i(this,e),this.newNetworkContext=!1,this.networkContext={},this.sctMetricsList=c.config.SCT_METRICS_LIST,this.slidingWindows={},this.timeInterval=null!==t?t:c.config.TIME_INTERVAL;var n=!0,r=!1,o=void 0;try{for(var a,s=this.sctMetricsList[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;this.slidingWindows[u]=new l(c.config.WINDOW_SIZE,this.timeInterval,c.config.MIN_WINDOW_SIZE)}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}var d=!0,f=!1,h=void 0;try{for(var p,v=c.config.DATA_COLLECTOR_NETWORK_PROPERTIES[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var y=p.value;this.networkContext[y]=null}}catch(t){f=!0,h=t}finally{try{!d&&v.return&&v.return()}finally{if(f)throw h}}}return s(e,[{key:"setNewNetworkContext",value:function(e){this.newNetworkContext=e}},{key:"getSlidingWindows",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,o=this.sctMetricsList[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;e[a]=this.slidingWindows[a].getWindow()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e}},{key:"getNetworkContext",value:function(){return this.networkContext}},{key:"checkWindows",value:function(){var e=!0,t=!0,n=!1,r=void 0;try{for(var i,o=this.sctMetricsList[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.slidingWindows[a].hasNewData()&&this.slidingWindows[a].checkWindow()||(e=!1)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e}},{key:"checkNetworkContext",value:function(){return this.newNetworkContext}},{key:"calcSlidingWindowsMajority",value:function(){return{throughput:this.slidingWindows.throughput.calcMajority(),rtt:this.slidingWindows.rtt.calcMajority(),lossFraction:this.slidingWindows.lossFraction.calcMajority(),jitter:this.slidingWindows.jitter.calcMajority()}}},{key:"add",value:function(e){try{this._updateNetworkContext(e)}catch(e){return new Error("Unable to update network context.")}var t=e.timestamp;if(!0===this.newNetworkContext){var n=!0,r=!1,i=void 0;try{for(var o,a=this.sctMetricsList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.slidingWindows[s].clear()}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}if(!("throughputRating"in e))return new Error("Missing throughput rating.");if(!("rttRating"in e))return new Error("Missing rtt rating.");if(!("lossFractionRating"in e))return new Error("Missing loss fraction rating.");if(!("jitterRating"in e))return new Error("Missing jitter rating.");var c=null;try{c=this.slidingWindows.throughput.add(t,e.throughputRating)}catch(e){return e}try{c=this.slidingWindows.rtt.add(t,e.rttRating)}catch(e){return e}try{c=this.slidingWindows.lossFraction.add(t,e.lossFractionRating)}catch(e){return e}try{c=this.slidingWindows.jitter.add(t,e.jitterRating)}catch(e){return e}return null!=c?c:null}},{key:"_updateNetworkContext",value:function(e){e.hasOwnProperty("localIP")&&this.networkContext.localIP!==e.localIP?this.newNetworkContext=!0:this.newNetworkContext=!1;var t=!0,n=!1,r=void 0;try{for(var i,o=c.config.DATA_COLLECTOR_NETWORK_PROPERTIES[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a in e&&(this.networkContext[a]=e[a])}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}]),e})();n.DataCollector=d,n.SlidingWindow=l,n.InvalidTimestampError=u},{"./config.js":4}],6:[function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.throughputQuality=n.Quality=n.SimpleThroughputQualityRater=n.SimpleQualityRater=n.DataPreprocessor=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./config.js"),c={GOOD:3,OK:2,BAD:1,toString:function(e){return e==this.GOOD?"GOOD":e==this.BAD?"BAD":e==this.OK?"OK":void 0}},u={EXCELLENT:5,GOOD:4,FAIR:3,POOR:2,BAD:1,toString:function(e){return e==this.GOOD?"GOOD":e==this.BAD?"BAD":e==this.POOR?"POOR":e==this.EXCELLENT?"EXCELLENT":e==this.FAIR?"FAIR":void 0}};Object.freeze(c),Object.freeze(u);var l=(function(){function e(t,n,r){o(this,e),this.goodInterval=t,this.okInterval=n,this.badInterval=r}return a(e,[{key:"classifyQuality",value:function(e){return null===e?-1:e>=this.goodInterval[0]&&e<this.goodInterval[1]?c.GOOD:e>=this.okInterval[0]&&e<this.okInterval[1]?c.OK:e>=this.badInterval[0]&&e<=this.badInterval[1]?c.BAD:-1}}]),e})(),d=(function(e){function t(e,n,i,a,s){o(this,t);var c=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,null,s));return c.excellentInterval=e,c.fairInterval=i,c.poorInterval=a,c}return i(t,l),a(t,[{key:"classifyQuality",value:function(e){return null===e?-1:e>=this.excellentInterval[0]&&e<=this.excellentInterval[1]?u.EXCELLENT:e>=this.goodInterval[0]&&e<this.goodInterval[1]?u.GOOD:e>=this.fairInterval[0]&&e<this.fairInterval[1]?u.FAIR:e>=this.poorInterval[0]&&e<this.poorInterval[1]?u.POOR:e>=this.badInterval[0]&&e<this.badInterval[1]?u.BAD:-1}}]),t})(),f=(function(){function e(){o(this,e),this.throughputRater=new d(s.config.THROUGHPUT_MODEL.EXCELLENT_INTERVAL,s.config.THROUGHPUT_MODEL.GOOD_INTERVAL,s.config.THROUGHPUT_MODEL.FAIR_INTERVAL,s.config.THROUGHPUT_MODEL.POOR_INTERVAL,s.config.THROUGHPUT_MODEL.BAD_INTERVAL),this.rttRater=new l(s.config.RTT_MODEL.GOOD_INTERVAL,s.config.RTT_MODEL.OK_INTERVAL,s.config.RTT_MODEL.BAD_INTERVAL),this.lossFractionRater=new l(s.config.LOSS_FRACTION_MODEL.GOOD_INTERVAL,s.config.LOSS_FRACTION_MODEL.OK_INTERVAL,s.config.LOSS_FRACTION_MODEL.BAD_INTERVAL),this.jitterRater=new l(s.config.JITTER_MODEL.GOOD_INTERVAL,s.config.JITTER_MODEL.OK_INTERVAL,s.config.JITTER_MODEL.BAD_INTERVAL)}return a(e,[{key:"classifyThroughputQuality",value:function(e){return this.throughputRater.classifyQuality(e)}},{key:"classifyRTTQuality",value:function(e){return this.rttRater.classifyQuality(e)}},{key:"classifyLossFractionQuality",value:function(e){return this.lossFractionRater.classifyQuality(e)}},{key:"classifyJitterQuality",value:function(e){return this.jitterRater.classifyQuality(e)}},{key:"process",value:function(e){try{e.throughputRating=this.classifyThroughputQuality(e.throughput)}catch(e){return new Error("Unable to process Throughput measurement.")}try{e.rttRating=this.classifyRTTQuality(e.rtt)}catch(e){return new Error("Unable to process RTT measurement.")}try{e.lossFractionRating=this.classifyLossFractionQuality(e.lossFraction)}catch(e){return new Error("Unable to process Loss Fraction measurement.")}try{e.jitterRating=this.classifyJitterQuality(e.jitter)}catch(e){return new Error("Unable to process Jitter measurement.")}return null}}]),e})();n.DataPreprocessor=f,n.SimpleQualityRater=l,n.SimpleThroughputQualityRater=d,n.Quality=c,n.throughputQuality=u},{"./config.js":4}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DataValidator=n.DataPreparer=n.DataCleaner=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./errors.js"),a=(function(){function e(){r(this,e)}return i(e,null,[{key:"validateMeasurement",value:function(e){return!("number"!=typeof e&&"bigint"!=typeof e||isNaN(e)||e<0)}},{key:"validateThroughput",value:function(t){return e.validateMeasurement(t)}},{key:"validateRTT",value:function(t){return e.validateMeasurement(t)}},{key:"validateLossFraction",value:function(e){return!("number"!=typeof e&&"bigint"!=typeof e||isNaN(e)||e<-1||1<e)}},{key:"validateJitter",value:function(t){return e.validateMeasurement(t)}}]),e})(),s=(function(){function e(){r(this,e)}return i(e,null,[{key:"cleanLossFraction",value:function(e){return e<0&-.001<=e?0:e<-.001?Math.abs(e):e}},{key:"cleanJitter",value:function(e){return Math.min(e,2e3)}}]),e})(),c=(function(){function e(){r(this,e)}return i(e,null,[{key:"prepare",value:function(e){return"throughput"in e&&a.validateThroughput(e.throughput)?"rtt"in e&&a.validateRTT(e.rtt)?"lossFraction"in e&&a.validateLossFraction(e.lossFraction)?"jitter"in e&&a.validateJitter(e.jitter)?(e.lossFraction=s.cleanLossFraction(e.lossFraction),e.jitter=s.cleanJitter(e.jitter),null):new o.InvalidJitterMeasurement("Invalid jitter measurement."):new o.InvalidLossFractionMeasurement("Invalid loss fraction measurement."):new o.InvalidRTTMeasurement("Invalid rtt measurement."):new o.InvalidThroughputMeasurement("Invalid throughput measurement.")}}]),e})();n.DataCleaner=s,n.DataPreparer=c,n.DataValidator=a},{"./errors.js":9}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkQualityElement=n.NetworkQuality=n.DecisionMaker=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return(function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./res/sctMessages.js"),s=e("./dataPreprocessor.js"),c=(function(){function e(t,n){r(this,e),this.code=t,this.text=n}return o(e,[{key:"get",value:function(){return{code:this.code,text:this.text}}}],[{key:"fromJSON",value:function(t){return new e(t.code,t.text)}}]),e})(),u=(function(){function e(t){var n=t.connectivity,i=void 0===n?null:n,o=t.status,a=void 0===o?null:o,s=t.summary,c=void 0===s?null:s,u=t.notification,l=void 0===u?null:u,d=t.sctCode,f=void 0===d?null:d;r(this,e),this.connectivity=i,this.status=a,this.summary=c,this.notification=l,this.sctCode=f}return o(e,[{key:"get",value:function(){return{connectivity:null!==this.connectivity?this.connectivity.get():null,status:null!==this.status?this.status.get():null,summary:null!==this.summary?this.summary.get():null,notification:null!==this.notification?this.notification.get():null,sctCode:this.sctCode}}}],[{key:"fromJSON",value:function(t){return new e({connectivity:c.fromJSON(t.connectivity),status:c.fromJSON(t.status),summary:c.fromJSON(t.summary),notification:c.fromJSON(t.notification),sctCode:t.sctCode})}}]),e})(),l=(function(){function e(){r(this,e)}return o(e,null,[{key:"getJRLTCode",value:function(e,t,n,r){return[e,t,n,r].join("")}},{key:"getNetworkQuality",value:function(e,t,n,r){var i=this.getJRLTCode(e,t,n,r);return i in a.TABLE_OF_MESSAGES?[u.fromJSON(a.TABLE_OF_MESSAGES[i]).get(),null]:[null,Error("Invalid notificaton code: "+i)]}},{key:"updateNotification",value:function(e,t,n){var r=this.getNetworkQuality(t.jitter,t.rtt,t.lossFraction,t.throughput),o=i(r,2),a=o[0],c=o[1];return c?e.setErrorMessage(c.message):(e.jrltCode=this.getJRLTCode(t.jitter,t.rtt,t.lossFraction,t.throughput),e.queue={throughput:s.throughputQuality.toString(t.throughput),rtt:s.Quality.toString(t.rtt),lossFraction:s.Quality.toString(t.lossFraction),jitter:s.Quality.toString(t.jitter)},e.updateNetworkContext(n),e.setNetworkQuality(a)),e}}]),e})();n.DecisionMaker=l,n.NetworkQuality=u,n.NetworkQualityElement=c},{"./dataPreprocessor.js":6,"./res/sctMessages.js":14}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=(function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="InvalidThroughputMeasurement",n}return o(t,Error),t})(),s=(function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="InvalidRTTMeasurement",n}return o(t,Error),t})(),c=(function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="InvalidLossFractionMeasurement",n}return o(t,Error),t})(),u=(function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="InvalidJitterMeasurement",n}return o(t,Error),t})();n.InvalidThroughputMeasurement=a,n.InvalidRTTMeasurement=s,n.InvalidLossFractionMeasurement=c,n.InvalidJitterMeasurement=u},{}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MLPipeline=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./dataCollector.js"),a=e("./dataValidation.js"),s=e("./dataPreprocessor.js"),c=e("./decisionMaker.js"),u=e("./notification.js"),l=e("./model.js"),d=e("./notifier.js"),f=(function(){function e(){r(this,e),this.dataCollector=new o.DataCollector,this.DataPreparer=a.DataPreparer,this.DataPreprocessor=new s.DataPreprocessor,this.decisionMaker=c.DecisionMaker,this.model=l.Model,this.notifier=d.Notifier}return i(e,[{key:"run",value:function(e){return this._run(e).get()}},{key:"_run",value:function(e){var t=e.timestamp,n=void 0===t?Date.now():t,r=e.runManually,i=void 0===r?null:r,o=e.status,a=void 0===o?null:o,s=e.appID,c=void 0===s?null:s,l=e.throughput,d=void 0===l?null:l,f=e.rtt,h=void 0===f?null:f,p=e.lossFraction,v=void 0===p?null:p,y=e.jitter,g=void 0===y?null:y,m=e.localID,b=void 0===m?null:m,w=e.localIP,k=void 0===w?null:w,S=e.networkType,C=void 0===S?null:S,T=e.siteID,_=void 0===T?null:T,P=e.deviceID,E=void 0===P?null:P,I=e.isp,R=void 0===I?null:I,O=e.city,M=void 0===O?null:O,x=e.country,F={runManually:i,status:a,appID:c,timestamp:n,throughput:d,rtt:h,lossFraction:v,jitter:g,localID:b,localIP:k,networkType:C,siteID:_,deviceID:E,isp:R,city:M,country:void 0===x?null:x},j=new u.Notification;j.updateNetworkContext(F);var A=null;try{A=this.DataPreparer.prepare(F)}catch(e){var D="Data Preparer: "+e.message;return j.setErrorMessage(D),j}if(null!=A){var L="Data Preparer: "+A.message;return j.setErrorMessage(L),j}A=null;try{A=this.DataPreprocessor.process(F)}catch(e){var N="Data Preprocessor: "+e.message;return j.setErrorMessage(N),j}if(null!=A){var B="Data Preprocessor: "+A.message;return j.setErrorMessage(B),j}A=null;try{A=this.dataCollector.add(F)}catch(e){var H="Data Collector: "+e.message;return j.setErrorMessage(H),j}if(null!=A){var U="Data Collector: "+A.message;return j.setErrorMessage(U),j}if(this.dataCollector.checkNetworkContext()&&j.setNewNetworkContext(),!this.dataCollector.checkWindows())return j.setErrorMessage("Data Collector: Invalid Sliding Window. Throughput:["+this.dataCollector.slidingWindows.throughput.window+"], RTT:["+this.dataCollector.slidingWindows.rtt.window+"], LossFraction:["+this.dataCollector.slidingWindows.lossFraction.window+"], Jitter:["+this.dataCollector.slidingWindows.jitter.window+"]"),j;var W=null;A=null;try{W=this.model.predict(this.dataCollector)}catch(e){var V="Model: "+e.message;return j.setErrorMessage(V),j}try{this.decisionMaker.updateNotification(j,W,this.dataCollector.getNetworkContext())}catch(e){var q="Decision Maker: "+e.message;return j.setErrorMessage(q),j}try{this.notifier.enable(j)}catch(e){var G="Notifier: "+e.message;return j.setErrorMessage(G),j}return j}}]),e})();n.MLPipeline=f},{"./dataCollector.js":5,"./dataPreprocessor.js":6,"./dataValidation.js":7,"./decisionMaker.js":8,"./model.js":11,"./notification.js":12,"./notifier.js":13}],11:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(){r(this,e)}return i(e,null,[{key:"predict",value:function(e){return e.calcSlidingWindowsMajority()}}]),e})();n.Model=o},{}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Notification=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return(function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./config.js"),s=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Date.now();r(this,e),this.timestamp=t,this.statusMessage=a.config.notificationStatusMessage.Default,this.notification=null,this.notificationCode=null,this.networkContext={},this.newNetworkContext=!1,this.queue=null,this.errorMessage=null,this.jrltCode=null,this.connectivity=null,this.status=null,this.summary=null,this.sendFlag=!1}return o(e,[{key:"setErrorMessage",value:function(e){this.errorMessage=e,this.setErrorStatus(),this.suppress()}},{key:"setErrorStatus",value:function(){this.statusMessage=a.config.notificationStatusMessage.Error}},{key:"setReadyStatus",value:function(){this.statusMessage=a.config.notificationStatusMessage.Ready}},{key:"setNewNetworkContext",value:function(){this.newNetworkContext=!0}},{key:"setNetworkQuality",value:function(e){if(null===e)return this.setErrorMessage("Invalid NetworkQuality object"),new Error("Invalid NetworkQuality object");this.setNotification(e.notification),this.connectivity=e.connectivity,this.status=e.status,this.summary=e.summary,this.notificationCode=e.sctCode}},{key:"setNotification",value:function(e){null!==e&&("text"in e&&"string"==typeof e.text?this.enable():this.setErrorMessage("Invalid notification text")),this.notification=e}},{key:"clearErrorMessage",value:function(){this.errorMessage=null,this.enable()}},{key:"enable",value:function(){this.sendFlag=!0,this.setReadyStatus()}},{key:"suppress",value:function(){this.sendFlag=!1}},{key:"updateNetworkContext",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=a.config.NOTIFICATION_NETWORK_PROPERTIES[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s in e&&null!==e[s]&&(this.networkContext[s]=e[s])}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"get",value:function(){var e={};return Object.entries(this).forEach(function(t){var n=i(t,2),r=n[0],o=n[1];null!==o&&(e[r]=o)}),e}}]),e})();n.Notification=s},{"./config.js":4}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Notifier=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./notification.js"),a=(function(){function e(){r(this,e)}return i(e,null,[{key:"enable",value:function(e){if(!(e instanceof o.Notification)||null===e)return new Error("Invalid Notification.");e.status&&null!==e.status?1!==e.status.code&&5!==e.status.code?e.suppress():e.enable():e.suppress()}}]),e})();n.Notifier=a},{"./notification.js":12}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.TABLE_OF_MESSAGES={"0001":{connectivity:{code:1,text:"no connectivity"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:1110100},"0002":{connectivity:{code:2,text:"no media device"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:2110100},1111:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},1112:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},1113:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},1114:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},1115:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},1121:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},1122:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1123:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1124:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1125:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1131:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},1132:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1133:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1134:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1135:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},1211:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},1212:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},1213:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},1214:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},1215:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},1221:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},1222:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},1223:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},1224:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},1225:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},1231:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},1232:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},1233:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},1234:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},1235:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},1311:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},1312:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},1313:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},1314:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},1315:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},1321:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},1322:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},1323:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},1324:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},1325:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},1331:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},1332:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:70,text:"Connection is Good, Poor bandwidth (audio-only and thumbnail video). "},notification:{code:700,text:"With current bandwidth you can have audio-only and thumbnail video"},sctCode:3270700},1333:{connectivity:{code:3,text:"success"},status:{code:3,text:"fair"},summary:{code:75,text:"Connection is Good, Fair bandwidth (good audio, poor video). "},notification:{code:750,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing"},sctCode:3375750},1334:{connectivity:{code:3,text:"success"},status:{code:4,text:"good"},summary:{code:90,text:"Connection and bandwidth are both good "},notification:{code:900,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality"},sctCode:3490900},1335:{connectivity:{code:3,text:"success"},status:{code:5,text:"excellent"},summary:{code:95,text:"Excellent network"},notification:{code:950,text:"You are in a good network condition"},sctCode:3595950},2111:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},2112:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},2113:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},2114:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},2115:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},2121:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},2122:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2123:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2124:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2125:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2131:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},2132:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2133:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2134:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2135:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},2211:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},2212:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},2213:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},2214:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},2215:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},2221:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},2222:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},2223:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},2224:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},2225:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},2231:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},2232:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},2233:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},2234:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},2235:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},2311:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},2312:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},2313:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},2314:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},2315:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},2321:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},2322:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},2323:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},2324:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},2325:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},2331:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},2332:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:70,text:"Connection is Good, Poor bandwidth (audio-only and thumbnail video). "},notification:{code:700,text:"With current bandwidth you can have audio-only and thumbnail video"},sctCode:3270700},2333:{connectivity:{code:3,text:"success"},status:{code:3,text:"fair"},summary:{code:75,text:"Connection is Good, Fair bandwidth (good audio, poor video). "},notification:{code:750,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing"},sctCode:3375750},2334:{connectivity:{code:3,text:"success"},status:{code:4,text:"good"},summary:{code:90,text:"Connection and bandwidth are both good "},notification:{code:900,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality"},sctCode:3490900},2335:{connectivity:{code:3,text:"success"},status:{code:5,text:"excellent"},summary:{code:95,text:"Excellent network"},notification:{code:950,text:"You are in a good network condition"},sctCode:3595950},3111:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},3112:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},3113:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},3114:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},3115:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},3121:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},3122:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3123:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3124:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3125:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3131:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},3132:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3133:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3134:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3135:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:30,text:"High latency "},notification:{code:300,text:"Your round trip time seems to be too high for good quality calls, but it might be because you are located far from our test servers"},sctCode:3130300},3211:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},3212:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},3213:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},3214:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},3215:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},3221:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},3222:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},3223:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},3224:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},3225:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},3231:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},3232:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},3233:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},3234:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},3235:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},3311:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:10,text:"Bad connection "},notification:{code:100,text:"We expect your call quality to be really terrible"},sctCode:3110100},3312:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},3313:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},3314:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},3315:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:20,text:"Lossy network "},notification:{code:200,text:"You are in a very lossy network"},sctCode:3120200},3321:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},3322:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:50,text:"Connection is Fair with minor issues, Poor bandwidth (audio-only and thumbnail video)."},notification:{code:500,text:"With current bandwidth you can have audio-only and thumbnail video. Your network is unstable and you might experience minor issues"},sctCode:3250500},3323:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:55,text:"Connection is Fair with minor issues,  Fair bandwidth (good audio, poor video)."},notification:{code:550,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing. Your network is unstable and you might experience minor issues"},sctCode:3255550},3324:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:60,text:"Connection is Fair with minor issues, Good bandwidth (good audio and fair video)"},notification:{code:600,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality. Your network is unstable and you might experience minor issues"},sctCode:3260600},3325:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:65,text:"Connection is Fair with minor issues (bandwidth excellent)"},notification:{code:650,text:"Your network is unstable and you might experience minor issues"},sctCode:3265650},3331:{connectivity:{code:3,text:"success"},status:{code:1,text:"bad"},summary:{code:40,text:"Insufficient bandwidth "},notification:{code:400,text:"Your bandwidth is insufficient for both audio and video calls"},sctCode:3140400},3332:{connectivity:{code:3,text:"success"},status:{code:2,text:"poor"},summary:{code:70,text:"Connection is Good, Poor bandwidth (audio-only and thumbnail video). "},notification:{code:700,text:"With current bandwidth you can have audio-only and thumbnail video"},sctCode:3270700},3333:{connectivity:{code:3,text:"success"},status:{code:3,text:"fair"},summary:{code:75,text:"Connection is Good, Fair bandwidth (good audio, poor video). "},notification:{code:750,text:"Current bandwidth is enough for good audio quality, but poor video quality or screen sharing"},sctCode:3375750},3334:{connectivity:{code:3,text:"success"},status:{code:4,text:"good"},summary:{code:90,text:"Connection and bandwidth are both good "},notification:{code:900,text:"Your bandwidth is enough for good audio and fair video quality, but not enough for screen sharing quality"},sctCode:3490900},3335:{connectivity:{code:3,text:"success"},status:{code:5,text:"excellent"},summary:{code:95,text:"Excellent network"},notification:{code:950,text:"You are in a good network condition"},sctCode:3595950}}},{}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.RttTest=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),u=e("./turnTest"),l=(function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sendTimer=null,n.countSent=0,n.rtts=[],n}return o(t,u.TurnTest),a(t,[{key:"initiate",value:function(){this.results.startTimestamp=c.getCurrent(),this.sendPing()}},{key:"handleMessage",value:function(e){if(this.isActive()){var t=parseInt(e,10),n=this.calculateRtt(t);this.rtts.push(n),this.countSent<10?this.sendPing():this.calculateMetrics()}}},{key:"handleError",value:function(e){this.fillResults(),this.failed(e)}},{key:"sendPing",value:function(){if(this.isActive()){var e=c.getCurrent();this.send(e.toString()),this.countSent+=1,this.sendTimer&&(clearTimeout(this.sendTimer),this.sendTimer=null),this.countSent<10?this.sendTimer=setTimeout(this.sendPing.bind(this),100):this.sendTimer=setTimeout(this.calculateMetrics.bind(this),500)}}},{key:"calculateRtt",value:function(e){return c.getCurrent()-e}},{key:"calculateMetrics",value:function(){this.sendTimer&&(clearTimeout(this.sendTimer),this.sendTimer=null),this.fillResults(),this.finished()}},{key:"fillResults",value:function(){this.results.sentMessages=this.countSent,this.results.unAckedMessages=this.countSent-this.rtts.length,this.results.maxMessages=10,this.results.forceStopped=this.forceStopped,this.results.median=this.median(),this.results.average=this.average(),this.results.variance=this.std(),this.results.endTimestamp=c.getCurrent()}},{key:"median",value:function(){if(0==this.rtts.length)return null;this.rtts.sort();var e=Math.floor(this.rtts.length/2);return this.rtts[e]}},{key:"average",value:function(){if(0==this.rtts.length)return null;for(var e=0,t=0;t<this.rtts.length;t++)e+=this.rtts[t];return e/this.rtts.length}},{key:"variance",value:function(){if(0==this.rtts.length)return null;for(var e=0,t=this.average(),n=0;n<this.rtts.length;n++){var r=this.rtts[n];e+=Math.pow(r-t,2)}return e/this.rtts.length}},{key:"std",value:function(){var e=this.variance();return e<=0?0:Math.sqrt(e)}},{key:"stop",value:function(){this.isActive()&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this),this.fillResults())}}]),t})();n.RttTest=l},{"../utility/timestamps":27,"./turnTest":17}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ThroughputTest=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),u=e("../utility/messageMaker"),l=e("./turnTest"),d=(function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(o.sentBytes=0,o.receivedBytes=0,o.secondHalfBytes=0,o.secondHalfStart=null,o.bufferEmpty=0,o.chunkSize=1200,o.messageMaker=new u.MessageMaker(o.chunkSize),o.duration=5e3,null!=n){var a=50*n;o.duration=Math.max(Math.min(a,1e4),1e3)}return o.sendTimer=null,o.lastMessage=null,o.intervals=[],o.intervalStart=0,o.intervalLength=100,o.intervalBytes=0,o}return o(t,l.TurnTest),a(t,[{key:"initiate",value:function(){window&&window.csioReactNative?this.handleError(new Error("Not running throughput test for react-native")):this.startSend()}},{key:"handleMessage",value:function(e){var t=this;if(this.isActive()){this.lastMessage=e,this.receivedBytes+=e.length;var n=c.getCurrent();if(this.sendTimer||(this.results.startTimestamp=n,this.sendTimer=setTimeout(function(){t.stop(),t.finished()},this.duration)),0==this.intervalStart&&(this.intervalStart=n),this.intervalBytes+=e.length,n-this.intervalStart>=this.intervalLength){var r=n-this.intervalStart,i=this.averageThroughput(this.intervalBytes,r),o=null;try{o=n-JSON.parse(this.lastMessage).timestamp}catch(e){}this.intervals.push({startTimestamp:this.intervalStart,endTimestamp:n,bytesReceived:this.intervalBytes,average:i,rtt:o}),this.intervalStart=n,this.intervalBytes=0}this.results.startTimestamp&&n-this.results.startTimestamp>this.duration/2&&(this.secondHalfStart||(this.secondHalfStart=n),this.secondHalfBytes+=e.length)}}},{key:"handleError",value:function(e){this.stop(),this.failed(e)}},{key:"averageThroughput",value:function(e,t){return 0===t?0:e/(t/1e3)*8/1024}},{key:"bufferListener",value:function(){this.sendChannel.removeEventListener("bufferedamountlow",this.bufferListener.bind(this)),this.fillBuffer()}},{key:"fillBuffer",value:function(){for(0==this.sendChannel.bufferedAmount&&(this.bufferEmpty+=1);this.isActive();){if(this.sendChannel.bufferedAmount>this.bufferFullThreshold)return void(this.usePolling?setTimeout(this.fillBuffer.bind(this),250):this.sendChannel.addEventListener("bufferedamountlow",this.bufferListener.bind(this)));var e=this.messageMaker.make(this.sentBytes);this.sentBytes+=e.length,this.send(e)}this.sendChannel.removeEventListener("bufferedamountlow",this.bufferListener.bind(this))}},{key:"startSend",value:function(){this.isActive()&&(this.bufferFullThreshold=1e3*this.chunkSize,this.sendChannel=this.connection.sendChannel,this.usePolling=!0,"number"==typeof this.sendChannel.bufferedAmountLowThreshold&&(this.usePolling=!1,this.sendChannel.bufferedAmountLowThreshold=this.bufferFullThreshold/10),setTimeout(this.fillBuffer.bind(this),0))}},{key:"fillResults",value:function(){this.results.endTimestamp=c.getCurrent(),this.results.maxDuration=this.duration,this.results.forceStopped=this.forceStopped,this.results.bufferEmpty=this.bufferEmpty,this.results.intervals=this.intervals,this.results.bytesPrepared=this.sentBytes,this.results.bytesReceived=this.receivedBytes,this.results.startTimestamp||(this.results.startTimestamp=this.results.endTimestamp);var e=0,t=0;this.secondHalfStart&&(e=this.results.endTimestamp-this.secondHalfStart,t=this.averageThroughput(this.secondHalfBytes,e));var n=this.results.endTimestamp-this.results.startTimestamp,r=this.averageThroughput(this.receivedBytes,n);t<r&&(t=r),this.results.average=t;var i=null;try{i=JSON.parse(this.lastMessage)}catch(e){return}if(i){var o=i.sentBytes+this.lastMessage.length;this.results.bytesSent=o,this.results.fractionLostBytes=1-this.receivedBytes/o}else this.results.bytesSent=-1,this.results.fractionLostBytes=-1}},{key:"stop",value:function(){this.isActive()&&(clearTimeout(this.sendTimer),this.sendTimer=null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this),this.fillResults())}}]),t})();n.ThroughputTest=d},{"../utility/messageMaker":19,"../utility/timestamps":27,"./turnTest":17}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("bluebird"),a=(function(){function e(t){r(this,e),this.connection=t,this.active=!1,this.results={}}return i(e,[{key:"getResults",value:function(){return this.results}},{key:"start",value:function(){var e=this,t=new o(function(t,n){e.resolveCb=t,e.rejectCb=n});return this.connection.setMessageCallback(this.handleMessage.bind(this)),this.connection.setErrorCallback(this.handleError.bind(this)),this.active=!0,this.forceStopped=!1,this.initiate(),t}},{key:"stop",value:function(){this.active=!1}},{key:"forceStop",value:function(){this.forceStopped=!0,this.stop(),this.finished()}},{key:"isActive",value:function(){return this.active}},{key:"initiate",value:function(){}},{key:"handleMessage",value:function(e){}},{key:"handleError",value:function(e){}},{key:"send",value:function(e){this.connection.send(e)}},{key:"finished",value:function(){this.active=!1,this.resolveCb&&(this.resolveCb(),this.resolveCb=null)}},{key:"failed",value:function(e){this.active=!1,this.rejectCb&&(this.rejectCb(e),this.rejectCb=null)}}]),e})();n.TurnTest=a},{bluebird:2}],18:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TurnConnection=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./utility/parsedIceCandidate"),a=e("./utility/stats/getstatshandler"),s=e("./utility/stats/detectbrowser"),c=e("bluebird"),u=(function(){function e(t){r(this,e),this.reset(),this.statshandler=new a.GetStatsHandler(t)}return i(e,[{key:"reset",value:function(){this.disconnect(),this.iceServers=null,this.pctpc1=null,this.pctpc2=null,this.sendChannel=null,this.messageCallback=null,this.errorCallback=null,this.parsedIceResults={},this.resolveCb=null,this.rejectCb=null,this.localIpAddressInfo=[],this.localIpAddresses=[],this.localIp=null,this.localIpType=null,this.numberOfLocalIp=0}},{key:"setMessageCallback",value:function(e){this.messageCallback=e}},{key:"setErrorCallback",value:function(e){this.errorCallback=e}},{key:"send",value:function(e){if(this.sendChannel&&"open"===this.sendChannel.readyState)try{this.sendChannel.send(e)}catch(e){this.raiseSendError(new Error("Send channel Error"))}else this.raiseSendError(new Error("No send channel"))}},{key:"raiseSendError",value:function(e){this.errorCallback&&this.errorCallback(e)}},{key:"assignEvent",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n.bind(this),!1):e.attachEvent&&(t="on"+t,e.attachEvent(t,n.bind(this)))}},{key:"connect",value:function(e){var t=this;this.reset();var n=new c(function(e,n){t.resolveCb=e,t.rejectCb=n});this.iceServers=e;var r=null;try{if(RTCPeerConnection?r=RTCPeerConnection:webkitRTCPeerConnection?r=webkitRTCPeerConnection:mozRTCPeerConnection?r=mozRTCPeerConnection:window&&window.RTCPeerConnection&&(r=window.RTCPeerConnection),!r){var i=new Error("RTCPeerConnection not found");return i.continueFlag=!1,this.rejectCb(i),n}}catch(i){return i.continueFlag=!1,this.rejectCb(i),n}var o={iceTransportPolicy:"all",iceServers:this.iceServers};try{this.pctpc1=new r(o),this.pctpc2=new r(o)}catch(i){return this.rejectDisconnect(!1,new Error("Error creating PCs")),n}this.connectionTimer=setTimeout(function(){delete t.connectionTimer,t.rejectDisconnect(!1,new Error("Connection timeout"))},3e4);try{this.sendChannel=this.pctpc1.createDataChannel("precalltest",{ordered:!1,maxRetransmits:0}),this.sendChannel.binaryType="arraybuffer",this.assignEvent(this.sendChannel,"error",function(e){t.raiseSendError(new Error("Datachannel error")),t.rejectDisconnect(!0,new Error("Datachannel error"))}),this.assignEvent(this.pctpc2,"datachannel",function(e){var n=e.channel;t.assignEvent(n,"open",function(e){t.resolveCb&&(t.resolveCb(),t.resolveCb=null)}),t.assignEvent(n,"close",function(e){t&&t.disconnect&&t.disconnect()}),t.assignEvent(n,"message",function(e){t.messageCallback&&t.messageCallback(e.data)}),t.assignEvent(n,"error",function(e){t.errorCallback&&t.errorCallback(e),t.rejectDisconnect(!0,new Error("receiveChannel error"))})})}catch(i){return this.rejectDisconnect(!1,new Error("Error adding datachannel")),n}try{this.assignEvent(this.pctpc1,"icecandidate",function(e){t.onIceCandidate(t.pctpc1,e)}),this.assignEvent(this.pctpc1,"iceconnectionstatechange",function(e){t.onIceStateChange(t.pctpc1,e)}),this.assignEvent(this.pctpc2,"icecandidate",function(e){t.onIceCandidate(t.pctpc2,e)}),this.assignEvent(this.pctpc2,"iceconnectionstatechange",function(e){t.onIceStateChange(t.pctpc2,e)}),this.pctpc1.createOffer().then(function(e,n){t.onCreateOfferSuccess(e)},function(e){t.onCreateOfferError(t.pctpc1,e)})}catch(i){return this.rejectDisconnect(!1,new Error("Error starting connection")),n}return n}},{key:"rejectDisconnect",value:function(e,t){this.disconnect(),this.rejectCb&&(t.continueFlag=e,this.rejectCb(t)),this.resolveCb=null,this.rejectCb=null}},{key:"disconnect",value:function(){if(clearTimeout(this.connectionTimer),clearTimeout(this.iceTimer),this.sendChannel)try{this.sendChannel.close()}catch(e){}if(this.pctpc1)try{this.pctpc1.close()}catch(e){}if(this.pctpc1=null,this.pctpc2)try{this.pctpc2.close()}catch(e){}this.pctpc2=null}},{key:"getName",value:function(e){return e===this.pctpc1?"pctpc1":"pctpc2"}},{key:"getOtherPc",value:function(e){return e===this.pctpc1?this.pctpc2:this.pctpc1}},{key:"onCreateOfferError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to create offer"))}},{key:"onCreateAnswerError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to create answer"))}},{key:"onCreateOfferSuccess",value:function(e){var t=this;try{this.pctpc1.setLocalDescription(e).then(function(){t.onSetLocalSuccess(t.pctpc1)},function(e){t.onSetSessionDescriptionError(t.pctpc1,e)}),this.pctpc2.setRemoteDescription(e).then(function(){t.onSetRemoteSuccess(t.pctpc2)},function(e){t.onSetRemoteSessionDescriptionError(t.pctpc2,e)}),this.pctpc2.createAnswer().then(function(e){t.onCreateAnswerSuccess(e)},function(e){t.onCreateAnswerError(t.pctpc2,e)})}catch(e){this.rejectDisconnect(!1,new Error("Error processing offer"))}}},{key:"onSetLocalSuccess",value:function(e){}},{key:"onSetRemoteSuccess",value:function(e){}},{key:"onSetSessionDescriptionError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to set session description"))}},{key:"onSetRemoteSessionDescriptionError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to set session description"))}},{key:"onCreateAnswerSuccess",value:function(e){var t=this;try{this.pctpc2.setLocalDescription(e).then(function(){t.onSetLocalSuccess(t.pctpc2)},function(e){t.onSetSessionDescriptionError(t.pctpc2,e)}),this.pctpc1.setRemoteDescription(e).then(function(){t.onSetRemoteSuccess(t.pctpc1)},function(e){t.onSetRemoteSessionDescriptionError(t.pctpc1,e)})}catch(e){this.rejectDisconnect(!1,new Error("Error processing answer"))}}},{key:"onIceCandidate",value:function(e,t){var n=this;try{if(!t.candidate)return;if(!t.candidate.candidate)return;var r=new o.ParsedIceCandidate(t.candidate);if(e==this.pctpc1&&this.statshandler.codeBase==s.Constants.codeBaseType.chrome&&(r.isRelay()&&(r.isTypeTransportUdp()&&(this.parsedIceResults.relayUdpGathered=!0),r.isTypeTransportTcp()&&(this.parsedIceResults.relayTcpGathered=!0),r.isTypeTransportTls()&&(this.parsedIceResults.relayTlsGathered=!0)),r.isServerReflexive()&&(this.parsedIceResults.srflxGathered=!0)),!r.isRelay())return this.localIpAddresses.includes(r.getIpAddress())||(this.localIpAddresses.push(r.getIpAddress()),this.localIpAddressInfo.push({ip:r.getIpAddress(),candidateType:r.getType(),networkType:"unknown"}),r.isPublicIp()&&this.numberOfLocalIp++),void(r.isPublicIp()&&null===this.localIp&&(this.localIp=r.getIpAddress(),this.localIpType=r.getType()));this.getOtherPc(e).addIceCandidate(t.candidate).then(function(){n.onAddIceCandidateSuccess(e)},function(t){n.onAddIceCandidateError(e,t,r.isRelay())})}catch(t){this.rejectDisconnect(!1,t)}}},{key:"onAddIceCandidateSuccess",value:function(e){}},{key:"onAddIceCandidateError",value:function(e,t,n){n&&this.rejectDisconnect(!1,new Error("failed to add ICE Candidate"))}},{key:"onIceStateChange",value:function(e,t){var n=this;try{var r="(?)";e&&(r=e.iceConnectionState),"failed"===r&&this.rejectDisconnect(!0,new Error("ICE failure")),"checking"!==r||this.iceTimer||(this.iceTimer=setTimeout(function(){delete n.iceTimer,n.rejectDisconnect(!0,new Error("ICE timeout"))},1e4)),"completed"!==r&&"connected"!==r||(clearTimeout(this.iceTimer),delete this.iceTimer)}catch(e){this.rejectDisconnect(!1,new Error("Error processing ICE state change"))}}},{key:"getIceResults",value:function(){var e=this;return new c(function(t,n){for(var r=JSON.parse(JSON.stringify(e.iceServers)),i=0;i<r.length;i++){var o=r[i];r.hasOwnProperty(o)||delete o.credential}var a={turnIpAddress:"",turnIpVersion:"",turnTransport:"",iceServers:r,ipv6Supported:!1,ipv4Supported:!1,relayTlsGathered:!1,relayTcpGathered:!1,relayUdpGathered:!1,srflxGathered:!1,relayTlsSuccess:!1,relayTcpSuccess:!1,relayUdpSuccess:!1,srflxSuccess:!1,localIpAddressInfo:[],localIP:"",numberOfLocalIPs:0,localIPType:"",localIPNetworkType:""};for(var s in e.parsedIceResults)e.parsedIceResults.hasOwnProperty(s)&&(a[s]=e.parsedIceResults[s]);e.pctpc1?e.statshandler.getIceCandidates(e.pctpc1).then(function(n){a.localIP=e.localIp,a.localIPType=e.localIpType,a.numberOfLocalIPs=e.numberOfLocalIp;for(var r=0;r<e.localIpAddressInfo.length;r++){for(var i=e.localIpAddressInfo[r],o=0;o<n.localCandidates.length;o++){var s=n.localCandidates[o];(s.ip?s.ip:s.address?s.address:s.ipAddress)===i.ip&&"unknown"!==s.networkType&&(i.networkType=s.networkType)}a.localIpAddressInfo.push(i)}for(var c=0;c<n.iceCandidatePairs.length;c++){var u=n.iceCandidatePairs[c],l="string"==typeof u.googActiveConnection?"true"===u.googActiveConnection:u.googActiveConnection,d="string"==typeof u.selected?"true"===u.selected:u.selected;if(l||d)for(var f=0;f<n.localCandidates.length;f++){var h=n.localCandidates[f],p=null;if(p=h.ip?h.ip:h.address?h.address:h.ipAddress,h.id==u.localCandidateId){a.turnIpAddress=p,a.turnNetworkType=h.networkType,a.localIPNetworkType=h.networkType;var v=-1!==p.indexOf(":");a.turnIpVersion=v?"ipv6":"ipv4",a.turnTransport=h.mozLocalTransport}"relay"!==h.candidateType&&"relayed"!==h.candidateType||("udp"===h.mozLocalTransport&&(a.relayUdpSuccess=!0),"tcp"===h.mozLocalTransport&&(a.relayTcpSuccess=!0),"tls"===h.mozLocalTransport&&(a.relayTlsSuccess=!0)),p&&(-1!==p.indexOf(":")?a.ipv6Supported=!0:a.ipv4Supported=!0)}}for(var y=0;y<n.localCandidates.length;y++){var g=n.localCandidates[y];"relay"!==g.candidateType&&"relayed"!==g.candidateType||("udp"===g.mozLocalTransport&&(a.relayUdpGathered=!0),"tcp"===g.mozLocalTransport&&(a.relayTcpGathered=!0),"tls"===g.mozLocalTransport&&(a.relayTlsGathered=!0)),"srflx"!==g.candidateType&&"serverreflexive"!==g.candidateType||(a.srflxGathered=!0)}for(var m=0;m<n.iceCandidatePairs.length;m++){var b=n.iceCandidatePairs[m];if("succeeded"===b.state)for(var w=0;w<n.localCandidates.length;w++){var k=n.localCandidates[w];k.id==b.localCandidateId&&("relay"!==k.candidateType&&"relayed"!==k.candidateType||("udp"===k.mozLocalTransport&&(a.relayUdpSuccess=!0),"tcp"===k.mozLocalTransport&&(a.relayTcpSuccess=!0),"tls"===k.mozLocalTransport&&(a.relayTlsSuccess=!0)),"srflx"!==k.candidateType&&"serverreflexive"!==k.candidateType||(a.srflxSuccess=!0))}}t(a)},function(e){n(e)}):n(new Error("PC not available for stats"))},function(e){reject(e)})}}]),e})();n.TurnConnection=u},{"./utility/parsedIceCandidate":21,"./utility/stats/detectbrowser":24,"./utility/stats/getstatshandler":25,bluebird:2}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(35+58*Math.random());return t}Object.defineProperty(n,"__esModule",{value:!0}),n.randomAsciiString=n.MessageMaker=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),s=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1200;r(this,e),this.message={timestamp:"",sentBytes:1e4,padding:""};var n=i(t-a.getCurrent().toString().length-JSON.stringify(this.message).length);this.message.padding=n}return o(e,[{key:"make",value:function(e){return this.message.timestamp=a.getCurrent(),this.message.sentBytes=e,JSON.stringify(this.message)}}]),e})();n.MessageMaker=s,n.randomAsciiString=i},{"../utility/timestamps":27}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.OnlineCheck=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./timestamps")),a=(function(){function e(){r(this,e),this.active=!1}return i(e,[{key:"start",value:function(){var e=this;this.active=!0,this.onlineCheck=[],window&&window.addEventListener&&"function"==typeof window.addEventListener&&(window.addEventListener("offline",function(){e.addEntry()}),window.addEventListener("online",function(){e.addEntry()}),this.addEntry())}},{key:"addEntry",value:function(){if(this.active){var e=o.getCurrent();if(navigator&&navigator.onLine){var t=navigator.onLine;this.onlineCheck.push({timestamp:e,online:t})}}}},{key:"stop",value:function(){var e=this;return this.active=!1,window&&window.removeEventListener&&"function"==typeof window.removeEventListener&&(window.removeEventListener("offline",function(){e.addEntry()}),window.removeEventListener("online",function(){e.addEntry()})),this.onlineCheck}}]),e})();n.OnlineCheck=a},{"./timestamps":27}],21:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t){r(this,e),this.iceCandidateStr=t.candidate,this.parse()}return i(e,[{key:"parse",value:function(){var e=this.iceCandidateStr.split(" ");e.length<8||(this.protocol="1"===e[1]?"rtp":"rtcp",this.transport=e[2],this.typeTransport=this.extractTypeTransport(e[3]),this.ipv6=-1!==e[4].indexOf(":"),this.ipAddress=e[4],this.port=e[5],this.type=e[7])}},{key:"extractTypeTransport",value:function(e){var t="None",n=e>>24;if("rtp"===this.protocol&&0<=n&&n<=2)switch(n){case 0:t="TLS";break;case 1:t="TCP";break;case 2:t="UDP"}return t}},{key:"getString",value:function(){return this.iceCandidateStr}},{key:"getType",value:function(){return this.type}},{key:"isHost",value:function(){return"host"===this.type.toLowerCase()}},{key:"isServerReflexive",value:function(){return"srflx"===this.type.toLowerCase()}},{key:"isPeerReflexive",value:function(){return"prflx"===this.type.toLowerCase()}},{key:"isRelay",value:function(){return"relay"===this.type.toLowerCase()||"relayed"===this.type.toLowerCase()}},{key:"isPublicIp",value:function(){return"srflx"===this.type.toLowerCase()||"prflx"===this.type.toLowerCase()}},{key:"getTypeTransport",value:function(){return this.typeTransport}},{key:"isTypeTransportUdp",value:function(){return"UDP"===this.typeTransport}},{key:"isTypeTransportTcp",value:function(){return"TCP"===this.typeTransport}},{key:"isTypeTransportTls",value:function(){return"TLS"===this.typeTransport}},{key:"getTransport",value:function(){return this.transport}},{key:"isUdp",value:function(){return"udp"===this.transport.toLowerCase()}},{key:"isTcp",value:function(){return"tcp"===this.transport.toLowerCase()}},{key:"getProtocol",value:function(){return this.protocol}},{key:"isRtp",value:function(){return"rtp"===this.protocol}},{key:"isRtcp",value:function(){return"rtcp"===this.protocol}},{key:"isIpv6",value:function(){return this.ipv6}},{key:"getIpAddress",value:function(){return this.ipAddress}},{key:"getPort",value:function(){return this.port}}]),e})();n.ParsedIceCandidate=o},{}],22:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTNotificationService=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return(function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../mlPipeline/dataPreprocessor.js"),s=e("../mlPipeline/decisionMaker.js"),c=e("../mlPipeline/dataValidation.js"),u=(function(){function e(){r(this,e),this.dataCleaner=c.DataCleaner,this.dataValidator=c.DataValidator,this.dataPreprocessor=new a.DataPreprocessor,this.decisionMaker=s.DecisionMaker}return o(e,[{key:"makeNotification",value:function(e,t){var n={};return null===e?null:(n.jrltCode=t,"sctCode"in e&&(n.notificationCode=e.sctCode),"notification"in e&&(n.notification=e.notification.text,n.notificationTextCode=e.notification.code),"connectivity"in e&&(n.connectivity=e.connectivity),"status"in e&&(n.status=e.status),"summary"in e&&(n.summary=e.summary),n)}},{key:"getNotificationSummary",value:function(e,t){if("success"!==t)return null;if(!this.getInternetConnectivityStatus(e.onlineStatus)){var n=this.decisionMaker.getNetworkQuality(0,0,0,1),r=i(n,2),o=r[0];return r[1]?null:this.makeNotification(o,this.decisionMaker.getJRLTCode(0,0,0,1))}if(!this.getMediaConnectivityStatus(e.ice,e.throughput)){var s=this.decisionMaker.getNetworkQuality(0,0,0,2),c=i(s,2),u=c[0];return c[1]?null:this.makeNotification(u,this.decisionMaker.getJRLTCode(0,0,0,2))}var l=e.throughput.average,d=e.rtt.median,f=e.throughput.fractionLostBytes,h=e.rtt.variance,p=null,v=null,y=null,g=null;this.dataValidator.validateThroughput(l)&&(p=l),this.dataValidator.validateRTT(d)&&(v=d),this.dataValidator.validateLossFraction(f)&&(y=this.dataCleaner.cleanLossFraction(f)),this.dataValidator.validateJitter(h)&&(g=this.dataCleaner.cleanJitter(h));var m=this.dataPreprocessor.classifyThroughputQuality(p),b=this.dataPreprocessor.classifyRTTQuality(v),w=this.dataPreprocessor.classifyLossFractionQuality(y),k=this.dataPreprocessor.classifyJitterQuality(g);-1===m&&(m=m.BAD),-1===b&&(b=a.Quality.BAD),-1===w&&(w=a.Quality.BAD),-1===k&&(k=a.Quality.BAD);var S=this.decisionMaker.getJRLTCode(k,b,w,m),C=this.decisionMaker.getNetworkQuality(k,b,w,m),T=i(C,2),_=T[0];return T[1]?null:this.makeNotification(_,S)}},{key:"getInternetConnectivityStatus",value:function(e){for(var t=0,n=!1,r=0;r<e.length;++r)e[r].timestamp>t&&(t=e[r].timeStamp,n=e[r].online);return n}},{key:"getMediaConnectivityStatus",value:function(e,t){return!(!e||!t)&&(e.relayTcpSuccess||e.relayTlsSuccess||e.relayUdpSuccess||0<t.average)}}]),e})();n.PCTNotificationService=u},{"../mlPipeline/dataPreprocessor.js":6,"../mlPipeline/dataValidation.js":7,"../mlPipeline/decisionMaker.js":8}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ResultsHandler=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./timestamps")),s=e("./messageMaker"),c=e("./pctnotificationservice"),u={success:"success",stopped:"stopped",failed:"failed"},l=(function(){function e(){r(this,e),this.start=a.getCurrent(),this.id=Math.trunc(this.start)+"-"+(0,s.randomAsciiString)(20),this.version="1.8.0",this.failures=[],this.results={},this.status=u.success,this.provider="callstats",this.enableMLNotification=!1,this.pctNotificationService=new c.PCTNotificationService}return o(e,[{key:"setStatusStopped",value:function(){this.status!==u.failed&&(this.status=u.stopped)}},{key:"setStatusFailed",value:function(){this.status=u.failed}},{key:"setStatusSuccess",value:function(){this.status!==u.stopped&&(this.status=u.success)}},{key:"setProvider",value:function(e){e&&(this.provider=e)}},{key:"setisRunManually",value:function(e){this.isRunManually=e}},{key:"setEnableMLNotification",value:function(e){this.enableMLNotification=e}},{key:"getResults",value:function(){var e={id:this.id,version:this.version,status:this.status,startTimestamp:this.start,endTimestamp:a.getCurrent(),failures:this.failures,tests:this.results,provider:this.provider,runManually:this.isRunManually};return e.notification=this.pctNotificationService.getNotificationSummary(e.tests,e.status),e.notification&&(e.notification.timestamp=a.getCurrent()),e}},{key:"getFailureNumber",value:function(){return this.failures.length}},{key:"getId",value:function(){return this.id}},{key:"add",value:function(e,t){(this.results[e]=t).hasOwnProperty("forceStopped")&&1==t.forceStopped&&this.setStatusStopped()}},{key:"failure",value:function(e){"object"===(void 0===e?"undefined":i(e))&&(e=e.toString());var t={timestamp:a.getCurrent(),reason:e};this.failures.push(t)}}]),e})();n.ResultsHandler=l},{"./messageMaker":19,"./pctnotificationservice":22,"./timestamps":27}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.detect=function(){var e=r.browserName.chrome,t=null,n=null,i=null,o=null,a=r.codeBaseType.chrome;if(window&&(!window.navigator||!window.navigator.userAgent||window.csioReactNative))return window&&window.csioGetOsName&&(t=window.csioGetOsName()),window&&window.csioGetOsVer&&(n=window.csioGetOsVer()),window&&window.csioReactNative&&(i="react-native"),{browserName:e,codeBase:a,os:t,osVersion:n,userAgent:i};var s=(i=navigator.userAgent).toLowerCase(),c=void 0,u=void 0;(o=navigator.appVersion)&&(c=o.toLowerCase(),u=""+parseFloat(c));var l=void 0,d="version";if(-1!==(l=s.indexOf("opera")))e=r.browserName.opera,u=s.substring(l+6),-1!==(l=s.indexOf(d))&&(u=s.substring(l+8)),a=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("opr")))e=r.browserName.opera,u=s.substring(l+4),-1!==(l=s.indexOf(d))&&(u=s.substring(l+8)),a=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("msie")))e=r.browserName.msie,u=s.substring(l+5),a=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("edge")))e=r.browserName.edge,u=s.substring(l+5),a=r.codeBaseType.edge;else if(-1!==(l=s.indexOf("edg")))e=r.browserName.edge,u=s.substring(l+4),a=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("chrome")))e=r.browserName.chrome,u=s.substring(l+7),a=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("safari"))){if(e=r.browserName.safari,u=s.substring(l+7),-1!==(l=s.indexOf(d))&&(u=s.substring(l+8))){var f=u.split(" ");f&&0<f.length&&(u=f[0])}a=r.codeBaseType.chrome}else-1!==(l=s.indexOf("firefox"))?(e=r.browserName.firefox,u=s.substring(l+8),a=r.codeBaseType.firefox):-1!==(l=s.indexOf("trident"))&&(e=r.browserName.msie,l=s.indexOf("rv"),u=s.substring(l+3,l+7),a=r.codeBaseType.chrome);var h=[{s:"Windows 3.11",r:/win16/},{s:"Windows 95",r:/(windows 95|win95|windows_95)/},{s:"Windows ME",r:/(win 9x 4.90|windows me)/},{s:"Windows 98",r:/(windows 98|win98)/},{s:"Windows CE",r:/windows ce/},{s:"Windows 2000",r:/(windows nt 5.0|windows 2000)/},{s:"Windows XP",r:/(windows nt 5.1|windows xp)/},{s:"Windows Server 2003",r:/windows nt 5.2/},{s:"Windows Vista",r:/windows nt 6.0/},{s:"Windows 7",r:/(windows 7|windows nt 6.1)/},{s:"Windows 8.1",r:/(windows 8.1|windows nt 6.3)/},{s:"Windows 8",r:/(windows 8|windows nt 6.2)/},{s:"Windows 10",r:/(windows 10|windows nt 10.0)/},{s:"Windows NT 4.0",r:/(windows nt 4.0|winnt4.0|winnt|windows nt)/},{s:"Windows ME",r:/windows me/},{s:"Android",r:/android/},{s:"Open BSD",r:/openbsd/},{s:"Sun OS",r:/sunos/},{s:"Linux",r:/(linux|x11)/},{s:"iOS",r:/(iphone|ipad|ipod)/},{s:"Mac OS X",r:/mac os x/},{s:"Mac OS",r:/(macppc|macintel|mac_powerpc|macintosh)/},{s:"QNX",r:/qnx/},{s:"UNIX",r:/unix/},{s:"BeOS",r:/beos/},{s:"OS/2",r:/os\/2/},{s:"Search Bot",r:/(nuhk|googlebot|yammybot|openbot|slurp|msnbot|ask jeeves\/teoma|ia_archiver)/}],p=void 0,v=void 0;for(p in h)if(h.hasOwnProperty(p)&&(v=h[p]).r.test(s)){t=v.s;break}switch(t&&/Windows/.test(t)&&(n=/Windows (.*)/.exec(t)[1],t=r.osName.windows),t){case r.osName.mac:if(!(n=/mac os x (1[\.\_\d]+)/.exec(s)))break;n=n[1];break;case r.osName.android:if(!(n=/android ([\.\_\d]+)/.exec(s)))break;n=n[1];break;case r.osName.ios:if(!c)break;if(!(n=/os (\d+)_(\d+)_?(\d+)?/.exec(c)))break;n=n[1]+"."+n[2]+"."+(0|n[3])}var y=u.split(" "),g=u;return y&&0<y.length&&(g=y[0]),{browserName:e,browserVersion:g,os:t,osVersion:n,codeBase:a,userAgent:i}};var r=n.Constants={codeBaseType:{chrome:"Chrome",firefox:"Firefox",edge:"Edge",plugin:"Plugin"},browserName:{chrome:"Chrome",firefox:"Firefox",edge:"Edge",msie:"Microsoft Internet Explorer",safari:"Safari"},osName:{windows:"Windows",mac:"Mac OS X",android:"Android",ios:"iOS"}}},{}],25:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GetStatsHandler=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./detectbrowser"),a=e("./statsadapter"),s=e("bluebird"),c=(function(){function e(t){r(this,e),this.codeBase=t.codeBase,this.browserName=t.browserName,this.adapter=new a.StatsAdapter(this.codeBase,this.browserName),this.isPromiseBased=!0}return i(e,[{key:"getIceCandidates",value:function(e){var t=this;return new s(function(n,r){t.csioGetStats(t.iceCandidatesHandler.bind(t),e,function(e){n(e)})})}},{key:"iceCandidatesHandler",value:function(e,t){t(this.adapter.getIceCandidates(e))}},{key:"csioGetStats",value:function(e,t,n){var r=o.Constants.codeBaseType.firefox,i=o.Constants.codeBaseType.chrome,a=o.Constants.codeBaseType.edge,s=o.Constants.browserName.safari;t&&(this.codeBase===r?this.getStatsFirefox(e,t,n):this.browserName===s?this.getStatsSafari(e,t,n):this.codeBase===i?this.getStatsChrome(e,t,n):this.codeBase===a&&this.getStatsEdge(e,t,n))}},{key:"getStatsFirefox",value:function(e,t,n){var r=this;if(r.isPromiseBased)try{t.getStats().then(function(t){e(t,n)}).catch(function(i){r.isPromiseBased=!1,t.getStats(null,function(t){e(t,n)},function(){})})}catch(i){r.isPromiseBased=!1,t.getStats(null,function(t){e(t,n)},function(){})}else t.getStats(null,function(t){e(t,n)},function(){})}},{key:"getStatsChrome",value:function(e,t,n){var r=this;if(window&&window.csioReactNative)t.getStats(null,function(t){e(t,n)},function(e){});else if(r.isPromiseBased)try{t.getStats().then(function(t){e(t,n)}).catch(function(i){r.isPromiseBased=!1,t.getStats(function(t){e(t,n)})})}catch(i){r.isPromiseBased=!1,t.getStats(function(t){e(t,n)})}else t.getStats(function(t){e(t,n)})}},{key:"getStatsEdge",value:function(e,t,n){t.getStats().then(function(t){e(t,n)}).catch(function(e){})}},{key:"getStatsSafari",value:function(e,t,n){t.getStats().then(function(t){e(t,n)}).catch(function(e){})}}]),e})();n.GetStatsHandler=c},{"./detectbrowser":24,"./statsadapter":26,bluebird:2}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAdapter=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./detectbrowser"),a=(function(){function e(t,n){r(this,e),this.codeBase=t,this.browser=n}return i(e,[{key:"getIceCandidates",value:function(e){if(!e)return{localCandidates:[],remoteCandidates:[],iceCandidatePairs:[]};var t=this.extractRawStats(e);return this.processRawStatsForIceInfo(t)}},{key:"extractRawStats",value:function(e){var t=[],n=void 0,r=o.Constants.codeBaseType.firefox,i=o.Constants.codeBaseType.chrome,a=o.Constants.browserName.safari;if(this.codeBase===r&&this.browser!==a)e.forEach(function(e){t.push(e)});else if(this.codeBase===i&&this.browser!==a)e&&e.result?t=e.result():e&&e.forEach&&(t=[],e.forEach(function(e){t.push(e)}));else for(n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}},{key:"processRawStatsForIceInfo",value:function(e){var t=[],n=[],r=[],i=void 0;if(!e)return{localCandidates:t,remoteCandidates:n,iceCandidatePairs:r};for(var o=0;o<e.length;++o){var a=this.getParsedStats(e[o]),s=this.statsClassifier(a);if(s.candidatePair)r.push(s.candidatePair);else if(s.transportStats){if("transport"===s.transportStats.type){i=s.transportStats.selectedCandidatePairId;continue}r.push(s.transportStats)}else if(s.localCandidate){var c=s.localCandidate;if("relay"==c.candidateType||"relayed"==c.candidateType){if(!c.mozLocalTransport){var u=c.priority>>24;c.mozLocalTransport=this.formatRelayType(u)}c.mozLocalTransport=c.mozLocalTransport.toLowerCase()}t.push(c)}else s.remoteCandidate&&n.push(s.remoteCandidate)}if(i)for(var l=0;l<r.length;++l)r[l].id===i&&(r[l].googActiveConnection="true");return{localCandidates:t,remoteCandidates:n,iceCandidatePairs:r}}},{key:"getParsedStats",value:function(e){var t={};if(e.timestamp instanceof Date&&(t.timestamp=e.timestamp.getTime().toString()),e.type&&(t.type=e.type),e.names)for(var n=e.names(),r=0;r<n.length;++r)t[n[r]]=e.stat(n[r]);else s(t,e);if(t.values){for(var i=0;i<t.values.length;i++){var o=t.values[i];s(t,o)}delete t.values}return t}},{key:"statsClassifier",value:function(e){var t={},n=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++){var o=n[i];if(e.type===o)return!0}return!1},r=n("inbound-rtp","inboundrtp"),i="true"===e.isRemote||!0===e.isRemote;return r||n("outbound-rtp","outboundrtp")?(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.streamType=r?"inbound":"outbound",t.tracks.reportType="local",void 0!==e.isRemote&&(t.tracks.reportType=i?"remote":"local")):n("candidatepair")&&e.selected?t.transportStats=e:n("localcandidate","local-candidate")?t.localCandidate=e:n("remotecandidate","remote-candidate")?t.remoteCandidate=e:n("transport","googCandidatePair")?t.transportStats=e:n("VideoBwe")?t.bwe=e:n("track")?t.trackStats=e:n("candidate-pair")?t.candidatePair=e:n("codec")?t.codec=e:n("ssrc")&&(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.reportType="local",t.tracks.streamType=e.bytesSent?"outbound":"inbound"),t}},{key:"formatRelayType",value:function(e){var t="none";switch(e){case 0:t="tls";break;case 1:t="tcp";break;case 2:t="udp"}return t}}]),e})();n.StatsAdapter=a},{"./detectbrowser":24}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrent=function(){return window&&window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()}},{}],28:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){y&&p&&(y=!1,p.length?v=p.concat(v):g=-1,v.length&&c())}function c(){if(!y){var e=o(s);y=!0;for(var t=v.length;t;){for(p=v,v=[];++g<t;)p&&p[g].run();g=-1,t=v.length}p=null,y=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var d,f,h=t.exports={};!(function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}})();var p,v=[],y=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new u(e,t)),1!==v.length||y||o(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],29:[function(e,t,n){(function(t,r){(function(){function i(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,c={},u=0;n.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return c[t]=!0,o(function(){c[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":28,timers:29}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(){var t=this;r(this,e),this.batteryManager=null,"function"==typeof navigator.getBattery&&navigator.getBattery().then(function(e){t.batteryManager=e})}return i(e,[{key:"getLevel",value:function(){return this.batteryManager?this.batteryManager.level:-1}},{key:"getCharging",value:function(){return this.batteryManager?this.batteryManager.charging:null}}]),e})();n.Battery=o},{}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.detect=function(){var e=r.browserName.chrome,t=null,n=null,i=null,o=null,a=r.codeBaseType.chrome;if(!window.navigator.userAgent||window.csioReactNative)return window&&window.csioGetOsName&&(t=window.csioGetOsName()),window&&window.csioGetOsVer&&(n=window.csioGetOsVer()),window&&window.csioReactNative&&(i="react-native"),{browserName:e,codeBase:a,os:t,osVersion:n,userAgent:i,browserVersion:null};var s=(i=navigator.userAgent).toLowerCase(),c=void 0,u=void 0;(o=navigator.appVersion)&&(c=o.toLowerCase(),u=""+parseFloat(c));var l=void 0;if(-1!==(l=s.indexOf("opera")))e=r.browserName.opera,u=s.substring(l+6),-1!==(l=s.indexOf("version"))&&(u=s.substring(l+8)),a=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("opr")))e=r.browserName.opera,u=s.substring(l+4),-1!==(l=s.indexOf("version"))&&(u=s.substring(l+8)),a=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("msie")))e=r.browserName.msie,u=s.substring(l+5),a=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("edge")))e=r.browserName.edge,u=s.substring(l+5),a=r.codeBaseType.edge;else if(-1!==(l=s.indexOf("edg")))e=r.browserName.edge,u=s.substring(l+4),a=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("chrome")))e=r.browserName.chrome,u=s.substring(l+7),a=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("safari"))){if(e=r.browserName.safari,u=s.substring(l+7),-1!==(l=s.indexOf("version"))&&(u=s.substring(l+8))){var d=u.split(" ");d&&d.length>0&&(u=d[0])}a=r.codeBaseType.chrome}else-1!==(l=s.indexOf("firefox"))?(e=r.browserName.firefox,u=s.substring(l+8),a=r.codeBaseType.firefox):-1!==(l=s.indexOf("trident"))&&(e=r.browserName.msie,l=s.indexOf("rv"),u=s.substring(l+3,l+7),a=r.codeBaseType.chrome);var f=[{s:"Windows 3.11",r:/win16/},{s:"Windows 95",r:/(windows 95|win95|windows_95)/},{s:"Windows ME",r:/(win 9x 4.90|windows me)/},{s:"Windows 98",r:/(windows 98|win98)/},{s:"Windows CE",r:/windows ce/},{s:"Windows 2000",r:/(windows nt 5.0|windows 2000)/},{s:"Windows XP",r:/(windows nt 5.1|windows xp)/},{s:"Windows Server 2003",r:/windows nt 5.2/},{s:"Windows Vista",r:/windows nt 6.0/},{s:"Windows 7",r:/(windows 7|windows nt 6.1)/},{s:"Windows 8.1",r:/(windows 8.1|windows nt 6.3)/},{s:"Windows 8",r:/(windows 8|windows nt 6.2)/},{s:"Windows 10",r:/(windows 10|windows nt 10.0)/},{s:"Windows NT 4.0",r:/(windows nt 4.0|winnt4.0|winnt|windows nt)/},{s:"Windows ME",r:/windows me/},{s:"Android",r:/android/},{s:"Open BSD",r:/openbsd/},{s:"Sun OS",r:/sunos/},{s:"Linux",r:/(linux|x11)/},{s:"iOS",r:/(iphone|ipad|ipod)/},{s:"Mac OS X",r:/mac os x/},{s:"Mac OS",r:/(macppc|macintel|mac_powerpc|macintosh)/},{s:"QNX",r:/qnx/},{s:"UNIX",r:/unix/},{s:"BeOS",r:/beos/},{s:"OS/2",r:/os\/2/},{s:"Search Bot",r:/(nuhk|googlebot|yammybot|openbot|slurp|msnbot|ask jeeves\/teoma|ia_archiver)/}],h=void 0,p=void 0;for(h in f)if(f.hasOwnProperty(h)&&(p=f[h]).r.test(s)){t=p.s;break}switch(t&&/Windows/.test(t)&&(n=/Windows (.*)/.exec(t)[1],t=r.osName.windows),t){case r.osName.mac:if(!(n=/mac os x (1[\.\_\d]+)/.exec(s)))break;n=n[1];break;case r.osName.android:if(!(n=/android ([\.\_\d]+)/.exec(s)))break;n=n[1];break;case r.osName.ios:if(!c)break;if(!(n=/os (\d+)_(\d+)_?(\d+)?/.exec(c)))break;n=n[1]+"."+n[2]+"."+(0|n[3])}var v=u.split(" "),y=u;return v&&v.length>0&&(y=v[0]),{browserName:e,browserVersion:y,os:t,osVersion:n,codeBase:a,userAgent:i}};var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants"))},{"../config/constants":49}],32:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Devices=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../config/constants")),s=e("../utility/registry"),c=r(e("../utility/csiologger")),u=r(e("../utility/utils")),l=(function(){function e(t,n){i(this,e),this.conferenceId=t,this.pc=n,this.devices=null,this.emb=s.Registry.getEventMessageBuilder()}return o(e,[{key:"collectConnected",value:function(){var e=this;if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){var t=this;navigator.mediaDevices.enumerateDevices().then(function(n){var r=u.normalizeMediaDeviceList(n);t.sendConnected(r),setTimeout(e.collectConnected.bind(t),1e4)}).catch(function(n){setTimeout(e.collectConnected.bind(t),1e4)})}}},{key:"sendConnected",value:function(e){this.devices&&this.compare(e)||(this.devices=e,this.send())}},{key:"compare",value:function(e){return self.devices.sort().toString()===e.sort().toString()}},{key:"send",value:function(){var e={mediaDeviceList:this.devices};c.log("sending connectedDevice",a.internalFabricEvent.connectedDeviceList,e),this.emb.make(a.internalFabricEvent.connectedDeviceList,this.conferenceId,this.pc,e)}}]),e})();n.Devices=l},{"../config/constants":49,"../utility/csiologger":118,"../utility/registry":127,"../utility/utils":133}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.store=function(e,t){if(t)try{window&&window.localStorage&&window.localStorage.setItem(e,t)}catch(e){return}},n.get=function(e){try{if(window&&window.localStorage)return window.localStorage.getItem(e)}catch(e){return null}return null},n.remove=function(e){try{window&&window.localStorage&&window.localStorage.removeItem(e)}catch(e){return}}},{}],34:[function(e,t,n){"use strict";function r(e,t){if(t)try{window&&window.sessionStorage&&window.sessionStorage.setItem(e,t)}catch(e){return}}function i(e){try{if(window&&window.sessionStorage)return window.sessionStorage.getItem(e)}catch(e){return null}return null}Object.defineProperty(n,"__esModule",{value:!0}),n.store=r,n.get=i,n.remove=function(e){try{window&&window.sessionStorage&&window.sessionStorage.removeItem(e)}catch(e){return}},n.storeUcId=function(e,t){if(e){var n=JSON.parse(i("csio_ucid_data"));n||(n={}),n[e]||(n[e]={}),n[e].ucID=t,r("csio_ucid_data",JSON.stringify(n))}},n.getUcId=function(e){if(!e)return null;var t=JSON.parse(i("csio_ucid_data"));return t&&t[e]?t[e].ucID:null}},{}],35:[function(t,n,r){(function(e){(function(){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n={};return n.status=e,t&&(n.message=t),n}function a(e,t){return e+": "+t+" "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")}function s(){var e=null;return RTCPeerConnection?e=RTCPeerConnection:webkitRTCPeerConnection?e=webkitRTCPeerConnection:mozRTCPeerConnection?e=mozRTCPeerConnection:window&&window.RTCPeerConnection&&(e=window.RTCPeerConnection),e}function c(e){if(null===e)return!1;var t=v.Registry.getEndpoint().getCodeBase();if(t===d.codeBaseType.firefox)return"undefined"!=typeof mozRTCPeerConnection&&e instanceof mozRTCPeerConnection||"undefined"!=typeof RTCPeerConnection&&e instanceof RTCPeerConnection;if(t===d.codeBaseType.edge||"function"==typeof e)return!0;var n=s();return null!==n&&e instanceof n||void 0!==e.createOffer}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),d=n(t("./config/constants")),f=n(t("./config/settings")),h=t("./config/callstatserrors"),p=t("./fsm/mainfsm"),v=t("./utility/registry"),y=n(t("./utility/csiologger")),g=n(t("./utility/onerroreventlistner")),m=n(t("./utility/utils")),b=n(t("./browserapi/localstorage")),w=t("./services/authenticator");g.setErrorEventListener(),m.assignPollyfill(),m.isIntegerPollyfill();var k=null,S=(function(){function e(){r(this,e),k=new p.MainFSM}return l(e,[{key:"initialize",value:function(e,t,n,r,i,s){if(!e||!n||!t){var c=a("initialize",h.csErrorStrings.argumentError);return y.error(c),o(d.callstatsAPIReturnStatus.failure,c)}if(r&&"function"!=typeof r){var u=a("initialize",h.csErrorStrings.argumentError);y.warn(u),r=null}if(i&&"function"!=typeof i){var l=a("initialize",h.csErrorStrings.argumentError);y.warn(l),i=null}if("function"!=typeof t&&!(window.crypto&&(window.crypto.subtle||window.crypto.webkitSubtle)||window.msCrypto&&window.msCrypto.subtle||window.csioReactNative)){var f=a("initialize",h.csErrorStrings.cryptoError);return y.error(f),r&&r(h.csError.tokenGenerationError,h.csErrorStrings.cryptoError),o(d.callstatsAPIReturnStatus.failure,f)}try{k.fire(p.MainEvents.onInitialize,e,n,t,r,i,s),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"initialize: Error",error:e.message+":"+e.stack}),y.error("initialize: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"addNewFabric",value:function(e,t,n,r,i,s){var u=null,l=d.endpointType.peer,f=d.transmissionDirection.sendrecv;if(void 0===t){var g=a("addNewFabric",h.csErrorStrings.argumentError);return y.error(g),o(d.callstatsAPIReturnStatus.failure,g)}if(void 0===r){var m=a("addNewFabric",h.csErrorStrings.argumentError);return y.error(m),o(d.callstatsAPIReturnStatus.failure,m)}if(r||(r=d.tmpConferenceId),!e||!n){var b=a("addNewFabric",h.csErrorStrings.argumentError);return y.error(b),o(d.callstatsAPIReturnStatus.failure,b)}if(s&&"function"==typeof s&&(u=s),i&&"function"==typeof i&&(u=i),i&&"function"!=typeof i){if(i.remoteEndpointType){if(!d.endpointType.hasOwnProperty(i.remoteEndpointType)){var w=a("addNewFabric",h.csErrorStrings.invalidEndPointType,i.remoteEndpointType);return y.error(w),o(d.callstatsAPIReturnStatus.failure,w)}l=i.remoteEndpointType}if(i.fabricTransmissionDirection){if(!d.transmissionDirection.hasOwnProperty(i.fabricTransmissionDirection)){var S=a("addNewFabric",h.csErrorStrings.invalidTransmissionDirection,i.fabricTransmissionDirection);return y.error(S),o(d.callstatsAPIReturnStatus.failure,S)}f=i.fabricTransmissionDirection}}if(!d.fabricUsage.hasOwnProperty(n)||n instanceof Function){var C=a("addNewFabric",h.csErrorStrings.fabricUsageInvalid,n);return y.error(C),o(d.callstatsAPIReturnStatus.failure,C)}if(!c(e)){var T=a("addNewFabric",h.csErrorStrings.pcInvalid);return y.error(T),o(d.callstatsAPIReturnStatus.failure,T)}var _=v.Registry.getConferenceManager().get(r);if(_&&_.getPeerConnectionManager().getPcHandler(e))return o(d.callstatsAPIReturnStatus.success);if(!v.Registry.getCredentials().getAppId()||!v.Registry.getCredentials().getUserId()){var P=a("addNewFabric",h.csErrorStrings.notInitialized);return y.error(P),o(d.callstatsAPIReturnStatus.failure,P)}try{k.fire(p.MainEvents.onAddNewFabric,e,t,n,r,l,f,u),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"addNewFabric: Error",error:e.message+":"+e.stack}),y.error("addNewFabric: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"sendFabricEvent",value:function(e,t,n,r){if(y.log("sendFabricEvent ",t),n||(n=d.tmpConferenceId),!e||!t){var i=a("sendFabricEvent",h.csErrorStrings.argumentError);return y.error(i),o(d.callstatsAPIReturnStatus.failure,i)}if(t===d.fabricEvent.fabricSetupFailed){var s=a("sendFabricEvent",h.csErrorStrings.fabricEventUnsupported,t);return y.error(s),o(d.callstatsAPIReturnStatus.failure,s)}if(!d.fabricEvent.hasOwnProperty(t)&&!d.internalFabricEvent.hasOwnProperty(t)){var c=a("sendFabricEvent",h.csErrorStrings.fabricEventInvalid,t);return y.error(c),o(d.callstatsAPIReturnStatus.failure,c)}if(!(t!==d.fabricEvent.activeDeviceList||r&&r.deviceList)){var u=a("sendFabricEvent ",h.csErrorStrings.argumentError);return y.error(u),o(d.callstatsAPIReturnStatus.failure,u)}var l=v.Registry.getConferenceManager().get(n);if(!v.Registry.getCredentials().getAppId()||!v.Registry.getCredentials().getUserId()||!l){var f=a("sendFabricEvent ",h.csErrorStrings.notInitialized);return y.error(f),o(d.callstatsAPIReturnStatus.failure,f)}if(!l.getPeerConnectionManager().getPcHandler(e)){var g=a("sendFabricEvent ",h.csErrorStrings.pcInvalid);return y.error(g),o(d.callstatsAPIReturnStatus.failure,g)}try{k.fire(p.MainEvents.onSendFabricEvent,e,t,n,r),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"sendFabricEvent: Error",error:e.message+":"+e.stack}),y.error("sendFabricEvent: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"sendCustomEvent",value:function(e,t,n){if(!t||!n){console.log("sendCustomEvent invalid conferenceId or eventData");var r=a("sendCustomEvent",h.csErrorStrings.argumentError);return y.error(r),o(d.callstatsAPIReturnStatus.failure,r)}if("object"!==(void 0===n?"undefined":u(n))){console.log("sendCustomEvent invalid eventList");var i=a("sendCustomEvent",h.csErrorStrings.argumentError);return y.error(i),o(d.callstatsAPIReturnStatus.failure,i)}if(0===n.length){console.log("sendCustomEvent invalid eventList");var s=a("sendCustomEvent",h.csErrorStrings.argumentError);return y.error(s),o(d.callstatsAPIReturnStatus.failure,s)}try{k.fire(p.MainEvents.onSendCustomEvent,e,t,n),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"sendCustomEvent: Error",error:e.message+":"+e.stack}),y.error("sendCustomEvent: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"sendCustomStats",value:function(e,t,n){if(!t||!n){console.log("sendCustomStats invalid conferenceId or stats");var r=a("sendCustomStats",h.csErrorStrings.argumentError);return y.error(r),o(d.callstatsAPIReturnStatus.failure,r)}try{k.fire(p.MainEvents.onSendCustomStats,e,t,n),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"sendCustomStats: Error",error:e.message+":"+e.stack}),y.error("sendCustomStats: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"sendCallDetails",value:function(e,t,n){if(y.log("sendCallDetails "),t||(t=d.tmpConferenceId),!e||!n){console.log("sendCallDetails invalid pc eventData");var r=a("sendCallDetails",h.csErrorStrings.argumentError);return y.error(r),o(d.callstatsAPIReturnStatus.failure,r)}if(n.callType||(n.callType=d.callType.unknown),!n.role){console.log("sendCallDetails invalid pc eventData");var i=a("sendCallDetails",h.csErrorStrings.argumentError);return y.error(i),o(d.callstatsAPIReturnStatus.failure,i)}if(n.callType&&!d.callType.hasOwnProperty(n.callType)){console.log("sendCallDetails invalid eventData",n);var s=a("sendCallDetails",h.csErrorStrings.argumentError);return y.error(s),o(d.callstatsAPIReturnStatus.failure,s)}if(n.role&&!d.roles.hasOwnProperty(n.role)){console.log("sendCallDetails invalid eventData",n);var c=a("sendCallDetails",h.csErrorStrings.argumentError);return y.error(c),o(d.callstatsAPIReturnStatus.failure,c)}try{k.fire(p.MainEvents.onSendCallDetails,e,t,n),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"sendCallDetails: Error",error:e.message+":"+e.stack}),y.error("sendCallDetails: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"sendUserFeedback",value:function(e,t,n){if(!t||!e){var r=a("sendUserFeedback",h.csErrorStrings.argumentError);return y.error(r),n&&"function"==typeof n&&n(d.callstatsAPIReturnStatus.failure,r),o(d.callstatsAPIReturnStatus.failure,r)}if("object"!==(void 0===t?"undefined":u(t))){var i=a("sendUserFeedback",h.csErrorStrings.argumentError);return y.error(i),n&&"function"==typeof n&&n(d.callstatsAPIReturnStatus.failure,i),o(d.callstatsAPIReturnStatus.failure,i)}if(0===Object.keys(t).length){var s=a("sendUserFeedback",h.csErrorStrings.argumentError);return y.error(s),n&&"function"==typeof n&&n(d.callstatsAPIReturnStatus.failure,s),o(d.callstatsAPIReturnStatus.failure,s)}try{k.fire(p.MainEvents.onSendUserFeedback,e,t,n),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"sendUserFeedback: Error",error:e.message+":"+e.stack}),y.error("sendUserFeedback: Error",e)}return n&&"function"==typeof n&&n(d.callstatsAPIReturnStatus.success,"userFeedback Event sent successfully"),o(d.callstatsAPIReturnStatus.success)}},{key:"associateMstWithUserID",value:function(e,t,n,r,i,s){if(n||(n=d.tmpConferenceId),!e||!r||!i){var u=a("associateMstWithUserID",h.csErrorStrings.argumentError);return y.error(u),o(d.callstatsAPIReturnStatus.failure,u)}if(!c(e)){var l=a("associateMstWithUserID",h.csErrorStrings.pcInvalid);return y.error(l),o(d.callstatsAPIReturnStatus.failure,l)}var f=v.Registry.getConferenceManager().get(n);if(!f){var g=a("associateMstWithUserID",h.csErrorStrings.confereneDoesNotExist);return y.error(g),o(d.callstatsAPIReturnStatus.failure,g)}if(!f.getPeerConnectionManager().getPcHandler(e)){var m=a("associateMstWithUserID",h.csErrorStrings.pcInvalid);return y.error(m),o(d.callstatsAPIReturnStatus.failure,m)}s&&"string"!=typeof s&&(y.error("associateMstWithUserID: Invalid videoTag"),s=null);try{k.fire(p.MainEvents.onAssociateMstWithUserID,e,t,n,r,i,s),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"associateMstWithUserID: Error",error:e.message+":"+e.stack}),y.error("associateMstWithUserID: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"reportError",value:function(e,t,n,r,i,s){if(t||(t=d.tmpConferenceId),void 0===e||!n){var c=a("reportError",h.csErrorStrings.argumentError);return y.error(c),o(d.callstatsAPIReturnStatus.failure,c)}if(!d.webRTCFunctions.hasOwnProperty(n)){var u=a("reportError",h.csErrorStrings.webRTCFunctionsInvalid,n);return y.error(u),o(d.callstatsAPIReturnStatus.failure,u)}if(void 0===r&&y.warn("reportError: Missing DOM error parameter"),!v.Registry.getCredentials().getAppId()||!v.Registry.getCredentials().getUserId()){var l=a("reportError",h.csErrorStrings.notInitialized);return y.error(l),o(d.callstatsAPIReturnStatus.failure,l)}try{k.fire(p.MainEvents.onReportError,e,t,n,r,i,s),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"reportError: Error",error:e.message+":"+e.stack}),y.error("reportError: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"setProxyConfig",value:function(e){if(window&&!window.csioproxy){var t=a("setProxyConfig",h.csErrorStrings.setProxyConfigInvokeError);return y.error(t),o(d.callstatsAPIReturnStatus.failure,t)}if(!e){var n=a("setProxyConfig",h.csErrorStrings.argumentError);return y.error(n),o(d.callstatsAPIReturnStatus.failure,n)}try{k.fire(p.MainEvents.onSetProxyConfig,e),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"setProxyConfig: Error",error:e.message+":"+e.stack}),y.error("setProxyConfig: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"resetWifiStatsHandler",value:function(){try{k.fire(p.MainEvents.onResetWifiStatsHandler),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"resetWifiStatsHandler: Error",error:e.message+":"+e.stack}),y.error("resetWifiStatsHandler: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"attachWifiStatsHandler",value:function(e){if(!e){var t=a("attachWifiStatsHandler",h.csErrorStrings.argumentError);return y.error(t),o(d.callstatsAPIReturnStatus.failure,t)}if("function"!=typeof e){var n=a("attachWifiStatsHandler",h.csErrorStrings.argumentError);return y.error(n),o(d.callstatsAPIReturnStatus.failure,n)}try{k.fire(p.MainEvents.onAttachWifiStatsHandler,e),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"attachWifiStatsHandler: Error",error:e.message+":"+e.stack}),y.error("attachWifiStatsHandler: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"setIdentifiers",value:function(e,t){if(!e){var n=a("setIdentifiers",h.csErrorStrings.argumentError);return y.error(n),o(d.callstatsAPIReturnStatus.failure,n)}try{k.fire(p.MainEvents.onSetIdentifiers,e,t),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"setIdentifiers: Error",error:e.message+":"+e.stack}),y.error("setIdentifiers: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"getTurnCredentials",value:function(e,t){return e&&t?new Promise(function(n,r){var i=new w.Authenticator;i.setGenerateTurnCredentials(!0),i.initiate(e,t,"turnUser").then(function(){i.getTaasEnabled()?n(i.getTurnServers()):r(new Error("getTurnCredentials: Invalid API Access"))},function(e){r(e)})}):new Promise(function(e,t){t(new Error("getTurnCredentials: Empty credentials"))})}},{key:"makePrecallTest",value:function(e,t){if(!v.Registry.getAuthenticator().getToken()||!v.Registry.getCredentials().getAppId()){var n=a("makePrecallTest",h.csErrorStrings.notInitialized);return y.error(n),o(d.callstatsAPIReturnStatus.failure,n)}if(!v.Registry.getAuthenticator().getIceServers()){var r=a("makePrecallTest",h.csErrorStrings.notInitialized);return y.error(r),o(d.callstatsAPIReturnStatus.failure,r)}if(!v.Registry.getCredentials().getCollectSDP()){var i=a("makePrecallTest",h.csErrorStrings.apiaccesserror);return y.error(i),o(d.callstatsAPIReturnStatus.failure,i)}try{k.fire(p.MainEvents.onMakePrecallTest,e,t),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"makePrecallTest: Error",error:e.message+":"+e.stack}),y.error("makePrecallTest: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"stopPrecallTests",value:function(){v.Registry.getPCTRunnerService().stop()}},{key:"startPrecallTests",value:function(e,t){if(!v.Registry.getAuthenticator().getToken()||!v.Registry.getCredentials().getAppId()){var n=a("startPrecallTests",h.csErrorStrings.notInitialized);return y.error(n),o(d.callstatsAPIReturnStatus.failure,n)}if(!v.Registry.getAuthenticator().getIceServers()){var r=a("startPrecallTests",h.csErrorStrings.notInitialized);return y.error(r),o(d.callstatsAPIReturnStatus.failure,r)}if(!v.Registry.getCredentials().getCollectSDP()){var i=a("startPrecallTests",h.csErrorStrings.apiaccesserror);return y.error(i),o(d.callstatsAPIReturnStatus.failure,i)}if(!e){var s=a("startPrecallTests",h.csErrorStrings.argumentError);return y.error(s),o(d.callstatsAPIReturnStatus.failure,s)}t*=1e3;try{t=(t=t||6e4)<3e4?3e4:t,k.fire(p.MainEvents.onStartPrecallTests,e,t),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"startPrecallTests: Error",error:e.message+":"+e.stack}),y.error("startPrecallTests: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"getSctResults",value:function(){var e=b.get("csioPctResults");if(e)try{return JSON.parse(e)}catch(e){return y.error("SCT Results parse error"),null}return null}},{key:"on",value:function(e,t){if(!t||"function"!=typeof t){var n=a("on",h.csErrorStrings.argumentError);return y.error(n),o(d.callstatsAPIReturnStatus.failure,n)}if(!e||!d.callbackFunctions.hasOwnProperty(e)){var r=a("on",h.csErrorStrings.argumentError);return y.error(r),o(d.callstatsAPIReturnStatus.failure,r)}try{k.fire(p.MainEvents.onOn,e,t),k.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"on: Error",error:e.message+":"+e.stack}),y.error("on: Error",e)}return o(d.callstatsAPIReturnStatus.success)}},{key:"fabricUsage",get:function(){return this.constructor.fabricUsage}},{key:"fabricEvent",get:function(){return this.constructor.fabricEvent}},{key:"webRTCFunctions",get:function(){return this.constructor.webRTCFunctions}},{key:"csError",get:function(){return this.constructor.csError}},{key:"qualityRating",get:function(){return this.constructor.qualityRating}},{key:"callStatsAPIReturnStatus",get:function(){return this.constructor.callStatsAPIReturnStatus}},{key:"version",get:function(){return this.constructor.version}},{key:"userIDType",get:function(){return this.constructor.userIDType}},{key:"transmissionDirection",get:function(){return this.constructor.transmissionDirection}},{key:"endpointType",get:function(){return this.constructor.endpointType}},{key:"callType",get:function(){return this.constructor.callType}},{key:"roles",get:function(){return this.constructor.roles}}]),e})();S.fabricUsage=d.fabricUsage,S.fabricEvent=d.fabricEvent,S.webRTCFunctions=d.webRTCFunctions,S.csError=h.csError,S.qualityRating=d.qualityRating,S.callStatsAPIReturnStatus=d.callstatsAPIReturnStatus,S.version=f.version,S.userIDType=d.userIdType,S.endpointType=d.endpointType,S.transmissionDirection=d.transmissionDirection,S.callType=d.callType,S.roles=d.roles,(function(){function t(){return new S}"function"==typeof define&&define.amd?define("callstats",[],t):e.callstats=t,i.exports=t})("undefined"!=typeof window&&window)}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browserapi/localstorage":33,"./config/callstatserrors":48,"./config/constants":49,"./config/settings":50,"./fsm/mainfsm":51,"./services/authenticator":59,"./utility/csiologger":118,"./utility/onerroreventlistner":125,"./utility/registry":127,"./utility/utils":133}],36:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Cache=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),a=(function(){function e(){r(this,e),this.queue=[],this.priority=[]}return i(e,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.length()>1e6?o.error("Maximum cached items reached, dropping."):t?this.priority.push(e):this.queue.push(e)}},{key:"pop",value:function(){return this.priority.length>0?this.priority.shift():this.queue.shift()}},{key:"peak",value:function(){return this.priority.length>0?this.priority[0]:this.queue.length>0?this.queue[0]:null}},{key:"length",value:function(){return this.queue.length+this.priority.length}},{key:"updateConferenceId",value:function(e){for(var t=0;t<this.queue.length;++t)this.queue[t].updateConferenceId(e);for(var n=0;n<this.priority.length;++n)this.priority[n].updateConferenceId(e)}}]),e})();n.Cache=a},{"../utility/csiologger":118}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Component=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./port"),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),s=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown";r(this,e),this.name=t,this.ports=new Map}return i(e,[{key:"bindPort",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this.ports.has(e)?a.warn("Port ("+e+") for "+this.name+" already exists."):this.ports.set(e,new o.Port(t,n))}},{key:"declarePort",value:function(e){this.ports.has(e)?a.warn("Port ("+e+") for "+this.name+" already exists."):this.ports.set(e,null)}},{key:"getPort",value:function(e){return this.ports.get(e)}},{key:"isConnected",value:function(e){return!!this.ports.has(e)&&null!==this.ports.get(e)}},{key:"connect",value:function(e,t){this.ports.has(e)?this.ports.set(e,t):a.warn("Port ("+e+") for "+this.name+" does not exists.")}},{key:"transmit",value:function(e){var t=this.ports.get(e);if(void 0!==t)if(null!==t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.transmit(r)}else a.warn("Port ("+e+") for "+this.name+" is not connected.");else a.warn("Port ("+e+") for "+this.name+" does not exists.")}},{key:"request",value:function(e){var t=this.ports.get(e);if(void 0===t)return a.warn("Port ("+e+") for "+this.name+" does not exists."),null;if(null===t)return a.warn("Port ("+e+") for "+this.name+" is not connected."),null;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.request(r)}}]),e})();n.Component=s},{"../utility/csiologger":118,"./port":40}],38:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTAggregator=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),a=(function(){function e(){r(this,e),this.pctMeasurements=[],this.pctMeasurementsMap=new Map}return i(e,[{key:"getPCTMeasurements",value:function(){return this.pctMeasurements}},{key:"addPCTMeasurement",value:function(e){this.pctMeasurements.length>=o.pctSampleSize&&this.pctMeasurements.shift(),this.pctMeasurements.push(e);var t=e.getProvider();this.pctMeasurementsMap.has(t)||this.pctMeasurementsMap.set(t,[]),this.pctMeasurementsMap.get(t).push(e)}},{key:"clearPCTMeasurements",value:function(){this.pctMeasurements=[],this.pctMeasurementsMap=new Map}},{key:"doStats",value:function(e){var t={};return t.min=this.findMin(e),t.max=this.findMax(e),t.mean=this.calculateAverage(e),t.median=this.calculateMedian(e),t.stddev=this.calculateStandardDeviation(e,t.mean),t}},{key:"findMax",value:function(e){return e&&e.length?Math.max.apply(null,e):null}},{key:"findMin",value:function(e){return e&&e.length?Math.min.apply(null,e):null}},{key:"calculateAverage",value:function(e){return e&&e.length?e.reduce(function(e,t){return e+t},0)/e.length:0}},{key:"calculateMedian",value:function(e){if(!e)return 0;if(!e.length)return 0;var t=e.slice(0).sort(function(e,t){return e-t}),n=Math.floor(t.length/2);return t.length%2==0?(t[n]+t[n-1])/2:t[n]}},{key:"calculateStandardDeviation",value:function(e,t){if(!e)return 0;if(!e.length)return 0;var n=e.map(function(e){var n=e-t;return n*n}).reduce(function(e,t){return e+t},0);return Math.sqrt(n/(e.length-1))}},{key:"setAcceptability",value:function(e){var t=[];return t.push(e.throughput.median<30),t.push(e.loss.median>.05),t.push(e.rtt.median>400),e.acceptable=!t.reduce(function(e,t){return e||t},!1),e}},{key:"doInternalMeasurement",value:function(e){var t={},n=[],r=[],i=[],o=[];if(e)for(var a=0;a<e.length;a++)n.push(e[a].getRttMedian()),o.push(e[a].getRttVariance()),r.push(e[a].getThroughput()),i.push(e[a].getFractionLost());return t.rtt=this.doStats(n),t.loss=this.doStats(i),t.jitter=this.doStats(o),t.throughput=this.doStats(r),t}},{key:"scoreRtt",value:function(e){var t=0;if(!e||!e.rtt)return t;var n=e.rtt.max,r=e.rtt.median;return t=n<350?t+=1:t,t=n<250?t+=2:t,t=n<150?t+=3:t,t=n<100?t+=5:t,t=r<200?t+=1:t,t=r<150?t+=3:t,r<100?t+=5:t}},{key:"scoreLosses",value:function(e){var t=15;if(!e||!e.loss)return 0;var n=e.loss.max,r=e.loss.median;return t=n>=.04?t-=3:t,t=n>=.025?t-=1:t,t=n>=.01?t-=1:t,t=r>=.04?t-=5:t,t=r>=.025?t-=3:t,r>=.005?t-=2:t}},{key:"scoreThroughPut",value:function(e){var t=0;if(!e||!e.throughput)return t;var n=e.throughput.median,r=e.throughput.min;return t=n>5e3?t+=5:t,t=n>2e3?t+=2:t,t=n>200?t+=1:t,t=r<100?t-=3:t,t=r<1e3?t-=2:t,(t=r<2e3?t-=1:t)>0?t:0}},{key:"aggregate",value:function(){var e=this,t=[];return e.pctMeasurementsMap.forEach(function(n,r){var i={};i.provider=r;var o=e.doInternalMeasurement(n);i.rtt=o.rtt,i.jitter=o.jitter,i.loss=o.loss,i.throughput=o.throughput,(i=e.setAcceptability(i)).rttScore=e.scoreRtt(),i.lossesScore=e.scoreLosses(),i.throughputScore=e.scoreThroughPut(),t.push(i)}),t}},{key:"getAggregate",value:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r={},i=e[n];r.provider=i.provider,r.roundTripTime=i.rtt.median,r.jitter=i.jitter.median,r.fractionLost=i.loss.median,r.throughput=i.throughput.median,t.push(r)}return t}},{key:"getSummary",value:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r={};r.provider=e[n].provider,r.acceptable=e[n].acceptable,t.push(r)}return t}},{key:"getRanking",value:function(){var e=this.aggregate().sort(function(e,t){if(!e.acceptable&&!t.acceptable)return 0;if(e.acceptable&&!t.acceptable)return-1;if(t.acceptable&&!e.acceptable)return 1;var n=e.rttScore+e.lossesScore+e.throughputScore;return t.rttScore+t.lossesScore+t.throughputScore-n}),t=this.getAggregate(e),n=this.getSummary(e),r={};return r.aggregatedStats=t,r.providerRanking=n,r}}]),e})();n.PCTAggregator=a},{"../config/constants":49}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t,n,i,o,a,s){r(this,e),this.throughput=t,this.rttMedian=n,this.rttVariance=i,this.fractionLost=o,this.provider=a,this.timestamp=s}return i(e,[{key:"getThroughput",value:function(){return this.throughput}},{key:"getRttMedian",value:function(){return this.rttMedian}},{key:"getRttVariance",value:function(){return this.rttVariance}},{key:"getFractionLost",value:function(){return this.fractionLost}},{key:"getTimestamp",value:function(){return this.timestamp}},{key:"getProvider",value:function(){return this.provider}}]),e})();n.PCTMeasurement=o},{}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.target=t,this.object=n}return i(e,[{key:"transmit",value:function(e){this.target.apply(this.object,e)}},{key:"request",value:function(e){return this.target.apply(this.object,e)}}]),e})();n.Port=o},{}],41:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;r(this,e),this.value=t,this.next=n}return o(e,[{key:"setNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.next=e}}]),e})(),s=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;r(this,e),this.capacity=t,this.root=n,this.tail=i,this.currentLength=0}return o(e,[{key:"size",value:function(){return this.currentLength}},{key:"isEmpty",value:function(){return this.currentLength<1}},{key:"isOverflow",value:function(){return this.size()>this.capacity}},{key:"push",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.tail;this.tail=new a(e),this.isEmpty()?this.root=this.tail:t.setNext(this.tail),this.currentLength+=1;var n=void 0;return this.isOverflow()&&(n=this.pop()),n}},{key:"pop",value:function(){if(!this.isEmpty()){var e=this.root.value;return this.root=this.root.next,this.currentLength-=1,e}}},{key:"getFront",value:function(){return this.root}},{key:"getBack",value:function(){return this.tail}},{key:"clear",value:function(){this.root=void 0,this.tail=void 0,this.currentLength=0}},{key:"toArray",value:function(){for(var e=i({},this.root),t=[];e;){var n=e,r=n.value;e=n.next,t.push(r)}return t}}]),e})();n.Queue=s},{}],42:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SizedBalancedTree=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./sizedbalancedtreenode"),s=r(e("../config/constants")),c=e("../collections/queue"),u=r(e("../statspipeline/validator")),l=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.maxSBTTreeSize;i(this,e),this.comparator=this.comparatorAsc,this.root=void 0,this.sizedQueue=new c.Queue(t)}return o(e,[{key:"comparatorAsc",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"getSize",value:function(){return this.size(this.root)}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getKey(this.root,e);return t&&t.key}},{key:"getMin",value:function(){var e=this.selectFirst(this.root);return e&&e.key}},{key:"getMax",value:function(){var e=this.selectLast(this.root);return e&&e.key}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.root=this.addKey(this.root,e);var t=this.sizedQueue.push(e);u.isNumber(t)&&(this.root=this.removeKey(this.root,t))}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.root=this.removeKey(this.root,e),this.sizedQueue.pop()}},{key:"addKey",value:function(e,t){if(!e)return new a.SizedBalancedTreeNode(t);var n=this.comparator(t,e.key);return e.size=this.size(e)+1,n<0?e.left=this.addKey(e.left,t):e.right=this.addKey(e.right,t),this.maintain(e,t>=e.key)}},{key:"removeKey",value:function(e,t){if(e){var n=this.comparator(t,e.key);if(n<0)e.left=this.removeKey(e.left,t);else if(n>0)e.right=this.removeKey(e.right,t);else{if(!e.left)return e.right;if(!e.right)return e.left;var r=this.selectFirst(e.right),i=e.key;e.key=r.key,e.value=r.value,r.key=i,e.right=this.removeKey(e.right,i)}return(e=this.maintain(e)).size=this.size(e.left)+this.size(e.right)+1,e}}},{key:"maintain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){if(t)if(e.right&&this.size(e.right.right)>this.size(e.left))e=this.rotateLeft(e);else{if(!(e.right&&this.size(e.right.left)>this.size(e.left)))return e;e.right=this.rotateRight(e.right),e=this.rotateLeft(e)}else if(e.left&&this.size(e.left.left)>this.size(e.right))e=this.rotateRight(e);else{if(!(e.left&&this.size(e.left.right)>this.size(e.right)))return e;e.left=this.rotateLeft(e.left),e=this.rotateRight(e)}return e.left=this.maintain(e.left,!1),e.right=this.maintain(e.right,!0),e=this.maintain(e,!1),this.maintain(e,!0)}}},{key:"size",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?e.size:0}},{key:"height",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return 0;var t=this.height(e.left),n=this.height(e.right);return Math.max(t,n)+1}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var t=e.right;return e.right=t.left,t.left=e,t.size=this.size(e),e.size=this.size(e.left)+this.size(e.right)+1,t}}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var t=e.left;return e.left=t.right,t.right=e,t.size=this.size(e),e.size=this.size(e.left)+this.size(e.right)+1,t}}},{key:"getKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e)return t===this.size(e.left)+1?e:t<=this.size(e.left)?this.getKey(e.left,t):this.getKey(e.right,t-1-this.size(e.left))}},{key:"selectLast",value:function(e){if(e){for(;e.right;)e=e.right;return e}}},{key:"selectFirst",value:function(e){if(e){for(;e.left;)e=e.left;return e}}},{key:"traverse",value:function(){this.print(this.root," ",!1)}},{key:"print",value:function(e,t,n){if(e){var r=n?"\u2514\u2500\u2500":"\u251c\u2500\u2500";console.log(""+t+r,e.key);var i=t+(n?"    ":"\u2502   ");e.left&&this.print(e.left,i,!1),e.right&&this.print(e.right,i,!0)}}}]),e})();n.SizedBalancedTree=l},{"../collections/queue":41,"../config/constants":49,"../statspipeline/validator":113,"./sizedbalancedtreenode":43}],43:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.SizedBalancedTreeNode=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,e),this.key=t,this.left=n,this.right=i,this.size=o}},{}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SlidingWindow=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./switem"),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),s=(function(){function e(t,n){r(this,e),this.items=[],this.plugins=[],this.postProcesses=[],this.preProcesses=[],this.timeoutInMs=n,this.maxItemsNum=t,this.minItemsNum=0}return i(e,[{key:"setMaxItemsNum",value:function(e){this.maxItemsNum=e}},{key:"setTimeoutInMs",value:function(e){this.timeoutInMs=e}},{key:"setMinItemsNum",value:function(e){this.minItemsNum=e}},{key:"refresh",value:function(){var e=a.getCurrent();if(!(this.items.length<=this.minItemsNum)){for(;0<this.maxItemsNum&&this.maxItemsNum<=this.items.length;)this.remove();this.timeoutInMs&&this.timeoutInMs<e-this.items[0].getCreated()&&(this.remove(),this.refresh())}}},{key:"getLength",value:function(){return this.items.length}},{key:"add",value:function(e){this.refresh(),this.items.push(new o.SWItem(e));for(var t=0;t<this.preProcesses.length;t++)(0,this.preProcesses[t])(e);for(var n=0;n<this.plugins.length;n++)this.plugins[n].add(e);for(var r=0;r<this.postProcesses.length;r++)(0,this.postProcesses[r])(e)}},{key:"remove",value:function(){for(var e=this.items.shift(),t=0;t<this.plugins.length;t++)this.plugins[t].remove(e.value)}},{key:"peek",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.items.length<=e?null:this.items[this.items.length-e-1].getValue()}},{key:"attach",value:function(e){this.plugins.push(e)}},{key:"addPreProcess",value:function(e){this.preProcesses.push(e)}},{key:"addPostProcess",value:function(e){this.postProcesses.push(e)}},{key:"detach",value:function(e){this.plugins=this.plugins.filter(function(t){return t!==e})}}]),e})();n.SlidingWindow=s},{"../utility/timestamps":131,"./switem":45}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SWItem=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),a=(function(){function e(t){r(this,e),this.value=t,this.created=o.getCurrent()}return i(e,[{key:"getValue",value:function(){return this.value}},{key:"getCreated",value:function(){return this.created}},{key:"toString",value:function(){return""}}]),e})();n.SWItem=a},{"../utility/timestamps":131}],46:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Conference=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../peerconnection/peerconnectionmanager"),s=r(e("../config/settings")),c=e("../utility/registry"),u=r(e("../browserapi/sessionstorage")),l=r(e("../config/constants")),d=(function(){function e(t,n){i(this,e),this.conferenceId=t,this.startTime,this.peerConnectionManager=new a.PeerConnectionManager,this.credentials=n,this.ucId=null,this.url=null,this.userJoinedSent=!1}return o(e,[{key:"getCredentials",value:function(){return this.credentials}},{key:"getUcId",value:function(){return this.ucId}},{key:"setUcId",value:function(e){this.ucId=e,this.url=s.dashboardUrl+"apps/"+c.Registry.getCredentials().getAppId()+"/conferences/"+encodeURIComponent(this.conferenceId)+"/"+e+"/general",u.storeUcId(this.conferenceId,e)}},{key:"resetUcId",value:function(){this.ucId=null}},{key:"getPeerConnectionManager",value:function(){return this.peerConnectionManager}},{key:"getUrl",value:function(){return this.url}},{key:"updateConferenceId",value:function(e){this.conferenceId=e,this.peerConnectionManager.updateConferenceId(e)}},{key:"updateState",value:function(){this.peerConnectionManager.getPeerConnectionStatus()===l.fabricState.terminated&&(this.setUserJoinedSent(!1),s.collectHeadsetStats&&c.Registry.getJabraService().stopJabraMonitoring())}},{key:"isUserJoinedSent",value:function(){return this.userJoinedSent}},{key:"setUserJoinedSent",value:function(e){this.userJoinedSent=e}},{key:"close",value:function(e){}}]),e})();n.Conference=d},{"../browserapi/sessionstorage":34,"../config/constants":49,"../config/settings":50,"../peerconnection/peerconnectionmanager":57,"../utility/registry":127}],47:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ConferenceManager=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./conference"),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),s=(function(){function e(){r(this,e),this.conferenceMap=new Map}return i(e,[{key:"add",value:function(e,t){if(!this.get(e)){var n=new o.Conference(e,t);this.conferenceMap.set(e,n)}}},{key:"get",value:function(e){return this.conferenceMap.get(e)}},{key:"getConferenceForPc",value:function(e){var t=null;return e?(this.conferenceMap.forEach(function(n,r){var i=n.getPeerConnectionManager().getPcHandler(e);i&&i.getConferenceId()===r&&(t=n)}),t):t}},{key:"getConferenceForPcHash",value:function(e){var t=null;return e?(this.conferenceMap.forEach(function(n,r){var i=n.getPeerConnectionManager().getPcHandlerByHash(e);i&&i.getConferenceId()===r&&(t=n)}),t):t}},{key:"updateConferenceId",value:function(e){var t=a.tmpConferenceId,n=this.get(t);n&&(n.updateConferenceId(e),this.conferenceMap.set(e,n),this.conferenceMap.delete(t))}},{key:"getConferenceIds",value:function(){var e=[];return this.conferenceMap.forEach(function(t,n){e.push(n)}),e}}]),e})();n.ConferenceManager=s},{"../config/constants":49,"./conference":46}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.csError={httpError:"httpError",authError:"authError",wsChannelFailure:"wsChannelFailure",success:"success",csProtoError:"csProtoError",appConnectivityError:"appConnectivityError",tokenGenerationError:"tokenGenerationError",ok:"OK",authOngoing:"authOngoing",invalidWebRTCFunctionName:"Invalid WebRTC function name",invalidEndPointType:"Invalid EndPoint Type",invalidTransmissionDirection:"Invalid fabric transmission direction"},n.csErrorStrings={argumentError:"Argument missing/invalid",cryptoError:"Browser does not support Web Cryptography API. App secret based authentication requires Web Cryptography API",fabricEventUnsupported:"Unsupported fabricEvent",fabricEventInvalid:"Invalid fabricEvents value",fabricUsageInvalid:"Invalid fabricUsage value",notInitialized:"SDK is not initialized or no Fabrics added",pcInvalid:"Invalid PeerConnection object passed",confereneDoesNotExist:"conferenceId does not exist",webRTCFunctionsInvalid:"Invalid webRTC functionName value",setProxyConfigInvokeError:"cannot be called if window.csioproxy is false",invalidWebRTCFunctionName:"Invalid WebRTC function name",invalidEndPointType:"Invalid EndPoint Type",invalidTransmissionDirection:"Invalid fabric transmission direction",apiaccesserror:"API access Error"},n.csErrorReason={csProtoError:"Protocol fields cannot be empty.",csNoAuthState:"Authentication state unavailable in server."},n.internalErrors={authOngoing:"authOngoing"},n.authErrorActions={RETRY:0,GET_NEW_TOKEN:1,REPORT_ERROR:2}},{}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.logEvents={stateMachine:"stateMachine",log:"log",timing:"timing",error:"error",getStatsError:"getStatsError",restResponseError:"restResponseError"},n.fabricEvent={fabricSetupFailed:"fabricSetupFailed",fabricHold:"fabricHold",fabricResume:"fabricResume",audioMute:"audioMute",audioUnmute:"audioUnmute",videoPause:"videoPause",videoResume:"videoResume",fabricUsageEvent:"fabricUsageEvent",fabricTerminated:"fabricTerminated",screenShareStart:"screenShareStart",screenShareStop:"screenShareStop",dominantSpeaker:"dominantSpeaker",activeDeviceList:"activeDeviceList",applicationErrorLog:"applicationErrorLog",callDetails:"callDetails",callUnAnswered:"callUnAnswered"},n.callType={unknown:"unknown",inbound:"inbound",outbound:"outbound",monitoring:"monitoring"},n.roles={agent:"agent",participant:"participant"},n.internalFabricEvent={fabricSetup:"fabricSetup",fabricSetupFailed:"fabricSetupFailed",userJoined:"userJoined",userLeft:"userLeft",userAlive:"userAlive",ssrcMap:"ssrcMap",mediaPlaybackStart:"mediaPlaybackStart",mediaPlaybackSuspended:"mediaPlaybackSuspended",mediaPlaybackStalled:"mediaPlaybackStalled",oneWayMedia:"oneWayMedia",oneWayMediaStart:"oneWayMediaStart",oneWayMediaStop:"oneWayMediaStop",fabricStateChange:"fabricStateChange",iceDisruptionStart:"iceDisruptionStart",iceDisruptionEnd:"iceDisruptionEnd",fabricTransportSwitch:"fabricTransportSwitch",iceConnectionDisruptionStart:"iceConnectionDisruptionStart",iceConnectionDisruptionEnd:"iceConnectionDisruptionEnd",iceAborted:"iceAborted",iceTerminated:"iceTerminated",iceFailed:"iceFailed",iceRestarted:"iceRestarted",fabricDropped:"fabricDropped",connectedDeviceList:"connectedDeviceList",sdpSubmission:"sdpSubmissionEvent",sendingThroughputObservations:"sendingThroughputObservations",limitationObservations:"limitationObservations",userDetails:"userDetails",circuitBreaker:"circuitBreaker"},n.callstatsChannels={sdpSubmission:"sdpSubmissionEvent",processedStats:"processedStats",callstatsEvent:"callStatsEvent",userFeedback:"userFeedbackEvent",preCallTest:"preCallTest",senderConfiguration:"senderConfiguration"},n.urlType={events:"events",stats:"stats"},n.precalltestEvents={results:"preCallTestResults",associate:"preCallTestAssociate"},n.customEvents={event:"customEvent",stats:"customStats",conferenceSummary:"conferenceSummary"},n.callstatsAPIReturnStatus={success:"success",failure:"failure"},n.fabricUsage={audio:"audio",video:"video",data:"data",screen:"screen",multiplex:"multiplex",unbundled:"unbundled"},n.userIdType={local:"local",remote:"remote"},n.qualityRating={excellent:5,good:4,fair:3,poor:2,bad:1},n.reportType={local:"local",remote:"remote"},n.avQualityRatings={excellent:"excellent",fair:"fair",bad:"bad",unknown:"unknown"},n.fabricState={established:"established",initializing:"initializing",failed:"failed",disrupted:"disrupted",hold:"hold",checkingDisrupted:"checkingDisrupted",terminated:"terminated"},n.webRTCFunctions={createOffer:"createOffer",createAnswer:"createAnswer",setLocalDescription:"setLocalDescription",setRemoteDescription:"setRemoteDescription",addIceCandidate:"addIceCandidate",getUserMedia:"getUserMedia",iceConnectionFailure:"iceConnectionFailure",signalingError:"signalingError",applicationError:"applicationError",applicationLog:"applicationLog"},n.callFailureReasons={mediaConfigError:"MediaConfigError",negotiationFailure:"NegotiationFailure",sdpError:"SDPGenerationError",iceFailure:"IceConnectionFailure",transportFailure:"TransportFailure",signalingError:"SignalingError",applicationError:"ApplicationError",applicationLog:"ApplicationLog",invalidWebRTCFunctionName:"Invalid WebRTC function name"},n.throughputThreshold={video:{green:1024,red:256},audio:{green:30,red:8}},n.currOverPrevFrameRateThreshold={video:{green:.8,red:.3}},n.rttThreshold={video:{green:400,red:1e3}},n.fractionalLossThreshold={video:{green:.1,red:.5},audio:{green:.15,red:.3}},n.eModelThreshold={audio:{green:240,red:400}},n.codeBaseType={chrome:"Chrome",firefox:"Firefox",edge:"Edge",plugin:"Plugin"},n.browserName={chrome:"Chrome",firefox:"Firefox",edge:"Edge",msie:"Microsoft Internet Explorer",safari:"Safari",opera:"Opera"},n.osName={windows:"Windows",mac:"Mac OS X",android:"Android",ios:"iOS"},n.mediaType={audio:"audio",video:"video"},n.streamType={inbound:"inbound",outbound:"outbound"},n.fabricStateChangeType={signalingState:"signalingState",iceConnectionState:"iceConnectionState",iceGatheringState:"iceGatheringState"},n.wsConnectionState={initiated:"initiated",connected:"connected",closed:"closed"},n.csCallBackMessages={authSuccessful:"SDK authentication successful.",authFailed:"SDK authentication failed.",authProtocolInvalid:"Fatal authentication error. Invalid auth protocol message.",authOngoing:"Authentication on going.",wsConnected:"WebSocket establishment successful.",wsClosed:"WebSocket server closed.",wsFailed:"WebSocket establishment failed."},n.oneWayMediaTypes={audio:"audio",video:"video",screen:"screen"},n.limitationType={cpu:"cpu",network:"network"},n.qualityDisruptionTypes={qpchange:"qpchange"},n.callbackFunctions={stats:"stats",defaultConfig:"defaultConfig",recommendedConfig:"recommendedConfig",preCallTestResults:"preCallTestResults",preCallTest:"preCallTest",connectionRecommendation:"connectionRecommendation",mediaDisruption:"mediaDisruption",pctConnectionQualityChange:"pctConnectionQualityChange"},n.mediaDisruptionCallbackType={oneWayMediaStart:"oneWayMediaStart",oneWayMediaStop:"oneWayMediaStop",circuitBreaker:"circuitBreaker"},n.circuitBreakerDisruptionType={mediaTimeout:"mediaTimeout",congestion:"congestion",mediaUsability:"mediaUsability",RTCPTimeout:"RTCPTimeout"},n.endpointType={peer:"peer",server:"server"},n.transmissionDirection={sendonly:"sendonly",receiveonly:"receiveonly",sendrecv:"sendrecv",inactive:"inactive"},n.adaptiveStatsIntervalsInMs={min:2e3,max:3e4},n.adaptiveStatsThresholds={maxMarginFactor:15,marginReductionFactor:.5,marginIncreaseFactor:2,maxGradualCounter:4,rippleBase:2,marginDecreaseIntervalInMs:3e3,minIntervalInMs:2e3,maxIntervalInMs:3e4,windowSize:100,resetThreshold:3,minThreshold:{rtt:100,throughput:200,fractionalLoss:.1},eps:9e-5,maxInitialTimeoutInMs:3e4,initialNotifyIntervalTimeoutInMs:5e3},n.statsDestination={callback:"callback",backend:"backend"},n.echoDetectionLabel={unacceptable:"unacceptable",limitingCase:"limitingCase",acceptable:"acceptable"},n.tmpConferenceId="csio-conf-id-tmp",n.pctSampleSize=100,n.maxSBTTreeSize=600},{}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setAuthServiceUrl=function(e){n.authServiceUrl=e},n.setDashboardUrl=function(e){n.dashboardUrl=e},n.setRestEventUrl=function(e){n.restEventUrl=e},n.setRestStatsUrl=function(e){n.restStatsUrl=e},n.setCollectorUrl=function(e){n.collectorUrl=e},n.setConfigServiceUrl=function(e){n.configServiceUrl=e},n.setCollectLegacyStats=function(e){n.collectLegacyStats=e},n.setCollectIP=function(e){n.collectIP=e},n.setCollectHeadsetStats=function(e){n.collectHeadsetStats=e};n.version="3.73.7",n.authServiceUrl="https://auth.callstats.io/",n.dashboardUrl="https://dashboard.callstats.io/",n.collectorUrl="https://collector.callstats.io:443/",n.csioDebug="false",n.configServiceUrl=null,n.authRetryTimeout=5e3,n.restEventUrl=null,n.restStatsUrl=null,n.collectLegacyStats=!0,n.collectIP=!0,n.collectHeadsetStats=!0},{}],51:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.MainFSM=n.MainEvents=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=e("./statemachine"),d=e("../utility/registry"),f=r(e("../utility/csiologger")),h=r(e("../utility/utils")),p=r(e("../utility/ipdiscovery")),v=r(e("../utility/timestamps")),y=r(e("../config/constants")),g=r(e("../config/settings")),m=e("../statspipeline/statsadapter"),b=e("../statspipeline/statsparser"),w=e("../statspipeline/statsmonitor"),k=e("../statspipeline/statstransmitter"),S=e("../statspipeline/statsassembler"),C={Created:"Created",Initializing:"Initializing",Idle:"Idle",Run:"Run"},T=n.MainEvents={onStart:"onStart",onInitialize:"onInitialize",onAddNewFabric:"onAddNewFabric",onSendFabricEvent:"onSendFabricEvent",onReportError:"onReportError",onAssociateMstWithUserID:"onAssociateMstWithUserID",onSetProxyConfig:"onSetProxyConfig",onAttachWifiStatsHandler:"onAttachWifiStatsHandler",onResetWifiStatsHandler:"onResetWifiStatsHandler",onSendUserFeedback:"onSendUserFeedback",onOn:"onOn",onSetIdentifiers:"onSetIdentifiers",onMakePrecallTest:"onMakePrecallTest",onStartPrecallTests:"onStartPrecallTests",onSendCallDetails:"onSendCallDetails",onSendCustomStats:"onSendCustomStats",onSendCustomEvent:"onSendCustomEvent"},_="onServicesFinished",P=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,C.Created));return f.log("FSM:",e.getState()),e.fire(T.onStart),e.run(),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],i=void 0,o=0;o<n;o++)if(i=t[o],e.call(r,i,o,t))return i}}),e}return s(t,l.StateMachine),u(t,[{key:"proceed",value:function(e,t){switch(this.getState()){case C.Created:switch(e){case T.onStart:this.onStart.apply(this,i(t));break;case T.onInitialize:this.setState(C.Initializing),f.log("FSM:",this.getState()),this.onInitialize.apply(this,i(t));break;case T.onOn:this.onOn.apply(this,i(t));break;case T.onSetProxyConfig:this.onSetProxyConfig.apply(this,i(t));break;case T.onStartPrecallTests:this.onStartPrecallTests.apply(this,i(t))}break;case C.Initializing:switch(e){case _:this.onServicesFinished()&&(this.setState(C.Idle),f.log("FSM:",this.getState()));break;case T.onAddNewFabric:this.onAddNewFabric.apply(this,i(t));break;case T.onSendFabricEvent:this.onSendFabricEvent.apply(this,i(t));break;case T.onSendCallDetails:this.onSendCallDetails.apply(this,i(t));break;case T.onSendCustomEvent:this.onSendCustomEvent.apply(this,i(t));break;case T.onSendCustomStats:this.onSendCustomStats.apply(this,i(t));break;case T.onReportError:this.onReportError.apply(this,i(t));break;case T.onAssociateMstWithUserID:this.onAssociateMstWithUserID.apply(this,i(t));break;case T.onSendUserFeedback:this.onSendUserFeedback.apply(this,i(t));break;case T.onAttachWifiStatsHandler:this.onAttachWifiStatsHandler.apply(this,i(t));break;case T.onResetWifiStatsHandler:this.onResetWifiStatsHandler.apply(this,i(t));break;case T.onOn:this.onOn.apply(this,i(t));break;case T.onMakePrecallTest:this.onMakePrecallTest.apply(this,i(t));break;case T.onSetIdentifiers:this.onSetIdentifiers.apply(this,i(t));break;case T.onSetProxyConfig:this.onSetProxyConfig.apply(this,i(t));break;case T.onStartPrecallTests:this.onStartPrecallTests.apply(this,i(t))}break;case C.Idle:case C.Run:switch(e){case T.onAddNewFabric:this.onAddNewFabric.apply(this,i(t));break;case T.onSendFabricEvent:this.onSendFabricEvent.apply(this,i(t));break;case T.onSendCallDetails:this.onSendCallDetails.apply(this,i(t));break;case T.onSendCustomEvent:this.onSendCustomEvent.apply(this,i(t));break;case T.onSendCustomStats:this.onSendCustomStats.apply(this,i(t));break;case T.onReportError:this.onReportError.apply(this,i(t));break;case T.onAssociateMstWithUserID:this.onAssociateMstWithUserID.apply(this,i(t));break;case T.onSendUserFeedback:this.onSendUserFeedback.apply(this,i(t));break;case T.onAttachWifiStatsHandler:this.onAttachWifiStatsHandler.apply(this,i(t));break;case T.onResetWifiStatsHandler:this.onResetWifiStatsHandler.apply(this,i(t));break;case T.onOn:this.onOn.apply(this,i(t));break;case T.onSetProxyConfig:this.onSetProxyConfig.apply(this,i(t));break;case T.onMakePrecallTest:this.onMakePrecallTest.apply(this,i(t));break;case T.onSetIdentifiers:this.onSetIdentifiers.apply(this,i(t));break;case T.onStartPrecallTests:this.onStartPrecallTests.apply(this,i(t))}}}},{key:"onStart",value:function(){d.Registry.getEndpoint().setup(),this.authenticator=d.Registry.getAuthenticator(),this.configservicewrapper=d.Registry.getConfigServiceWrapper(),this.precalltest=d.Registry.getPreCallTest();var e=d.Registry.getStatsAdapter(),t=d.Registry.getStatsParser(),n=d.Registry.getStatsMonitor(),r=d.Registry.getStatsTransmitter(),i=d.Registry.getStatsAssembler();e.connect(m.StatsAdapterIO.RawStatsOut,t.getPort(b.StatsParserIO.RawStatsIn)),t.connect(b.StatsParserIO.PcStatsTupleOut,n.getPort(w.StatsMonitorIO.PcStatsTupleIn)),n.connect(w.StatsMonitorIO.StatsTupleOut,i.getPort(S.StatsAssemblerIO.StatsTupleIn)),i.connect(S.StatsAssemblerIO.CallstatsOut,r.getPort(k.StatsTransmitterIO.CallstatsIn)),e.connect(m.StatsAdapterIO.UnprocessedOut,r.getPort(k.StatsTransmitterIO.UnprocessedIn))}},{key:"setupConnection",value:function(){var e=this;this.connectionManager=d.Registry.getConnectionManager(),this.connectionManager.setupCollectorConnection(),this.connectionManager.setup().then(function(){f.log("Connected to connectionManager"),e.fire(_),e.run()}).catch(function(e){return f.log("Could not connect to connectionManager",e)})}},{key:"setup",value:function(){var e=this;this.clocksync=d.Registry.getClockSync(),d.Registry.getGenericEventHandler().sendEvent(y.logEvents.log,{msg:"Starting clockSync"}),this.clocksync.initiate().then(function(){f.log("Clocksync completed"),e.fire(_),e.run()}).catch(function(e){return f.log("Could not finish ClockSync",e)})}},{key:"onInitialize",value:function(e,t,n,r,i,o){var a=this,s=d.Registry.getCredentials();s.setAppId(e),s.setUserId(t),d.Registry.getCallbacks().set(y.callbackFunctions.stats,i),this.doPrecalltest=!0,o&&(!0===o.disableBeforeUnloadHandler&&this.setBeforeUnloadHandler(),o.applicationVersion&&d.Registry.getEndpoint().setAppVersion(o.applicationVersion),o.disablePrecalltest&&(this.doPrecalltest=!1),o.siteID&&("string"!=typeof o.siteID?f.error("Invalid configParams: siteId must be string"):s.setSiteId(o.siteID)),o.additionalIDs&&("object"!==c(o.additionalIDs)?f.error("Invalid configParams: additionalIDs must be object"):(console.log("Setting application IDs",o.additionalIDs),s.setAdditionalIDs(o.additionalIDs))),"boolean"==typeof o.collectLegacyStats&&g.setCollectLegacyStats(o.collectLegacyStats),"boolean"==typeof o.collectIP&&g.setCollectIP(o.collectIP),"boolean"==typeof o.collectHeadsetStats&&g.setCollectHeadsetStats(o.collectHeadsetStats)),this.setup(),g.collectHeadsetStats&&d.Registry.getJabraService().initJabraService(),this.authenticator.initiate(e,n,t,r).then(function(e){if(f.log("Authentication complete"),a.setupConnection(),!0===d.Registry.getCredentials().isAdaptiveStatsEnabled())d.Registry.getStatsMonitor().setIntervals(y.adaptiveStatsIntervalsInMs.min,y.adaptiveStatsIntervalsInMs.max);else{var t=d.Registry.getCredentials().getStatsSubmissionInterval();d.Registry.getStatsMonitor().setIntervals(t,t)}a.fire(_),a.run();var n=a.authenticator.getIceServers(),r=d.Registry.getCredentials().getIngestedEvents();n&&a.doPrecalltest&&r.includes("precallTestResultsAutomatic")&&d.Registry.getPCTRunnerService().doPrecalltest(n,"callstats",!1),g.configServiceUrl&&(a.configservicewrapper.initiateInternalConfig().then(function(){f.log("ConfigService internal config:",a.configservicewrapper.getInternalConfig()),a.fire(_),a.run()},function(e){return f.log(e)}),a.configservicewrapper.initiateAppConfig().then(function(){var e=d.Registry.getCallbacks().get(y.callbackFunctions.defaultConfig),t=a.configservicewrapper.getAppDefaultConfig();e&&t&&e(t);var n=d.Registry.getCallbacks().get(y.callbackFunctions.recommendedConfig),r=a.configservicewrapper.getAppRecommendedConfig();n&&r&&n(r),a.fire(_),a.run()},function(e){return f.log(e)}))},function(e){f.log(e)})}},{key:"setBeforeUnloadHandler",value:function(){window&&window.addEventListener&&(f.log("setBeforeUnloadHandler"),window.addEventListener("beforeunload",function(e){return d.Registry.getConferenceManager().conferenceMap.forEach(function(e,t){e&&e.getPeerConnectionManager().pcHandlers.forEach(function(e,t){d.Registry.getEventMessageBuilder().make(y.internalFabricEvent.userLeft,e.getConferenceId(),e.getPeerConnection())})}),"Are you sure you want to close the call?"}))}},{key:"onServicesFinished",value:function(){return!!(this.connectionManager&&this.connectionManager.isReady()&&this.clocksync.isCompleted()&&this.authenticator.isCompleted())&&(d.Registry.getTransmissionManager().trySend(),!0)}},{key:"onAddNewFabric",value:function(e,t,n,r,i,o,a){var s=this;f.warn("FSM onAddNewFabric"),d.Registry.getConferenceManager().add(r,d.Registry.getCredentials());var c=d.Registry.getConferenceManager().get(r),u=!1;c.getPeerConnectionManager().addPcHandler(e,t,n,r,i,o,a);var l={endpointInfo:d.Registry.getEndpoint().serialize()},h=d.Registry.getCredentials().getUserIdObject();if(h&&h.userName&&(l.userName=String(h.userName)),h&&h.loginID&&(l.loginID=String(h.loginID)),!c.isUserJoinedSent()){c.resetUcId(),l.disableGeoIP=!g.collectIP,d.Registry.getEventMessageBuilder().make(y.internalFabricEvent.userJoined,r,e,l),c.setUserJoinedSent(!0);var v=h?String(h.userName):null;g.collectIP?(p.getRemoteAddress(function(t){u||(u=!0,s.sendUserDetailsEvent(e,r,v,t,!0))}),setTimeout(function(){u||(u=!0,s.sendUserDetailsEvent(e,r,v,[],!0))},5e3)):u||(u=!0,this.sendUserDetailsEvent(e,r,v,[],!1))}var m=d.Registry.getPCTRunnerService().getPrecallTestIds();d.Registry.getPCTRunnerService().resetPrecallTestIds(),g.collectHeadsetStats&&d.Registry.getJabraService().startJabraMonitoring(r);var b=this.precalltest.getId();b&&m.push(b),m.length>0&&d.Registry.getEventMessageBuilder().make(y.precalltestEvents.associate,r,e,{ids:m})}},{key:"onStartPrecallTests",value:function(e,t){var n=d.Registry.getAuthenticator().getIceServers();n[0].label="callstats",e.push(n[0]),d.Registry.getPCTRunnerService().start(e,t)}},{key:"onSendCallDetails",value:function(e,t,n){f.warn("FSM onSendCallDetails");var r={};r.callType=n.callType,r.role=n.role,n.contactQueue&&(r.contactQueue=n.contactQueue),n.contactQueueID&&(r.contactQueueID=n.contactQueueID),n.routingProfile&&(r.routingProfile=n.routingProfile),n.routingProfileID&&(r.routingProfileID=n.routingProfileID),n.contactID&&(r.contactID=n.contactID),n.acceptedTimestamp&&(r.acceptedAt=n.acceptedTimestamp),n.connectedTimestamp&&(r.connectedAt=n.connectedTimestamp),n.originalContactID&&(r.originalContactID=n.originalContactID),n.siteID&&(r.siteID=n.siteID,d.Registry.getCredentials().setSiteId(n.siteID)),n.extensionVersion&&(r.extensionVersion=n.extensionVersion,d.Registry.getCredentials().setExtensionVersion(n.extensionVersion)),n.shimVersion&&(r.shimVersion=n.shimVersion,d.Registry.getCredentials().setShimVersion(n.shimVersion)),d.Registry.getEventMessageBuilder().make(y.fabricEvent.callDetails,t,e,r)}},{key:"onSendCustomEvent",value:function(e,t,n){if(f.warn("FSM onSendCustomEvent"),n&&1===n.length){var r=n[0];if("conferenceSummary"===r.type)return void d.Registry.getEventMessageBuilder().make(y.customEvents.conferenceSummary,t,e,r)}d.Registry.getEventMessageBuilder().make(y.customEvents.event,t,e,{eventList:n})}},{key:"onSendCustomStats",value:function(e,t,n){f.warn("FSM onSendCustomStats");var r={};r.stats=n,d.Registry.getEventMessageBuilder().make(y.customEvents.stats,t,e,r)}},{key:"onSendFabricEvent",value:function(e,t,n,r){f.warn("FSM onSendFabricEvent");var i={};r&&((i=r).ssrc&&(i.ssrc=String(i.ssrc))),t===y.fabricEvent.activeDeviceList&&(i={mediaDeviceList:h.normalizeMediaDeviceList(r.deviceList)}),d.Registry.getEventMessageBuilder().make(t,n,e,i);var o=d.Registry.getConferenceManager().get(n);if(o){var a=o.getPeerConnectionManager().getPcHandler(e);t!==y.fabricEvent.fabricTerminated&&t!==y.internalFabricEvent.fabricSetupFailed||(a.stopUserAliveHandler(),a.setPcState(y.fabricState.terminated),a.stopStatsPolling(),a.stopPCStateMonitoring(),o.getPeerConnectionManager().removePcStats(a&&a.getPcHash()),o.updateState()),t===y.fabricEvent.fabricHold&&(a.setPcState(y.fabricState.hold),a.stopStatsPolling()),t===y.fabricEvent.fabricResume&&(a.setPcState(y.fabricState.established),a.startStatsPolling()),t===y.fabricEvent.audioMute&&a.setAudioMuted(!0),t===y.fabricEvent.audioUnmute&&a.setAudioMuted(!1)}}},{key:"onReportError",value:function(e,t,n,r,i,o){f.warn("FSM onReportError");var a={delay:0,reason:this.callFailureClassifier(n),function:n,magicKey:d.Registry.getEndpoint().getMagicKey(),endpoint:d.Registry.getEndpoint().serialize(),level:"debug"};if(r){var s=this.formatDomError(r);a.message=s.message,a.messageType=s.messageType,a.name=r.name,a.stack=r.stack}if(e){var c=d.Registry.getConferenceManager().get(t),u=void 0;if(c&&(u=c.getPeerConnectionManager().getPcHandler(e)),!u)return void f.error("onReportError: No handler found for given PeerConnection!");if(a.delay=v.getCurrent()-u.getStartTime(),a.fabricState=u.getPcState(),a.iceConnectionState=u.getIceConnectionState(),(i||o||e&&"closed"!==e.signalingState)&&d.Registry.getCredentials().getCollectSDP()&&n!==y.webRTCFunctions.applicationLog){var l={};l.localSDP=this.pickSDP(e,i,"localDescription"),l.remoteSDP=this.pickSDP(e,o,"remoteDescription"),d.Registry.getEventMessageBuilder().make(y.callstatsChannels.sdpSubmission,t,e,l)}}n===y.webRTCFunctions.applicationLog||n===y.webRTCFunctions.applicationError?d.Registry.getEventMessageBuilder().make(y.fabricEvent.applicationErrorLog,t,e,a):n===y.webRTCFunctions.iceConnectionFailure?this.handleIceConnectionFailure(e,t,a):(d.Registry.getEventMessageBuilder().make(y.fabricEvent.fabricSetupFailed,t,e,a),n===y.webRTCFunctions.getUserMedia&&this.handleGUMErrors(t))}},{key:"onAssociateMstWithUserID",value:function(e,t,n,r,i,o){var a=d.Registry.getConferenceManager().get(n);if(a){var s=a.getPeerConnectionManager().getPcHandler(e);"string"!=typeof r&&(r+=""),s.updateSSRCInfo(r,t,i,o)}}},{key:"onResetWifiStatsHandler",value:function(){d.Registry.getWifiStatsExecutor().resetGetWifiStatsMethod()}},{key:"onAttachWifiStatsHandler",value:function(e){d.Registry.getWifiStatsExecutor().setGetWifiStatsMethod(e)}},{key:"onSetProxyConfig",value:function(e){f.warn("FSM onSetProxyConfig"),e.collectorURL&&g.setCollectorUrl(e.collectorURL),e.authServiceURL&&g.setAuthServiceUrl(e.authServiceURL),e.restEventURL&&g.setRestEventUrl(e.restEventURL),e.restStatsURL&&g.setRestStatsUrl(e.restStatsURL),e.appSettingsURL&&g.setConfigServiceUrl(e.appSettingsURL)}},{key:"onSendUserFeedback",value:function(e,t,n){var r={feedback:{overallRating:t.overall}};t.video&&(r.feedback.videoQualityRating=t.video),t.audio&&(r.feedback.audioQualityRating=t.audio),t.comment&&(r.feedback.comments=t.comment),d.Registry.getEventMessageBuilder().make(y.callstatsChannels.userFeedback,e,null,r)}},{key:"onOn",value:function(e,t){d.Registry.getCallbacks().set(e,t)}},{key:"onSetIdentifiers",value:function(e,t){if(e.conferenceID&&(d.Registry.getConferenceManager().updateConferenceId(e.conferenceID),d.Registry.getTransmissionManager().updateConferenceId(e.conferenceID),d.Registry.getTransmissionManager().trySend()),e.remoteUserID&&t){var n=d.Registry.getConferenceManager().getConferenceForPc(t);if(!n)return void f.log("onSetIdentifiers conference not found");var r=n.getPeerConnectionManager().getPcHandler(t);if(!r)return void f.log("pcHandler not found");r.updateRemoteId(e.remoteUserID),d.Registry.getTransmissionManager().trySend()}}},{key:"onMakePrecallTest",value:function(e,t){var n=e,r=t||"callstats";e||(n=this.authenticator.getIceServers(),r="callstats"),d.Registry.getPCTRunnerService().doPrecalltest(n,r,!0)}},{key:"sendUserDetailsEvent",value:function(e,t,n,r,i){d.Registry.getEventMessageBuilder().make(y.internalFabricEvent.userDetails,t,e,{userName:n,localIpAddressInfo:r,collectIP:i})}},{key:"handleIceConnectionFailure",value:function(e,t,n){if(e){var r=d.Registry.getConferenceManager().get(t),i=void 0;if(r&&(i=r.getPeerConnectionManager().getPcHandler(e)),i)if(i.isFabricSetupSent()){var o={localIceCandidates:[],remoteIceCandidates:[],iceCandidatePairs:[]};o.delay=v.getCurrent()-i.getStartTime(),o.currIceConnectionState="failed",o.prevIceConnectionState="disconnected",d.Registry.getEventMessageBuilder().make(y.internalFabricEvent.iceFailed,t,e,o)}else n.delay=v.getCurrent()-i.getStartTime(),n.fabricState=i.getPcState(),n.iceConnectionState=i.getIceConnectionState(),d.Registry.getEventMessageBuilder().make(y.fabricEvent.fabricSetupFailed,t,e,n)}}},{key:"handleGUMErrors",value:function(e){var t=d.Registry.getConferenceManager().get(e);if(t||(d.Registry.getConferenceManager().add(e,d.Registry.getCredentials()),t=d.Registry.getConferenceManager().get(e)),!t.getUcId()){var n={endpointInfo:d.Registry.getEndpoint().serialize()};n.disableGeoIP=!g.collectIP,d.Registry.getEventMessageBuilder().make(y.internalFabricEvent.userJoined,e,null,n),t.setUserJoinedSent(!0)}}},{key:"callFailureClassifier",value:function(e){var t=void 0;return y.webRTCFunctions.hasOwnProperty(e)?e===y.webRTCFunctions.createOffer||e===y.webRTCFunctions.createAnswer||e===y.webRTCFunctions.setRemoteDescription?t=y.callFailureReasons.negotiationFailure:e===y.webRTCFunctions.setLocalDescription?t=y.callFailureReasons.sdpError:e===y.webRTCFunctions.addIceCandidate?t=y.callFailureReasons.sdpError:e===y.webRTCFunctions.getUserMedia?t=y.callFailureReasons.mediaConfigError:e===y.webRTCFunctions.iceConnectionFailure?t=y.callFailureReasons.iceFailure:e===y.webRTCFunctions.signalingError?t=y.callFailureReasons.signalingError:(e===y.webRTCFunctions.applicationLog||y.webRTCFunctions.applicationError)&&(t=y.callFailureReasons.applicationLog):t=y.callFailureReasons.invalidWebRTCFunctionName,t}},{key:"formatDomError",value:function(e){var t={},n={};return e&&(window.DOMException&&e instanceof window.DOMException?(n.message=e.message,n.name=e.name,t.messageType="domError"):"object"===(void 0===e?"undefined":c(e))?(e.message&&(n.message=e.message),e.name&&(n.name=e.name),e.constraintName&&(n.name=e.constraintName),e.stack&&(n.stack=e.stack),t.messageType="json"):(n=e,t.messageType="text")),"object"===(void 0===n?"undefined":c(n))?t.message=JSON.stringify(n):t.message=n,t}},{key:"pickSDP",value:function(e,t,n){return t||(e&&e[n]?e[n].sdp:"")}},{key:"truncateString",value:function(e){return e.length>2e4&&(f.log("Log exceeds 20kb, It will be truncated"),e=e.substring(0,2e4)),e}},{key:"truncateLog",value:function(e){return e?("string"==typeof e?e=this.truncateString(e):"object"===(void 0===e?"undefined":c(e))&&e.message&&(e.message=this.truncateString(e.message)),e):e}}]),t})();n.MainFSM=P},{"../config/constants":49,"../config/settings":50,"../statspipeline/statsadapter":98,"../statspipeline/statsassembler":99,"../statspipeline/statsmonitor":101,"../statspipeline/statsparser":102,"../statspipeline/statstransmitter":103,"../utility/csiologger":118,"../utility/ipdiscovery":123,"../utility/registry":127,"../utility/timestamps":131,"../utility/utils":133,"./statemachine":53}],52:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t,n){r(this,e),this.type=t,this.args=void 0!==n?n:null}return i(e,[{key:"getType",value:function(){return this.type}},{key:"getArgs",value:function(){return this.args}}]),e})();n.ProgramEvent=o},{}],53:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StateMachine=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./programevent"),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),s=(function(){function e(t){r(this,e),this.events=[],this.state=t}return i(e,[{key:"fire",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=new o.ProgramEvent(e,n);this.events.push(i)}},{key:"proceed",value:function(e,t){a.warn("You need to overwrite the proceed function inan extended StateMachine")}},{key:"setState",value:function(e){this.state=e}},{key:"getState",value:function(){return this.state}},{key:"run",value:function(){if(!(this.events.length<1)){var e=this.events.shift();this.proceed(e.getType(),e.getArgs())}}}]),e})();n.StateMachine=s},{"../utility/csiologger":118,"./programevent":52}],54:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GetStatsHandler=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../config/constants")),s=e("../statspipeline/statsadapter"),c=e("../utility/registry"),u=r(e("../config/settings")),l=r(e("../utility/csiologger")),d=(function(){function e(t,n,r,o,a){i(this,e),this.pc=t,this.interval=r,this.codeBase=o,this.browserName=a,this.getStatsTimer=null,this.isPromiseBased=!0,this.pcHash=n,this.genericevent=c.Registry.getGenericEventHandler()}return o(e,[{key:"startStatsPolling",value:function(){var e=this;e.getStatsTimer||(l.log("startStatsPolling for ",e.pcHash),this.getStatsTimer=setInterval(function(){e.csioGetStats(e.statsHandler,e.pcHash)},e.interval))}},{key:"stopStatsPolling",value:function(){this.getStatsTimer&&(clearInterval(this.getStatsTimer),this.getStatsTimer=null)}},{key:"csioGetStats",value:function(e,t){var n=a.codeBaseType.firefox,r=a.codeBaseType.chrome,i=a.codeBaseType.edge,o=a.browserName.safari,s=this.pc;if(s){if("closed"===s.iceConnectionState)return void this.stopStatsPolling();try{this.isTemaSys()?this.getStatsTemasys(e,t):this.codeBase===n?this.getStatsFirefox(e,t):this.browserName===o?this.getStatsSafari(e,t):this.codeBase===r?this.getStatsChrome(e,t):this.codeBase===i&&this.getStatsEdge(e,t)}catch(e){l.log("csioGetStats: Error ",e)}}}},{key:"getStatsTemasys",value:function(e,t){this.pc.getStats(null,function(n){e(n,t)},function(e){l.log("getStatsTemasys error",e)})}},{key:"getStatsFirefox",value:function(e,t){var n=this,r=this.pc;if(n.isPromiseBased)try{r.getStats().then(function(n){e(n,t)}).catch(function(i){console.log("getstats error ",i),n.isPromiseBased=!1,r.getStats(null,function(n){e(n,t)})})}catch(i){n.isPromiseBased=!1,n.genericevent.sendEvent(a.logEvents.getStatsError,{msg:"Firefox getStats reports error ",error:i.message+":"+i.stack}),r.getStats(null,function(n){e(n,t)})}else r.getStats(null,function(n){e(n,t)})}},{key:"getStatsChrome",value:function(e,t){var n=this,r=this,i=r.pc;if(window&&window.csioReactNative)i.getStats().then(function(n){e(n,t)}).catch(function(e){l.error("Chrome getStats Error [react-native]",e)});else if(r.isPromiseBased)try{i.getStats().then(function(r){u.collectLegacyStats?n.getLegacyStatsChrome().then(function(n){e(r,t,n)}):e(r,t)}).catch(function(n){l.log("Chrome getStats Error ",n),r.isPromiseBased=!1,r.genericevent.sendEvent(a.logEvents.getStatsError,{msg:"Chrome getStats reports error",error:n.message+":"+n.stack}),i.getStats(function(n){e(n,t)})})}catch(n){r.isPromiseBased=!1,r.genericevent.sendEvent(a.logEvents.getStatsError,{msg:"Chrome getStats reports error",error:n.message+":"+n.stack}),i.getStats(function(n){e(n,t)})}else i.getStats(function(n){e(n,t)})}},{key:"getLegacyStatsChrome",value:function(){var e=this.pc;return new Promise(function(t,n){e.getStats(function(e){for(var n=[],r=e.result(),i=0;i<r.length;++i){var o=r[i];"ssrc"!==o.type&&"VideoBwe"!==o.type||n.push(o)}t(n)})})}},{key:"getStatsEdge",value:function(e,t){var n=this;n.pc.getStats().then(function(n){e(n,t)}).catch(function(r){e({},t),r?n.genericevent.sendEvent(a.logEvents.getStatsError,{msg:"Edge getStats reports error",error:r.message+":"+r.stack}):n.genericevent.sendEvent(a.logEvents.getStatsError,{msg:"Edge getStats reports error"})})}},{key:"getStatsSafari",value:function(e,t){var n=this;n.pc.getStats().then(function(n){e(n,t)}).catch(function(e){n.genericevent.sendEvent(a.logEvents.getStatsError,{msg:"Safari getStats reports error",error:e.message+":"+e.stack})})}},{key:"statsHandler",value:function(e,t,n){var r=c.Registry.getStatsAdapter();if(e&&r)try{r.transmit(s.StatsAdapterIO.RawStatsIn,e,t,n)}catch(e){l.log("statsHandler: Error ",e),c.Registry.getGenericEventHandler().sendEvent(a.logEvents.error,{msg:"statsHandler: Error",error:e.message+":"+e.stack})}}},{key:"mediaTrackStatsHandler",value:function(e,t){t(c.Registry.getStatsAdapter().getMediaTracksInfo(e))}},{key:"iceCandidatesHandler",value:function(e,t){t(c.Registry.getStatsAdapter().getIceCandidates(e))}},{key:"getMediaTracksInfo",value:function(){var e=this;return new Promise(function(t,n){e.csioGetStats(e.mediaTrackStatsHandler,function(e){t(e)})})}},{key:"getIceCandidates",value:function(){var e=this;return new Promise(function(t,n){e.csioGetStats(e.iceCandidatesHandler,function(e){t(e)})})}},{key:"isTemaSys",value:function(){return!!(window&&window.AdapterJS&&window.AdapterJS.WebRTCPlugin&&window.AdapterJS.WebRTCPlugin.plugin)}}]),e})();n.GetStatsHandler=d},{"../config/constants":49,"../config/settings":50,"../statspipeline/statsadapter":98,"../utility/csiologger":118,"../utility/registry":127}],55:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PcCallbackHandler=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../config/constants")),s=e("../utility/registry"),c=r(e("../utility/timestamps")),u=r(e("../config/callstatserrors")),l=r(e("../utility/csiologger")),d=(function(){function e(t,n,r,o,u,d){var f=this;if(i(this,e),n){if(this.conferenceId=t,this.pc=n,this.getStatsHandler=r,this.userAlive=o,this.callback=d,this.remoteId=u,this.clocksync=s.Registry.getClockSync(),this.emb=s.Registry.getEventMessageBuilder(),this.precalltest=s.Registry.getPreCallTest(),this.genericevent=s.Registry.getGenericEventHandler(),this.iceCandidates=[],this.iceConnectionState=n.iceConnectionState,this.iceGatheringState=n.iceGatheringState,this.signalingState=n.signalingState,this.oldIceConnectionState="",this.oldIceGatheringState="",this.iceConnectionStateTS="",this.negotiationNeeded=0,this.pcState=a.fabricState.initializing,this.disruptedTS=0,this.connectionDisruptedTS=0,this.startTime=c.getCurrent(),this.established=!1,this.activeIceCandidatePair=null,this.prevActiveIceCandidatePair=null,this.localIceCandidates=[],this.remoteIceCandidates=[],this.iceCandidatePairs=[],this.iceConnectivityDelay=0,this.iceGatheringDelay=0,this.fabricSetupSent=!1,this.pcMonitoringTimer=null,this.pc&&this.pc.addEventListener?(this.pc.addEventListener("icecandidate",this.iceCandidateCallback.bind(this),!1),this.pc.addEventListener("iceconnectionstatechange",this.handleIceState.bind(this),!1),this.pc.addEventListener("signalingstatechange",this.handleSignallingState.bind(this),!1),this.pc.addEventListener("negotiationneeded",this.pcNegotiationNeededCallback.bind(this),!1),this.pc.addEventListener("track",this.handleTrack.bind(this),!1)):this.pc&&this.pc.attachEvent?(l.info("attachEvent"),this.pc.attachEvent("onicecandidate",this.iceCandidateCallback.bind(this)),this.pc.attachEvent("oniceconnectionstatechange",this.handleIceState.bind(this)),this.pc.attachEvent("onsignalingstatechange",this.handleSignallingState.bind(this)),this.pc.attachEvent("onnegotiationneeded",this.pcNegotiationNeededCallback.bind(this)),this.pc.attachEvent("track",this.handleTrack.bind(this),!1)):l.error("callstats cannot monitor or collect stats"),n.getConfiguration){var h=n.getConfiguration();h&&(this.iceServersURLs=this.getIceServerURLs(h.iceServers),this.sdpSemantics=h.sdpSemantics)}!n||"connected"!==n.iceConnectionState&&"completed"!==n.iceConnectionState||(this.pcState=a.fabricState.established,this.getStatsHandler.getIceCandidates().then(function(e){f.localIceCandidates=e.localIceCandidates,f.remoteIceCandidates=e.remoteIceCandidates,f.iceCandidatePairs=e.iceCandidatePairs,f.prevActiveIceCandidatePair=f.activeIceCandidatePair,f.activeIceCandidatePair=f.getActiveIceCandidatePair(),f.sendfabricSetup(),f.startStatsPolling()})),this.startPCStateMonitoring()}}return o(e,[{key:"getPcState",value:function(){return this.pc||(this.pcState=a.fabricState.terminated),"closed"===this.pc.iceConnectionState&&(this.pcState=a.fabricState.terminated),this.pcState}},{key:"checkPCStates",value:function(){this.pc||this.stopPCStateMonitoring(),this.handleIceState(),this.handleSignallingState()}},{key:"startPCStateMonitoring",value:function(){var e=this;this.pcMonitoringTimer||(this.pcMonitoringTimer=setInterval(function(){e.checkPCStates()},1e3))}},{key:"stopPCStateMonitoring",value:function(){this.pcMonitoringTimer&&(clearInterval(this.pcMonitoringTimer),this.pcMonitoringTimer=null)}},{key:"getIceServerURLs",value:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r=e[n];if(r&&r.urls)for(var i=0;i<r.urls.length;i++)t.push(r.urls[i])}return t}},{key:"iceCandidateCallback",value:function(e){if(e&&e.candidate&&e.candidate.candidate){var t=e.candidate.candidate.split(" ");if("0"!==t[4]&&"0"!==t[5]){var n=!!t[4]&&-1!==t[4].indexOf(":"),r="1"===t[1]?"rtp":"rtcp",i={transport:t[2],protocol:r,typePreference:t[3],address:n?"["+t[4]+"]:"+t[5]:t[4]+":"+t[5],type:t[7],media:e.candidate.sdpMid};-1===this.iceCandidates.indexOf(i)&&(this.iceCandidates.push(i),l.warn("CALLBACK: ICE candidate",i))}}}},{key:"sendFabricStateChange",value:function(e){this.emb.make(a.internalFabricEvent.fabricStateChange,this.conferenceId,this.pc,e)}},{key:"handleTrack",value:function(e){var t=this;if(e&&e.track){var n=e.track.id,r=e.track.kind,i={ssrc:String(0),highResTs:s.Registry.getClockSync().getSynchronizedTimestamp(),kind:r};this.getStatsHandler.getMediaTracksInfo().then(function(e){for(var r=0;r<e.length;++r)if(n===e[r].trackIdentifier){i.ssrc=String(e[r].ssrc);break}if(t.conferenceId){var o=s.Registry.getConferenceManager().get(t.conferenceId);o&&o.getPeerConnectionManager()&&(null===o.getPeerConnectionManager().getPcHandler(t.pc).videoElemTag&&t.emb.make(a.internalFabricEvent.mediaPlaybackStart,t.conferenceId,t.pc,i))}})}}},{key:"handleIceState",value:function(){var e=this;if(this.handleIceGatheringState(),this.handleIceConnectionState()){this.iceConnectionStateTS=this.clocksync.getSynchronizedTimestamp(),"complete"===this.iceGatheringState&&"checking"===this.iceConnectionState&&this.handleIceChecking();var t={prevIceConnectionState:this.oldIceConnectionState,currIceConnectionState:this.iceConnectionState},n=this.iceConnectionState;this.getStatsHandler.getIceCandidates().then(function(r){e.localIceCandidates=r.localIceCandidates,e.remoteIceCandidates=r.remoteIceCandidates,e.iceCandidatePairs=r.iceCandidatePairs,e.prevActiveIceCandidatePair=e.activeIceCandidatePair,e.activeIceCandidatePair=e.getActiveIceCandidatePair(),"connected"===n||"completed"===n?e.handleIceConnectedOrCompleted(t):"failed"===n?e.handleIceFailed(t):"disconnected"===n?e.handleIceDisconnected(t):"closed"===n?e.handleIceClosed(t):"new"===n&&e.handleIceRestart(t)})}}},{key:"handleIceConnectionState",value:function(){if(this.pc&&this.iceConnectionState===this.pc.iceConnectionState)return!1;this.oldIceConnectionState=this.iceConnectionState,this.iceConnectionState=this.pc.iceConnectionState,l.warn("CALLBACK: ICE connection state change",this.oldIceConnectionState,"->",this.iceConnectionState);var e={changedState:a.fabricStateChangeType.iceConnectionState,prevState:this.oldIceConnectionState,newState:this.iceConnectionState};return this.sendFabricStateChange(e),!0}},{key:"handleIceGatheringState",value:function(){if("closed"!==this.pc.iceConnectionState&&"closed"!==this.pc.signalingState&&(!this.pc||this.iceGatheringState!==this.pc.iceGatheringState)){"complete"===this.pc.iceGatheringState&&(this.iceGatheringDelay=c.getCurrent()-this.startTime),this.oldIceGatheringState=this.iceGatheringState,this.iceGatheringState=this.pc.iceGatheringState,l.warn("CALLBACK: ICE gathering state change",this.oldIceGatheringState,"->",this.iceGatheringState);var e={changedState:a.fabricStateChangeType.iceGatheringState,prevState:this.oldIceGatheringState,newState:this.iceGatheringState};this.sendFabricStateChange(e)}}},{key:"handleIceChecking",value:function(){var e=c.getCurrent();if("disconnected"===this.oldIceConnectionState&&(this.pcState===a.fabricState.checkingDisrupted||this.pcState===a.fabricState.disrupted)){var t={prevIceConnectionState:this.oldIceConnectionState,currIceConnectionState:this.iceConnectionState,delay:e-this.connectionDisruptedTS};this.pcState===a.fabricState.disrupted&&(t.prevIceCandidatePair=this.prevActiveIceCandidatePair,t.currIceCandidatePair=this.activeIceCandidatePair,t.delay=e-this.disruptedTS,this.emb.make(a.internalFabricEvent.iceDisruptionEnd,this.conferenceId,this.pc,t)),this.pcState=a.fabricState.initializing,this.emb.make(a.internalFabricEvent.iceConnectionDisruptionEnd,this.conferenceId,this.pc,t)}}},{key:"handleIceConnectedOrCompleted",value:function(e){var t=c.getCurrent();this.pcState===a.fabricState.disrupted&&(e.prevIceCandidatePair=this.prevActiveIceCandidatePair,e.currIceCandidatePair=this.activeIceCandidatePair,e.delay=t-this.disruptedTS,this.emb.make(a.internalFabricEvent.iceDisruptionEnd,this.conferenceId,this.pc,e)),this.iceConnectivityDelay=t-this.startTime,this.established=!0,this.pcState=a.fabricState.established,this.sendfabricSetup(),this.startStatsPolling()}},{key:"sendfabricSetup",value:function(){if(this.fabricSetupSent)l.log("fabricSetup has been sent already");else{var e={delay:c.getCurrent()-this.startTime,iceGatheringDelay:this.iceGatheringDelay,iceConnectivityDelay:this.iceConnectivityDelay,localIceCandidates:this.localIceCandidates,remoteIceCandidates:this.remoteIceCandidates,iceCandidatePairs:this.iceCandidatePairs,remoteEndpointType:a.endpointType.peer,fabricTransmissionDirection:a.transmissionDirection.sendrecv,iceServers:this.iceServersURLs,sdpSemantics:this.sdpSemantics},t=this.getActiveIceCandidatePair();t&&(e.selectedCandidatePairID=t.id),this.fabricSetupSent=!0;var n=void 0;if(this.conferenceId){var r=s.Registry.getConferenceManager().get(this.conferenceId);r&&r.getPeerConnectionManager()&&(n=r.getPeerConnectionManager().getPcHandler(this.pc),e.remoteEndpointType=n.getRemoteEndpointType(),e.fabricTransmissionDirection=n.getFabricTransmissionDirection())}this.pcState=a.fabricState.established,this.emb.make(a.internalFabricEvent.fabricSetup,this.conferenceId,this.pc,e)}}},{key:"isFabricSetupSent",value:function(){return this.fabricSetupSent}},{key:"startStatsPolling",value:function(){this.getStatsHandler.startStatsPolling()}},{key:"stopStatsPolling",value:function(){this.getStatsHandler.stopStatsPolling()}},{key:"handleIceFailed",value:function(e){e.currIceCandidatePair=this.activeIceCandidatePair,e.delay=c.getCurrent()-this.startTime,this.pcState=a.fabricState.failed,"checking"===e.prevIceConnectionState?this.sendIceFailed(e):"completed"===e.prevIceConnectionState||"connected"===e.prevIceConnectionState?this.emb.make(a.internalFabricEvent.fabricDropped,this.conferenceId,this.pc,e):"disconnected"===e.prevIceConnectionState&&this.established?this.emb.make(a.internalFabricEvent.fabricDropped,this.conferenceId,this.pc,e):"disconnected"===e.prevIceConnectionState&&this.sendIceFailed(e)}},{key:"getActiveIceCandidatePair",value:function(){var e=null,t=this.iceCandidatePairs;if(t&&t.length>0){var n=t.filter(function(e){return"true"===e.selected||"true"===e.googActiveConnection||!0===e.selected||!0===e.googActiveConnection});n.length>0&&(e=n[0])}return e}},{key:"sendIceFailed",value:function(e){e.localIceCandidates=this.localIceCandidates,e.remoteIceCandidates=this.remoteIceCandidates,e.iceCandidatePairs=this.iceCandidatePairs,l.log("sending icefailed ",e),this.emb.make(a.internalFabricEvent.iceFailed,this.conferenceId,this.pc,e)}},{key:"sendFabricTransportSwitch",value:function(e){var t=this,n={};n.prevIceCandidatePair=t.activeIceCandidatePair,n.relayType=e,n.currIceConnectionState=t.iceConnectionState,n.prevIceConnectionState=t.oldIceConnectionState,n.switchDelay=null,t.getStatsHandler.getIceCandidates().then(function(e){t.localIceCandidates=e.localIceCandidates,t.remoteIceCandidates=e.remoteIceCandidates,t.iceCandidatePairs=e.iceCandidatePairs,t.activeIceCandidatePair=t.getActiveIceCandidatePair(),n.currIceCandidatePair=t.activeIceCandidatePair,n.localIceCandidates=t.localIceCandidates,n.remoteIceCandidates=t.remoteIceCandidates,l.log("sending fabric transport switch ",n),"completed"!==n.currIceConnectionState&&"connected"!==n.currIceConnectionState||"completed"!==n.prevIceConnectionState&&"connected"!==n.prevIceConnectionState||t.emb.make(a.internalFabricEvent.fabricTransportSwitch,t.conferenceId,t.pc,n)})}},{key:"handleIceDisconnected",value:function(e){var t=c.getCurrent();this.startTime=t,e.prevIceConnectionStateTs=this.iceConnectionStateTS,e.currIceCandidatePair=this.activeIceCandidatePair,"connected"===e.prevIceConnectionState||"completed"===e.prevIceConnectionState?(this.pcState=a.fabricState.disrupted,this.disruptedTS=t,this.emb.make(a.internalFabricEvent.iceDisruptionStart,this.conferenceId,this.pc,e),this.callback&&this.callback(u.csError.appConnectivityError,"Connectivity check for PC object to "+this.remoteId+" failed.")):"checking"===e.prevIceConnectionState&&(this.pcState=a.fabricState.checkingDisrupted,this.connectionDisruptedTS=t,this.emb.make(a.internalFabricEvent.iceConnectionDisruptionStart,this.conferenceId,this.pc,e),this.callback&&this.callback(u.csError.appConnectivityError,"Connectivity check for PC object to "+this.remoteId+" failed."))}},{key:"handleIceClosed",value:function(e){"new"===e.prevIceConnectionState||"checking"===e.prevIceConnectionState?(e.delay=c.getCurrent()-this.startTime,e.localIceCandidates=this.localIceCandidates,e.remoteIceCandidates=this.remoteIceCandidates,e.iceCandidatePairs=this.iceCandidatePairs,this.emb.make(a.internalFabricEvent.iceAborted,this.conferenceId,this.pc,e)):"connected"!==e.prevIceConnectionState&&"completed"!==e.prevIceConnectionState||(e.prevIceCandidatePair=this.activeIceCandidatePair,this.emb.make(a.internalFabricEvent.iceTerminated,this.conferenceId,this.pc,e)),this.pcState=a.fabricState.terminated,this.conferenceId&&s.Registry.getConferenceManager().get(this.conferenceId).updateState(),this.stopStatsPolling()}},{key:"handleIceRestart",value:function(e){e.prevIceCandidatePair=this.prevActiveIceCandidatePair,"new"!==e.prevIceConnectionState&&(l.log("iceRestarted sending"),this.established=!1,this.emb.make(a.internalFabricEvent.iceRestarted,this.conferenceId,this.pc,e))}},{key:"handleSignallingState",value:function(){var e=this;if(this.signalingState!==this.pc.signalingState){var t=this.signalingState;this.signalingState=this.pc.signalingState,l.warn("CALLBACK: signaling state change",t,"->",this.signalingState);var n={changedState:a.fabricStateChangeType.signalingState,prevState:t,newState:this.signalingState};if(this.sendFabricStateChange(n),"have-remote-offer"!==this.signalingState&&"stable"!==this.signalingState||(this.precalltest.callStarts(),s.Registry.getPCTRunnerService().setCallInProgress(!0),this.genericevent.sendEvent(a.logEvents.log,{msg:"precalltest told to stop "})),"closed"===this.signalingState&&(this.emb.make(a.fabricEvent.fabricTerminated,this.conferenceId,this.pc),this.userAlive.stop(),this.precalltest.callFinished(),s.Registry.getPCTRunnerService().setCallInProgress(!1),this.stopStatsPolling(),this.stopPCStateMonitoring(),this.pcState=a.fabricState.terminated,this.conferenceId)){var r=s.Registry.getConferenceManager().get(this.conferenceId);if(r&&r.getPeerConnectionManager()){var i=r.getPeerConnectionManager().getPcHandler(this.pc);r.getPeerConnectionManager().removePcStats(i&&i.getPcHash())}r.updateState()}"have-local-offer"!==this.signalingState&&"have-local-pranswer"!==this.signalingState&&"stable"!==this.signalingState||(l.log(this.signalingState,".. requesting sender config."),s.Registry.getConfigServiceWrapper().initiateSenderConfig(this.pc).then(function(){var t=s.Registry.getConfigServiceWrapper().getSenderConfig();l.log("Sender config:",t);var n=a.callstatsChannels.senderConfiguration;t&&s.Registry.getEventMessageBuilder().make(n,e.conferenceId,e.pc,t)}).catch(function(e){l.warn(e)}))}}},{key:"pcNegotiationNeededCallback",value:function(e){e&&(this.negotiationNeeded++,this.startTime=c.getCurrent(),l.warn("CALLBACK: negotiation needed",this.negotiationNeeded))}}]),e})();n.PcCallbackHandler=d},{"../config/callstatserrors":48,"../config/constants":49,"../utility/csiologger":118,"../utility/registry":127,"../utility/timestamps":131}],56:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PeerConnectionHandler=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../utility/registry"),s=e("../peerconnection/pccallbackhandler"),c=e("../browserapi/devices"),u=e("./useralivehandler"),l=e("./getstatshandler"),d=r(e("../config/constants")),f=r(e("../utility/timestamps")),h=r(e("../utility/csiologger")),p=(function(){function e(t){i(this,e),this.pc=t.pc,this.remoteId=t.remoteId,this.fabricUsage=t.fabricUsage,this.callback=t.callback,this.conferenceId=t.conferenceId,this.remoteEndpointType=t.remoteEndpointType,this.fabricTransmissionDirection=t.fabricTransmissionDirection,this.clocksync=a.Registry.getClockSync(),this.startTime=this.clocksync.getSynchronizedTimestamp(),this.credentials=a.Registry.getCredentials(),this.pcHash=this.generatePcHash(),this.ssrcMap=new Map,this.localSdp=null,this.remoteSdp=null,this.transportInfo=null,this.userAliveHandler=new u.UserAliveHandler(this.conferenceId,this.pc),this.userAliveHandler.start(),this.emb=a.Registry.getEventMessageBuilder(),this.devices=new c.Devices(this.conferenceId,this.pc);var n=a.Registry.getEndpoint();this.getStatsHandler=new l.GetStatsHandler(this.pc,this.pcHash,t.interval,n.getCodeBase(),n.getBrowserName()),this.pcCallbackHandler=new s.PcCallbackHandler(this.conferenceId,this.pc,this.getStatsHandler,this.userAliveHandler,this.remoteId,this.callback),this.devices.collectConnected(),this.fabricTransmissionDirection||(this.fabricTransmissionDirection="sendrecv"),this.remoteEndpointType||(this.remoteEndpointType="peer"),this.ttfmSentSSRCs=[],this.isMuted=!1,this.videoElemTag=null}return o(e,[{key:"getFabricTransmissionDirection",value:function(){return this.fabricTransmissionDirection}},{key:"getRemoteEndpointType",value:function(){return this.remoteEndpointType}},{key:"stopUserAliveHandler",value:function(){this.userAliveHandler.stop()}},{key:"getPcState",value:function(){return this.pcCallbackHandler.getPcState()}},{key:"stopStatsPolling",value:function(){this.getStatsHandler.stopStatsPolling()}},{key:"stopPCStateMonitoring",value:function(){this.pcCallbackHandler.stopPCStateMonitoring()}},{key:"startStatsPolling",value:function(){this.getStatsHandler.startStatsPolling()}},{key:"setPcState",value:function(e){e in d.fabricState?this.pcCallbackHandler.pcState=e:h.error("setPcState: Invalid state")}},{key:"setAudioMuted",value:function(e){this.isMuted=e}},{key:"getAppId",value:function(){return this.credentials.getAppId()}},{key:"getLocalId",value:function(){return this.credentials.getUserId()}},{key:"getConferenceId",value:function(){return this.conferenceId}},{key:"getPeerConnection",value:function(){return this.pc}},{key:"getRemoteId",value:function(){return this.remoteId}},{key:"isFabricSetupSent",value:function(){return this.pcCallbackHandler.isFabricSetupSent()}},{key:"getStartTime",value:function(){return this.startTime}},{key:"getCallback",value:function(){return this.callback}},{key:"getPcHash",value:function(){return this.pcHash}},{key:"getIceCandidates",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.iceCandidates:null}},{key:"getIceConnectionState",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.iceConnectionState:null}},{key:"getNegotiationsNumber",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.negotiationNeeded:0}},{key:"sendFabricTransportSwitch",value:function(e){this.pcCallbackHandler&&this.pcCallbackHandler.sendFabricTransportSwitch(e)}},{key:"getSdp",value:function(){return{localSdp:this.localSdp,remoteSdp:this.remoteSdp}}},{key:"setSdp",value:function(e,t){this.localSdp=e,this.remoteSdp=t}},{key:"generatePcHash",value:function(){var e=(Math.random()+1).toString(36);return e.substring(2,e.length)}},{key:"getTransportInfo",value:function(){return this.transportInfo}},{key:"setTransportInfo",value:function(e){this.transportInfo=e}},{key:"updateSDP",value:function(e){var t=this,n=void 0,r=void 0;if(this.pc&&this.pc.localDescription&&(n=this.pc.localDescription.sdp),this.pc&&this.pc.remoteDescription&&(r=this.pc.remoteDescription.sdp),n&&r&&(n!==this.localSdp||r!==this.remoteSdp)){this.parseSDP(n,d.streamType.outbound),this.parseSDP(r,d.streamType.inbound);var i={localSDP:n!==this.localSdp?n:"",remoteSDP:r!==this.remoteSdp?r:""};""===n&&""===remoteSDP||!a.Registry.getCredentials().getCollectSDP()||this.emb.make(d.internalFabricEvent.sdpSubmission,this.conferenceId,this.pc,i),e&&e.forEach(function(e){var n=String(e.data.ssrc),r=t.ssrcMap.get(n);r||(r={}),r.mediaType=e.data.mediaType,r.reportType=e.reportType,r.ssrc=n,t.ssrcMap.set(n,r)});var o=[];this.ssrcMap.forEach(function(e,t){e.msid&&e.mslabel&&e.label&&o.push(e)});for(var s={ssrcData:o},c=0;c<s.ssrcData.length;c+=1)s.ssrcData[c].userID=a.Registry.getCredentials().getUserId();this.emb.make(d.internalFabricEvent.ssrcMap,this.conferenceId,this.pc,s),this.setSdp(n,r)}}},{key:"parseSDP",value:function(e,t){var n=this,r=RegExp.prototype.test.bind(/^([a-z])=(.*)/),i=/^ssrc:(\d*) ([\w_]*):(.*)/,o=/^ssrc-group:SIM (\d*)/;e.split(/(\r\n|\r|\n)/).filter(r).forEach(function(e){var r=e[0],a=e.slice(2);if("a"===r&&i.test(a)){var s=a.match(i),c=s[1],u=s[2],l=s[3],d=n.ssrcMap.get(c);if(d||(d={}),d.ssrc=c,d[u]=l,d.localStartTime=f.getCurrent(),d.syncedStartTime=n.clocksync.getSynchronizedTimestamp(),d.streamType=t,!o.test(a))return void n.ssrcMap.set(c,d);d.ssrcGroup={},d.ssrcGroup[t]={},d.ssrcGroup[t].simulcastGroup=a.match(/\d+/g),n.ssrcMap.set(c,d)}})}},{key:"getSSRCInfo",value:function(e){return this.ssrcMap.get(e)}},{key:"setupVideoTagMethods",value:function(e,t){var n=this,r=document.getElementById(e);if(r){n.videoElemTag=e;r.addEventListener&&(r.addEventListener("canplay",function(){if(!n.ttfmSentSSRCs.includes(String(t))){var e={ssrc:String(t),highResTs:a.Registry.getClockSync().getSynchronizedTimestamp()};n.ttfmSentSSRCs.push(String(t)),n.emb.make(d.internalFabricEvent.mediaPlaybackStart,n.conferenceId,n.pc,e)}}),r.addEventListener("suspend",function(){var e={ssrc:String(t),highResTs:a.Registry.getClockSync().getSynchronizedTimestamp()};n.emb.make(d.internalFabricEvent.mediaPlaybackSuspended,n.conferenceId,n.pc,e)}))}}},{key:"updateSSRCInfo",value:function(e,t,n,r){var i=this.ssrcMap.get(e);i||(i={}),i.ssrc=e,i.remoteUserID=t,i.usageLabel=n,i.associatedVideoTag=r,this.ssrcMap.set(e,i),r&&t!==this.credentials.getUserId()&&this.setupVideoTagMethods(r,e)}},{key:"updateConferenceId",value:function(e){this.conferenceId=e,this.userAliveHandler.updateConferenceId(e)}},{key:"updateRemoteId",value:function(e){this.remoteId=e}}],[{key:"Builder",get:function(){return(function(){function t(){i(this,t)}return o(t,[{key:"withPc",value:function(e){return this.pc=e,this}},{key:"withInterval",value:function(e){return this.interval=e,this}},{key:"withRemoteId",value:function(e){return this.remoteId=e,this}},{key:"withFabricUsage",value:function(e){return this.fabricUsage=e,this}},{key:"withConferenceId",value:function(e){return this.conferenceId=e,this}},{key:"withRemoteEndpointType",value:function(e){return this.remoteEndpointType=e,this}},{key:"withFabricTransmissionDirection",value:function(e){return this.fabricTransmissionDirection=e,this}},{key:"withCallback",value:function(e){return this.callback=e,this}},{key:"make",value:function(){return new e(this)}}]),t})()}}]),e})();n.PeerConnectionHandler=p},{"../browserapi/devices":32,"../config/constants":49,"../peerconnection/pccallbackhandler":55,"../utility/csiologger":118,"../utility/registry":127,"../utility/timestamps":131,"./getstatshandler":54,"./useralivehandler":58}],57:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PeerConnectionManager=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./peerconnectionhandler"),a=e("../utility/registry"),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),c=(function(){function e(){r(this,e),this.pcHandlers=new Map}return i(e,[{key:"removePcHandler",value:function(e){var t=this.getPcHandler(e);if(t){var n=t.getPcHash();this.pcHandlers.delete(n)}}},{key:"removePcStats",value:function(e){e&&a.Registry.getStatsMonitor().delete(e)}},{key:"addPcHandler",value:function(e,t,n,r,i,s,c){if(!this.getPcHandler(e)){var u=5e3;a.Registry.getCredentials().isAdaptiveStatsEnabled()&&(u=1e3);var l=(new o.PeerConnectionHandler.Builder).withPc(e).withRemoteId(t).withFabricUsage(n).withConferenceId(r).withRemoteEndpointType(i).withFabricTransmissionDirection(s).withCallback(c).withInterval(u).make();this.pcHandlers.set(l.getPcHash(),l)}}},{key:"getPcHandler",value:function(e){var t=null;return e?(this.pcHandlers.forEach(function(n,r){n&&n.getPeerConnection()===e&&(t=n)}),t):t}},{key:"getPcHandlerByHash",value:function(e){return e&&this.pcHandlers.has(e)?this.pcHandlers.get(e):null}},{key:"getPeerConnectionStatus",value:function(){return this.pcHandlers.forEach(function(e,t){if(e.getPcState()!==s.fabricState.terminated)return e.getPcState()}),s.fabricState.terminated}},{key:"updateConferenceId",value:function(e){this.pcHandlers.forEach(function(t,n){t.updateConferenceId(e)})}}]),e})();n.PeerConnectionManager=c},{"../config/constants":49,"../utility/registry":127,"./peerconnectionhandler":56}],58:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.UserAliveHandler=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),c=e("../utility/timeoutprocess"),u=e("../utility/registry"),l=1e4,d=(function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l));return o.emb=u.Registry.getEventMessageBuilder(),o.pc=n,o.conferenceId=e,o.setCallback(o.send),o}return o(t,c.TimeoutProcess),a(t,[{key:"send",value:function(){this.conferenceId!==s.tmpConferenceId&&this.pc&&this.emb.make(s.internalFabricEvent.userAlive,this.conferenceId,this.pc)}},{key:"updateConferenceId",value:function(e){this.conferenceId=e}}]),t})();n.UserAliveHandler=d},{"../config/constants":49,"../utility/registry":127,"../utility/timeoutprocess":130}],59:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.Authenticator=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},l=e("./jwt/jwt"),d=e("./jwt/jwttoken"),f=r(e("../config/settings")),h=r(e("../utility/base64")),p=r(e("../config/callstatserrors")),v=r(e("../config/constants")),y=r(e("../browserapi/localstorage")),g=r(e("../utility/json")),m=e("./xmlhttp"),b=e("./xmlhttpservice"),w=e("../utility/registry"),k=r(e("../utility/csiologger")),S=f.authRetryTimeout,C=(function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Authenticator"));return e.clockSync=w.Registry.getClockSync(),e.credentials=w.Registry.getCredentials(),e.generateTurnCredentials=!1,e}return a(t,b.XMLHttpService),c(t,[{key:"initiate",value:function(e,n,r,i){var o=this;return this.inProgress?(i&&i(p.csError.authOngoing,null),new Promise(function(e,t){t(new Error(o.name+": in progress"))})):e&&r?(this.appId=e,"object"===(void 0===r?"undefined":s(r))?this.userId=r.aliasName:this.userId=r,this.initCallback=i,"function"==typeof n?(this.setTokenGenerator(n),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this)):new Promise(function(e,r){o.createTokenGenerator(n).then(function(n){o.setTokenGenerator(n),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",o).call(o).then(function(){e()},function(e){r(e)})},function(e){i&&i(p.csError.authError,e.toString()),r(new Error(o.name+": tokenGenerator creation problem ("+e+")"))})})):new Promise(function(e,t){t(new Error(o.name+": Empty credentials"))})}},{key:"setGenerateTurnCredentials",value:function(e){this.generateTurnCredentials=e}},{key:"getToken",value:function(){var e=null;return this.token&&(e=this.token.getToken()),e}},{key:"getTaasEnabled",value:function(){var e=!1;return this.token&&(e=this.token.getTaasEnabled()),e}},{key:"isTokenValid",value:function(){return!!this.token&&this.token.isValid(this.credentials)}},{key:"getElapsed",value:function(){return this.isCompleted()?this.elapsed:null}},{key:"getIceServers",value:function(){return this.iceServers}},{key:"getTurnServers",value:function(){return this.turnServers}},{key:"reset",value:function(){this.token=null,this.reauthTimer=null,this.renew=!1,this.credentials=null,this.jwt=new l.Jwt,this.tokenGenerator=function(e,t){t("Token generator is not set")},this.elapsed=0,this.iceServers=null,this.turnServers=null,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"setupToken",value:function(e){y.store("csio_auth_data",JSON.stringify(e)),this.token=new d.JwtToken(e,this.clockSync)}},{key:"clearReauthTimer",value:function(){null!==this.reauthTimer&&(clearTimeout(this.reauthTimer),this.reauthTimer=null)}},{key:"setupReauthTimer",value:function(e){var t=this;t.clearReauthTimer(),t.reauthTimer=setTimeout(function(){t.reAuthenticate()},e)}},{key:"reAuthenticate",value:function(){this.inProgress||(this.inProgress=!0,this.token=null,this.sendRequest())}},{key:"handleErrorActions",value:function(e){if(0!==e.length){var t=e.shift();if(t.action===p.authErrorActions.RETRY){var n=t.params.timeout?t.params.timeout:f.authRetryTimeout;this.setupReauthTimer(n),this.handleErrorActions(e)}t.action===p.authErrorActions.GET_NEW_TOKEN&&(this.renew=!0,this.handleErrorActions(e)),t.action===p.authErrorActions.REPORT_ERROR&&(k.error(this.name+": "+t.params.errorReason),this.initCallback&&this.initCallback(p.csError.authError,this.name+": "+t.params.errorReason),this.handleErrorActions(e))}}},{key:"setTokenGenerator",value:function(e){this.tokenGenerator=e}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=e.getElapsed(),r=g.parse(t.response);if(!r)return k.error(this.name+": invalid authentication response"),void this.sendNextRequest();if(r["urn:x-callstats:auth:errorActions"]&&r["urn:x-callstats:auth:errorActions"].length>0)this.handleErrorActions(r["urn:x-callstats:auth:errorActions"]);else{if(200===t.status){if("bearer"!==r.token_type)return k.error(this.name+": successful, but token type was not bearer. Scheduling retry."),void this.sendNextRequest();this.setupToken(r.access_token),r.iceServers&&(this.iceServers=r.iceServers),r.turnServers&&(this.turnServers=r.turnServers),r.metadata&&r.metadata.urls&&!window.csioproxy&&(this.backendURLs=r.metadata.urls,this.backendURLs.events&&f.setRestEventUrl(this.backendURLs.events+"/"),this.backendURLs.stats&&f.setRestStatsUrl(this.backendURLs.stats+"/"),this.backendURLs.config&&f.setConfigServiceUrl(this.backendURLs.config+"/"));var i=parseInt(1e3*parseInt(r.expires_in)*.9);return this.setupReauthTimer(i),this.renew=!1,this.initCallback&&this.initCallback(p.csError.success,v.csCallBackMessages.authSuccessful),this.elapsed=n,void this.completeProcess()}k.error("Authentication failed, but no error actions were defined in response."),this.sendNextRequest()}}},{key:"request",value:function(){var e=this;this.clearReauthTimer();var t=new Promise(function(t,n){e.tempResolve=t,e.tempReject=n});return this.tokenGenerator(this.renew,function(t,n){if(null!==t)return e.initCallback&&e.initCallback(p.csError.tokenGenerationError,t.toString()),e.rejectCb(new Error(e.name+": tokenGenerationError")),k.error("tokenGenerationError ",t),null;var r=f.authServiceUrl+"authenticate",i={client_id:e.userId+"@"+e.appId,code:n,grant_type:"authorization_code"};(0,m.sendPostRequest)(r,{"Content-Type":"application/x-www-form-urlencoded"},S,i).then(function(t){e.tempResolve(t)},function(t){e.tempReject(t)})}),t}},{key:"tokenGeneratorCreator",value:function(e,t){var n=this;return function(r,i){var o=null;if(!r&&null!==o)return i(null,o);var a={userID:n.userId,appID:n.appId,generateTurnCredentials:n.generateTurnCredentials};t&&(a.keyId=t),n.jwt.sign({alg:"HS256"},a,e).then(function(e){o=e,i(null,e)}).catch(function(e){i(e)})}}},{key:"createTokenGenerator",value:function(e){var t=this;return new Promise(function(n,r){var i=null;e.indexOf(":")>-1&&(i=h.strtohex(e.split(":")[0]),e=e.split(":")[1]),t.jwt.importKey(e).then(function(r){e=null;var o=t.tokenGeneratorCreator(r,i);n(o)}).catch(function(e){k.error(t.name+": could not import key ("+e+")"),r(e)})})}}]),t})();n.Authenticator=C},{"../browserapi/localstorage":33,"../config/callstatserrors":48,"../config/constants":49,"../config/settings":50,"../utility/base64":115,"../utility/csiologger":118,"../utility/json":124,"../utility/registry":127,"./jwt/jwt":68,"./jwt/jwttoken":69,"./xmlhttp":74,"./xmlhttpservice":75}],60:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GenericEventHandler=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../config/settings")),s=e("./xmlhttp"),c=e("../utility/registry"),u=r(e("../utility/csiologger")),l=(function(){function e(){i(this,e),this.credentials=c.Registry.getCredentials(),this.enabled=!1}return o(e,[{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"sendEvent",value:function(e,t){this.send(e,t).then(function(e){u.log("Got generic response: %o",e)}).catch(function(e){u.log("Got error for generic request",e)})}},{key:"send",value:function(e,t){if(!this.enabled)return new Promise(function(e,t){t(new Error("GenericEvent Error: not enabled"))});var n=this;return new Promise(function(r,i){var o={appID:n.credentials.appId,userID:encodeURIComponent(n.credentials.userId),version:a.version,eventType:e,data:t},c=a.collectorUrl+"generics";(0,s.sendPostRequest)(c,{"Content-Type":"application/json"},5e3,o).then(function(e){r(e.getXhr().response)},function(e){i(e)})})}}]),e})();n.GenericEventHandler=l},{"../config/settings":50,"../utility/csiologger":118,"../utility/registry":127,"./xmlhttp":74}],61:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ClockSync=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},u=r(e("../config/settings")),l=e("./xmlhttp"),d=r(e("../utility/timestamps")),f=e("./xmlhttpservice"),h=e("../utility/registry"),p=r(e("../config/constants")),v=(function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ClockSync"));return e.currentOffset=0,e.completed=!1,e}return a(t,f.XMLHttpService),s(t,[{key:"initiate",value:function(){return this.startTime=d.getCurrent(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this)}},{key:"getSynchronizedTimestamp",value:function(){return d.getCurrent()+this.currentOffset}},{key:"getElapsed",value:function(){return this.isCompleted()?this.endTime-this.startTime:null}},{key:"getOffset",value:function(){return this.currentOffset}},{key:"reset",value:function(){this.currentOffset=0,this.offsetResults=[],this.startTime=0,this.endTime=0,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"request",value:function(){var e=u.collectorUrl+"clockSync";return(0,l.sendGetRequest)(e,null,5e3)}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=e.getElapsed(),r=JSON.parse(t.response),i=d.getCurrent();this.handleMessage(r,n,i)}},{key:"handleMessage",value:function(e,t,n){var r=t/2;r>6e4?(h.Registry.getGenericEventHandler().sendEvent(p.logEvents.log,{msg:"latency > MAX_ALLOWED_LATENCY: clockSync reset"}),this.offsetResults=[]):this.addOffset(e,r,n),this.offsetResults.length>=5?(this.calculateOffset(),this.endTime=d.getCurrent(),this.completeProcess()):this.sendRequest()}},{key:"isCompleted",value:function(){return this.completed}},{key:"addOffset",value:function(e,t,n){var r=e.now+t-n;this.offsetResults.push(r)}},{key:"calculateOffset",value:function(){var e=this.offsetResults.reduce(function(e,t){return e+t});this.currentOffset=e/this.offsetResults.length,this.currentOffset=isNaN(this.currentOffset)?0:this.currentOffset,h.Registry.getGenericEventHandler().sendEvent(p.logEvents.log,{msg:"clockSync Done, offset is: "+this.currentOffset+"results length"+this.offsetResults.length}),this.offsetResults=[],this.completed=!0}}]),t})();n.ClockSync=v},{"../config/constants":49,"../config/settings":50,"../utility/registry":127,"../utility/timestamps":131,"./xmlhttp":74,"./xmlhttpservice":75}],62:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(){r(this,e),this.connected=!1,this.reconnected=!1,this.conferenceUrl={}}return i(e,[{key:"setup",value:function(){return new Promise(function(e,t){e()})}},{key:"isReady",value:function(){return this.connected}},{key:"send",value:function(e){}}]),e})();n.CollectorConnection=o},{}],63:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServiceGet=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=e("../xmlhttp"),u=e("../xmlhttpservice"),l=e("../../utility/registry"),d=(function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ConfigService"))}return o(t,u.XMLHttpService),a(t,[{key:"initiate",value:function(e){var n=this;return this.url=e,this.authToken=l.Registry.getAuthenticator().getToken(),this.authToken?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this):new Promise(function(e,t){t(new Error(n.name+": authToken has to be string"))})}},{key:"getConfig",value:function(){return this.config}},{key:"getElapsed",value:function(){return this.isCompleted()?this.elapsed:null}},{key:"reset",value:function(){this.authToken=null,this.url=null,this.config=null,this.elapsed=0,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"request",value:function(){var e={Authorization:"Bearer "+this.authToken};return(0,c.sendGetRequest)(this.url,e,2e3)}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=e.getElapsed();this.config=JSON.parse(t.response),this.elapsed=n,this.completeProcess()}}]),t})();n.ConfigServiceGet=d},{"../../utility/registry":127,"../xmlhttp":74,"../xmlhttpservice":75}],64:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServicePost=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},c=e("../xmlhttp"),u=e("./configserviceget"),l=(function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,u.ConfigServiceGet),a(t,[{key:"initiate",value:function(e,n){return this.body=n,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this,e)}},{key:"request",value:function(){var e={Authorization:"Bearer "+this.authToken,"Content-Type":"application/json"};return(0,c.sendPostRequest)(this.url,e,2e3,this.body)}}]),t})();n.ConfigServicePost=l},{"../xmlhttp":74,"./configserviceget":63}],65:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServiceWrapper=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./configserviceget"),c=e("./configservicepost"),u=r(e("../../config/settings")),l=e("../../utility/registry"),d=r(e("../../utility/csiologger")),f=(function(){function e(){i(this,e),this.internalConfigService=new s.ConfigServiceGet,this.appConfigService=new s.ConfigServiceGet,this.senderConfigService=new c.ConfigServicePost,this.defaultSenderConfig=null}return a(e,[{key:"initiateInternalConfig",value:function(){var e=this,t=l.Registry.getCredentials().getAppId();if(!t)return new Promise(function(t,n){d.log("appId has to be string"),n(new Error(e.internalConfigService.name+": appId has to be string"))});var n=u.configServiceUrl+t;return this.internalConfigService.initiate(n+"/configurations/internal")}},{key:"initiateAppConfig",value:function(){var e=this,t=l.Registry.getCredentials().getAppId();if(!t)return new Promise(function(t,n){d.log("appId has to be string"),n(new Error(e.appConfigService.name+": appId has to be string"))});var n=u.configServiceUrl+t;return this.appConfigService.initiate(n+"/configurations")}},{key:"initiateSenderConfig",value:function(e){var t=this;if(this.senderConfigService.getConfig())return new Promise(function(e,n){d.log("sender config already present"),n(new Error(t.senderConfigService.name+": sender config already present"))});var n=l.Registry.getCredentials().getAppId(),r=l.Registry.getCredentials().getUserId();if(!n||!r)return new Promise(function(e,n){d.log("appId and userId have to be string"),n(new Error(t.senderConfigService.name+": appId and userId have to be string"))});if(this.defaultSenderConfig=this.getCurrentVideoSenderConfig(e),!this.defaultSenderConfig)return new Promise(function(e,n){d.log("Could not obtain a sender config"),n(new Error(t.senderConfigService.name+": Could not obtain a sender config"))});var i=u.configServiceUrl+n,o={app_id:n,local_id:r,rtc_rtp_parameters:this.defaultSenderConfig};return this.senderConfigService.initiate(i+"/configurations",o)}},{key:"getInternalConfig",value:function(){return this.internalConfigService.getConfig()}},{key:"getAppDefaultConfig",value:function(){var e=this.appConfigService.getConfig(),t={peerConnection:null,media:null};return e.default?(e.default.peerConnection&&(t.peerConnection=e.default.peerConnection),e.default.media&&(t.media=e.default.media),t):t}},{key:"getAppRecommendedConfig",value:function(){var e=this.appConfigService.getConfig(),t={};return e.recommended?(e.recommended.peerConnection&&(t.peerConnection=e.recommended.peerConnection),e.recommended.media&&(t.media=e.recommended.media),t):t}},{key:"getSenderConfig",value:function(){var e=this.senderConfigService.getConfig();return e&&e.recommended&&e.recommended.sender?e.recommended.sender:null}},{key:"getDefaultSenderConfig",value:function(){return this.defaultSenderConfig?this.defaultSenderConfig:null}},{key:"getInternalElapsed",value:function(){return this.internalConfigService.getElapsed()}},{key:"getAppElapsed",value:function(){return this.appConfigService.getElapsed()}},{key:"getSenderElapsed",value:function(){return this.senderConfigService.getElapsed()}},{key:"getCurrentVideoSenderConfig",value:function(e){var t={encodings:[{maxBitrate:0}]},n=l.Registry.getConferenceManager().getConferenceForPc(e);if(!n)return d.warn("No conference found for PC, skipping"),null;if(n.getPeerConnectionManager().pcHandlers.size>1)return d.warn("Multiple PCs found, skipping"),null;if(!e.getSenders||"function"!=typeof e.getSenders)return d.warn("Get senders error"),t;for(var r=e.getSenders(),i=void 0,a=0;a<r.length;a+=1){var s=r[a];if("object"!==(void 0===s?"undefined":o(s))||!s.track||"object"!==o(s.track)||!s.track.kind)return d.warn("Access senders error"),null;if("video"===s.track.kind){if(i)return d.warn("Multiple video sender, skipping"),null;i=s}}if(!i)return d.warn("No video sender found"),null;if(!i.getParameters||"function"!=typeof i.getParameters)return d.warn("Sender getParameters error"),t;var c=i.getParameters();return"object"!==(void 0===c?"undefined":o(c))?null:("encodings"in c||(c.encodings=[]),0===c.encodings.length&&c.encodings.push({maxBitrate:0}),c)}}]),e})();n.ConfigServiceWrapper=f},{"../../config/settings":50,"../../utility/csiologger":118,"../../utility/registry":127,"./configserviceget":63,"./configservicepost":64}],66:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectionManager=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),a=e("./restcollectorconnection"),s=e("../utility/registry"),c=(function(){function e(){r(this,e),this.connection=null}return i(e,[{key:"setupCollectorConnection",value:function(){this.connection=new a.RestCollectorConnection}},{key:"setup",value:function(){return this.connection?this.connection.setup():new Promise(function(e,t){t()})}},{key:"isReady",value:function(){return!!this.connection&&this.connection.isReady()}},{key:"send",value:function(e){this.connection?this.connection.send(e):s.Registry.getGenericEventHandler().sendEvent(o.logEvents.error,{msg:"Connection not available to the collector"})}}]),e})();n.ConnectionManager=c},{"../config/constants":49,"../utility/registry":127,"./restcollectorconnection":71}],67:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.JabraService=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../utility/timestamps")),s=r(e("../config/constants")),c=e("../utility/registry"),u=r(e("../utility/csiologger")),l=r(e("@gnaudio/jabra-browser-integration")),d=(function(){function e(){i(this,e),this.isTxSpeechStarted=!1,this.isRxSpeechStarted=!1,this.isCrossTalkStarted=!1,this.conferenceID=null,this.started=!1,this.eventList=[],this.statsList=[]}return o(e,[{key:"sendJabraActiveState",value:function(e,t){void 0===e&&void 0===t||(!this.isTxSpeechStarted&&e?this.isTxSpeechStarted=!0:!1===e&&this.isTxSpeechStarted&&(this.isTxSpeechStarted=!1,this.isCrossTalkStarted||this.sendCustomEvent("agentSpeakingStop")),!this.isRxSpeechStarted&&t?this.isRxSpeechStarted=!0:!1===t&&this.isRxSpeechStarted&&(this.isRxSpeechStarted=!1,this.isCrossTalkStarted||this.sendCustomEvent("contactSpeakingStop")),this.isTxSpeechStarted&&this.isRxSpeechStarted?this.isCrossTalkStarted=!0:this.isCrossTalkStarted&&(this.isTxSpeechStarted||this.isRxSpeechStarted)&&(this.isCrossTalkStarted=!1,this.sendCustomEvent("crossTalkStop")),this.isCrossTalkStarted?this.sendCustomEvent("crossTalkStart"):this.isTxSpeechStarted?this.sendCustomEvent("agentSpeakingStart"):this.isRxSpeechStarted&&this.sendCustomEvent("contactSpeakingStart"))}},{key:"sendCustomStats",value:function(e,t){if(this.conferenceID){if(e){var n={name:"noiseDb",value:e,timestamp:a.getCurrent()};this.statsList.push(n)}if(t){var r={name:"exposureDb",value:t,timestamp:a.getCurrent()};this.statsList.push(r)}this.statsList.length>=40&&(c.Registry.getEventMessageBuilder().make(s.customEvents.stats,this.conferenceID,null,{stats:this.statsList}),this.statsList=[])}}},{key:"sendCustomEvent",value:function(e){if(this.conferenceID){var t={type:e,timestamp:a.getCurrent(),source:"Jabra"};this.eventList.push(t),10===this.eventList.length&&(c.Registry.getEventMessageBuilder().make(s.customEvents.event,this.conferenceID,null,{eventList:this.eventList}),this.eventList=[])}}},{key:"initJabraEventListeners",value:function(){var e=this;l&&(l.addEventListener("device attached",function(){console.log("Jabra - device attached")}),l.addEventListener("mute",function(t){e.sendCustomEvent("mute")}),l.addEventListener("unmute",function(t){e.sendCustomEvent("unmute")}),l.addEventListener("devlog",function(t){var n=void 0,r=t.data["TX Acoustic Logging Level"];void 0!==r&&(n=parseInt(r));var i=void 0,o=t.data["RX Acoustic Logging Level"];void 0!==o&&(i=parseInt(o)),e.sendCustomStats(n,i);var a=t.data.ID;"VOLUP TAP"===a?e.sendCustomEvent("volumeUp"):"VOLDOWN TAP"===a&&e.sendCustomEvent("volumeDown");var s=t.data["Mute State"];"TRUE"===s?e.sendCustomEvent("mute"):"FALSE"===s&&e.sendCustomEvent("unmute");var c=t.data["Boom Position Guidance OK"];"TRUE"===c?e.sendCustomEvent("boomArmPositionOk"):"FALSE"===c&&e.sendCustomEvent("boomArmPositionNotOk");var u=void 0,l=t.data.Speech_Analysis_TX;void 0!==l&&(u="true"===l.toString().toLowerCase());var d=void 0,f=t.data.Speech_Analysis_RX;void 0!==f&&(d="true"===f.toString().toLowerCase()),e.sendJabraActiveState(u,d)}))}},{key:"initJabraService",value:function(){l&&l.init().then(function(){return l.getInstallInfo()}).then(function(e){e.installationOk?u.log("CallstatsJabraShim: Jabra Installation check succeded"):u.log("CallstatsJabraShim: Browser SDK Installation incomplete. Please (re)install")}).catch(function(e){e&&u.log(e.name+": "+e.message)})}},{key:"startJabraMonitoring",value:function(e){if(!this.started){if(this.started=!0,!e)return void u.error("CallstatsJabraShim: Cannot startJabraMonitoring/Invalid Arguments");u.info("startJabraMonitoring starting"),this.eventList=[],this.statsList=[],this.conferenceID=e,this.initJabraEventListeners()}}},{key:"stopJabraMonitoring",value:function(){this.started=!1,this.eventList.length>0&&(c.Registry.getEventMessageBuilder().make(s.customEvents.event,this.conferenceID,null,{eventList:this.eventList}),this.eventList=[]),this.statsList.length>0&&(c.Registry.getEventMessageBuilder().make(s.customEvents.stats,this.conferenceID,null,{stats:this.statsList}),this.statsList=[]),this.conferenceID=null,this.isTxSpeechStarted=!1,this.isRxSpeechStarted=!1,this.isCrossTalkStarted=!1}}]),e})();n.JabraService=d},{"../config/constants":49,"../utility/csiologger":118,"../utility/registry":127,"../utility/timestamps":131,"@gnaudio/jabra-browser-integration":1}],68:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Jwt=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../../utility/base64")),s=r(e("../../utility/csiologger")),c=e("../../utility/registry"),u=r(e("../../config/constants")),l=(function(){function e(){i(this,e),this.cryptotype=null,window.crypto&&window.crypto.subtle?(this.cryptotype="standard",this.subtlecrypto=window.crypto.subtle):window.crypto&&!window.crypto.subtle&&window.crypto.webkitSubtle?(this.cryptotype="webkit",this.subtlecrypto=window.crypto.webkitSubtle):window.msCrypto&&window.msCrypto.subtle?(this.cryptotype="ie",this.subtlecrypto=window.msCrypto.subtle):(this.subtlecrypto=null,s.info("WebCryptography API not supported in this browser.")),this.browserName=c.Registry.getEndpoint().getBrowserName()}return o(e,[{key:"sign",value:function(e,t,n){var r=this;return new Promise(function(i,o){"HS256"!==e.alg&&o("Use header.alg=HS256"),e=JSON.stringify(e),"string"!=typeof t&&(t=JSON.stringify(t));var c=a.urlencodeUnicode(e)+"."+a.urlencodeUnicode(t);window.csioReactNative&&window.csiosign(c,n,function(e,t){if(e)return s.log("Token sign error",e),void o(error);i(t)});var l=new ArrayBuffer(c.length),d=new Uint8Array(l),f={name:"HMAC"};"ie"!==r.cryptotype&&"webkit"!==r.cryptotype&&r.browserName!==u.browserName.edge||(f.hash={name:"sha-256"});for(var h=c.length-1;h>=0;h--)d[h]=c.charCodeAt(h);var p=r.subtlecrypto.sign(f,n,d);"ie"===r.cryptotype?(p.onerror=o,p.oncomplete=function(e){c=r.buildToken(e.target.result,c),i(c)}):p.then(function(e){c=r.buildToken(e,c),i(c)}).catch(function(e){o(e)})})}},{key:"buildToken",value:function(e,t){for(var n="",r=new Uint8Array(e),i=r.byteLength,o=0;o<i;o++)n+=String.fromCharCode(r[o]);return t+"."+a.urlencode(n)}},{key:"decode",value:function(e){try{var t=e.split(".")[1],n=a.decode(t);return JSON.parse(n)}catch(e){return s.error("Could not decode token. "),null}}},{key:"importKey",value:function(e){var t=this;return new Promise(function(n,r){if(window.csioReactNative)n(e);else{if("webkit"===t.cryptotype)for(;e.length<32;)e+="\0";var i={kty:"oct",k:a.urlencode(e),alg:"HS256"},o={name:"HMAC",hash:{name:"SHA-256"}};if("ie"===t.cryptotype?i.extractable=!1:i.ext=!1,"webkit"===t.cryptotype&&(o=null,i.use="sig"),"ie"===t.cryptotype||"webkit"===t.cryptotype){var s=JSON.stringify(i);i=new Uint8Array(s.length);for(var c=0;c<s.length;c++)i[c]=s.charCodeAt(c)}var u=t.subtlecrypto.importKey("jwk",i,o,!1,["sign"]);"ie"===t.cryptotype?(u.onerror=r,u.oncomplete=function(e){n(e.target.result)}):u.then(n).catch(r)}})}}]),e})();n.Jwt=l},{"../../config/constants":49,"../../utility/base64":115,"../../utility/csiologger":118,"../../utility/registry":127}],69:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.JwtToken=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./jwt"),a=e("../../utility/registry"),s=(function(){function e(t){r(this,e),this.token=t,this.statsSubmissionInterval=15e3,this.collectSDP=!1,this.appId=null,this.userId=null,this.tokenPayload=null,this.jwt=new o.Jwt,this.expires=null,this.clockSync=a.Registry.getClockSync(),this.taasEnabled=!1,this.enableMLNotification=!1,this.setupTokenPayload()}return i(e,[{key:"getToken",value:function(){return this.token}},{key:"getTaasEnabled",value:function(){return this.taasEnabled}},{key:"setupTokenPayload",value:function(){var e=this.jwt.decode(this.token);if(e){if(this.statsSubmissionInterval=parseInt(e.submissionInterval,10),this.collectSDP=e.collectSDP,this.taasEnabled=e.taasEnabled,this.appId=e.appID,this.userId=e.userID,this.ingestedEvents=e.ingestedEvents,this.enableMLNotification=e.mlPipelineEnabled,navigator.mozGetUserMedia){var t=e.expiry.split(" ").join("T");this.expires=Date.parse(t)}else this.expires=new Date(e.expiry);a.Registry.getCredentials().setStatsSubmissionInterval(this.statsSubmissionInterval),a.Registry.getCredentials().setCollectSDP(this.collectSDP),a.Registry.getCredentials().setIngestedEvents(this.ingestedEvents),"boolean"==typeof this.enableMLNotification&&a.Registry.getCredentials().setEnableMLNotification(this.enableMLNotification)}}},{key:"isValid",value:function(e){var t=this,n=!1;return null!==t.token&&t.appId===e.appId&&t.userId===encodeURIComponent(e.userId)&&new Date(this.clockSync.getSynchronizedTimestamp())<t.expires&&(n=!0),n}}]),e})();n.JwtToken=s},{"../../utility/registry":127,"./jwt":68}],70:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTRunnerService=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../utility/registry"),s=r(e("../utility/pctutility")),c=e("../config/constants"),u=r(c),l=r(c),d=r(e("../utility/csiologger")),f=r(e("../utility/timestamps")),h=(function(){function e(){i(this,e),this.interval=6e4,this.iceServers=[],this.iceServersIndex=0,this.timer=null,this.precalltest=a.Registry.getPreCallTest(),this.callInProgress=!1,this.precalltestIds=[]}return o(e,[{key:"handlePrecallTestResults",value:function(e,t){var n=a.Registry.getCallbacks().get(u.callbackFunctions.preCallTestResults),r=a.Registry.getCallbacks().get(u.callbackFunctions.preCallTest),i=a.Registry.getCallbacks().get(u.callbackFunctions.pctConnectionQualityChange);if(e){t||s.storePctResults(e),this.precalltestIds.push(e.id),e.tests&&e.tests.ice&&(""===e.tests.ice.turnIpAddress&&delete e.tests.ice.turnIpAddress,""===e.tests.ice.turnIpVersion&&delete e.tests.ice.turnIpVersion,""===e.tests.ice.turnTransport&&delete e.tests.ice.turnTransport),s.addPctMeasurementToAggregator(e);var o={},c=a.Registry.getCredentials().getUserIdObject();c&&(o.userName=c.userName,o.loginID=c.loginID),o.results=e,a.Registry.getEventMessageBuilder().make(u.precalltestEvents.results,null,null,o)}if(r&&r(e),n){if(t){var l={msg:"precalltest error: "+t};return d.warn("precalltest error:",l),a.Registry.getGenericEventHandler().sendEvent(u.logEvents.log,l),void n(u.callstatsAPIReturnStatus.failure,null)}var h=s.getPublicPrecalltestResults(e);n(e.status,h)}if(a.Registry.getCredentials().getEnableMLNotification()&&i&&e){if(!e.mlNotification||!e.mlNotification.sendFlag)return;var p={timestamp:f.getCurrent(),notificationID:e.id};e.mlNotification.notification&&null!==e.mlNotification.notification&&(p.notification=e.mlNotification.notification.text,p.notificationCode=e.mlNotification.notification.code),e.mlNotification.connectivity&&null!==e.mlNotification.connectivity&&(p.connectivity=e.mlNotification.connectivity.text,p.connectivityCode=e.mlNotification.connectivity.code),e.mlNotification.status&&null!==e.mlNotification.status&&(p.status=e.mlNotification.status.text,p.statusCode=e.mlNotification.status.code),e.mlNotification.summary&&null!==e.mlNotification.summary&&(p.summary=e.mlNotification.summary.text,p.summaryCode=e.mlNotification.summary.code),e.tests.ice&&(p.localIp=e.tests.ice.localIP,p.networkType=e.tests.ice.localIPNetworkType),i(p)}}},{key:"precalltestRunnerCallback",value:function(e,t){this.handlePrecallTestResults(e,t),this.iceServersIndex++,this.startPrecallTest()}},{key:"doPrecalltestCallback",value:function(e,t){this.handlePrecallTestResults(e,t)}},{key:"start",value:function(e,t){this.iceServers=e,this.interval=t,this.iceServersIndex=0,this.timer&&clearTimeout(this.timer),this.startPrecallTest()}},{key:"startPrecallTest",value:function(){var e=this,t=a.Registry.getEndpoint().serialize();if(!(t.buildName===l.browserName.safari&&t.buildVersion.startsWith("13.")||this.callInProgress)){var n=this.iceServers[this.iceServersIndex];if(!n){var r=a.Registry.getCallbacks().get(u.callbackFunctions.connectionRecommendation);return r&&r(a.Registry.getPCTAggregator().getRanking()),void(this.timer=setTimeout(function(){e.start(e.iceServers,e.interval)},this.interval))}var i={};i.urls=n.urls,i.username=n.username,i.credential=n.credential;var o={provider:n.label,isRunManually:!0,enableMLNotification:a.Registry.getCredentials().getEnableMLNotification()};this.precalltest.start([i],o,this.precalltestRunnerCallback.bind(this))}}},{key:"doPrecalltest",value:function(e,t,n){var r=a.Registry.getEndpoint().serialize();if(r.buildName!==l.browserName.safari||!r.buildVersion.startsWith("13.")){var i={provider:t,isRunManually:n,enableMLNotification:a.Registry.getCredentials().getEnableMLNotification()};this.precalltest.start(e,i,this.doPrecalltestCallback.bind(this))}}},{key:"setCallInProgress",value:function(e){this.callInProgress=e,this.callInProgress?this.timer&&clearTimeout(this.timer):(this.iceServersIndex=0,this.startPrecallTest())}},{key:"stop",value:function(){this.timer&&clearTimeout(this.timer),this.interval=6e4,this.iceServers=[],this.iceServersIndex=0,this.timer=null}},{key:"getPrecallTestIds",value:function(){return this.precalltestIds}},{key:"resetPrecallTestIds",value:function(){this.precalltestIds=[]}}]),e})();n.PCTRunnerService=h},{"../config/constants":49,"../utility/csiologger":118,"../utility/pctutility":126,"../utility/registry":127,"../utility/timestamps":131}],71:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.RestCollectorConnection=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../utility/registry"),u=e("./xmlhttp"),l=e("./collectorconnection"),d=e("./restrelays"),f=r(e("../config/constants")),h=r(e("../utility/csiologger")),p=(function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.relays=new d.RestRelays,e}return a(t,l.CollectorConnection),s(t,[{key:"isReady",value:function(){return!0}},{key:"send",value:function(e){var t={"Content-Type":"application/json",Authorization:"Bearer "+c.Registry.getAuthenticator().getToken()},n=e.eventType,r=e.confID,i=e.ucID,o=this.relays,a=o.getRequestUrl(n,r,i);if(a){var s=this.getMessage(n,e);h.log("sending ",a,e),(0,u.sendPostRequest)(a,t,5e3,s).then(function(t){if(t&&t.xhr){var i=JSON.parse(t.xhr.response);i&&"success"!==i.status&&(c.Registry.getGenericEventHandler().sendEvent(f.logEvents.restResponseError,{msg:"response failure "+r+":"+n+":"+i.msg+":"+i.status+JSON.stringify(e)}),h.error("Response error:",i.msg,e),"Token has expired"===i.msg&&c.Registry.getAuthenticator().reAuthenticate()),o.handleResponse(n,i,r)}else h.log("Response for request is null")},function(e){h.error(e)})}else h.warn("Resulting request URL is null, no action for message type: "+n)}},{key:"getMessage",value:function(e,t){delete t.confID,delete t.channel,delete t.token,delete t.appID,delete t.action,delete t.ucID,delete t.version,delete t.timeShift;var n=decodeURIComponent(t.localID);t.localID=n;var r=decodeURIComponent(t.remoteID);return t.remoteID=r,e===f.callstatsChannels.processedStats&&(t.eventType="stats"),t}}]),t})();n.RestCollectorConnection=p},{"../config/constants":49,"../utility/csiologger":118,"../utility/registry":127,"./collectorconnection":62,"./restrelays":72,"./xmlhttp":74}],72:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r,i){"success"===n.status?e&&e(n,r):t&&t(n)}}Object.defineProperty(n,"__esModule",{value:!0}),n.RestRelays=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=r(e("../config/constants")),c=r(e("../config/settings")),u=e("../utility/registry"),l=e("../utility/url"),d=r(e("../utility/csiologger")),f=(function(){function e(){var t;i(this,e),this.items=(t=o(),new Map([[s.fabricEvent.fabricTerminated,new h(s.urlType.events,"/events/fabric/terminated",t)],[s.fabricEvent.audioMute,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.audioUnmute,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.videoPause,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.videoResume,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.screenShareStart,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.screenShareStop,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.activeDeviceList,new h(s.urlType.events,"/events/devices/list",t)],[s.fabricEvent.applicationErrorLog,new h(s.urlType.events,"/events/app/logs",t)],[s.fabricEvent.dominantSpeaker,new h(s.urlType.events,"/events/dominantspeaker",t)],[s.fabricEvent.fabricHold,new h(s.urlType.events,"/events/fabric/actions",t)],[s.fabricEvent.fabricResume,new h(s.urlType.events,"/events/fabric/actions",t)],[s.fabricEvent.callUnAnswered,new h(s.urlType.events,"/events/fabric/actions",t)],[s.internalFabricEvent.oneWayMediaStart,new h(s.urlType.events,"/events/fabric/disruptions",t)],[s.internalFabricEvent.oneWayMediaStop,new h(s.urlType.events,"/events/fabric/disruptions",t)],[s.internalFabricEvent.circuitBreaker,new h(s.urlType.events,"/events/fabric/disruptions",t)],[s.internalFabricEvent.fabricSetup,new h(s.urlType.events,"/events/fabric/setup",t)],[s.fabricEvent.callDetails,new h(s.urlType.events,"/events/fabric/details",t)],[s.fabricEvent.fabricSetupFailed,new h(s.urlType.events,"/events/fabric/setupfailed",t)],[s.internalFabricEvent.userJoined,new h(s.urlType.events,"",o(function(e,t){t=decodeURIComponent(t);var n=u.Registry.getConferenceManager().get(t);n&&(d.log("UcId is - ",e.ucID,t),n.setUcId(e.ucID),u.Registry.getTransmissionManager().trySend())}))],[s.internalFabricEvent.userLeft,new h(s.urlType.events,"/events/user/left",t)],[s.internalFabricEvent.userAlive,new h(s.urlType.events,"/events/user/alive",t)],[s.internalFabricEvent.fabricTransportSwitch,new h(s.urlType.events,"/events/fabric/transportchange",t)],[s.internalFabricEvent.mediaPlaybackStart,new h(s.urlType.events,"/events/media/pipeline",t)],[s.internalFabricEvent.mediaPlaybackSuspended,new h(s.urlType.events,"/events/media/pipeline",t)],[s.internalFabricEvent.mediaPlaybackStalled,new h(s.urlType.events,"/events/media/pipeline",t)],[s.internalFabricEvent.ssrcMap,new h(s.urlType.events,"/events/ssrcmap",t)],[s.internalFabricEvent.connectedDeviceList,new h(s.urlType.events,"/events/devices/list",t)],[s.internalFabricEvent.sdpSubmission,new h(s.urlType.events,"/events/sdp",t)],[s.internalFabricEvent.iceDisruptionStart,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceDisruptionEnd,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceConnectionDisruptionStart,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceConnectionDisruptionEnd,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceAborted,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceTerminated,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceFailed,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceRestarted,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.fabricDropped,new h(s.urlType.events,"/events/fabric/status",t)],[s.customEvents.event,new h(s.urlType.events,"/events/customevent",t)],[s.customEvents.conferenceSummary,new h(s.urlType.events,"/events/conferencesummary",t)],[s.callstatsChannels.processedStats,new h(s.urlType.stats,"/stats",t)],[s.customEvents.stats,new h(s.urlType.stats,"/customstats",t)],[s.internalFabricEvent.fabricStateChange,new h(s.urlType.events,"/events/fabric/statechange",t)],[s.callstatsChannels.userFeedback,new h(s.urlType.events,"/events/feedback",t)],[s.precalltestEvents.results,new h(s.urlType.events,"/events/precall",t)],[s.precalltestEvents.associate,new h(s.urlType.events,"/events/precall",t)],[s.internalFabricEvent.userDetails,new h(s.urlType.events,"/events/userdetails",t)]]))}return a(e,[{key:"getRequestUrl",value:function(e,t,n){return this.items.has(e)?this.items.get(e).getRequestUrl(e,t,n):(d.warn("EventType Unsupported ",e),null)}},{key:"handleResponse",value:function(e,t,n){this.items.has(e)?this.items.get(e).handleResponse(t,n,e):d.warn("No response handler for event type "+e)}}]),e})(),h=(function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this.baseUrlType=t,this.urlAppendix=n,this.responseHandler=r}return a(e,[{key:"getRequestUrl",value:function(e,t,n){return c.restEventUrl&&c.restStatsUrl?(this.makeRequestUrl(e,t,n),this.requestUrl.toString()):null}},{key:"makeRequestUrl",value:function(e,t,n){var r=this.baseUrlType===s.urlType.events?c.restEventUrl:c.restStatsUrl;e===s.precalltestEvents.results?this.requestUrl=new l.Url(r,u.Registry.getCredentials().getAppId(),this.urlAppendix):(e===s.internalFabricEvent.userJoined&&n&&(n=""),this.requestUrl=new l.Url(r,u.Registry.getCredentials().getAppId()+"/conferences/"+t,n,this.urlAppendix))}},{key:"handleResponse",value:function(e,t,n){this.responseHandler(e,t,n)}}]),e})();n.RestRelays=f},{"../config/constants":49,"../config/settings":50,"../utility/csiologger":118,"../utility/registry":127,"../utility/url":132}],73:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TransmissionManager=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../utility/timestamps")),s=e("../collections/cache"),c=e("../utility/registry"),u=r(e("../config/constants")),l=r(e("../utility/csiologger")),d=(function(){function e(){i(this,e),this.cache=[],this.connectionManager=c.Registry.getConnectionManager(),this.lastTS=0,this.timerStarted=!1,this.lastUserAliveTS={}}return o(e,[{key:"send",value:function(e){(e.isCachable()||e.canBeSent())&&(this.cache[e.getConferenceId()]||(this.cache[e.getConferenceId()]=new s.Cache),this.cache[e.getConferenceId()].add(e,e.isPriority()),this.trySend())}},{key:"trySend",value:function(){if(this.connectionManager.isReady())return this.timerStarted?void 0:this.timeToSend()?void(this.sendMessage()&&this.startTimer()):void(this.getCacheLength()>0&&this.startTimer());this.setupConnection()}},{key:"setupConnection",value:function(){this.connectionManager.setup().then(function(){l.log("Connected to connectionManager")}).catch(function(e){return l.log("Could not connect to connectionManager",e)})}},{key:"canSendUserAlive",value:function(e,t){return!(this.lastUserAliveTS[t]&&e-this.lastUserAliveTS[t]<9e3)}},{key:"eventCanBeSent",value:function(e,t){var n=[u.internalFabricEvent.circuitBreaker,u.internalFabricEvent.oneWayMediaStart,u.internalFabricEvent.oneWayMediaStop,u.fabricEvent.applicationErrorLog,u.internalFabricEvent.sdpSubmission,u.callstatsChannels.userFeedback,u.fabricEvent.activeDeviceList,u.internalFabricEvent.connectedDeviceList,u.fabricEvent.dominantSpeaker,u.internalFabricEvent.mediaPlaybackStart,u.internalFabricEvent.mediaPlaybackSuspended,u.precalltestEvents.results,u.precalltestEvents.associate],r=[u.precalltestEvents.results,u.precalltestEvents.associate];if(!n.includes(e))return!0;var i=c.Registry.getCredentials().getIngestedEvents();if(r.includes(e)){if(e===u.precalltestEvents.results){var o=!(!t||!t.results)&&t.results.runManually;if(o&&i.includes("precallTestResultsManual"))return!0;if(!o&&i.includes("precallTestResultsAutomatic"))return!0}else if(e===u.precalltestEvents.associate&&i.includes("precallTestResultsAutomatic"))return!0;return!1}return!(e!==u.callstatsChannels.userFeedback||!i.includes("userFeedback"))||!!i.includes(e)}},{key:"sendMessage",value:function(){var e=void 0,t=void 0;if(0===this.getCacheLength())return!1;for(var n in this.cache)if(this.cache.hasOwnProperty(n)&&(t=n,(e=this.cache[t].peak())&&e.canBeSent()))break;if(!e||!e.canBeSent())return!1;if(e=this.cache[t].pop(),this.lastTS=a.getCurrent(),e.eventType===u.internalFabricEvent.userAlive){if(!this.canSendUserAlive(this.lastTS,t))return!0;this.lastUserAliveTS[t]=this.lastTS}var r=e.toJson();return this.eventCanBeSent(e.eventType,r)?(l.log("sending message type :",e.eventType,r),this.connectionManager.send(r)):l.log("Not sending message type :",e.eventType,r),!0}},{key:"startTimer",value:function(){var e=this;this.timerStarted||0!=this.getCacheLength()&&(this.timerStarted=!0,setTimeout(function(){e.timerStarted=!1,e.trySend()},200))}},{key:"timeToSend",value:function(){return a.getCurrent()>=this.lastTS+200}},{key:"getCacheLength",value:function(){var e=0;for(var t in this.cache)this.cache.hasOwnProperty(t)&&(e+=this.cache[t].length());return e}},{key:"updateConferenceId",value:function(e){var t=u.tmpConferenceId;this.cache[t]&&this.cache[t].updateConferenceId(e)}}]),e})();n.TransmissionManager=d},{"../collections/cache":36,"../config/constants":49,"../utility/csiologger":118,"../utility/registry":127,"../utility/timestamps":131}],74:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,i){return new Promise(function(o,a){var d,f=null,h=new XMLHttpRequest,p=u.Registry.getEndpoint().getBrowserName();if(h){for(var v in d=s.getCurrent(),h.open(e,t),p!==c.browserName.msie&&(h.timeout=r),n)n.hasOwnProperty(v)&&h.setRequestHeader(v,n[v]);var y=null;if("POST"===e){if("application/x-www-form-urlencoded"===n["Content-Type"]){var g=[];for(var m in i)i.hasOwnProperty(m)&&g.push(encodeURIComponent(m)+"="+encodeURIComponent(i[m]));y=g.join("&")}"application/json"===n["Content-Type"]&&(y=JSON.stringify(i))}h.onload=function(){f=s.getCurrent();var e=new l(h,f-d);o(e)},h.ontimeout=function(){a(new Error("connection timeout"))},h.onreadystatechange=function(){4===h.readyState&&0===h.status&&a(new Error("no server response received"))},h.send(y)}else a(new Error("creating instance failed"))})}Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();n.sendGetRequest=function(e,t,n){return o("GET",e,t,n,null)},n.sendPostRequest=function(e,t,n,r){return o("POST",e,t,n,r)};var s=r(e("../utility/timestamps")),c=r(e("../config/constants")),u=e("../utility/registry"),l=(function(){function e(t,n){i(this,e),this.xhr=t,this.elapsed=n}return a(e,[{key:"getXhr",value:function(){return this.xhr}},{key:"getElapsed",value:function(){return this.elapsed}}]),e})()},{"../config/constants":49,"../utility/registry":127,"../utility/timestamps":131}],75:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.XMLHttpService=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../utility/sigmoid"),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),s=100,c=1e4,u=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"XMLHttpService",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;r(this,e),this.name=t,this.minRetryTimeout=n,this.sigmoid=new o.Sigmoid(i-n,15,.5),this.reset()}return i(e,[{key:"reset",value:function(){this.inProgress=!1,this.completed=!1,this.resolveCb&&this.rejectCb(new Error(this.name+": resetting")),this.resolveCb=null,this.rejectCb=null}},{key:"initiate",value:function(){var e=this;if(this.inProgress)return new Promise(function(t,n){n(new Error(e.name+": in progress"))});var t=new Promise(function(t,n){e.resolveCb=t,e.rejectCb=n});return this.inProgress=!0,this.sendRequest(),t}},{key:"isCompleted",value:function(){return this.completed}},{key:"handleSendError",value:function(e){a.log(this.name+": send next request ("+e+")"),this.sendNextRequest()}},{key:"handleResponseProxy",value:function(e){this.handleResponse(e),this.resetTimeout()}},{key:"handleResponse",value:function(e){a.error(this.name+": handleResponse() not implemented"),this.completeProcess()}},{key:"completeProcess",value:function(){this.inProgress=!1,this.completed=!0,this.resolveCb.apply(this,arguments)}},{key:"request",value:function(){return a.error(this.name+": request() not implemented!"),new Promise(function(e,t){e()})}},{key:"sendRequest",value:function(){if(this.inProgress){var e=this.request();e&&e.then(this.handleResponseProxy.bind(this),this.handleSendError.bind(this))}}},{key:"sendNextRequest",value:function(){setTimeout(this.sendRequest.bind(this),this.getTimeout())}},{key:"resetTimeout",value:function(){this.sigmoid.reset()}},{key:"getTimeout",value:function(){return this.minRetryTimeout+this.sigmoid.getActual()}}]),e})();n.XMLHttpService=u},{"../utility/csiologger":118,"../utility/sigmoid":129}],76:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.CircuitBreakerEvent=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),a=(function(){function e(t,n){r(this,e),this.circuitBreakerType=t,this.ssrc=n}return i(e,[{key:"getCircuitBreakerType",value:function(){return this.circuitBreakerType}},{key:"getContent",value:function(){return{disruptionType:this.circuitBreakerType,ssrc:this.ssrc.toString()}}}],[{key:"isBadTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return!0;var t=e.getRequestedMeasurement();return!t||t.getReportType()===o.reportType.remote&&e.getStreamType()===o.streamType.outbound}}]),e})();n.CircuitBreakerEvent=a},{"../config/constants":49}],77:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.IntervalStatsMonitor=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),u=r(e("../utility/timestamps")),l=r(e("../config/constants")),d=r(e("./validator")),f=(function(){function e(t){a(this,e),this.hasMultipleRecords=!1,this.currentStats=t,this.previousStats=t,this.previousCallBackStats=t,this.previousStatsTime=u.getCurrent(),this.previousCallBackStatsTime=u.getCurrent()}return c(e,[{key:"setCurrent",value:function(e){this.currentStats=e,this.hasMultipleRecords=!0}},{key:"outdate",value:function(e){e===l.statsDestination.backend?(this.previousStats=this.currentStats,this.previousStatsTime=u.getCurrent()):(this.previousCallBackStats=this.currentStats,this.previousCallBackStatsTime=u.getCurrent())}},{key:"getCurrent",value:function(){return this.currentStats}},{key:"multipleRecords",value:function(){return this.hasMultipleRecords}},{key:"getPrevious",value:function(e){return e===l.statsDestination.backend?this.previousStats:this.previousCallBackStats}},{key:"getElapsedTime",value:function(e){return u.getCurrent()-(e===l.statsDestination.backend?this.previousStatsTime:this.previousCallBackStatsTime)}}]),e})(),h=(function(){function e(){a(this,e),this.measurementsHolderMap=new Map}return c(e,[{key:"set",value:function(e,t){if(this.measurementsHolderMap.has(e))this.measurementsHolderMap.get(e).setCurrent(t);else{var n=new f(t);this.measurementsHolderMap.set(e,n)}}},{key:"delete",value:function(e){e&&this.measurementsHolderMap.has(e)&&this.measurementsHolderMap.delete(e)}},{key:"getIntervalStats",value:function(e){for(var t=new Map,n=[].concat(o(this.measurementsHolderMap.keys())),r=0,i=n.length;r<i;r+=1){var a=n[r],s=this.measurementsHolderMap.get(a);if(s){var c=this.getIntervalStat(s,e);t.set(a,c),s.outdate(e)}}return t}},{key:"getTotalBytes",value:function(e){var t=e.getStreamType()===l.streamType.inbound?e.getReceivedBytes():e.getSentBytes();return d.checkForPositiveValue(t)?t:null}},{key:"getTotalPackets",value:function(e){var t=e.getStreamType()===l.streamType.inbound?e.getReceivedPackets():e.getSentPackets();return d.checkForPositiveValue(t)?t:null}},{key:"getTotalLostPackets",value:function(e){var t=e.getLostPackets();return d.checkForPositiveValue(t)?t:null}},{key:"getIntervalBitrate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getTotalBytes(e),i=this.getTotalBytes(t);if(!d.checkForPositiveValue(r)||!d.checkForPositiveValue(i)||!d.checkForPositiveValue(n))return null;var o=(8*r-8*i)/Math.max(n,1);return d.checkForPositiveValue(o)?o:null}},{key:"getIntervalPacketLoss",value:function(e,t,n){var r=this.getTotalLostPackets(e);if(!n)return d.checkForPositiveValue(r)?r:null;var i=this.getTotalLostPackets(t);if(!d.checkForPositiveValue(r)||!d.checkForPositiveValue(i))return null;var o=r-i;return d.checkForPositiveValue(o)?o:null}},{key:"getIntervalPacketRate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!d.checkForPositiveValue(n))return null;var r=this.getTotalPackets(e),i=this.getTotalPackets(t);if(!d.checkForPositiveValue(r)<0||!d.checkForPositiveValue(i))return null;var o=(r-i)/(Math.max(n,1)/1e3);return d.checkForPositiveValue(o)?o:null}},{key:"getIntervalFractionLost",value:function(e,t,n){var r=this.getIntervalPacketLoss(e,t,n),i=this.getTotalPackets(e)-this.getTotalPackets(t);if(!d.checkForPositiveValue(r)||!d.checkForPositiveValue(i))return null;var o=r/Math.max(i+r,1);return d.checkForPositiveValue(o)?o:null}},{key:"getIntervalStat",value:function(e,t){var n=this,r=e.getPrevious(t),i=e.getCurrent();if(!r||!i)return[];for(var o=[],a=e.getElapsedTime(t),s=0,c=i.length;s<c;s+=1)!(function(t,s){var c=i[t],u=r.find(function(e){return e.getSSRC()===c.getSSRC()&&e.getStreamType()===c.getStreamType()&&e.getReportType()===c.getReportType()});if(u){var l={csioIntMs:a,csioIntBRKbps:n.getIntervalBitrate(c,u,a),csioIntPktLoss:n.getIntervalPacketLoss(c,u,e.multipleRecords()),csioIntPR:n.getIntervalPacketRate(c,u,a),csioIntFL:n.getIntervalFractionLost(c,u,e.multipleRecords()),ssrc:c.getSSRC(),streamType:c.getStreamType(),reportType:c.getReportType()};o.push(l)}})(s);return o}}],[{key:"mergeIntervalStats",value:function(e,t){for(var n=function(e){return e.ssrc,e.streamType,e.reportType,i(e,["ssrc","streamType","reportType"])},r=0,o=e.length;r<o;r+=1){var a=e[r];t.has(a.pcHash)&&(function(){var e=t.get(a.pcHash)||[],r=a.ssrc?a.ssrc:a.data&&a.data.ssrc,i=a.streamType?a.streamType:a.streamType&&a.data.streamType,o=a.reportType?a.reportType:a.reportType&&a.data.reportType,c=e.find(function(e){return e.ssrc===r&&e.streamType===i&&e.reportType===o});c&&(a.data=s({},a.data,n(c)))})()}return e}}]),e})();n.IntervalStatsMonitor=h},{"../config/constants":49,"../utility/timestamps":131,"./validator":113}],78:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Measurement=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./resolution"),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./validator")),s=(function(){function e(){r(this,e),this.pcHash=null,this.ssrc=null,this.streamType=null,this.mediaType=null,this.reportType=null,this.resolution=null,this.frameRateReceived=null,this.frameHeight=null,this.frameWidth=null,this.droppedFramesNum=null,this.framesReceived=null,this.rtt=null,this.jitter=null,this.lostPackets=-1,this.receivedPackets=-1,this.sentPackets=-1,this.discardedPackets=-1,this.sentBytes=-1,this.receivedBytes=-1,this.fractionLost=-1,this.googEchoCancellationReturnLoss=-1,this.googEchoCancellationReturnLossEnhancement=-1,this.track=null}return i(e,null,[{key:"make",value:function(t,n,r,i,o,s,c,u,l,d,f,h,p,v,y,g,m,b,w,k,S,C){var T=new e,_=function(e,t){-1===[void 0,null].indexOf(t)&&(T[e]=t)};return _("pcHash",t),_("ssrc",n),_("streamType",r),_("mediaType",i),_("reportType",o),_("frameRateReceived",s),_("frameHeight",a.checkForNan(parseInt(c,10))),_("frameWidth",a.checkForNan(parseInt(u,10))),_("droppedFramesNum",l),_("framesReceived",d),_("rtt",f),_("jitter",h),_("lostPackets",p),_("receivedPackets",v),_("sentPackets",y),_("discardedPackets",g),_("sentBytes",m),_("receivedBytes",b),_("fractionLost",w),_("googEchoCancellationReturnLoss",k),_("googEchoCancellationReturnLossEnhancement",S),_("track",C),T.setFrameRateReceived(s),T}}]),i(e,[{key:"getPcHash",value:function(){return this.pcHash}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"getStreamType",value:function(){return this.streamType}},{key:"getMediaType",value:function(){return this.mediaType}},{key:"getReportType",value:function(){return this.reportType}},{key:"getResolution",value:function(){return this.resolution?this.resolution.toString():null}},{key:"getFrameRateReceived",value:function(){return this.frameRateReceived}},{key:"getFrameHeight",value:function(){return this.frameHeight}},{key:"getFrameWidth",value:function(){return this.frameWidth}},{key:"getDroppedFramesNum",value:function(){return this.droppedFramesNum}},{key:"getFramesReceived",value:function(){return this.framesReceived}},{key:"setFrameRateReceived",value:function(e){this.frameRateReceived=e,void 0!==this.frameRateReceived&&void 0!==this.frameWidth&&void 0!==this.frameHeight&&this.frameWidth>0&&this.frameHeight>0?this.resolution=new o.Resolution(this.frameWidth,this.frameHeight,this.frameRateReceived):this.resolution=null}},{key:"getJitter",value:function(){return this.jitter}},{key:"getRTT",value:function(){return this.rtt}},{key:"getLostPackets",value:function(){return this.lostPackets}},{key:"getDiscardedPackets",value:function(){return this.discardedPackets}},{key:"getReceivedPackets",value:function(){return this.receivedPackets}},{key:"getSentPackets",value:function(){return this.sentPackets}},{key:"getSentBytes",value:function(){return this.sentBytes}},{key:"getReceivedBytes",value:function(){return this.receivedBytes}},{key:"setFractionLost",value:function(e){this.fractionLost=void 0===e?null:e}},{key:"getFractionLost",value:function(){return this.fractionLost}},{key:"getGoogEchoCancellationReturnLoss",value:function(){return this.googEchoCancellationReturnLoss}},{key:"getGoogEchoCancellationReturnLossEnhancement",value:function(){return this.googEchoCancellationReturnLossEnhancement}},{key:"extractTrack",value:function(){var e=this.track;return this.track=null,e}},{key:"toString",value:function(){return"pcHash: "+this.pcHash+", ssrc: "+this.ssrc+", streamType: "+this.streamType+", mediaType: "+this.mediaType+", reportType: "+this.reportType+", frameRateReceived: "+this.frameRateReceived+", frameHeight: "+this.frameHeight+", frameWidth: "+this.frameWidth+", droppedFramesNum: "+this.droppedFramesNum+", rtt: "+this.rtt+", jitter: "+this.jitter+", lostPackets: "+this.lostPackets+", receivedPackets: "+this.receivedPackets+", sentPackets: "+this.sentPackets+", discardedPackets: "+this.discardedPackets+", sentBytes: "+this.sentBytes+", receivedBytes: "+this.receivedBytes+", fractionLost: "+this.fractionLost+", googEchoCancellationReturnLoss: "+this.googEchoCancellationReturnLoss+", googEchoCancellationReturnLossEnhancement: "+this.googEchoCancellationReturnLossEnhancement}}]),e})();n.Measurement=s},{"./resolution":97,"./validator":113}],79:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e),this.audioSsrc=t,this.videoSsrc=n,this.estimatedAudioDelay=i,this.estimatedVideoDelay=o}return i(e,[{key:"getAudioSSRC",value:function(){return this.audioSsrc}},{key:"getVideoSSRC",value:function(){return this.videoSsrc}},{key:"setAudioDelay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.audioSsrc=e,this.estimatedAudioDelay=t}},{key:"setVideoDelay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.videoSsrc=e,this.estimatedVideoDelay=t}},{key:"getAudioDelay",value:function(){return this.estimatedAudioDelay}},{key:"getVideoDelay",value:function(){return this.estimatedVideoDelay}},{key:"getContent",value:function(){return{audioSsrc:this.audioSsrc.toString(),videoSsrc:this.videoSsrc.toString(),estimatedAudioDelay:this.estimatedAudioDelay,estimatedVideoDelay:this.estimatedVideoDelay}}}]),e})();n.AvDeSyncHolder=o},{}],80:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.AVDeSyncObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=r(e("../../config/constants")),c=r(e("../validator")),u=e("./avdesync/avdesyncholder"),l=(function(){function e(){o(this,e),this.avEstimatedDelays=new Map}return a(e,[{key:"isValidTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return!1;var t=e.getRequestedMeasurement();return!!t&&t.getReportType()===s.reportType.local&&e.getStreamType()===s.streamType.inbound}},{key:"getPCHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return null;var t=e.getRequestedMeasurement();return t?t.getPcHash():null}},{key:"getEstimatedDelay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return null;var t=e.getTrack();if(!t||!t.data)return null;var n=parseFloat(t.data.googCurrentDelayMs);return c.isNumber(n)?n:null}},{key:"isAVDeSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.abs(e-t);return e>t?n>90:t>e&&n>185}},{key:"accept",value:function(){for(var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(t){return e.isValidTrack(t)}),n=0,r=t.length;n<r;n+=1){var o=t[n],a=this.getPCHash(o),l=o.getSSRC(),d=this.getEstimatedDelay(o);this.avEstimatedDelays.has(a)||this.avEstimatedDelays.set(a,new u.AvDeSyncHolder);var f=this.avEstimatedDelays.get(a);o.getMediaType()===s.mediaType.audio?f.setAudioDelay(l,d):o.getMediaType()===s.mediaType.video&&f.setVideoDelay(l,d)}for(var h=[].concat(i(this.avEstimatedDelays.values())),p=0,v=h.length;p<v;p+=1)!(function(n,r){var i=h[p],o=i.getAudioDelay(),a=i.getVideoDelay();if(!c.isNumber(o)||!c.isNumber(a))return"continue";var s=e.isAVDeSync(o,a),u=t.find(function(e){return e.getSSRC()===i.getAudioSSRC()}),l=t.find(function(e){return e.getSSRC()===i.getVideoSSRC()});u&&l&&(u.metrics&&(u.metrics.csioAvDesync=s),l.metrics&&(l.metrics.csioAvDesync=s))})()}},{key:"toString",value:function(){return"AVDeSyncObserver"}}]),e})();n.AVDeSyncObserver=l},{"../../config/constants":49,"../validator":113,"./avdesync/avdesyncholder":79}],81:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.CircuitBreakerObserver=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./circuitbreakerobserver/rtcptimeout/rtcptimeoutobserver"),s=e("./circuitbreakerobserver/mediatimeout/mediatimeoutobserver"),c=e("./circuitbreakerobserver/mediausability/mediausabilityobserver"),u=e("./circuitbreakerobserver/congestion/congestionobserver"),l=r(e("../../utility/timestamps")),d=e("../../utility/registry"),f=r(e("../../config/constants")),h=(function(){function e(t){i(this,e),this.notifierCallback=t,this.rtcpTimeoutObserver=new a.RTCPTimeoutObserver,this.mediaTimeoutObserver=new s.MediaTimoutObserver,this.mediaUsabilityObserver=new c.MediaUsabilityObserver,this.congestionObserver=new u.CongestionObserver,this.lastReportTime=l.getCurrent()}return o(e,[{key:"isDeadTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=e&&e.getRequestedMeasurement();if(!t)return!0;if(e.getStreamType()===f.streamType.inbound){if(t.getReceivedBytes()<1)return!0}else if(t.getSentBytes()<1)return!0;return!e.lastTrack||!e.lastTrack.data||!e.lastTrack.data.mimeType&&!e.lastTrack.data.googCodecName}},{key:"accept",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(t){var n=t.filter(function(t){return!1===e.isDeadTrack(t)}),r=l.getCurrent(),i=this.rtcpTimeoutObserver.check(n),o=this.mediaTimeoutObserver.check(n),a=this.mediaUsabilityObserver.check(n),s=this.congestionObserver.check(n);i&&i.length>0&&r-this.lastReportTime>3e4&&(this.lastReportTime=r,this.handleUserCallbackEvent(i),this.notifierCallback(i)),o&&o.length>0&&r-this.lastReportTime>3e4&&(this.lastReportTime=r,this.handleUserCallbackEvent(o),this.notifierCallback(o)),a&&a.length>0&&r-this.lastReportTime>3e4&&(this.lastReportTime=r,this.handleUserCallbackEvent(a),this.notifierCallback(a)),s&&s.length>0&&r-this.lastReportTime>3e4&&(this.lastReportTime=r,this.handleUserCallbackEvent(s),this.notifierCallback(s))}}},{key:"handleUserCallbackEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=d.Registry.getCallbacks().get(f.callbackFunctions.mediaDisruption);t&&"function"==typeof t&&e.forEach(function(e){var n={type:f.mediaDisruptionCallbackType.circuitBreaker,payload:e.getContent()};t(n)})}}]),e})();n.CircuitBreakerObserver=h},{"../../config/constants":49,"../../utility/registry":127,"../../utility/timestamps":131,"./circuitbreakerobserver/congestion/congestionobserver":82,"./circuitbreakerobserver/mediatimeout/mediatimeoutobserver":84,"./circuitbreakerobserver/mediausability/mediausabilityobserver":86,"./circuitbreakerobserver/rtcptimeout/rtcptimeoutobserver":88}],82:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.CongestionObserver=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../../../../config/constants")),s=e("../../../circuitbreakerevent"),c=r(e("../../../validator")),u=(function(){function e(){i(this,e),this.name="CongestionObserver"}return o(e,[{key:"check",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return e.hasTraffic()&&e.getStreamType()===a.streamType.outbound&&!1===s.CircuitBreakerEvent.isBadTrack(e)});if(!(t.length<1)){var n=[];return t.forEach(function(t){var r=t.getTrack();if(r&&r.data){var i=e.getTFRC(r);if(e.isGood(i,r.data.csioAvgBRKbps)){var o=new s.CircuitBreakerEvent(a.circuitBreakerDisruptionType.congestion,t.getSSRC());n.push(o)}}}),n.length>0?n:void 0}}}],[{key:"getTFRC",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e||!e.data)return 0;if(e.data.csioIntFLRate<.001||e.data.csioAvgRtt<.01)return 0;var t=8*e.data.csioAvgPacketSize,n=e.data.csioAvgRtt*Math.sqrt(2*e.data.csioIntFLRate/3);if(!c.checkForPositiveValue(t)||!c.checkForPositiveValue(n))return 0;var r=t/Math.max(n,1);return c.checkForPositiveValue(r)?r:0}},{key:"isGood",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!(e<1||t<=10*e)}}]),e})();n.CongestionObserver=u},{"../../../../config/constants":49,"../../../circuitbreakerevent":76,"../../../validator":113}],83:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaTimeout=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../../../utility/timestamps")),a=(function(){function e(){r(this,e),this.started=null,this.totalPackets=0}return i(e,[{key:"update",value:function(e){this.totalPackets=e}},{key:"getTotalPackets",value:function(){return this.totalPackets}},{key:"getStarted",value:function(){return this.started}},{key:"doReset",value:function(){this.started=null}},{key:"doStart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.started=e||o.getCurrent()}}]),e})();n.MediaTimeout=a},{"../../../../utility/timestamps":131}],84:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaTimoutObserver=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../../../../utility/timestamps")),s=r(e("../../../../config/constants")),c=e("../../../circuitbreakerevent"),u=e("./mediatimeout"),l=(function(){function e(){i(this,e),this.name="MediaTimeoutObserver",this.mediaTimeouts=new Map}return o(e,[{key:"observeMediaTimeout",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!t)return null;var r=e.getTotalPackets(t),i=this.mediaTimeouts.get(t.getSSRC());return i?r>i.getTotalPackets()?(i.update(r,n?n.startTime:void 0),i.doReset(),null):i.getStarted()?(n?n.now:a.getCurrent())-i.getStarted()<1e4?null:new c.CircuitBreakerEvent(s.circuitBreakerDisruptionType.mediaTimeout,t.getSSRC()):(i.doStart(n?n.startTime:void 0),null):((i=new u.MediaTimeout).update(r,n?n.startTime:void 0),this.mediaTimeouts.set(t.getSSRC(),i),null)}},{key:"check",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.filter(function(e){var t=e.getRequestedMeasurement();return t&&e.hasTraffic()&&t.getReportType()===s.reportType.remote&&!1===c.CircuitBreakerEvent.isBadTrack(e)});if(!(r.length<1)){var i=[];return r.forEach(function(t,r){var o=e.observeMediaTimeout(t,n?n[r]:void 0);o&&i.push(o)}),i.length>0?i:void 0}}}],[{key:"getTotalPackets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return 0;var t=e.getTrack();return t&&t.data?e.getStreamType()===s.streamType.inbound?t.data.packetsReceived:t.data.packetsSent:0}}]),e})();n.MediaTimoutObserver=l},{"../../../../config/constants":49,"../../../../utility/timestamps":131,"../../../circuitbreakerevent":76,"./mediatimeout":83}],85:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaUsability=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../../../../utility/timestamps")),s=r(e("../../../../config/constants")),c=r(e("../../../validator")),u=(function(){function e(){i(this,e),this.flDistortedTime=null,this.rttDistortedTime=null}return o(e,[{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(e){var n=e.getTrack();n&&n.data&&(this.checkFL(n.data.csioIntFLRate,e.getMediaType(),t),this.checkRTT(n.data.csioAvgRtt,e.getMediaType(),t))}}},{key:"checkFL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0);c.checkForPositiveValue(e)&&(.99<e?null===this.flDistortedTime&&(this.flDistortedTime=t||a.getCurrent()):this.flDistortedTime=null)}},{key:"checkRTT",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;c.checkForPositiveValue(e)&&((t===s.mediaType.video?2e3:1500)<e?null===this.rttDistortedTime&&(this.rttDistortedTime=n||a.getCurrent()):this.rttDistortedTime=null)}},{key:"isDistorted",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)||a.getCurrent();return!!(this.flDistortedTime&&e-this.flDistortedTime>5e3)||!!(this.rttDistortedTime&&e-this.rttDistortedTime>15e3)}}]),e})();n.MediaUsability=u},{"../../../../config/constants":49,"../../../../utility/timestamps":131,"../../../validator":113}],86:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaUsabilityObserver=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../../../config/constants")),a=e("../../../circuitbreakerevent"),s=e("./mediausability"),c=(function(){function e(){r(this,e),this.name="MediaUsabilityObserver",this.mediaUsabilities=new Map}return i(e,[{key:"observeMediaUsability",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this.mediaUsabilities.get(e.getSSRC());return n?(n.update(e,t?t.startTime:void 0),n.isDistorted(t?t.now:void 0)?new a.CircuitBreakerEvent(o.circuitBreakerDisruptionType.mediaUsability,e.getSSRC()):null):(n=new s.MediaUsability,this.mediaUsabilities.set(e.getSSRC(),n),null)}},{key:"check",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.filter(function(e){return!1===a.CircuitBreakerEvent.isBadTrack(e)&&e.hasTraffic()});if(!(r.length<1)){var i=[];return r.forEach(function(t,r){var o=e.observeMediaUsability(t,n?n[r]:void 0);o&&i.push(o)}),i.length>0?i:void 0}}}]),e})();n.MediaUsabilityObserver=c},{"../../../../config/constants":49,"../../../circuitbreakerevent":76,"./mediausability":85}],87:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.RTCPTimeout=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../../../utility/timestamps")),a=(function(){function e(){r(this,e),this.lastApproved=null,this.lastRTCPTimestamp=null,this.networkRoundTripTime=5}return i(e,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=e.getTrack();if(!n)return!1;if(!n.data.timestamp)return!0;if(!this.lastRTCPTimestamp)return this.lastRTCPTimestamp=n.data.timestamp,this.lastApproved=t||o.getCurrent(),!0;if(!n.data.timestamp)return!0;if(this.lastRTCPTimestamp<n.data.timestamp){var r=n.data.timestamp-this.lastRTCPTimestamp;return this.lastRTCPTimestamp=n.data.timestamp,this.networkRoundTripTime=.8*this.networkRoundTripTime+.2*r,this.lastApproved=t||o.getCurrent(),!0}return!1}},{key:"getLastApproved",value:function(){return this.lastApproved}},{key:"getLastRTCPTimestamp",value:function(){return this.lastRTCPTimestamp}},{key:"getNetworkRoundTripTime",value:function(){return this.networkRoundTripTime}}]),e})();n.RTCPTimeout=a},{"../../../../utility/timestamps":131}],88:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.RTCPTimeoutObserver=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../../../../utility/timestamps")),s=r(e("../../../../config/constants")),c=e("../../../circuitbreakerevent"),u=e("./rtcptimeout"),l=(function(){function e(){i(this,e),this.name="RTCPTimeoutObserver",this.rtcpTimeouts=new Map}return o(e,[{key:"observeRTCPTimeouts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this.rtcpTimeouts.get(e.getSSRC());if(!n)return(n=new u.RTCPTimeout).update(e,t?t.lastApproved:void 0),this.rtcpTimeouts.set(e.getSSRC(),n),null;if(n.update(e,t?t.lastApproved:void 0))return null;var r=Math.max(3e4,5*n.getNetworkRoundTripTime());return(t?t.now:a.getCurrent())-n.getLastApproved()<r?null:new c.CircuitBreakerEvent(s.circuitBreakerDisruptionType.RTCPTimeout,e.getSSRC())}},{key:"check",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.filter(function(e){var t=e.getRequestedMeasurement();return t&&e.getStreamType()===s.streamType.inbound&&t.getReportType()===s.reportType.remote});if(!(r.length<1)){var i=[];return r.forEach(function(t,r){var o=e.observeRTCPTimeouts(t,n?n[r]:void 0);o&&i.push(o)}),i.length>0?i:void 0}}}]),e})();n.RTCPTimeoutObserver=l},{"../../../../config/constants":49,"../../../../utility/timestamps":131,"../../../circuitbreakerevent":76,"./rtcptimeout":87}],89:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.CPULimitationObserver=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../../config/constants")),s=r(e("../../utility/timestamps")),c=(function(){function e(){i(this,e),this.ewmaDiscardedPackets=0,this.ewmaLostPackets=0,this.ewmaDroppedFrames=0,this.last=0,this.noticed=0}return o(e,[{key:"test",value:function(e){var t=e.discardedPackets,n=e.lostPackets;if(!n||n<1||!t||t<1)return!1;if(0===this.last)return this.last=s.getCurrent(),this.ewmaLostPackets=n,this.ewmaDiscardedPackets=t,!1;var r=s.getCurrent(),i=Math.max(r-this.last,1),o=Math.min((5e3-i)/5e3,.9),a=e.droppedFrames;return this.ewmaLostPackets=this.ewmaLostPackets*o+n,this.ewmaDroppedFrames=this.ewmaDroppedFrames*o+a,this.ewmaDiscardedPackets=this.ewmaDiscardedPackets*o+t,!(!a||a<1||1<this.ewmaLostPackets||1<this.ewmaDiscardedPackets||r-this.noticed<1e4||this.ewmaDroppedFrames<1||(this.noticed=r,0))}}]),e})(),u=(function(){function e(t){i(this,e),this.notifyCallback=t,this.inbVideoTesters=new Map}return o(e,[{key:"accept",value:function(e){for(var t=e.filter(function(e){return e.getMediaType()===a.mediaType.video&&e.getStreamType()===a.streamType.inbound}),n=0;n<t.length;++n){var r=t[n];this.checkInboundVideo(r)}}},{key:"checkInboundVideo",value:function(e){var t=e.peek(),n=e.getSSRC();if(this.inbVideoTesters.has(n)||this.inbVideoTesters.set(n,new c),this.inbVideoTesters.get(n).test(t)){var r={reason:a.limitationType.cpu,ssrc:n};this.notifyCallback(r)}}},{key:"toString",value:function(){return"CPULimitationObserver"}}]),e})();n.CPULimitationObserver=u},{"../../config/constants":49,"../../utility/timestamps":131}],90:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.OneWayMediaObserver=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../onewaymediadisruption"),s=e("../../utility/registry"),c=r(e("../../config/constants")),u=r(e("../../utility/timestamps")),l=Math.max(5,5)+5,d="STARTED",f="ENDED",h="NOOP",p=(function(){function e(t){i(this,e),this.startTime=u.getCurrent(),this.notifierCallback=t,this.oneWayInbAudioDisruption={started:!1,disruptionCount:0,recoveryCount:0,disruption:void 0},this.oneWayOutbAudioDisruption={started:!1,disruptionCount:0,recoveryCount:0,disruption:void 0},this.browserName=s.Registry.getEndpoint().getBrowserName()}return o(e,[{key:"isDeadTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=e&&e.getRequestedMeasurement();if(!t)return!0;if(e.getStreamType()===c.streamType.inbound){if(t.getReceivedBytes()<1)return!0}else if(t.getSentBytes()<1)return!0;return!e.lastTrack||!e.lastTrack.data||!e.lastTrack.data.mimeType&&!e.lastTrack.data.googCodecName}},{key:"isValidTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.streamType.inbound;if(!e)return!1;var n=e.getRequestedMeasurement();return!!n&&n.getReportType()===c.reportType.local&&e.getStreamType()===t&&e.getMediaType()===c.mediaType.audio}},{key:"handleUserCallbackEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=s.Registry.getCallbacks().get(c.callbackFunctions.mediaDisruption);t&&"function"==typeof t&&e.forEach(function(e){var n={type:e.isStarted()?c.mediaDisruptionCallbackType.oneWayMediaStart:c.mediaDisruptionCallbackType.oneWayMediaStop,payload:e.getContent()};t(n)})}},{key:"accept",value:function(e){var t=this,n=e.filter(function(e){return t.isValidTrack(e,c.streamType.inbound)}),r=e.filter(function(e){return t.isValidTrack(e,c.streamType.outbound)}),i=this.getDisruptions(n,r);i.length>0&&(this.handleUserCallbackEvent(i),this.notifierCallback(i))}},{key:"toString",value:function(){return"DisruptionObserver"}},{key:"getDisruptedTrack",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(function(t){return t&&!1===t.hasTraffic()&&!1===e.isDeadTrack(t)})}},{key:"isStartedAndHasTraffic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(function(e){return 0===e.getStartTime()}).length<1,n=e.filter(function(e){return!e.hasTraffic()}).length<1;return e.length>0&&t&&n}},{key:"hasTracksAndTraffic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(function(e){return!e.hasTraffic()}).length<1;return e.length>0&&t}},{key:"isInitialSetupDelayPassed",value:function(){return u.getCurrent()>this.startTime+15e3}},{key:"isInbOneWayAudioDisruption",value:function(e,t){if(this.isStartedAndHasTraffic(t)&&this.isInitialSetupDelayPassed()){var n=void 0;if(!this.hasTracksAndTraffic(e)){var r=this.getDisruptedTrack(e),i=r&&r.getSSRC();i&&(n=new a.OneWayMediaDisruption(c.oneWayMediaTypes.audio,i,c.streamType.inbound))}return n}}},{key:"isOutbOneWayAudioDisruption",value:function(e,t){if(this.isStartedAndHasTraffic(e)&&this.isInitialSetupDelayPassed()){var n=void 0;if(!this.hasTracksAndTraffic(t)){var r=this.getDisruptedTrack(t),i=r&&r.getSSRC();i&&(n=new a.OneWayMediaDisruption(c.oneWayMediaTypes.audio,i,c.streamType.outbound))}return n}}},{key:"updateDisruptionAndRecoveryCount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?(t=Math.min(t+1,l),n=0):(n=Math.min(n+1,l),t=0),{disruptionCount:t,recoveryCount:n}}},{key:"getDisruptionState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!1===n&&e>=5?d:!0===n&&t>=5?f:h}},{key:"getAudioDisruption",value:function(e,t,n){var r=void 0,i=void 0;if(n===c.streamType.inbound);else if(n===c.streamType.outbound)return r=this.isOutbOneWayAudioDisruption(e,t),void(i=this.oneWayOutbAudioDisruption);if(i){var o=this.updateDisruptionAndRecoveryCount(r,i.disruptionCount,i.recoveryCount),a=o.disruptionCount,s=o.recoveryCount,u=this.getDisruptionState(a,s,i.started);return u===d?(i.started=!0,i.disruption=r.setStart(),i.disruptionCount=0,i.recoveryCount=0):u===f?(i.started=!1,i.disruption=i.disruption.setEnd(),i.disruptionCount=0,i.recoveryCount=0):(i.recoveryCount=s,i.disruptionCount=a),u!==h?i.disruption:void 0}}},{key:"getDisruptions",value:function(e,t){var n=[],r=this.getAudioDisruption(e,t,c.streamType.inbound),i=this.getAudioDisruption(e,t,c.streamType.outbound);return r&&n.push(r),i&&n.push(i),n}}]),e})();n.OneWayMediaObserver=p},{"../../config/constants":49,"../../utility/registry":127,"../../utility/timestamps":131,"../onewaymediadisruption":94}],91:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.QPSumObserver=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../../config/constants")),s=r(e("../../utility/timestamps")),c=(function(){function e(t){i(this,e),this.lastQpSum=null,this.qpAvg=null,this.noticed=0}return o(e,[{key:"test",value:function(e){var t=e.getTrack();if(!t||!t.data||!t.data.qpSum)return!1;if(!this.lastQpSum)return this.lastQpSum=t.data.qpSum,!1;var n=t.data.qpSum-this.lastQpSum;this.lastQpSum=t.data.qpSum,null===this.qpAvg?this.qpAvg=n:this.qpAvg=.2*n+.8*this.qpAvg;var r=Math.max(2*this.qpAvg,1);if(n<this.qpAvg+r)return!1;var i=s.getCurrent();return this.noticed<i-1e4}}]),e})(),u=(function(){function e(t){i(this,e),this.notifyCallback=t,this.testers=new Map}return o(e,[{key:"accept",value:function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.getMediaType()===a.mediaType.video){var r=n.getSSRC();if(this.testers.has(r)||this.testers.set(r,new c(n)),this.testers.get(r).test(n)){var i={reason:a.qualityDisruptionTypes.qpchange};this.notifyCallback(i)}}}}},{key:"toString",value:function(){return"QPSumObserver"}}]),e})();n.QPSumObserver=u},{"../../config/constants":49,"../../utility/timestamps":131}],92:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SendingTrigger=n.TrackMonitorTester=n.TestHelper=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=r(e("../../utility/timestamps")),c=e("../../utility/runningstats"),u=r(e("../validator")),l=e("../../config/constants"),d=r(l),f=r(e("../../utility/csiologger")),h=(function(){function e(t,n,r,o){return i(this,e),n?r?o?(this.consecutivePositive=0,this.name=t,this.minThreshold=n,this.resetThreshold=o,void(this.runningStats=new c.RunningStats(r))):void f.warn("resetThreshold was null or undefined : "+o):void f.warn("windowLength was null or undefined : "+r):void f.warn("minThreshold was null or undefined : "+n)}return a(e,[{key:"doTest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(null===e||void 0===e)return!1;this.runningStats.add(e);var n=this.runningStats.getMean(),r=this.runningStats.getStd();if(!n||!r)return!1;var i=Math.max(this.minThreshold,2*r)*t,o=Math.abs(n-e)>i;return o?(this.consecutivePositive+=1,this.consecutivePositive>this.resetThreshold&&this.runningStats.reset()):this.consecutivePositive=0,o}}]),e})(),p=(function(){function e(t){var n=t.maxMarginFactor,r=void 0===n?l.adaptiveStatsThresholds.maxMarginFactor:n,o=t.marginReductionFactor,a=void 0===o?l.adaptiveStatsThresholds.marginReductionFactor:o,s=t.marginIncreaseFactor,c=void 0===s?l.adaptiveStatsThresholds.marginIncreaseFactor:s,u=t.marginDecreaseIntervalInMs,d=void 0===u?l.adaptiveStatsThresholds.marginDecreaseIntervalInMs:u,f=t.maxGradualCounter,p=void 0===f?l.adaptiveStatsThresholds.maxGradualCounter:f,v=t.minIntervalInMs,y=void 0===v?l.adaptiveStatsThresholds.minIntervalInMs:v,g=t.rippleBase,m=void 0===g?l.adaptiveStatsThresholds.rippleBase:g,b=t.windowSize,w=void 0===b?l.adaptiveStatsThresholds.windowSize:b,k=t.resetThreshold,S=void 0===k?l.adaptiveStatsThresholds.resetThreshold:k,C=t.minThreshold,T=void 0===C?l.adaptiveStatsThresholds.minThreshold:C;i(this,e),this.rttTester=new h("RTT Tester",T.rtt,w,S),this.throughputTester=new h("Throughput Tester",T.throughput,w,S),this.FLTester=new h("FL Tester",T.fractionalLoss,w,S),this.marginFactor=1,this.lastDecreased=0,this.lastTriggering=0,this.maxMarginFactor=r,this.marginReductionFactor=a,this.marginIncreaseFactor=c,this.marginDecreaseIntervalInMs=d,this.maxGradualCounter=p,this.gradualCounter=p,this.minIntervalInMs=y,this.rippleBase=m}return a(e,[{key:"test",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t?{}:e.peek();if(!n)return!1;var r=(t?{}:e.getTrack()).data,i=t?t.rtt:n.getRTT(),o=u.checkForNan(parseInt(t?t.throughput:r.intervalBandwidth,10)),a=t?t.loss:n.getFractionLost(),c=t?t.time:s.getCurrent(),l=this.rttTester.doTest(i,this.marginFactor),d=this.throughputTester.doTest(o,this.marginFactor),f=this.FLTester.doTest(a,this.marginFactor);if(l||d||f)return this.marginFactor=Math.min(this.marginFactor*this.marginIncreaseFactor,this.maxMarginFactor),this.lastTriggering=c,this.lastDecreased=c,this.gradualCounter=0,!0;if(c-this.lastDecreased>this.marginDecreaseIntervalInMs&&(this.marginFactor=Math.max(this.marginFactor*this.marginReductionFactor,1),this.lastDecreased=c),this.gradualCounter<this.maxGradualCounter){var h=this.minIntervalInMs*Math.pow(this.rippleBase,this.gradualCounter);if(this.lastTriggering<c-h)return this.lastTriggering=c,this.gradualCounter+=1,!0}return!1}}]),e})(),v=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),t?(this.notifyCallback=t,this.minIntervalInMs=n.minIntervalInMs||l.adaptiveStatsThresholds.minIntervalInMs,this.maxIntervalInMs=n.maxIntervalInMs||l.adaptiveStatsThresholds.maxIntervalInMs,this.config=n,this.notified=0,this.testers=new Map):f.warn("notifyCallback was null or undefined : "+t)}return a(e,[{key:"setup",value:function(e,t){this.minIntervalInMs=e,this.maxIntervalInMs=t}},{key:"getMostRecentTrackStartTime",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return!!t&&"function"==typeof t.getCreationTime&&Math.max(t.getCreationTime(),e)},Number.MIN_VALUE)}},{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t?t.time:s.getCurrent(),r=n-this.notified,i=this.doSend(e,t);if(this.minIntervalInMs===this.maxIntervalInMs)return f.log("Elapsed time in fix intervalset: "+r),void(r>this.minIntervalInMs&&(this.notifyCallback&&this.notifyCallback(t?n:null),this.notified=n));if(!(r<this.minIntervalInMs)){var o=t?void 0:this.getMostRecentTrackStartTime(e);if(o&&n-o<l.adaptiveStatsThresholds.maxInitialTimeoutInMs&&r>l.adaptiveStatsThresholds.initialNotifyIntervalTimeoutInMs)return this.notifyCallback&&this.notifyCallback(t?n:null),void(this.notified=n);r<this.maxIntervalInMs&&!1===i||(this.notifyCallback&&this.notifyCallback(t?n:null),this.notified=n)}}},{key:"setIntervals",value:function(e,t){this.minIntervalInMs=e,this.maxIntervalInMs=t}},{key:"toString",value:function(){return"SendingTrigger"}},{key:"getTrackIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var t=e.getRequestedMeasurement();if(t)return t.getSSRC()+"-"+t.getStreamType()+"-"+t.getReportType()}}},{key:"isGoodTracks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return!1;var t=e.getRequestedMeasurement();return!!t&&t.getReportType()===d.reportType.local&&(t.getStreamType()===d.streamType.inbound||t.getStreamType()===d.streamType.outbound)}},{key:"doSend",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t){if(this.testers.has("test-ssrc")||this.testers.set("test-ssrc",new p(o({},this.config,{minIntervalInMs:this.minIntervalInMs,maxIntervalInMs:this.maxIntervalInMs}))),this.testers.get("test-ssrc").test(e,t))return!0}else for(var n=0;n<e.length;n+=1){var r=e[n];if(this.isGoodTracks(r)){var i=this.getTrackIdentifier(r);if(i)if(this.testers.has(i)||this.testers.set(i,new p(o({},this.config,{minIntervalInMs:this.minIntervalInMs,maxIntervalInMs:this.maxIntervalInMs}))),this.testers.get(i).test(r))return!0}}return!1}}]),e})();n.TestHelper=h,n.TrackMonitorTester=p,n.SendingTrigger=v},{"../../config/constants":49,"../../utility/csiologger":118,"../../utility/runningstats":128,"../../utility/timestamps":131,"../validator":113}],93:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ThroughputObserver=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../../config/constants")),s=r(e("../../utility/timestamps")),c=(function(){function e(t){i(this,e),this.notifierCallback=t,this.observations=new Map}return o(e,[{key:"accept",value:function(e){var t=e.filter(function(e){return e.getMediaType()===a.mediaType.video&&e.getStreamType()===a.streamType.outbound});if(!(t.length<1)){var n=this;t.forEach(function(e){n.observe(e)})}}},{key:"toString",value:function(){return"ThroughputObserver"}},{key:"getObservations",value:function(e){if(this.observations.has(e))return this.observations.get(e);return this.observations.set(e,{ssrc:0,started:0,max:0,maxTs:0,stable:0,stableTs:0,ready:!1,maxVerified:!1,stableVerified:!1}),this.observations.get(e)}},{key:"observe",value:function(e){var t=e.getSSRC(),n=this.getObservations(t),r=s.getCurrent();if(!0!==n.ready){if(0===n.started)return n.ssrc=t,void(n.started=r);var i=e.getTrack().data,o=i.csioIntBRKbps,a=Math.min(50,.05*o);if(n.max<o?(n.max=o,n.maxTs=r):1e4<r-n.maxTs&&(n.maxVerified=!0),!(r-n.started<15e3)&&(o-a<i.csioAvgBRKbps&&i.csioAvgBRKbps<o+a&&(n.stableTs=r,n.stable=o,n.stableVerified=!0),n.stableVerified&&n.maxVerified)){var c={ssrc:String(n.ssrc),maxsendingKBitrate:n.max,timeToMaxSendingKBitrate:n.maxTs-n.started,stablesendingKBitrate:n.stable,timeToStableSendingKBitrate:n.stableTs-n.started};this.notifierCallback(c),n.ready=!0}}}}]),e})();n.ThroughputObserver=c},{"../../config/constants":49,"../../utility/timestamps":131}],94:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r(this,e),this.mediaType=t,this.ssrc=""+n,this.streamType=i,this.started=o}return i(e,[{key:"setStart",value:function(){return this.started=!0,this}},{key:"setEnd",value:function(){return this.started=!1,this}},{key:"getContent",value:function(){return{mediaType:this.mediaType,ssrc:this.ssrc,streamType:this.streamType,disruptionType:this.streamType}}},{key:"isStarted",value:function(){return this.started}},{key:"toString",value:function(){return JSON.stringify({started:this.started,ssrc:this.ssrc,mediaType:this.mediaType,disruptionType:this.streamType})}}]),e})();n.OneWayMediaDisruption=o},{}],95:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t,n,i,o,a,s){r(this,e),this.candidatePair=t,this.codec=n,this.pcHash=i,this.trackStats=o,this.transportStats=a,this.measurements=s}return i(e,[{key:"getCandidatePair",value:function(){return this.candidatePair}},{key:"getCodec",value:function(){return this.codec}},{key:"getPcHash",value:function(){return this.pcHash}},{key:"getTrackStats",value:function(){return this.trackStats}},{key:"getTransportStats",value:function(){return this.transportStats}},{key:"getMeasurements",value:function(){return this.measurements}}]),e})();n.PcStats=o},{}],96:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.QualityEvaluator=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),s=(function(){function e(){i(this,e)}return o(e,[{key:"isAudio",value:function(e){return e&&e.data&&(e.mediaType===a.mediaType.audio||e.data.mediaType===a.mediaType.audio||e.data.csioMediaType===a.mediaType.audio)}},{key:"isVideo",value:function(e){return e&&e.data&&(e.mediaType===a.mediaType.video||e.data.mediaType===a.mediaType.video||e.data.csioMediaType===a.mediaType.video)}},{key:"isInbound",value:function(e){return e&&e.data&&(e.streamType===a.streamType.inbound||e.data.streamType===a.streamType.inbound||e.data.csioStreamType===a.streamType.inbound)}},{key:"isOutbound",value:function(e){return e&&e.data&&(e.streamType===a.streamType.outbound||e.data.streamType===a.streamType.outbound||e.data.csioStreamType===a.streamType.outbound)}},{key:"isInboundAudio",value:function(e){return this.isInbound(e)&&this.isAudio(e)}},{key:"isInboundVideo",value:function(e){return this.isInbound(e)&&this.isVideo(e)}},{key:"isOutboundAudio",value:function(e){return this.isOutbound(e)&&this.isAudio(e)}},{key:"isOutboundVideo",value:function(e){return this.isOutbound(e)&&this.isVideo(e)}},{key:"getDescendentRating",value:function(e,t){return t.green<=e?a.avQualityRatings.excellent:t.red<e?a.avQualityRatings.fair:a.avQualityRatings.bad}},{key:"getAscendingRating",value:function(e,t){return t.red<e?a.avQualityRatings.bad:t.green<=e?a.avQualityRatings.fair:a.avQualityRatings.excellent}},{key:"fromQualityString",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.avQualityRatings.unknown){case a.avQualityRatings.bad:return a.qualityRating.bad;case a.avQualityRatings.fair:return a.qualityRating.fair;case a.avQualityRatings.excellent:return a.qualityRating.excellent}return 0}},{key:"toQualityString",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.qualityRating.excellent){case a.qualityRating.excellent:return a.avQualityRatings.excellent;case a.qualityRating.good:case a.qualityRating.fair:case a.qualityRating.poor:return a.avQualityRatings.fair;case a.qualityRating.bad:return a.avQualityRatings.bad}return a.avQualityRatings.unknown}},{key:"inboundAudioQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,a.throughputThreshold.audio),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioIntFL&&0<e.csioIntFL){var i=this.getAscendingRating(e.csioIntFL,a.fractionalLossThreshold.audio),o=this.fromQualityString(i);t.push({result:o,weight:1})}if(e.csioeM&&0<e.csioeM){var s=this.getAscendingRating(e.csioeM,a.eModelThreshold.audio),c=this.fromQualityString(s);t.push({result:c,weight:1})}return t}},{key:"inboundVideoQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,a.throughputThreshold.video),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioSig2Latency&&0<e.csioSig2Latency){var i=this.getAscendingRating(e.csioSig2Latency,a.rttThreshold.video),o=this.fromQualityString(i);t.push({result:o,weight:1})}if(e.csioFrameRateMean&&e.prevFrameRateMean&&0<e.csioFrameRateMean&&0<e.csioPrevFrameRateMean){var s=e.csioFrameRateMean/Math.max(e.csioPrevFrameRateMean,1),c=this.getDescendentRating(s,a.currOverPrevFrameRateThreshold.video),u=this.fromQualityString(c);t.push({result:u,weight:1})}return t}},{key:"outboundAudioQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,a.throughputThreshold.audio),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioeM&&0<e.csioeM){var i=this.getAscendingRating(e.csioeM,a.eModelThreshold.audio),o=this.fromQualityString(i);t.push({result:o,weight:1})}return t}},{key:"outboundVideoQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,a.throughputThreshold.video),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioSig2Latency&&0<e.csioSig2Latency){var i=this.getAscendingRating(e.csioSig2Latency,a.rttThreshold.video),o=this.fromQualityString(i);t.push({result:o,weight:1})}if(e.csioFrameRateMean&&e.prevFrameRateMean&&0<e.csioFrameRateMean&&0<e.csioPrevFrameRateMean){var s=e.csioFrameRateMean/e.csioPrevFrameRateMean,c=this.getDescendentRating(s,a.currOverPrevFrameRateThreshold.video),u=this.fromQualityString(c);t.push({result:u,weight:1})}return t}},{key:"getOverallTrackQuality",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,n=0,r=0,i=e.length;r<i;r+=1)t+=e[r].weight;for(var o=0,a=e.length;o<a;o+=1){var s=e[o];n+=s.result*s.weight/Math.max(t,1)}return n=Math.floor(n),this.toQualityString(n)}},{key:"updateQualityStats",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tracks||[],n=0,i=t.length;n<i;n+=1){var o=t[n],a=[];if(this.isInboundAudio(o)){var s=this.inboundAudioQuality(o);a.push.apply(a,r(s))}else if(this.isInboundVideo(o)){var c=this.inboundVideoQuality(o);a.push.apply(a,r(c))}else if(this.isOutboundAudio(o)){var u=this.outboundAudioQuality(o);a.push.apply(a,r(u))}else if(this.isOutboundVideo(o)){var l=this.outboundVideoQuality(o);a.push.apply(a,r(l))}var d=this.getOverallTrackQuality(a);o.data.csioMark=d}return e}}]),e})();n.QualityEvaluator=s},{"../config/constants":49}],97:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t,n,i){r(this,e),this.width=t,this.height=n,this.frameRate=i}return i(e,[{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getFrameRate",value:function(){return this.frameRate}},{key:"toString",value:function(){return this.width&&this.height&&this.frameRate?this.width.toString()+"X"+this.height.toString()+"X"+this.frameRate.toString():null}}]),e})();n.Resolution=o},{}],98:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAdapter=n.StatsAdapterIO=void 0;var c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),u=r(e("../config/constants")),l=e("../collections/component"),d=e("../utility/registry"),f=r(e("../config/settings")),h=r(e("../utility/hash")),p=n.StatsAdapterIO={RawStatsIn:"RawStatsIn",RawStatsOut:"RawStatsOut",UnprocessedOut:"UnprocessedOut"},v=(function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsAdapter"));return r.bindPort(p.RawStatsIn,r.receiveRawData,r),r.declarePort(p.RawStatsOut),r.declarePort(p.UnprocessedOut),r.codeBase=e,r.browser=n,r}return a(t,l.Component),c(t,[{key:"receiveRawData",value:function(e,t,n){if(e){var r=this.extractRawStats(n),i=this.extractRawStats(e);if(i){this.mergeStats(i,r),window&&window.csioReactNative&&(i=this.removeValues(i)),this.isConnected(p.UnprocessedOut)&&this.transmit(p.UnprocessedOut,i,t);var o=this.processRawStats(i,t);if(o&&o.transportStats)for(var a=0;a<o.transportStats.length;a++)o.transportStats[a].hash=this.getTransportHash(o.transportStats[a]);o&&o.transportStats&&this.checkTransportStatsUpdates(o.transportStats,t),o&&o.trackStats&&(o=this.backFillTrackStats(o)),o&&o.transportStats&&o.candidatePair&&(o=this.backFillCandidatePairStats(o)),o.pcHash=t,this.transmit(p.RawStatsOut,o)}}}},{key:"isCandidateRelayed",value:function(e,t){return!(!e||"relay"!==e.candidateType&&"relayed"!==e.candidateType)||!(!t||"relay"!==t.candidateType&&"relayed"!==t.candidateType)}},{key:"mergeStats",value:function(e,t){var n=["inbound-rtp","outbound-rtp"],r=["googFrameRateOutput","googFrameRateDecoded","googFrameRateReceived","googFrameRateSent","framerateMean","framesPerSecond"];if(t){for(var i=new Map,o=void 0,a=0;a<t.length;a++)if("VideoBwe"!==t[a].type){var s=parseInt(t[a].ssrc,10);i.set(s,t[a])}else o=t[a];for(var c=0;c<e.length;c++){var u=e[c].type;if(n.includes(u)){var l=e[c].ssrc,d=i.get(l);for(var f in d)d.hasOwnProperty(f)&&(f.startsWith("goog")||"audioOutputLevel"===f||"audioInputLevel"===f?e[c][f]=d[f]:"timestamp"===f&&(e[c].legacyTimeStamp=d.timestamp)),e[c].roundTripTime||(e[c].googRtt=d.googRtt),r.includes(f)&&(e[c].legacyFrameRatePerSecond=d[f])}}o&&e.push(o)}}},{key:"getTrack",value:function(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t)return e[n];return null}},{key:"removeValues",value:function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.values){for(var r=0;r<n.values.length;++r)s(n,n.values[r]);delete n.values}}return e}},{key:"getMediaTracksInfo",value:function(e){if(!e)return null;for(var t=[],n=[],r=this.extractRawStats(e),i=0;i<r.length;++i){var o=r[i],a=this.statsClassifier(o);a.tracks?t.push(a.tracks.data):a.trackStats&&n.push(a.trackStats)}for(var s=0;s<t.length;++s){var c=t[s].trackId,u=this.getTrack(n,c);u&&this.mergeObjects(t[s],u)}return t}},{key:"getIceCandidates",value:function(e){if(!e)return{localIceCandidates:[],remoteIceCandidates:[],iceCandidatePairs:[]};var t=this.extractRawStats(e);return this.processRawStatsForIceInfo(t)}},{key:"extractRawStats",value:function(e){var t=[];if(e&&e.result)t=e.result();else if(e&&e.forEach)e.forEach(function(e){t.push(e)});else for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);for(var r=[],i=0;i<t.length;i++){var o=this.getParsedStats(t[i]);r.push(o)}if(r.filter(function(e){return"transport"===e.type}).length>0)return r;for(var a=void 0,s=0;s<r.length;s++)(("candidate-pair"===r[s].type||"candidatepair"===r[s].type)&&r[s].selected||"googCandidatePair"===r[s].type&&(!0===r[s].googActiveConnection||"true"===r[s].googActiveConnection))&&((a={}).selectedCandidatePairId=r[s].id,a.id=r[s].id,this.mergeObjects(a,r[s]),a.type="transport",r.push(a));return r}},{key:"normalizeIceCandidates",value:function(e){for(var t=[],n=0;n<e.length;n+=1){var r={},i=e[n];r.transport=i.protocol?i.protocol:"udp",r.ip=i.ip?i.ip:i.ipAddress,r.port=i.portNumber?Number(i.portNumber):i.port,r.id=i.id,r.type=i.type,r.networkType=i.networkType,r.candidateType=i.candidateType,"ssltcp"===r.transport&&(r.transport="tcp"),r.id||(r.id="csio"+i.port),r.ip||i.address&&(r.ip=i.address),r.ip&&(f.collectIP||(r.ip=i.id),t.push(r))}return t}},{key:"normalizeCanidatePairs",value:function(e){for(var t=0;t<e.length;t+=1){var n=e[t];"in-progress"===n.state&&(n.state="inprogress"),n.state||(n.state="succeeded"),n.nominated||(n.nominated="true"===n.googActiveConnection),n.priority||(n.priority=123),n.id||(n.id="csio"+n.priority)}return e}},{key:"processRawStatsForIceInfo",value:function(e){var t=[],n=[],r=[],i=void 0;if(!e)return{localIceCandidates:t,remoteIceCandidates:n,iceCandidatePairs:r};for(var o=0;o<e.length;++o){var a=e[o],s=this.statsClassifier(a);if(s.candidatePair)r.push(s.candidatePair);else if(s.transportStats){if("transport"===s.transportStats.type){i=s.transportStats.selectedCandidatePairId;continue}r.push(s.transportStats)}else s.localCandidate?t.push(s.localCandidate):s.remoteCandidate&&n.push(s.remoteCandidate)}if(i)for(var c=0;c<r.length;++c)r[c].id===i&&(r[c].googActiveConnection="true");return{localIceCandidates:this.normalizeIceCandidates(t),remoteIceCandidates:this.normalizeIceCandidates(n),iceCandidatePairs:this.normalizeCanidatePairs(r)}}},{key:"processRawStats",value:function(e,t){for(var n={localIceCandidates:{},remoteIceCandidates:{},tracks:[],candidatePair:[],transportStats:[],trackStats:[],codec:[]},r=0;r<e.length;r++){var i=e[r],o=this.statsClassifier(i);o.tracks?n.tracks.push(o.tracks):o.candidatePair?n.candidatePair.push(o.candidatePair):o.bwe?n.bwe=o.bwe:o.trackStats?n.trackStats.push(o.trackStats):o.codec?n.codec.push(o.codec):o.localCandidate?n.localIceCandidates[o.localCandidate.id]=o.localCandidate:o.remoteCandidate&&(n.remoteIceCandidates[o.remoteCandidate.id]=o.remoteCandidate),o.transportStats&&(this.codeBase!==u.codeBaseType.firefox?(parseInt(o.transportStats.bytesReceived,10)>0||parseInt(o.transportStats.bytesSent,10)>0)&&n.transportStats.push(o.transportStats):"true"!==o.transportStats.selected&&!0!==o.transportStats.selected||n.transportStats.push(o.transportStats))}if(n.tracks){var a=d.Registry.getConferenceManager().getConferenceForPcHash(t),s=void 0;a&&(s=a.getPeerConnectionManager().getPcHandlerByHash(t)),n.tracks.forEach(function(e){var t=s.getSSRCInfo(String(e.data.ssrc));void 0!==t&&t.localStartTime||s&&(s.updateSDP(n.tracks),t=s.getSSRCInfo(String(e.data.ssrc))),t&&(e.cname=t.cname,e.msid=t.msid,e.associatedVideoTag=t.associatedVideoTag,e.usageLabel=t.usageLabel)})}return n.transportStats&&this.codeBase===u.codeBaseType.firefox&&(n.transportStats=this.getAddressInfoFromCandidates(n.transportStats,n.localIceCandidates,n.remoteIceCandidates)),n}},{key:"getParsedStats",value:function(e){var t={};if(e.timestamp instanceof Date&&(t.timestamp=e.timestamp.getTime().toString()),e.type&&(t.type=e.type),e.names){for(var n=e.names(),r=0;r<n.length;++r)t[n[r]]=e.stat(n[r]);e.id&&(t.id=e.id)}else s(t,e);if(t.values){for(var i=0;i<t.values.length;++i)s(t,t.values[i]);delete t.values}return t}},{key:"statsClassifier",value:function(e){var t={},n=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return-1!==n.indexOf(e.type)},r=n("inbound-rtp","inboundrtp","remote-inbound-rtp"),i=n("outbound-rtp","outboundrtp","remote-outbound-rtp"),o=e.isRemote?"true"===e.isRemote||!0===e.isRemote:null;return null===o&&(o=n("remote-inbound-rtp","remote-outbound-rtp")),r||i?(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.streamType=r?"inbound":"outbound",t.tracks.reportType=o?"remote":"local"):n("localcandidate","local-candidate")?t.localCandidate=e:n("remotecandidate","remote-candidate")?t.remoteCandidate=e:n("transport")?t.transportStats=e:n("VideoBwe")?t.bwe=e:n("track")?t.trackStats=e:n("candidate-pair","candidatepair","googCandidatePair")?t.candidatePair=e:n("codec")?t.codec=e:n("ssrc")&&(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.reportType="local",t.tracks.streamType=e.bytesSent?"outbound":"inbound"),t}},{key:"getAddressInfoFromCandidates",value:function(e,t,n){for(var r=void 0,i=void 0,o=0;o<e.length;o++)r=t[e[o].localCandidateId],i=n[e[o].remoteCandidateId],r&&i&&(e[o].localAddr=r.ipAddress+":"+r.portNumber,e[o].remoteAddr=i.ipAddress+":"+i.portNumber,e[o].localAddrType=r.candidateType,e[o].remoteAddrType=i.candidateType,e[o].transportType=r.transport);return e}},{key:"getTransportHash",value:function(e){var t=void 0;return e&&(this.codeBase===u.codeBaseType.chrome?e.googLocalAddress?(t=e.googLocalAddress).concat(":",e.googRemoteAddress):e.selectedCandidatePairId&&(t=e.selectedCandidatePairId):this.codeBase===u.codeBaseType.firefox&&(t=e.localAddr).concat(":",e.remoteAddr)),h.generateHash(t)}},{key:"backFillTrackStats",value:function(e){for(var t=e.tracks.length,n=void 0,r=void 0,i=void 0,o=0;o<t;o++)(n=e.tracks[o]).data.trackId&&(r=this.getStatsForId(e.trackStats,n.data.trackId))&&(e.tracks[o].data=this.mergeObjects(e.tracks[o].data,r)),n.data.codecId&&(i=this.getStatsForId(e.codec,n.data.codecId))&&(e.tracks[o].data=this.mergeObjects(e.tracks[o].data,i));return e}},{key:"backFillCandidatePairStats",value:function(e){for(var t=e.transportStats.length,n=void 0,r=void 0,i=0;i<t;i++)(r=e.transportStats[i]).selectedCandidatePairId&&(n=this.getStatsForId(e.candidatePair,r.selectedCandidatePairId))&&(e.transportStats[i]=this.mergeObjects(e.transportStats[i],n),e.transportStats[i].csioIsRelayed=this.isCandidateRelayed(e.localIceCandidates[n.localCandidateId],e.remoteIceCandidates[n.remoteCandidateId]));return e}},{key:"mergeObjects",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&"id"!==n&&"type"!==n&&(e[n]=t[n]);return e}},{key:"getStatsForId",value:function(e,t){if(e){var n=e.filter(function(e){return e.id===t});if(n.length>0)return n[0]}}},{key:"formatRelayType",value:function(e){var t="None";switch(e){case 0:t="TURN/TLS";break;case 1:t="TURN/TCP";break;case 2:t="TURN/UDP"}return t}},{key:"getRelayType",value:function(e,t){var n=this,r=void 0;return t.getIceCandidates().some(function(t){if(t.typePreference){var i=t.typePreference>>24;return"rtp"===t.protocol&&t.address===e&&(i>=0&&i<=2&&(r=n.formatTypePreference(i)),!0)}return!1}),r}},{key:"getTransportInfo",value:function(e,t){for(var n={},r=!1,i=0;i<e.length;i++){var o=e[i];if(navigator.mozGetUserMedia&&"candidatepair"===o.type&&("true"===o.selected||!0===o.selected)){n.foundActive=!0,n.localAddr=o.localAddr,n.remoteAddr=o.remoteAddr,n.localAddrType=o.localAddrType,n.remoteAddrType=o.remoteAddrType,n.transportType=o.transportType,n.localCandidateId=o.localCandidateId,n.remoteCandidateId=o.remoteCandidateId;break}if("googCandidatePair"===o.type&&("true"===o.googActiveConnection||!0===o.googActiveConnection)){n.foundActive=!0,n.localAddr=o.googLocalAddress,n.remoteAddr=o.googRemoteAddress,n.localAddrType=o.googLocalCandidateType,n.remoteAddrType=o.googRemoteCandidateType,n.transportType=o.googTransportType;break}if("transport"===o.type){r=!0,o.selectedCandidatePairId&&(n.selectedCandidatePairId=o.selectedCandidatePairId);break}}return r&&n.localAddr&&(n.ipv6=0===n.localAddr.indexOf("["),n.relayType=getRelayType(n.localAddr,t)),n}},{key:"sendFabricTransportSwitch",value:function(e,t){e.sendFabricTransportSwitch(t)}},{key:"checkTransportStatsUpdates",value:function(e,t){var n=d.Registry.getConferenceManager().getConferenceForPcHash(t);if(n){var r=n.getPeerConnectionManager().getPcHandlerByHash(t);if(r){var i=this.getTransportInfo(e,r),o=r.getTransportInfo();o&&(o.localAddr===i.localAddr&&o.remoteAddr===i.remoteAddr&&o.transportType===i.transportType&&o.selectedCandidatePairId===i.selectedCandidatePairId&&o.localCandidateId===i.localCandidateId&&o.remoteCandidateId===i.remoteCandidateId||(r.setTransportInfo(i),this.sendFabricTransportSwitch(r,i.relayType)))}}}}]),t})();n.StatsAdapter=v},{"../collections/component":37,"../config/constants":49,"../config/settings":50,"../utility/hash":122,"../utility/registry":127}],99:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAssembler=n.StatsAssemblerIO=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("../collections/component"),c=n.StatsAssemblerIO={StatsTupleIn:"StatsTupleIn",CallstatsOut:"CallstatsOut"},u=(function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsAssembler"));return e.pcHashes=[],e.bindPort(c.StatsTupleIn,e.receiveStats,e),e.declarePort(c.CallstatsOut),e}return o(t,s.Component),a(t,[{key:"receiveStats",value:function(e){for(var t=this,n=0;n<e.tracks.length;n++)!(function(n){var r=e.tracks[n];if(t.pcHashes.find(function(e){return e===r.pcHash}))return"continue";t.pcHashes.push(r.pcHash)})(n);var r=e.getTransportStats();for(n=0;n<this.pcHashes.length;n++){var i=this.pcHashes[n],o={};o.codec=e.getCodec(),o.trackStats=e.getTrackStats(),o.tracks=[];for(var a=0;a<e.tracks.length;a++){var s=e.tracks[a];s.pcHash===i&&o.tracks.push(s)}if(r&&r.has(i)){var u=r.get(i);u&&1===u.length?o.Transport=u[0]:o.Transport=u,this.transmit(c.CallstatsOut,i,o,e.getDestination())}}}}]),t})();n.StatsAssembler=u},{"../collections/component":37}],100:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsCallbackBuilder=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../utility/registry"),a=(function(){function e(){r(this,e),this.callback=null}return i(e,[{key:"setCallback",value:function(e){this.callback=e}},{key:"buildStats",value:function(e,t){this.callback&&this.buildFromUnifiedFormat(e,t)}},{key:"getConnectionState",value:function(){return!0===navigator.onLine?"online":"offline"}},{key:"buildConferenceUrl",value:function(e){var t=e.getConferenceId(),n=o.Registry.getConferenceManager().get(t);return n?n.getUrl():null}},{key:"buildFromUnifiedFormat",value:function(e,t){var n={};n.connectionState=this.getConnectionState(),n.conferenceURL=this.buildConferenceUrl(t),n.fabricState=t.getPcState(),n.streams={},n.mediaStreamTracks=[];for(var r=0;r<e.length;r++){var i=e[r];if("inbound-rtp"===i.type||"outbound-rtp"===i.type||"ssrc"===i.type||"inboundrtp"===i.type||"outboundrtp"===i.type){var o={ssrc:i.ssrc,statsType:i.type,fractionLoss:i.csioIntFL,bitrate:i.csioIntBRKbps,quality:i.csioMark,mediaType:i.csioMediaType,jitter:i.jitter,audioOutputLevel:i.audioOutputLevel,audioIntputLevel:i.audioInputLevel,audioLevel:i.audioLevel,averageRTT:i.csioAvgRtt,averageJitter:i.csioAvgJitter,packetLossPercentage:i.csioPktLossPercentage,rtt:i.roundTripTime,packetRate:i.csioIntPR,remoteUserID:t.getRemoteId()},a=t.getSSRCInfo(i.ssrc+"");if(a&&(o.cname=a.cname,o.msid=a.msid,o.usageLabel=a.usageLabel,o.associatedVideoTag=a.associatedVideoTag),i.hasOwnProperty("roundTripTime")?o.rtt=i.roundTripTime:i.hasOwnProperty("googRtt")?o.rtt=i.googRtt:i.hasOwnProperty("mozRtt")&&(o.rtt=i.mozRtt),i.hasOwnProperty("jitter")?o.jitter=i.jitter:i.hasOwnProperty("googJitterReceived")&&(o.jitter=i.googJitterReceived),"inboundrtp"===o.statsType)o.statsType="inbound-rtp";else if("outboundrtp"===o.statsType)o.statsType="outbound-rtp";else if("ssrc"===o.statsType){i.id.indexOf("send")>0?o.statsType="outbound-rtp":o.statsType="inbound-rtp"}"remote-inbound-rtp"!==o.statsType&&"remote-outbound-rtp"!==o.statsType&&(!0!==i.isRemote&&"true"!==i.isRemote||(o.statsType="remote-"+o.statsType)),n.streams[i.ssrc]=o,n.mediaStreamTracks.push(o)}}this.callback(n)}}]),e})();n.StatsCallbackBuilder=a},{"../utility/registry":127}],101:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsMonitor=n.StatsMonitorIO=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../collections/component"),u=e("./tracksmonitor"),l=e("./transportsmonitor"),d=e("./intervalstatsmonitor"),f=e("./qualityevaluator"),h=e("./statstuple"),p=e("../utility/registry"),v=e("./monitorhooks/sendingtrigger"),y=e("./monitorhooks/onewaymediaobserver"),g=e("./monitorhooks/throughputobserver"),m=e("./monitorhooks/cpulimitationobserver"),b=e("./monitorhooks/qpsumobserver"),w=e("./monitorhooks/circuitbreakerobserver"),k=e("./monitorhooks/avdesyncobserver"),S=r(e("../utility/timestamps")),C=r(e("../config/constants")),T=r(e("../utility/csiologger")),_=n.StatsMonitorIO={PcStatsTupleIn:"PcStatsTupleIn",StatsTupleOut:"StatsTupleOut"},P=(function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsMonitor"));return n.bindPort(_.PcStatsTupleIn,n.receive,n),n.declarePort(_.StatsTupleOut),n.lastPcStats=null,n.lastPcHash=null,n.tracksmonitor=new u.TracksMonitor,n.transportsmonitor=new l.TransportsMonitor(e),n.intervalstatsmonitor=new d.IntervalStatsMonitor,n.qualityevaluator=new f.QualityEvaluator,n.candidatepairs=new Map,n.monitorhooks=[],n.sendingTrigger=new v.SendingTrigger(n.sendStatsTuple.bind(n)),n.oneWayMediaObserver=new y.OneWayMediaObserver(n.sendDisruptions.bind(n)),n.throughputObserver=new g.ThroughputObserver(n.sendThroughputObservations.bind(n)),n.cpuLimitationObserver=new m.CPULimitationObserver(n.sendCPULimitationObservations.bind(n)),n.qpSumObserver=new b.QPSumObserver(n.sendQPSumDistortions.bind(n)),n.circuitBreakerObserver=new w.CircuitBreakerObserver(n.sendCircuitBreakerEvent.bind(n)),n.avDesyncObserver=new k.AVDeSyncObserver,n.setupHooks(),n.statsToCallbackSent=S.getCurrent(),n}return a(t,c.Component),s(t,[{key:"setupHooks",value:function(){this.monitorhooks.push(this.sendingTrigger.accept.bind(this.sendingTrigger)),this.monitorhooks.push(this.oneWayMediaObserver.accept.bind(this.oneWayMediaObserver)),this.monitorhooks.push(this.throughputObserver.accept.bind(this.throughputObserver)),this.monitorhooks.push(this.cpuLimitationObserver.accept.bind(this.cpuLimitationObserver)),this.monitorhooks.push(this.qpSumObserver.accept.bind(this.qpSumObserver)),this.monitorhooks.push(this.circuitBreakerObserver.accept.bind(this.circuitBreakerObserver)),this.monitorhooks.push(this.avDesyncObserver.accept.bind(this.avDesyncObserver))}},{key:"setIntervals",value:function(e,t){this.sendingTrigger.setup(e,t)}},{key:"receive",value:function(e){var t=e.getPcHash();this.candidatepairs.set(t,e.getCandidatePair()),this.transportsmonitor.set(t,e.getTransportStats()),this.intervalstatsmonitor.set(t,e.getMeasurements());for(var n=e.getMeasurements(),r=0;r<n.length;r++){var i=n[r],o=this.tracksmonitor.getMonitor(i);o?o.add(i):T.warn("No monitor for ssrc "+i.getSSRC())}this.lastPcStats=e,this.lastPcHash=t;for(var a=this.tracksmonitor.getMonitors(),s=this.monitorhooks,c=0;c<s.length;c++)(0,s[c])(a);var u=S.getCurrent();5e3<u-this.statsToCallbackSent&&(this.sendStatsTuple(C.statsDestination.callback),this.statsToCallbackSent=u)}},{key:"getCandidatePairs",value:function(){var e=[];return this.candidatepairs.forEach(function(t,n){var r=[n,t];e.push(r)}),e}},{key:"sendStatsTuple",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=C.statsDestination.backend);var t=new h.StatsTuple(this.getCandidatePairs(),this.lastPcStats.getCodec(),this.lastPcStats.getTrackStats(),this.transportsmonitor.getIntervalStats(),this.tracksmonitor.extractTracks(),this.intervalstatsmonitor.getIntervalStats(e),e);t=this.qualityevaluator.updateQualityStats(t),this.transmit(_.StatsTupleOut,t)}},{key:"sendDisruptions",value:function(e){var t=this;e.forEach(function(e){e.isStarted()?t.sendEventMsg(C.internalFabricEvent.oneWayMediaStart,e.getContent()):t.sendEventMsg(C.internalFabricEvent.oneWayMediaStop,e.getContent())})}},{key:"sendCircuitBreakerEvent",value:function(e){var t=this;e.forEach(function(e){t.sendEventMsg(C.internalFabricEvent.circuitBreaker,e.getContent())})}},{key:"sendCPULimitationObservations",value:function(e){}},{key:"sendQPSumDistortions",value:function(e){}},{key:"sendThroughputObservations",value:function(e){this.sendEventMsg(C.internalFabricEvent.sendingThroughputObservations,e)}},{key:"sendEventMsg",value:function(e,t){if(this.lastPcHash){var n=p.Registry.getConferenceManager().getConferenceForPcHash(this.lastPcHash);if(n){var r=n.getPeerConnectionManager().getPcHandlerByHash(this.lastPcHash),i=r.getPeerConnection(),o=r.getConferenceId();(e!==C.internalFabricEvent.oneWayMediaStart&&e!==C.internalFabricEvent.oneWayMediaStop||!r.isMuted)&&p.Registry.getEventMessageBuilder().make(e,o,i,t)}}}},{key:"delete",value:function(e){this.tracksmonitor&&this.tracksmonitor.deleteTracks(e),this.transportsmonitor&&this.transportsmonitor.delete(e),this.intervalstatsmonitor&&this.intervalstatsmonitor.delete(e),this.candidatepairs&&this.candidatepairs.has(e)&&this.candidatepairs.delete(e)}}]),t})();n.StatsMonitor=P},{"../collections/component":37,"../config/constants":49,"../utility/csiologger":118,"../utility/registry":127,"../utility/timestamps":131,"./intervalstatsmonitor":77,"./monitorhooks/avdesyncobserver":80,"./monitorhooks/circuitbreakerobserver":81,"./monitorhooks/cpulimitationobserver":89,"./monitorhooks/onewaymediaobserver":90,"./monitorhooks/qpsumobserver":91,"./monitorhooks/sendingtrigger":92,"./monitorhooks/throughputobserver":93,"./qualityevaluator":96,"./statstuple":104,"./tracksmonitor":111,"./transportsmonitor":112}],102:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsParser=n.StatsParserIO=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../collections/component"),u=e("./measurement"),l=e("./pcstats"),d=r(e("./validator")),f=r(e("../config/constants")),h=r(e("../utility/csiologger")),p=n.StatsParserIO={RawStatsIn:"RawStatsIn",PcStatsTupleOut:"PcStatsTupleOut"},v=(function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsParser"));return e.bindPort(p.RawStatsIn,e.receive,e),e.declarePort(p.PcStatsTupleOut),e}return a(t,c.Component),s(t,[{key:"receive",value:function(e){if(null!==e){for(var t=e.tracks,n=[],r=0;r<t.length;++r){var i=t[r];if(i&&i.data){var o=u.Measurement.make(e.pcHash,this.getSSRC(i),this.getStreamType(i),this.getMediaType(i),this.getReportType(i),this.getFrameRateReceived(i),this.getFrameHeight(i),this.getFrameWidth(i),this.getDroppedFramesNum(i),this.getFramesReceived(i),this.getRTT(i),this.getJitter(i),this.getLostPackets(i),this.getReceivedPackets(i),this.getSentPackets(i),this.getDiscardedPackets(i),this.getSentBytes(i),this.getReceivedBytes(i),this.getFractionLost(i),this.getGoogEchoCancellationReturnLoss(i),this.getGoogEchoCancellationReturnLossEnhancement(i),i);n.push(o)}else h.log("No track or track.data.")}var a=new l.PcStats(e.candidatePair,e.codec,e.pcHash,e.trackStats,e.transportStats,n);this.transmit(p.PcStatsTupleOut,a)}else h.warn("Stats object can not be null")}},{key:"getSSRC",value:function(e){return e.ssrc}},{key:"getStreamType",value:function(e){return e.streamType===f.streamType.inbound?f.streamType.inbound:e.streamType===f.streamType.outbound?f.streamType.outbound:void 0}},{key:"getSentBytes",value:function(e){if(void 0===e.data.bytesSent)return-1;var t=d.checkForNan(parseInt(e.data.bytesSent,10));return null!==t?t:-1}},{key:"getReceivedBytes",value:function(e){if(void 0===e.data.bytesReceived)return-1;var t=d.checkForNan(parseInt(e.data.bytesReceived,10));return null!==t?t:-1}},{key:"getReceivedPackets",value:function(e){if(void 0===e.data.packetsReceived)return-1;var t=d.checkForNegativeValue(parseInt(e.data.packetsReceived,10));return null!==t?t:-1}},{key:"getSentPackets",value:function(e){if(void 0===e.data.packetsSent)return-1;var t=d.checkForNegativeValue(parseInt(e.data.packetsSent,10));return null!==t?t:-1}},{key:"getDiscardedPackets",value:function(e){if(void 0===e.data.discardedPackets)return-1;var t=d.checkForNan(parseInt(e.data.discardedPackets,10));return null!==t?t:-1}},{key:"getLostPackets",value:function(e){if(void 0===e.data.packetsLost)return-1;var t=d.checkForNegativeValue(parseInt(e.data.packetsLost,10));return null!==t?t:-1}},{key:"getDroppedFramesNum",value:function(e){if(void 0===e.data.droppedFrames)return-1;var t=d.checkForNegativeValue(parseInt(e.data.droppedFrames,10));return null!==t?t:-1}},{key:"getFramesReceived",value:function(e){if(void 0===e.data.framesReceived)return-1;var t=d.checkForNegativeValue(parseInt(e.data.framesReceived,10));return null!==t?t:-1}},{key:"getFrameRateReceived",value:function(e){var t=null;return void 0!==e.data.framerateMean?t=parseInt(e.data.framerateMean,10):void 0!==e.data.framesPerSecond?t=parseInt(e.data.framesPerSecond,10):void 0!==e.data.googFrameRateOutput?t=parseInt(e.data.googFrameRateOutput,10):void 0!==e.data.googFrameRateDecoded?t=parseInt(e.data.googFrameRateDecoded,10):void 0!==e.data.googFrameRateReceived?t=parseInt(e.data.googFrameRateReceived,10):void 0!==e.data.googFrameRateSent&&(t=parseInt(e.data.googFrameRateSent,10)),void 0!==t&&(t=d.checkForNegativeValue(t)),t}},{key:"getFrameHeight",value:function(e){var t=void 0;return void 0!==e.data.frameHeight?t=e.data.frameHeight:void 0!==e.data.googFrameHeightReceived?t=e.data.googFrameHeightReceived:void 0!==e.data.googFrameHeightSent&&(t=e.data.googFrameHeightSent),t}},{key:"getJitter",value:function(e){return void 0!==e.data.jitter?d.checkForNan(parseFloat(e.data.jitter,10)):void 0!==e.data.googJitterReceived?d.checkForNan(parseFloat(e.data.googJitterReceived,10)):void 0}},{key:"getFrameWidth",value:function(e){return void 0!==e.data.frameWidth?e.data.frameWidth:void 0!==e.data.googFrameWidthReceived?e.data.googFrameWidthReceived:void 0!==e.data.googFrameWidthSent?e.data.googFrameWidthSent:void 0}},{key:"getRTT",value:function(e){var t=function(e){return isNaN(e)||e<0?null:e};return void 0!==e.data.roundTripTime?t(parseFloat(e.data.roundTripTime,10)):void 0!==e.data.googRtt?t(parseFloat(e.data.googRtt,10)):void 0!==e.data.mozRtt?t(parseFloat(e.data.mozRtt,10)):void 0}},{key:"getMediaType",value:function(e){var t=f.mediaType.unknown;return e.data&&void 0!==e.data.mediaType?e.data.mediaType:e.data&&void 0!==e.data.kind?e.data.kind:(e.data.mediaType?t=e.data.mediaType:void 0!==e.data.googFrameRateReceived||void 0!==e.data.googFrameRateSent?t=f.mediaType.video:void 0!==e.data.audioInputLevel||void 0!==e.data.audioOutputLevel?t=f.mediaType.audio:void 0!==e.data.framerateMean&&(t=f.mediaType.video),t)}},{key:"getReportType",value:function(e){return e.reportType||f.reportType.unknown}},{key:"getFractionLost",value:function(e){return void 0===e.data.fractionLost?-1:(function(e){return isNaN(e)||e<0?null:e})(parseFloat(e.data.fractionLost,10))}},{key:"getGoogEchoCancellationReturnLoss",value:function(e){return void 0===e.data.googEchoCancellationReturnLoss?-1:d.checkForNan(parseFloat(e.data.googEchoCancellationReturnLoss,10))}},{key:"getGoogEchoCancellationReturnLossEnhancement",value:function(e){return void 0===e.data.googEchoCancellationReturnLossEnhancement?-1:d.checkForNan(parseFloat(e.data.googEchoCancellationReturnLossEnhancement,10))}}]),t})();n.StatsParser=v},{"../collections/component":37,"../config/constants":49,"../utility/csiologger":118,"./measurement":78,"./pcstats":95,"./validator":113}],103:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsTransmitter=n.StatsTransmitterIO=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../collections/component"),u=e("../utility/registry"),l=r(e("../config/constants")),d=r(e("../utility/csiologger")),f=r(e("../config/settings")),h=n.StatsTransmitterIO={CallstatsIn:"CallstatsIn",UnprocessedIn:"UnprocessedIn"},p=(function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsTransmitter"));return e.battery=u.Registry.getBattery(),e.lastUnprocessedStats={},e.bindPort(h.CallstatsIn,e.receiveCallstats,e),e.bindPort(h.UnprocessedIn,e.receiveUnprocessed,e),e}return a(t,c.Component),s(t,[{key:"receiveUnprocessed",value:function(e,t){this.lastUnprocessedStats[t]=e}},{key:"receiveCallstats",value:function(e,t,n){var r=this.getUnifiedFormat(t,e);r?this.send(e,r,n):d.warn("Content can not be sent")}},{key:"send",value:function(e,t,n){var r=u.Registry.getConferenceManager().getConferenceForPcHash(e);if(r){var i=r.getPeerConnectionManager().getPcHandlerByHash(e);if(i){var o=i.getPcState();if(o!==l.fabricState.terminated&&o!==l.fabricState.hold)return n===l.statsDestination.callback?void this.sendToStatsCallback(t.stats,i):void u.Registry.getEventMessageBuilder().make(l.callstatsChannels.processedStats,i.getConferenceId(),i.getPeerConnection(),t)}}}},{key:"sendToStatsCallback",value:function(e,t){var n=u.Registry.getStatsCallbackBuilder();n&&n.buildStats(e,t)}},{key:"getUnifiedFormat",value:function(e,t){for(var n=this.lastUnprocessedStats[t],r=[],i=0;i<n.length;i++){var o=n[i],a=(function(t){for(var n=0;n<e.tracks.length;n++){var r=e.tracks[n];if(r.data.id===t.id&&r.data.type===t.type)return r.data}return t.id===e.Transport.id&&t.type===e.Transport.type?e.Transport:null})(o);if(a){for(var s in a)if(a.hasOwnProperty(s)){if("id"===s||"type"===s||"timestamp"===s)continue;o[s]=a[s]}r.push(o)}else r.push(o)}for(var c=["localcandidate","local-candidate","remotecandidate","remote-candidate"],l=0;l<r.length;l++)c.includes(r[l].type)&&(f.collectIP||(r[l].id||(r[l].id="csio-"+r[l].port),r[l].ip=r[l].id,r[l].address=r[l].id));var d={stats:r};return d.wifiStats=u.Registry.getWifiStatsExecutor().getWifiStats(),d.batteryStatus={},d.batteryStatus.batteryLevel=this.battery.getLevel(),d.batteryStatus.isBatteryCharging=this.battery.getCharging(),-1===d.batteryStatus.batteryLevel&&(d.batteryStatus=null),d}}]),t})();n.StatsTransmitter=p},{"../collections/component":37,"../config/constants":49,"../config/settings":50,"../utility/csiologger":118,"../utility/registry":127}],104:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsTuple=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./intervalstatsmonitor"),a=(function(){function e(t,n,i,a,s,c,u){r(this,e),this.candidatePairs=t,this.codec=n,this.trackStats=i,this.transportStats=a,this.tracks=o.IntervalStatsMonitor.mergeIntervalStats(s,c),this.destination=u}return i(e,[{key:"getCandidatePairs",value:function(){return this.candidatePairs}},{key:"getCodec",value:function(){return this.codec}},{key:"getTrackStats",value:function(){return this.trackStats}},{key:"getTransportStats",value:function(){return this.transportStats}},{key:"getTracks",value:function(){return this.tracks}},{key:"getDestination",value:function(){return this.destination}}]),e})();n.StatsTuple=a},{"./intervalstatsmonitor":77}],105:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.EchoDetection=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=r(e("../../config/constants")),u=r(e("../validator")),l=e("./swplugin"),d=(function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return a(t,l.SWPlugin),s(t,[{key:"detectEcho",value:function(e,n,r){if(!u.isNumber(e)||!u.isNumber(n)||!u.isNumber(r))return null;var i=t.getEModelValue(r/2,e+n);return t.getEchoRating(i)}},{key:"add",value:function(e){this.filter(e)&&this.calculate(e)}},{key:"remove",value:function(e){}},{key:"calculate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.detectEcho(e.getGoogEchoCancellationReturnLoss(),e.getGoogEchoCancellationReturnLossEnhancement(),e.getRTT());this.notify(t)}}],[{key:"isValidTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return!!e&&e.getReportType()===c.reportType.local&&e.getStreamType()===c.streamType.outbound&&e.getMediaType()===c.mediaType.audio}},{key:"getEModelValue",value:function(e,t){var n=(1+e/10)/(1+e/150),r=e*e*-.3,i=t-40*Math.log(n)+6*Math.pow(Math.E,r);return u.isNumber(i)?i:null}},{key:"getEchoRating",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e>=14?c.echoDetectionLabel.acceptable:e>8&&e<14?c.echoDetectionLabel.limitingCase:e<=8?c.echoDetectionLabel.unacceptable:null}}]),t})();n.EchoDetection=d},{"../../config/constants":49,"../validator":113,"./swplugin":108}],106:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWAvg=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./swplugin"),c=(function(e){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));return a.sum=0,a.counter=0,a}return o(t,s.SWPlugin),a(t,[{key:"add",value:function(e){this.filter(e)&&(this.sum+=this.extract(e),this.counter+=1,this.calculate())}},{key:"remove",value:function(e){}},{key:"calculate",value:function(){var e=0;this.counter<1?this.notify(e):(e=this.sum/this.counter,this.notify(e))}}]),t})();n.SWAvg=c},{"./swplugin":108}],107:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWFunctor=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./swplugin"),c=(function(e){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,null,o));return a.addFunc=e,a.remFunc=n,a}return o(t,s.SWPlugin),a(t,[{key:"add",value:function(e){this.filter(e)&&this.addFunc&&this.addFunc(e)}},{key:"remove",value:function(e){this.filter(e)&&this.remFunc&&this.remFunc(e)}},{key:"toString",value:function(){return"SWFuncPlugin"}}]),t})();n.SWFunctor=c},{"./swplugin":108}],108:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SWPlugin=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../utility/csiologger")),a=(function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,e),this.extractorFnc=t,this.notifierFnc=n,this.filterFunc=i}return i(e,[{key:"notify",value:function(e,t,n){this.notifierFnc?this.notifierFnc(e,t,n):o.warn("Failed notification for "+this.toString())}},{key:"extract",value:function(e){return this.extractorFnc?this.extractorFnc(e):(o.warn(this.toString()+" tried to extract without extractorFnc"),null)}},{key:"filter",value:function(e){return!this.filterFunc||this.filterFunc(e)}},{key:"add",value:function(e){o.log("Abstract method is called width value: "+e)}},{key:"remove",value:function(e){o.log("Abstract method is called with value: "+e)}},{key:"toString",value:function(){return"SWPlugin"}}]),e})();n.SWPlugin=a},{"../../utility/csiologger":118}],109:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWSBTreePercentile=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./swplugin"),c=e("../../collections/sizedbalancedtree"),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../config/constants")),l=(function(e){function t(e,n,o){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));return a.sbTree=new c.SizedBalancedTree(u.maxSBTTreeSize),a.result=null,a}return o(t,s.SWPlugin),a(t,[{key:"add",value:function(e){this.filter(e)&&(this.sbTree.add(this.extract(e)),this.calculate())}},{key:"remove",value:function(e){}},{key:"calculate",value:function(){var e=this.sbTree.getSize(),t=Math.round(.5*e),n=this.sbTree.select(t),r=Math.round(.75*e),i=this.sbTree.select(r),o=Math.round(.95*e),a=this.sbTree.select(o);this.notify(n,i,a)}}]),t})();n.SWSBTreePercentile=l},{"../../collections/sizedbalancedtree":42,"../../config/constants":49,"./swplugin":108}],110:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.TrackMonitor=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=e("../utility/registry"),d=e("../collections/slidingwindow"),f=e("../statspipeline/swplugins/swavg"),h=e("../statspipeline/swplugins/echodetection"),p=e("../statspipeline/swplugins/swsbtreepercentile"),v=e("../statspipeline/swplugins/swfunctor"),y=r(e("../utility/timestamps")),g=r(e("../config/constants")),m=r(e("./validator")),b=r(e("../utility/csiologger")),w=(function(e){function t(e,n,r,a){i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.thresholds=[],s.enableThresholds=!1,s.requestTime=0,s.started=0,s.created=y.getCurrent(),s.mediaType=a,s.streamType=r,s.metrics=s.makeTrack(),s.lastTrack={},s.prevFrameRateMean=null,s.ssrc=null,s}return a(t,d.SlidingWindow),u(t,null,[{key:"make",value:function(e,n,r,i){var o=new t(e,n,r,i),a=o.metrics;return o.attach(new f.SWAvg(function(e){return e.getJitter()},function(e){a.csioAvgJitter=e},function(e){var t=e.getJitter();return m.isNumber(t)})),o.attach(new f.SWAvg(function(e){return e.getRTT()},function(e){a.csioAvgRtt=e},function(e){var t=e.getRTT();return m.isNumber(t)})),o.attach(new h.EchoDetection(function(e){return e},function(e){a.csioEchoLabel=e},function(e){return h.EchoDetection.isValidTrack(e)})),o.attach(new p.SWSBTreePercentile(function(e){return e.getJitter()},function(e,t,n){a.csioPercentileJitter=n,a.csio75PercentileJitter=t},function(e){var t=e.getJitter();return m.isNumber(t)})),o.attach(new p.SWSBTreePercentile(function(e){return e.getRTT()},function(e,t,n){a.csioSig2Latency=n,a.csioSig2Latency75=t,a.csioeM=n+40},function(e){var t=e.getRTT();return m.isNumber(t)})),r===g.streamType.inbound?t.setupInboundMonitor(o):r===g.streamType.outbound?t.setupOutboundMonitor(o):b.warn("Unrecognized streamType ("+r+") at TrackMonitor"),i===g.mediaType.audio?t.setupAudioMonitor(o):i===g.mediaType.video?t.setupVideoMonitor(o):b.warn("Unrecognized mediaType ("+i+") at TrackMonitor"),o}},{key:"setupInboundMonitor",value:function(e){var t=e.metrics;e.addPreProcess(function(n){var r=n.getFractionLost();if(!m.checkForPositiveValue(r)){var i=n.getLostPackets(),o=n.getReceivedPackets(),a=e.getRequestedMeasurement(),s=0,c=0;a?(s=i-a.getLostPackets(),c=o-a.getReceivedPackets()):(s=i,c=o),m.checkForPositiveValue(s)&&m.checkForPositiveValue(c)&&(r=s/Math.max(c+s,1),m.checkForPositiveValue(r)&&(t.csioIntFLRate=r,n.setFractionLost(r)))}}),e.addPreProcess(function(n){if(!n.getFrameRateReceived()&&n.getFramesReceived()&&0<e.started){var r=n.getFramesReceived(),i=y.getCurrent()-e.started;i>0&&r>=0&&(t.csioEstFrameRatePerSecond=1e3*r/i)}}),e.attach(new v.SWFunctor(function(n){var r=y.getCurrent(),i=n.getResolution(),o=e.getRequestedMeasurement(),a=e.getRequestTime(),s=8*n.getReceivedBytes(),c=n.getReceivedPackets(),u=0,d=0,f=0,h=Math.max(r-e.getStartTime(),f);o?(u=s-8*o.getReceivedBytes(),d=Math.max(r-a,f)):(f=l.Registry.getCredentials().isAdaptiveStatsEnabled()?g.adaptiveStatsIntervalsInMs.min:l.Registry.getCredentials().getStatsSubmissionInterval(),h=Math.max(r-e.getStartTime(),f),u=s,d=Math.max(h,f)),t.csioAvgBRKbps=s/h,t.intervalBandwidth=Math.max(u/d,0),t.csioAvgPacketSize=n.getReceivedBytes()/Math.max(c,1),t.csiores=i},null,null)),e.attach(new p.SWSBTreePercentile(function(e){return e.getFractionLost()},function(e,n,r){var i=m.checkForPositiveValue(r)?r:null;t.csioPercentileFl=i},function(e){var t=e.getFractionLost();return m.isNumber(t)&&m.checkForPositiveValue(t)}))}},{key:"setupOutboundMonitor",value:function(e){var t=e.metrics;e.addPreProcess(function(n){var r=n.getFractionLost();if(!m.checkForPositiveValue(r)){var i=n.getLostPackets(),o=n.getSentPackets(),a=e.getRequestedMeasurement(),s=0,c=0;a?(s=i-a.getLostPackets(),c=o-a.getSentPackets()):(s=i,c=o),m.checkForPositiveValue(s)&&m.checkForPositiveValue(c)&&(r=s/Math.max(c+s,1),m.checkForPositiveValue(r)&&(t.csioIntFLRate=r,n.setFractionLost(r)))}}),e.attach(new v.SWFunctor(function(n){var r=y.getCurrent(),i=n.getResolution(),o=e.getRequestedMeasurement(),a=e.getRequestTime(),s=8*n.getSentBytes(),c=n.getSentPackets(),u=0,d=0,f=0,h=Math.max(r-e.getStartTime(),f);o?(u=s-8*o.getSentBytes(),d=Math.max(r-a,f)):(f=l.Registry.getCredentials().isAdaptiveStatsEnabled()?g.adaptiveStatsIntervalsInMs.min:l.Registry.getCredentials().getStatsSubmissionInterval(),h=Math.max(r-e.getStartTime(),f),u=s,d=Math.max(h,f)),t.csioAvgBRKbps=s/h,t.intervalBandwidth=Math.max(u/d,0),t.csioAvgPacketSize=n.getSentBytes()/Math.max(c,1),t.csiores=i},null,null)),e.attach(new p.SWSBTreePercentile(function(e){return e.getFractionLost()},function(e,n,r){var i=m.checkForPositiveValue(r)?r:null;t.csioPercentileFl=i},function(e){var t=e.getFractionLost();return m.isNumber(t)&&m.checkForPositiveValue(t)}))}},{key:"setupAudioMonitor",value:function(e){var t=e.metrics;e.attach(new v.SWFunctor(function(e){t.csioMediaType=g.mediaType.audio},null,null))}},{key:"setupVideoMonitor",value:function(e){var t=e.metrics;e.attach(new f.SWAvg(function(e){return e.getFrameRateReceived()},function(n){e.prevFrameRateMean=t.csioFrameRateMean,t.csioPrevFrameRateMean=t.csioFrameRateMean,t.csioFrameRateMean=n},function(e){var t=e.getFrameRateReceived();return m.isNumber(t)})),e.attach(new f.SWAvg(function(e){return e.getFrameHeight()},function(e){t.csioFrameHeightMean=e},function(e){var t=e.getFrameHeight();return m.isNumber(t)})),e.attach(new f.SWAvg(function(e){return e.getFrameWidth()},function(e){t.csioFrameWidthMean=e},function(e){var t=e.getFrameWidth();return m.isNumber(t)})),e.attach(new p.SWSBTreePercentile(function(e){return e.getFrameRateReceived()},function(e){t.csioFrameRate50Percentile=e},function(e){var t=e.getFrameRateReceived();return m.isNumber(t)})),e.attach(new p.SWSBTreePercentile(function(e){return e.getFrameHeight()},function(e){t.csioFrameHeight50Percentile=e},function(e){var t=e.getFrameHeight();return m.isNumber(t)})),e.attach(new p.SWSBTreePercentile(function(e){return e.getFrameWidth()},function(e){t.csioFrameWidth50Percentile=e},function(e){var t=e.getFrameWidth();return m.isNumber(t)})),e.attach(new v.SWFunctor(function(e){t.csioMediaType=g.mediaType.video},null,null))}}]),u(t,[{key:"makeTrack",value:function(){var e={csioMediaType:void 0,csioMark:void 0,intervalBandwidth:void 0,csioAvgBRKbps:void 0,csioAvDesync:void 0,csioIntBRKbps:void 0,csioIntFL:void 0,csioIntFLRate:void 0,csioIntMs:void 0,csioIntPR:void 0,csioPercentileFl:void 0,csioAvgJitter:void 0,csioAvgRtt:void 0,csioEchoLabel:void 0,csioPercentileJitter:void 0,csioSig2Latency:void 0,csioTimeElapseMs:void 0,csioeM:void 0,csiores:void 0,csioFrameWidth95Percentile:void 0,csioFrameWidth50Percentile:void 0,csioFrameHeight95Percentile:void 0,csioFrameHeight50Percentile:void 0,csioFrameRate95Percentile:void 0,csioFrameRate50Percentile:void 0,csioFrameWidthMean:void 0,csioFrameHeightMean:void 0,csioFrameRateMean:void 0,csioIntPktRcv:void 0};return e}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"add",value:function(e){this.ssrc=e.getSSRC(),this.lastTrack=e.extractTrack(),this.lastTrack.pcHash=e.getPcHash(),0===this.started&&(this.started=y.getCurrent()),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e)}},{key:"hasTraffic",value:function(){return 0<this.metrics.intervalBandwidth}},{key:"getTrack",value:function(){var e=this.lastTrack;return e.data=s({},e.data,this.metrics),e}},{key:"extractTrack",value:function(){var e=this.lastTrack;return e.data=s({},e.data,this.metrics),this.requestTime=y.getCurrent(),this.requestedMeasurement=this.peek(),e}},{key:"getMediaType",value:function(){return this.mediaType}},{key:"getStreamType",value:function(){return this.streamType}},{key:"getStartTime",value:function(){return this.started}},{key:"getCreationTime",value:function(){return this.created}},{key:"getRequestTime",value:function(){return Math.max(this.started,this.requestTime)}},{key:"getRequestedMeasurement",value:function(){return this.requestedMeasurement}},{key:"addPreProcess",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addPreProcess",this).call(this,e)}},{key:"addPostProcess",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addPostProcess",this).call(this,e)}}]),t})();n.TrackMonitor=w},{"../collections/slidingwindow":44,"../config/constants":49,"../statspipeline/swplugins/echodetection":105,"../statspipeline/swplugins/swavg":106,"../statspipeline/swplugins/swfunctor":107,"../statspipeline/swplugins/swsbtreepercentile":109,"../utility/csiologger":118,"../utility/registry":127,"../utility/timestamps":131,"./validator":113}],111:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TracksMonitor=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./trackmonitor"),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),s=(function(){function e(){r(this,e),this.inbMonitors=new Map,this.outbMonitors=new Map}return i(e,[{key:"getMonitor",value:function(e){var t=e.getStreamType(),n=e.getMediaType(),r=e.getSSRC(),i=null;return t===a.streamType.inbound?n===a.mediaType.audio?i=this.getInbAudioMonitor(r):n===a.mediaType.video&&(i=this.getInbVideoMonitor(r)):t===a.streamType.outbound&&(n===a.mediaType.audio?i=this.getOutbAudioMonitor(r):n===a.mediaType.video&&(i=this.getOutbVideoMonitor(r))),i}},{key:"extractTracks",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t.extractTrack())}),this.inbMonitors.forEach(function(t,n){e.push(t.extractTrack())}),e}},{key:"deleteTracks",value:function(e){var t=this;this.outbMonitors.forEach(function(n,r){var i=n.getRequestedMeasurement();i&&i.getPcHash()===e&&t.outbMonitors.has(r)&&t.outbMonitors.delete(r)}),this.inbMonitors.forEach(function(n,r){var i=n.getRequestedMeasurement();i&&i.getPcHash()===e&&t.inbMonitors.has(r)&&t.inbMonitors.delete(r)})}},{key:"getTracks",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t.getTrack())}),this.inbMonitors.forEach(function(t,n){e.push(t.getTrack())}),e}},{key:"getMonitors",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t)}),this.inbMonitors.forEach(function(t,n){e.push(t)}),e}},{key:"getInbAudioMonitor",value:function(e){var t=this.inbMonitors.get(e);return t||(t=o.TrackMonitor.make(1e3,3e4,a.streamType.inbound,a.mediaType.audio),this.inbMonitors.set(e,t)),t}},{key:"getInbVideoMonitor",value:function(e){var t=this.inbMonitors.get(e);return t||(t=o.TrackMonitor.make(1e3,3e4,a.streamType.inbound,a.mediaType.video),this.inbMonitors.set(e,t)),t}},{key:"getOutbAudioMonitor",value:function(e){var t=this.outbMonitors.get(e);return t||(t=o.TrackMonitor.make(1e3,3e4,a.streamType.outbound,a.mediaType.audio),this.outbMonitors.set(e,t)),t}},{key:"getOutbVideoMonitor",value:function(e){var t=this.outbMonitors.get(e);return t||(t=o.TrackMonitor.make(1e3,3e4,a.streamType.outbound,a.mediaType.video),this.outbMonitors.set(e,t)),t}}]),e})();n.TracksMonitor=s},{"../config/constants":49,"./trackmonitor":110}],112:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TransportsMonitor=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../config/constants")),s=r(e("../utility/timestamps")),c=(function(){function e(t){i(this,e),this.previous=t,this.actual=t,this.outdated=s.getCurrent()}return o(e,[{key:"setActual",value:function(e){this.actual=e}},{key:"outdate",value:function(){this.previous=this.actual,this.outdated=s.getCurrent()}},{key:"getActual",value:function(){return this.actual}},{key:"getPrevious",value:function(){return this.previous}},{key:"getElapsedTime",value:function(){return s.getCurrent()-this.outdated}}]),e})(),u=(function(){function e(t){i(this,e),this.stats=new Map,this.codeBase=t}return o(e,[{key:"set",value:function(e,t){var n=this.stats.get(e);if(n)n.setActual(t);else{if(t)for(var r=0;r<t.length;++r)t[r].csioTurnMins=0,t[r].csioBytesSent=0,t[r].csioBytesReceived=0;this.stats.set(e,new c(t))}}},{key:"delete",value:function(e){e&&this.stats.has(e)&&this.stats.delete(e)}},{key:"getIntervalStats",value:function(){var e=this,t=new Map;return this.stats.forEach(function(n,r){t.set(r,e.getIntervalStat(n)),n.outdate()}),t}},{key:"getIntervalStat",value:function(e){var t=null;switch(this.codeBase){case a.codeBaseType.chrome:t=this.getIntervalStatForChrome(e);break;default:t=this.getDefaultIntervalStat(e)}return t}},{key:"getDefaultIntervalStat",value:function(e){var t=e.getActual(),n=e.getPrevious(),r=e.getElapsedTime();if(!n)return t;for(var i=0;i<t.length;++i){var o=t[i],a=n[i];if(!a||!o)return t;var s=parseInt(a.bytesReceived,10),c=parseInt(a.bytesSent,10);o.csioReceivedBwKbps=8*(parseInt(o.bytesReceived,10)-s)/r,o.csioSentBwKbps=8*(parseInt(o.bytesSent,10)-c)/r,o.csioIntBytesReceived=parseInt(o.bytesReceived,10)-s,o.csioIntBytesSent=parseInt(o.bytesSent,10)-c,o.csioIsRelayed&&(o.csioIntBytesSent>0||o.csioIntBytesReceived>0)?(o.csioTurnMins=r+a.csioTurnMins,o.csioBytesSent=a.csioBytesSent+o.csioIntBytesSent,o.csioBytesReceived=a.csioBytesReceived+o.csioIntBytesReceived):o.csioTurnMins=a.csioTurnMins}return t}},{key:"getIntervalStatForChrome",value:function(e){var t=e.getActual(),n=e.getPrevious(),r=e.getElapsedTime();if(!n)return actual;for(var i=0;i<t.length;++i){var o=t[i],a=n[i];if(!a||!o)return t;var s=parseInt(a.bytesReceived,10),c=parseInt(a.bytesSent,10);o.csioReceivedBwKbps=8*(parseInt(o.bytesReceived,10)-s)/r,o.csioSentBwKbps=8*(parseInt(o.bytesSent,10)-c)/r,o.csioIntBytesReceived=parseInt(o.bytesReceived,10)-s,o.csioIntBytesSent=parseInt(o.bytesSent,10)-c,void 0!==a.packetsSent&&void 0!==o.packetsSent&&(o.csioSentPacketRate=(parseInt(o.packetsSent,10)-parseInt(a.packetsSent,10))/(r/1e3),o.csioIntPacketsSent=parseInt(o.packetsSent,10)-parseInt(a.packetsSent,10)),void 0!==a.packetsReceived&&void 0!==o.packetsReceived&&(o.csioReceivedPacketRate=(parseInt(o.packetsReceived,10)-parseInt(a.packetsReceived,10))/(r/1e3),o.csioIntPacketsReceived=parseInt(o.packetsReceived,10)-parseInt(a.packetsReceived,10)),o.csioIsRelayed&&(o.csioIntBytesSent>0||o.csioIntBytesReceived>0)?(o.csioTurnMins=r+a.csioTurnMins,o.csioBytesSent=a.csioBytesSent+o.csioIntBytesSent,o.csioBytesReceived=a.csioBytesReceived+o.csioIntBytesReceived):o.csioTurnMins=a.csioTurnMins}return t}}]),e})();n.TransportsMonitor=u},{"../config/constants":49,"../utility/timestamps":131}],113:[function(e,t,n){"use strict";function r(e){return isNaN(e)?null:e}Object.defineProperty(n,"__esModule",{value:!0}),n.checkForNan=r,n.checkForNegativeValue=function(e){return null!==r(e)&&0<=e?e:null},n.checkForPositiveValue=function(e){return void 0!==e&&null!==r(e)&&e>=0},n.isNumber=function(e){return void 0!==e&&null!==r(e)&&Number.isFinite(e)}},{}],114:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(){r(this,e),this.getWifiStatsMethod=null,this.wifiStats=null,this.interval=1e4}return i(e,[{key:"resetGetWifiStatsMethod",value:function(){this.getWifiStatsMethod=null}},{key:"setGetWifiStatsMethod",value:function(e){this.getWifiStatsMethod=e,this.wifiStatsHandler()}},{key:"getWifiStats",value:function(){var e=this;return e.getWifiStatsMethod||(e.wifiStats=null),e.wifiStats}},{key:"wifiStatsHandler",value:function(){var e=this;e.getWifiStatsMethod&&e.getWifiStatsMethod().then(function(t){e.wifiStats=JSON.parse(t),setTimeout(function(){e.wifiStatsHandler()},e.interval)}).catch(function(){setTimeout(function(){e.wifiStatsHandler()},e.interval)})}}]),e})();n.WifiStatsExecutor=o},{}],115:[function(e,t,n){"use strict";function r(e){return window.btoa(e)}function i(e){return window.atob(e)}function o(e){return r(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}Object.defineProperty(n,"__esModule",{value:!0}),n.encode=r,n.decode=i,n.urlencode=function(e){return r(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},n.urlencodeUnicode=function(e){return o(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},n.strtohex=function(e){for(var t=i(e.replace(/[ \r\n]+$/,"")),n=[],r=0;r<t.length;++r){var o=t.charCodeAt(r).toString(16);1===o.length&&(o="0"+o),n.push(o)}return n.join("")}},{}],116:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Callbacks=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../config/constants")),s=e("./registry"),c=r(e("./csiologger")),u=(function(){function e(){i(this,e),this.callbacks={}}return o(e,[{key:"set",value:function(e,t){if("function"==typeof t)return a.callbackFunctions.hasOwnProperty(e)?(this.callbacks[e]=t,void(e===a.callbackFunctions.stats&&s.Registry.getStatsCallbackBuilder().setCallback(t))):void c.error("Couldn't set callback: "+e)}},{key:"get",value:function(e){return this.callbacks.hasOwnProperty(e)?this.callbacks[e]:null}}]),e})();n.Callbacks=u},{"../config/constants":49,"./csiologger":118,"./registry":127}],117:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Credentials=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./csiologger")),s=(function(){function e(){r(this,e),this.appId=null,this.userId=null,this.userIdObject=null,this.deviceId=null,this.statsSubmissionInterval=15e3,this.collectSDP=!1,this.adaptiveStatsEnabled=!1,this.siteId=null,this.additionalIDs=null,this.ingestedEvents=[],this.enableMLNotification=!1}return o(e,[{key:"getAppId",value:function(){return this.appId}},{key:"setAppId",value:function(e){this.appId="string"==typeof e?parseInt(e,10):e}},{key:"getSiteId",value:function(){return this.siteId}},{key:"setSiteId",value:function(e){this.siteId=e}},{key:"getUserId",value:function(){return this.userId}},{key:"setUserId",value:function(e){"object"===(void 0===e?"undefined":i(e))?(this.userId=e.aliasName,this.setUserIdObject(e)):this.userId=e}},{key:"getUserIdObject",value:function(){return this.userIdObject}},{key:"setUserIdObject",value:function(e){this.userIdObject=e}},{key:"getStatsSubmissionInterval",value:function(){return this.statsSubmissionInterval}},{key:"setStatsSubmissionInterval",value:function(e){a.log("setStatsSubmissionInterval is ",e),this.statsSubmissionInterval=e}},{key:"getEnableMLNotification",value:function(){return this.enableMLNotification}},{key:"setEnableMLNotification",value:function(e){this.enableMLNotification=e}},{key:"getCollectSDP",value:function(){return this.collectSDP}},{key:"setCollectSDP",value:function(e){this.collectSDP=e}},{key:"getIngestedEvents",value:function(){return this.ingestedEvents}},{key:"setIngestedEvents",value:function(e){e&&e.length>0&&(this.ingestedEvents=e)}},{key:"isAdaptiveStatsEnabled",value:function(){return this.adaptiveStatsEnabled}},{key:"setAdaptiveStatsEnabled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.adaptiveStatsEnabled=e}},{key:"getAdditionalIDs",value:function(){return this.additionalIDs}},{key:"setAdditionalIDs",value:function(e){this.additionalIDs=e}}]),e})();n.Credentials=s},{"./csiologger":118}],118:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.info=function(){var e;"true"===r.csioDebug&&(e=console).info.apply(e,arguments)},n.log=function(){var e;"true"===r.csioDebug&&(e=console).log.apply(e,arguments)},n.warn=function(){var e;"true"===r.csioDebug&&(e=console).warn.apply(e,arguments)},n.error=function(){var e;(e=console).warn.apply(e,arguments)};var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/settings"))},{"../config/settings":50}],119:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Endpoint=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=r(e("../browserapi/localstorage")),s=r(e("../browserapi/detectbrowser")),c=r(e("../utility/timestamps")),u=r(e("../utility/hash")),l=(function(){function e(){i(this,e),this.id=null,this.appversion=null,this.magicKey=Math.floor(4294967296*Math.random()),this.browserName=null,this.browserVersion=null,this.osName=null,this.osVersion=null,this.codeBase=null,this.userAgent=null,this.retrieveId()}return o(e,[{key:"setup",value:function(){var e=s.detect();this.browserName=e.browserName,this.browserVersion=e.browserVersion,this.osName=e.os,this.osVersion=e.osVersion,this.codeBase=e.codeBase,this.userAgent=e.userAgent}},{key:"retrieveId",value:function(){var e=this,t=a.get("endpointID");if(null===t){var n=c.getCurrent(),r=Math.random()*n;u.generateSHA256(r.toString(),function(t){e.id=t,a.store("endpointID",t)})}else this.id=t}},{key:"getId",value:function(){return this.id}},{key:"getAppVersion",value:function(){return this.appversion}},{key:"setAppVersion",value:function(e){this.appversion=e}},{key:"getMagicKey",value:function(){return this.magicKey}},{key:"getBrowserName",value:function(){return this.browserName}},{key:"getBrowserVersion",value:function(){return this.browserVersion}},{key:"getOsName",value:function(){return this.osName}},{key:"getOsVersion",value:function(){return this.osVersion}},{key:"getCodeBase",value:function(){return this.codeBase}},{key:"getUserAgent",value:function(){return this.userAgent}},{key:"serialize",value:function(){return{type:"browser",buildName:this.browserName,buildVersion:this.browserVersion,appVersion:this.appversion,os:this.osName,osVersion:this.osVersion,userAgent:this.userAgent}}}]),e})();n.Endpoint=l},{"../browserapi/detectbrowser":31,"../browserapi/localstorage":33,"../utility/hash":122,"../utility/timestamps":131}],120:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.EventMessage=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=r(e("../config/constants")),u=r(e("../config/settings")),l=e("./registry"),d=r(e("./csiologger")),f=(function(){function e(t,n,r,o){i(this,e),this.eventType=t,this.customEntries=r,this.pcHandler=o,this.auth=l.Registry.getAuthenticator(),this.clocksync=l.Registry.getClockSync(),this.timestamp=this.clocksync.getSynchronizedTimestamp(),this.conferenceId=n,this.clockUnSynced=!this.clocksync.isCompleted()}return a(e,[{key:"updateConferenceId",value:function(e){d.log("updating conferenceId to ",this.eventType,this.conferenceId,e),this.conferenceId=e}},{key:"toJson",value:function(){if(!this.canBeSent())return null;var e=this.getCommonHeader();return s(e,this.customEntries),this.eventType===c.internalFabricEvent.userJoined&&delete e.connectionID,e}},{key:"getCallback",value:function(){return this.pcHandler?this.pcHandler.getCallback():null}},{key:"canBeSent",value:function(){var e=void 0,t=c.tmpConferenceId;if(this.conferenceId===t)return!1;if(this.pcHandler&&!this.pcHandler.getRemoteId())return!1;if(this.eventType!==c.precalltestEvents.results){var n=l.Registry.getConferenceManager().get(this.conferenceId);if(!n)return!1;e=n.getUcId()}return!(!this.auth.getToken()||(this.auth.isTokenValid()?!(this.isPriority()||this.clocksync.isCompleted()&&e)||this.eventType===c.internalFabricEvent.userAlive&&!e:(this.auth.reAuthenticate(),1)))}},{key:"isCachable",value:function(){return-1===[c.internalFabricEvent.userAlive].indexOf(this.eventType)}},{key:"isPriority",value:function(){var e=!1;return this.eventType!==c.internalFabricEvent.userJoined&&this.eventType!==c.precalltestEvents.results&&this.eventType!==c.internalFabricEvent.userAlive||(e=!0),e}},{key:"getConferenceId",value:function(){return this.conferenceId}},{key:"getCommonHeader",value:function(){var e={version:u.version,callstatsVersion:u.version,channel:this.decideChannel(),timestamp:this.timestamp,action:this.eventType,eventType:this.eventType,localID:encodeURIComponent(l.Registry.getCredentials().getUserId()),timeShift:0,appID:l.Registry.getCredentials().getAppId(),deviceID:l.Registry.getEndpoint().getId(),token:this.auth.getToken(),confID:encodeURIComponent(this.conferenceId)};this.clockUnSynced&&(e.timestamp+=this.clocksync.getOffset()),this.eventType!==c.internalFabricEvent.userJoined&&this.eventType!==c.internalFabricEvent.fabricSetup&&this.eventType!==c.fabricEvent.fabricSetupFailed&&this.eventType!==c.precalltestEvents.results||(e.siteID=l.Registry.getCredentials().getSiteId()),this.eventType!==c.internalFabricEvent.userJoined&&this.eventType!==c.precalltestEvents.results||(e.additionalIDs=l.Registry.getCredentials().getAdditionalIDs());var t=l.Registry.getConferenceManager().get(this.conferenceId);return e.ucID=t?t.getUcId():null,this.pcHandler?(e.remoteID=encodeURIComponent(this.pcHandler.getRemoteId()),e.connectionID=this.pcHandler.getPcHash()):(e.remoteID=encodeURIComponent(l.Registry.getCredentials().getUserId()),e.connectionID=encodeURIComponent(l.Registry.getCredentials().getUserId())),e.remoteID||(e.remoteID=encodeURIComponent(l.Registry.getCredentials().getUserId())),e}},{key:"decideChannel",value:function(){if(this.eventType==c.callstatsChannels.sdpSubmission)return c.callstatsChannels.sdpSubmission;if(this.eventType==c.callstatsChannels.userFeedback)return c.callstatsChannels.userFeedback;if(this.eventType==c.callstatsChannels.processedStats)return c.callstatsChannels.processedStats;for(var e in c.precalltestEvents)if(this.eventType==c.precalltestEvents[e])return c.callstatsChannels.preCallTest;return c.callstatsChannels.callstatsEvent}}],[{key:"checkCustomEntries",value:function(e,t){if(!h[e])return d.error("eventType not recognized:",e),!1;var n=h[e];for(var r in n)if(!t.hasOwnProperty(r)||o(t[r])!==n[r])return d.error("customEntries for",e,"should have",r,"of type",n[r]),!1;return!0}}]),e})(),h={};h[c.internalFabricEvent.userJoined]={endpointInfo:"object"},h[c.internalFabricEvent.userLeft]={},h[c.internalFabricEvent.userAlive]={},h[c.internalFabricEvent.userDetails]={},h[c.internalFabricEvent.connectedDeviceList]={mediaDeviceList:"object"},h[c.fabricEvent.activeDeviceList]={mediaDeviceList:"object"},h[c.fabricEvent.audioMute]={},h[c.fabricEvent.audioUnmute]={},h[c.fabricEvent.videoPause]={},h[c.fabricEvent.videoResume]={},h[c.fabricEvent.screenShareStart]={},h[c.fabricEvent.screenShareStop]={},h[c.internalFabricEvent.mediaPlaybackStart]={ssrc:"string"},h[c.internalFabricEvent.mediaPlaybackSuspended]={ssrc:"string"},h[c.internalFabricEvent.mediaPlaybackStalled]={ssrc:"string"},h[c.internalFabricEvent.oneWayMedia]={mediaType:"string",ssrc:"string"},h[c.internalFabricEvent.oneWayMediaStart]={mediaType:"string",disruptionType:"string",ssrc:"string"},h[c.internalFabricEvent.oneWayMediaStop]={mediaType:"string",disruptionType:"string",ssrc:"string"},h[c.internalFabricEvent.circuitBreaker]={disruptionType:"string",ssrc:"string"},h[c.internalFabricEvent.fabricSetup]={localIceCandidates:"object",remoteIceCandidates:"object",iceCandidatePairs:"object"},h[c.fabricEvent.callDetails]={callType:"string"},h[c.fabricEvent.fabricSetupFailed]={delay:"number",reason:"string",function:"string",endpoint:"object"},h[c.internalFabricEvent.fabricStateChange]={changedState:"string",prevState:"string",newState:"string"},h[c.internalFabricEvent.fabricDropped]={prevIceConnectionState:"string",currIceConnectionState:"string",currIceCandidatePair:"object",delay:"number"},h[c.internalFabricEvent.iceConnectionDisruptionStart]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceConnectionStateTs:"number",currIceCandidatePair:"object"},h[c.internalFabricEvent.iceConnectionDisruptionEnd]={prevIceConnectionState:"string",currIceConnectionState:"string",delay:"number"},h[c.internalFabricEvent.iceDisruptionStart]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceConnectionStateTs:"number",currIceCandidatePair:"object"},h[c.internalFabricEvent.iceDisruptionEnd]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceCandidatePair:"object"},h[c.internalFabricEvent.iceFailed]={localIceCandidates:"object",prevIceConnectionState:"string",currIceConnectionState:"string",delay:"number"},h[c.internalFabricEvent.iceAborted]={prevIceConnectionState:"string",currIceConnectionState:"string"},h[c.internalFabricEvent.iceRestarted]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceCandidatePair:"object"},h[c.internalFabricEvent.fabricTransportSwitch]={prevIceCandidatePair:"object",currIceCandidatePair:"object"},h[c.internalFabricEvent.iceTerminated]={prevIceConnectionState:"string",currIceConnectionState:"string"},h[c.fabricEvent.fabricTerminated]={},h[c.fabricEvent.fabricHold]={},h[c.fabricEvent.fabricResume]={},h[c.fabricEvent.callUnAnswered]={},h[c.callstatsChannels.sdpSubmission]={localSDP:"string",remoteSDP:"string"},h[c.internalFabricEvent.ssrcMap]={ssrcData:"object"},h[c.callstatsChannels.userFeedback]={feedback:"object"},h[c.internalFabricEvent.sendingThroughputObservations]={ssrc:"string",maxsendingKBitrate:"number",timeToMaxSendingKBitrate:"number",stablesendingKBitrate:"number",timeToStableSendingKBitrate:"number"},h[c.fabricEvent.dominantSpeaker]={},h[c.fabricEvent.applicationErrorLog]={message:"string",messageType:"string"},h[c.callstatsChannels.processedStats]={stats:"object"},h[c.customEvents.stats]={stats:"object"},h[c.customEvents.event]={eventList:"object"},h[c.customEvents.conferenceSummary]={pstnTime:"number",ringingTime:"number",contactID:"string",isCallForwarded:"boolean"},h[c.callstatsChannels.senderConfiguration]={rtc_rtp_parameters:"object"},h[c.internalFabricEvent.limitationObservations]={reason:"string"},h[c.qualityDisruptionTypes.qpchange]={reason:"string"},h[c.precalltestEvents.results]={results:"object"},h[c.precalltestEvents.associate]={ids:"object"},n.EventMessage=f},{"../config/constants":49,"../config/settings":50,"./csiologger":118,"./registry":127}],121:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.EventMessageBuilder=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./eventmessage"),c=r(e("../config/constants")),u=e("./registry"),l=r(e("./csiologger")),d=(function(){function e(){i(this,e),this.transmissionmanager=u.Registry.getTransmissionManager()}return a(e,[{key:"make",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof e||null===r||"object"!==(void 0===r?"undefined":o(r)))return l.error("failed typeof checks:",e,void 0===e?"undefined":o(e),void 0===r?"undefined":o(r),r),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"failed typeof checks:"+e+":"+(void 0===r?"undefined":o(r))+":"+(void 0===e?"undefined":o(e))}),!1;if(null===t&&e!==c.precalltestEvents.results)return l.error("failed conferenceId checks:",e,t),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"failed conferenceId checks:"+e}),!1;if(!n&&e!==c.callstatsChannels.userFeedback&&e!==c.fabricEvent.applicationErrorLog&&e!==c.fabricEvent.fabricSetupFailed&&e!==c.internalFabricEvent.userJoined&&e!==c.precalltestEvents.results&&e!==c.customEvents.stats&&e!==c.customEvents.event&&e!==c.customEvents.conferenceSummary)return l.error("peerconnection cannot be null",e),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"peerconnection cannot be null"+e}),!1;if(!s.EventMessage.checkCustomEntries(e,r))return l.error("failed checks:",e,r),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"failed customEntries checks:"+e}),!1;var i=void 0;if(t){var a=u.Registry.getConferenceManager().get(t);a&&n&&(i=a.getPeerConnectionManager().getPcHandler(n))}var d=new s.EventMessage(e,t,r,i);return this.transmissionmanager.send(d),!0}}]),e})();n.EventMessageBuilder=d},{"../config/constants":49,"./csiologger":118,"./eventmessage":120,"./registry":127}],122:[function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;if(!e)return n;for(var r=0,i=e.length;r<i;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t&&t(n+""),n+""}function i(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t[t.length]=r:r>127&&r<2048?(t[t.length]=r>>6|192,t[t.length]=63&r|128):(t[t.length]=r>>12|224,t[t.length]=r>>6&63|128,t[t.length]=63&r|128)}return new Uint8Array(t).buffer}function o(e){for(var t=new DataView(e),n="",r=void 0,i=0;i<t.byteLength;i++)(r=t.getUint8(i).toString(16)).length<2&&(r="0"+r),n+=r;return n}Object.defineProperty(n,"__esModule",{value:!0}),n.generateSHA256=function(e,t){var n={name:"SHA-256"};if(window.crypto){var a=window.crypto.subtle||window.crypto.webkitSubtle;if(!a)return void r(e,t);a.digest(n,i(e)).then(function(e){t(o(e))}).catch(function(){r(e,t)})}else if(window.msCrypto){if(!window.msCrypto.subtle)return void r(e,t);var s=window.msCrypto.subtle.digest(n,i(e));s.oncomplete=function(e){e.target&&t(o(e.target.result))},s.onerror=function(){r(e,t)}}else r(e,t)},n.generateHash=r},{}],123:[function(e,t,n){"use strict";function r(e,t,n,r){n.setLocalDescription(e).then(function(){o.log("pc2  setLocalDescription success")}).catch(function(e){r([])}),t.setRemoteDescription(e).then(function(){o.log("pc1  setRemoteDescription success")}).catch(function(e){r([])})}function i(e,t,n,i){t.setLocalDescription(e).then(function(){o.log("pc1  setLocalDescription success")}).catch(function(e){i([])}),n.setRemoteDescription(e).then(function(){o.log("pc2  setRemoteDescription success")}).catch(function(e){i([])}),n.createAnswer().then(function(e){r(e,t,n,i)}).catch(function(e){i([])})}Object.defineProperty(n,"__esModule",{value:!0}),n.getRemoteAddress=function(e){var t=null,n=void 0,r=void 0,a=[],s=[],c=[];c.push({urls:["stun:taas-oci.callstats.io:443"],username:"discoverip-pct"}),c.push({urls:["stun:taas-oci.callstats.io:80"],username:"discoverip-pct"}),RTCPeerConnection?t=RTCPeerConnection:webkitRTCPeerConnection?t=webkitRTCPeerConnection:mozRTCPeerConnection?t=mozRTCPeerConnection:window&&window.RTCPeerConnection&&(t=window.RTCPeerConnection);var u={iceTransportPolicy:"all",iceServers:c};try{n=new t(u),r=new t(u)}catch(t){e(a)}n.createDataChannel("ipd",{negotiated:!0,id:0}),n.onicecandidate=function(t){if(t.candidate&&t.candidate.candidate){var n=t.candidate.candidate.split(" "),i=n[7].toLowerCase(),c=n[4];"host"!==i&&(s.includes(c)||"srflx"!==i&&"prflx"!==i||(s.push(c),a.push({address:c,candidateType:i}),e(a)),r.addIceCandidate(t.candidate).then(function(){o.log("Ice candidate added successfully to the pc2")}).catch(function(e){o.log("addIceCandidate failure to pc2",e)}))}},r.onicecandidate=function(t){if(t.candidate&&t.candidate.candidate){var r=t.candidate.candidate.split(" "),i=r[7].toLowerCase(),c=r[4];"host"===i||"srflx"!==i&&"prflx"!==i||(s.includes(c)||(s.push(c),a.push({address:c,candidateType:i}),e(a)),n.addIceCandidate(t.candidate).then(function(){o.log("Ice candidate added successfully to the pc1")}).catch(function(e){o.log("addIceCandidate failure to pc1",e)}))}},n.createOffer().then(function(t){i(t,n,r,e)}).catch(function(t){e(a)})};var o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./csiologger"))},{"./csiologger":118}],124:[function(e,t,n){"use strict";function r(e){return!!/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}Object.defineProperty(n,"__esModule",{value:!0}),n.isValid=r,n.parse=function(e){var t=null;return null===e?t:(r(e)&&(t=JSON.parse(e)),t)}},{}],125:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(n,"__esModule",{value:!0}),n.setErrorEventListener=function(){window&&window.addEventListener&&window.addEventListener("error",function(e){var t=i.Registry.getGenericEventHandler();if(e&&e.filename&&e.filename.indexOf("callstats")>-1){for(var n=!1,r={fileName:e.filename,line:e.lineno,col:e.colno,jsVersion:o.version,eventType:"error",message:e.message,pageURL:window.location.href},s=i.Registry.getConferenceManager().getConferenceIds(),c=0;c<s.length;c++)r.conferenceID=s[c],t.sendEvent(a.logEvents.error,r),n=!0;n||t.sendEvent(a.logEvents.error,r)}})};var i=e("./registry"),o=r(e("../config/settings")),a=r(e("../config/constants"))},{"../config/constants":49,"../config/settings":50,"./registry":127}],126:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){var t=o(e);return e&&e.tests?(t.resultID=e.id,t.failures=e.failures,t.startTimestamp=e.startTimestamp,t.endTimestamp=e.endTimestamp,e.notification&&(e.notification.summary&&(t.summary=e.notification.summary.text,t.summaryCode=e.notification.summary.code),e.notification.status&&(t.status=e.notification.status.text,t.statusCode=e.notification.status.code),e.notification.connectivity&&(t.connectivity=e.notification.connectivity.text,t.connectivityCode=e.notification.connectivity.code)),e.tests.ice&&(t.localIP=e.tests.ice.localIP,t.turnIpAddress=e.tests.ice.turnIpAddress,t.turnNetworkType=e.tests.ice.turnNetworkType),t):t}function o(e){var t={mediaConnectivity:!1,throughput:null,fractionalLoss:null,rtt:null,jitter:null,timestamp:c.getCurrent()};return e&&e.tests?(t.provider=e.provider,t.startTimestamp=e.startTimestamp,t.endTimestamp=e.endTimestamp,e.tests.rtt&&(t.rtt=e.tests.rtt.median,t.mediaConnectivity=!0,t.jitter=e.tests.rtt.variance),e.tests.throughput&&(t.throughput=e.tests.throughput.average,t.fractionalLoss=Math.max(e.tests.throughput.fractionLostBytes,0),t.mediaConnectivity=!0,t.bytesSent=e.tests.throughput.bytesSent),e.tests.ice&&(e.tests.ice.relayTcpSuccess||e.tests.ice.relayTlsSuccess||e.tests.ice.relayUdpSuccess)&&(t.mediaConnectivity=!0),e.notification&&(t.notification=e.notification.notification,t.notificationCode=e.notification.notificationTextCode,t.sctCode=e.notification.notificationCode),t):t}Object.defineProperty(n,"__esModule",{value:!0}),n.addPctMeasurementToAggregator=function(e){var t=void 0,n=void 0,r=void 0,i=void 0;if(e&&e.tests){e.tests.rtt&&(t=e.tests.rtt.median,n=e.tests.rtt.variance),e.tests.throughput&&(r=e.tests.throughput.average,i=Math.max(e.tests.throughput.fractionLostBytes,0));var o=new a.PCTMeasurement(r,t,n,i,e.provider,e.timestamp);s.Registry.getPCTAggregator().addPCTMeasurement(o)}},n.getPrecalltestResultsToStore=i,n.storePctResults=function(e){var t=i(e);if(t){var n=u.get("csioPctResults"),r=[];if(n)try{(r=JSON.parse(n)).length>=50&&r.shift()}catch(e){l.warn("csioPctResultsString JSON parse error")}r&&r.push?r.push(t):(r=[]).push(t),u.store("csioPctResults",JSON.stringify(r)),l.warn("Storing pct results",r)}},n.getPublicPrecalltestResults=o;var a=e("../collections/pctmeasurement"),s=e("../utility/registry"),c=r(e("../utility/timestamps")),u=r(e("../browserapi/localstorage")),l=r(e("./csiologger"))},{"../browserapi/localstorage":33,"../collections/pctmeasurement":39,"../utility/registry":127,"../utility/timestamps":131,"./csiologger":118}],127:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Registry=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../services/clocksync"),a=e("../services/configservice/configservicewrapper"),s=e("../services/authenticator"),c=e("../services/backendlog"),u=e("../services/transmissionmanager"),l=e("./eventmessagebuilder"),d=e("../conference/conferencemanager"),f=e("../utility/credentials"),h=e("../statspipeline/statsadapter"),p=e("../statspipeline/statsparser"),v=e("../statspipeline/statsmonitor"),y=e("../statspipeline/statstransmitter"),g=e("../statspipeline/statsassembler"),m=e("../utility/endpoint"),b=e("../browserapi/battery"),w=e("precalltest"),k=e("../statspipeline/wifistatsexecutor"),S=e("./callbacks"),C=e("../statspipeline/statscallbackbuilder"),T=e("../services/connectionmanager"),_=e("../collections/pctaggregator"),P=e("../services/pctrunnerservice"),E=e("../services/jabraservice"),I=null,R=null,O=null,M=null,x=null,F=null,j=null,A=null,D=null,L=null,N=null,B=null,H=null,U=null,W=null,V=null,q=null,G=null,z=null,Y=null,J=null,Q=null,K=null,X=(function(){function e(){r(this,e)}return i(e,null,[{key:"getJabraService",value:function(){return K||(K=new E.JabraService),K}},{key:"getPCTRunnerService",value:function(){return Q||(Q=new P.PCTRunnerService),Q}},{key:"getPCTAggregator",value:function(){return J||(J=new _.PCTAggregator),J}},{key:"getConferenceManager",value:function(){return V||(V=new d.ConferenceManager),V}},{key:"getStatsCallbackBuilder",value:function(){return z||(z=new C.StatsCallbackBuilder),z}},{key:"getClockSync",value:function(){return R||(R=new o.ClockSync),R}},{key:"getWifiStatsExecutor",value:function(){return q||(q=new k.WifiStatsExecutor),q}},{key:"getAuthenticator",value:function(){return O||(O=new s.Authenticator),O}},{key:"getConfigServiceWrapper",value:function(){return M||(M=new a.ConfigServiceWrapper),M}},{key:"getGenericEventHandler",value:function(){return x||(x=new c.GenericEventHandler).enable(),x}},{key:"getConnectionManager",value:function(){return Y||(Y=new T.ConnectionManager),Y}},{key:"getTransmissionManager",value:function(){return F||(F=new u.TransmissionManager),F}},{key:"getEventMessageBuilder",value:function(){return j||(j=new l.EventMessageBuilder),j}},{key:"getCredentials",value:function(){return A||(A=new f.Credentials),A}},{key:"getEndpoint",value:function(){return D||(D=new m.Endpoint),D}},{key:"getStatsAdapter",value:function(){if(!L){var t=e.getEndpoint().getCodeBase(),n=e.getEndpoint().getBrowserName();L=new h.StatsAdapter(t,n)}return L}},{key:"getPreCallTest",value:function(){return I||(I=new w.PreCallTest),I}},{key:"getStatsParser",value:function(){return N||(N=new p.StatsParser),N}},{key:"getStatsMonitor",value:function(){if(!B){var t=e.getEndpoint().getCodeBase();B=new v.StatsMonitor(t)}return B}},{key:"getStatsTransmitter",value:function(){return H||(H=new y.StatsTransmitter),H}},{key:"getStatsAssembler",value:function(){return U||(U=new g.StatsAssembler),U}},{key:"getBattery",value:function(){return W||(W=new b.Battery),W}},{key:"getCallbacks",value:function(){return G||(G=new S.Callbacks),G}}]),e})();n.Registry=X},{"../browserapi/battery":30,"../collections/pctaggregator":38,"../conference/conferencemanager":47,"../services/authenticator":59,"../services/backendlog":60,"../services/clocksync":61,"../services/configservice/configservicewrapper":65,"../services/connectionmanager":66,"../services/jabraservice":67,"../services/pctrunnerservice":70,"../services/transmissionmanager":73,"../statspipeline/statsadapter":98,"../statspipeline/statsassembler":99,"../statspipeline/statscallbackbuilder":100,"../statspipeline/statsmonitor":101,"../statspipeline/statsparser":102,"../statspipeline/statstransmitter":103,"../statspipeline/wifistatsexecutor":114,"../utility/credentials":117,"../utility/endpoint":119,"./callbacks":116,"./eventmessagebuilder":121,precalltest:3}],128:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.RunningStats=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../collections/queue"),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../statspipeline/validator")),s=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;r(this,e),this.queue=new o.Queue(t),this.cumulativeSum=0}return i(e,[{key:"add",value:function(e){this.cumulativeSum+=e;var t=this.queue.push(e);a.isNumber(t)&&(this.cumulativeSum-=t)}},{key:"getMean",value:function(){return this.queue.size()<1?null:this.cumulativeSum/this.queue.size()}},{key:"getVariance",value:function(){if(this.queue.size()<2)return null;for(var e=this.getMean(),t=0,n=this.queue.getFront();n;){var r=n,i=r.value-e;t+=i*i,n=r.next}return t/this.queue.size()}},{key:"getStd",value:function(){if(this.queue.size()<2)return null;var e=this.getVariance();return Math.sqrt(e)}},{key:"reset",value:function(){this.cumulativeSum=0,this.queue.clear()}}]),e})();n.RunningStats=s},{"../collections/queue":41,"../statspipeline/validator":113}],129:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t,n,i){r(this,e),this.max=t,this.midpoint=n,this.stepness=i,this.actualStep=0,this.reset()}return i(e,[{key:"reset",value:function(){this.actualStep=0}},{key:"setMidpoint",value:function(e){this.midpoint=e}},{key:"setMax",value:function(e){this.max=e}},{key:"setStepness",value:function(e){this.stepness=e}},{key:"increaseActualStep",value:function(e){this.actualStep+=e}},{key:"getActual",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.actualStep+=e,this.max/(1+Math.exp(-1*this.stepness*(this.actualStep-this.midpoint)))}}]),e})();n.Sigmoid=o},{}],130:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TimeoutProcess=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./csiologger")),a=(function(){function e(t){r(this,e),this.interval=t,this.timerId=null,this.callback=function(){o.warn("no callback function set",this)}}return i(e,[{key:"setCallback",value:function(e){this.callback=e}},{key:"start",value:function(){var e=this;this.timerId=setInterval(function(){e.callback()},this.interval)}},{key:"stop",value:function(){clearInterval(this.timerId),this.timerId=null}},{key:"isStarted",value:function(){return null!==this.timerId}}]),e})();n.TimeoutProcess=a},{"./csiologger":118}],131:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrent=function(){return window&&window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()},n.getSinceOrigin=function(){return window&&window.performance&&window.performance.now?window.performance.now():null}},{}],132:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t){r(this,e),this.base=t;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this.appendixes=i}return o(e,null,[{key:"concat",value:function(e,t){if(!t)return e;if(!e)return t;var n="/"===e.substr(e.length-1),r="/"===t.substring(0,1);return n||r?n&&r?e+t.substring(1):e+t:e+"/"+t}}]),o(e,[{key:"append",value:function(e){this.appendixes.push(e)}},{key:"toString",value:function(){var t=this.getString(this.base),n=this;return this.appendixes.forEach(function(r){if(null!==r&&void 0!==r){var i=n.getString(r);t=e.concat(t,i)}}),t}},{key:"getString",value:function(e){switch(void 0===e?"undefined":i(e)){case"function":return this.getString(e());case"number":return e+"";case"string":default:return e}}}]),e})();n.Url=a},{}],133:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeMediaDeviceList=function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r={};r.mediaDeviceID=e[n].deviceId,r.groupID=e[n].groupId,r.kind=e[n].kind,r.label=e[n].label,r.mediaDeviceID&&t.push(r)}return t},n.isIntegerPollyfill=function(){Number.isInteger||(Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})},n.assignPollyfill=function(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0})}},{}]},{},[35])},552,[13]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),u=e(r(d[4])),s=e(r(d[5])),l=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=y(t);if(o&&o.has(e))return o.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=u?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(n,s,l):n[s]=e[s]}n.default=e,o&&o.set(e,n);return n})(r(d[6])),p=e(r(d[7])),c=r(d[8]),f=e(r(d[9])),h=e(r(d[10])),v=e(r(d[11])),C=e(r(d[12]));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(y=function(e){return e?o:t})(e)}function M(e){var t=E();return function(){var o,n=(0,s.default)(e);if(t){var l=(0,s.default)(this).constructor;o=Reflect.construct(n,arguments,l)}else o=n.apply(this,arguments);return(0,u.default)(this,o)}}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}!(function(e){if(void 0===e.$){var t=r(d[13]);t(e),e.$=t}})(g||window||this);var R=new c.NativeEventEmitter(h.default),A=!1,w="CometChatCallingComponent",S=(function(e){(0,n.default)(s,e);var u=M(s);function s(e){var o;return(0,t.default)(this,s),o=u.call(this,e),C.default.setCallObject(o.props.RTCUser,o.props.RTCReceiver,o.props.RTCInitiator,o.props.isInitiator),C.default.setRegion(o.props.REGION),C.default.setAudioOnly(o.props.isAudioOnly),f.default.log(w,"App id = ",o.props.appId),"pidc"!=o.props.REGION&&"pidcdev"!=o.props.REGION||(A=!0),o}return(0,o.default)(s,[{key:"componentDidMount",value:function(){var e=this;this.eventListener=new c.NativeEventEmitter(h.default),this.eventListener.addListener("CallEvent",function(t){f.default.log(w,"CallEvent received : ",t),"EndCall"==t.type&&e.props.onEndCall(),"EndCallButtonPressed"==t.type&&e.props.onCallEndButtonPressed(),"onUserJoinned"==t.type&&e.props.onUserJoinned(t.user),"onUserLeft"==t.type&&e.props.onUserLeft(t.user),"onUserListChanged"==t.type&&e.props.onUserListChanged(t.userList),"onAudioDeviceListChanged"==t.type&&e.props.onAudioDeviceListChanged(t.audioDeviceList),"getAudioModesSuccess"==t.type&&(f.default.log(w,"getAudioModesSuccess",t.audioModes),e.props.getAudioModesOnSuccess(t.audioModes)),"getAudioModesError"==t.type&&f.default.log(w,"getAudioModesError",t.audioModes),"onCallSwitchedToVideo"==t.type&&e.props.onSwitchedToVideoCall(t.CallSwitchRequestInfo),"onUserMuted"==t.type&&e.props.onUserMuted(t.value),"onRecordingToggled"==t.type&&e.props.onRecordingToggled(t.value)})}},{key:"render",value:function(){return l.default.createElement(p.default,{sessionid:this.props.sessionId,enableDefaultLayout:this.props.enableDefaultLayout,hideAudioMuteButton:this.props.hideAudioMuteButton,hideEndCallButton:this.props.hideEndCallButton,hidePauseVideoButton:this.props.hidePauseVideoButton,hideVideoSwitchButton:this.props.hideVideoSwitchButton,hideAudioModeButton:this.props.hideAudioModeButton,isAudioOnly:this.props.isAudioOnly,isConference:this.props.isConference,uid:this.props.uid,RTCUser:this.props.RTCUser,isSingleMode:this.props.isSingleMode,mode:this.props.mode,REGION:this.props.REGION,domain:this.props.domain,defaultAudioMode:this.props.defaultAudioMode,isLegacyServer:A,startAudioMuted:this.props.startAudioMuted,startVideoMuted:this.props.startVideoMuted,appId:this.props.appId,showCallRecordingButton:this.props.showCallRecordingButton,startRecordingOnCallStart:this.props.startRecordingOnCallStart,analyticsSettings:this.props.analyticsSettings,showSwitchToVideoCallButton:this.props.showSwitchToVideoCallButton,avatarMode:this.props.avatarMode})}}]),s})(l.Component);_e.default=S,S.endCallSession=function(){R.emit("CallEvent",{type:"NativeEndCall"}),v.default.endCall()},S.switchCameraSource=function(){v.default.switchCamera()},S.muteAudio=function(){v.default.muteAudio()},S.unMuteAudio=function(){v.default.unMuteAudio()},S.pauseVideo=function(){v.default.pauseVideo()},S.unPauseVideo=function(){v.default.unPauseVideo()},S.enterPIPMode=function(){v.default.enterPIPMode()},S.exitPIPMode=function(){v.default.exitPIPMode()},S.setAudioModeToSpeaker=function(){},S.setAudioModeToEarPiece=function(){},S.switchToVideoCall=function(){v.default.switchToVideoCalls()},S.startCallRecording=function(){v.default.callRecordingStart()},S.stopCallRecording=function(){v.default.callRecordingStop()};!(function(e){(0,n.default)(s,e);var u=M(s);function s(){var e;(0,t.default)(this,s);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(e=u.call.apply(u,[this].concat(n))).state={hasError:!1},e}(0,o.default)(s,[{key:"render",value:function(){return this.state.hasError?l.default.createElement(View,{style:{flex:1,justifyContent:"center",alignItems:"center"}},l.default.createElement(Text,null,"Something Went Wrong")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}])})(l.default.Component)},553,[1,2,3,4,6,9,10,554,14,560,577,583,628,627]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var u=s?Object.getOwnPropertyDescriptor(e,c):null;u&&(u.get||u.set)?Object.defineProperty(o,c,u):o[c]=e[c]}o.default=e,n&&n.set(e,o);return o})(r(d[6])),l=r(d[7]);r(d[8]);var h=e(r(d[9])),p=(e(r(d[10])),e(r(d[11]))),f=r(d[12]);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}!(function(e){if(void 0===e.$){var t=r(d[13]);t(e),e.$=t}})(g||window||this);var C="App.js",w={hosts:{domain:"rtc-eu.cometchat.io",muc:"conference.rtc-eu.cometchat.io",focus:"focus.rtc-eu.cometchat.io"},bosh:"https://xmpp.rtc-eu.cometchat.io/http-bind",serviceUrl:"wss://xmpp.rtc-eu.cometchat.io/xmpp-websocket",clientNode:"http://jitsi.org/jitvar"},E={channelLastN:10,openBridgeChannel:"websocket",websocketKeepAlive:-1,testing:{octo:{probability:1}},e2eping:{pingInterval:-1},deploymentInfo:{userRegion:"eu-west-1"},p2p:{enabled:!1}},O=null,k=null,b=(function(e){(0,o.default)(S,e);var v,b,M=(v=S,b=y(),function(){var e,t=(0,c.default)(v);if(b){var n=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,s.default)(this,e)});function S(e){var n;(0,t.default)(this,S),(n=M.call(this,e)).createLocalTracks=function(){p.default.createLocalTracks({devices:["video"]}).catch(function(e){console.log(C,"Create local track error ...  ",e)}).then(function(e){console.log(C,"track created ...",e),n.publishLocaltrack(e[0]),n.initConnection()})},n.onConnectionSuccess=function(){(k=O.initJitsiConference(n.props.sessionid,E)).on(p.default.events.conference.CONFERENCE_JOINED,n.onConferenceJoined),k.on(p.default.events.conference.CONFERENCE_FAILED,n.onConferenceFailed),k.join()},n.onConferenceJoined=function(){},n.onConferenceFailed=function(e){},n.onConferenceJoined=function(){},n.onConnectionFailed=function(e){},n.publishLocaltrack=function(e){var t=n.state.localUser;"video"==e.getType()?t.videoTrack=e:t.audioTrack=e,n.setState({localUser:t})};var o=l.Dimensions.get("screen"),s=o.height,c=o.width;return n.state={height:s,width:c},n}return(0,n.default)(S,[{key:"componentDidMount",value:function(){}},{key:"initConnection",value:function(){(O=new p.default.JitsiConnection(null,null,w)).addEventListener(p.default.events.connection.CONNECTION_ESTABLISHED,this.onConnectionSuccess),O.addEventListener(p.default.events.connection.CONNECTION_FAILED,this.onConnectionFailed),O.connect()}},{key:"renderConferenceScreen",value:function(e){var t=this;return u.default.createElement(l.View,{style:{flex:1},onLayout:function(e){0==e.nativeEvent.layout.height||0==e.nativeEvent.layout.width||t.state.height==e.nativeEvent.layout.height&&t.state.width==e.nativeEvent.layout.width||t.setState({height:e.nativeEvent.layout.height,width:e.nativeEvent.layout.width})}},u.default.createElement(h.default,{sessionID:e,username:this.props.RTCUser.name,RTCUser:this.props.RTCUser,isSingleMode:this.props.isSingleMode,mode:this.props.mode,REGION:this.props.REGION,isAudioOnly:this.props.isAudioOnly,enableDefaultLayout:this.props.enableDefaultLayout,hideAudioMuteButton:this.props.hideAudioMuteButton,hideSwitchToVideoCallButton:!this.props.showSwitchToVideoCallButton,hideEndCallButton:this.props.hideEndCallButton,hidePauseVideoButton:this.props.hidePauseVideoButton,hideVideoSwitchButton:this.props.hideVideoSwitchButton,hideAudioModeButton:this.props.hideAudioModeButton,showCallRecordingButton:this.props.showCallRecordingButton,startRecordingOnCallStart:this.props.startRecordingOnCallStart,domain:this.props.domain,isLegacyServer:this.props.isLegacyServer,height:this.state.height,width:this.state.width,defaultAudioMode:this.props.defaultAudioMode,startAudioMuted:this.props.startAudioMuted,startVideoMuted:this.props.startVideoMuted,appId:this.props.appId,analyticsSettings:this.props.analyticsSettings,avatarMode:this.props.avatarMode?this.props.avatarMode:"circle"}))}},{key:"renderTestUi",value:function(){if(this.state.localUser&&this.state.localUser.videoTrack)return u.default.createElement(f.RTCView,{streamURL:this.state.localUser.videoTrack.getOriginalStream().toURL(),style:{flex:1,backgroundColor:"#000000"},zOrder:1})}},{key:"render",value:function(){return u.default.createElement(l.View,{style:{flex:1,backgroundColor:"#000"}},this.renderConferenceScreen(this.props.sessionid))}}]),S})(u.Component);_e.default=b},554,[1,2,3,4,6,9,10,14,395,555,560,556,517,627]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),i=e(r(d[4])),s=e(r(d[5])),u=e(r(d[6])),c=e(r(d[7])),l=e(r(d[8])),f=e(r(d[9])),p=e(r(d[10])),h=_(r(d[11])),S=r(d[12]),v=(e(r(d[13])),e(r(d[14])),e(r(d[15]))),T=_(r(d[16])),R=e(r(d[17])),C=e(r(d[18])),y=e(r(d[19])),k=r(d[20]),E=e(r(d[21])),I=r(d[22]),U=e(r(d[23])),O=e(r(d[24])),M=e(r(d[25])),A=e(r(d[26])),L=e(r(d[27])),P=e(r(d[28])),w=r(d[29]);function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=i?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function D(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?N(Object(o),!0).forEach(function(t){(0,n.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):N(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var x="Conference",B=null,j=null,F=!1,G="avatar-url",q="user_object",J=S.Dimensions.get("window"),H=J.height,W=J.width,K=new S.NativeEventEmitter(T.default),Q="CallingComponent",Y=(function(e){(0,c.default)(N,e);var n,V,_=(n=N,V=b(),function(){var e,t=(0,f.default)(n);if(V){var o=(0,f.default)(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return(0,l.default)(this,e)});function N(e){var n;(0,i.default)(this,N),(n=_.call(this,e)).isPortrait=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.Dimensions.get("window"),t=e.height>=e.width;n.setState({isPortrait:t,flex1:t?e:{height:e.height-(S.StatusBar.currentHeight||0),width:e.width}})},n.dominantSpeakers=[],n._handleAppStateChange=function(e){n.state.appState.match(/inactive|background/)&&"active"===e&&"android"==S.Platform.OS&&n.stopScreenShare(),n.setState({appState:e})},n.unload=function(){console.log("Unload called");var e=n.state.users[0];if(e&&e.audioTrack)try{var t,o,i,s;console.log("unload audio try",null==(t=n.state.users[0])?void 0:t.audioTrack),j.removeTrack(null==(o=n.state.users[0])?void 0:o.audioTrack),null==(i=n.state.users[0])||null==(s=i.audioTrack)||s.dispose()}catch(e){console.log("unload audio catch",e)}if(e&&e.videoTrack)try{var u,c,l;console.log("unload videoTrack try"),j.removeTrack(null==(u=n.state.users[0])?void 0:u.videoTrack),null==(c=n.state.users[0])||null==(l=c.videoTrack)||l.dispose()}catch(e){console.log("unload videoTrack catch",e)}try{j&&j.leave(),B&&B.disconnect(),"ios"===S.Platform.OS&&T.default.removeListener()}catch(e){console.log("Unload connection error",e)}n.analytics.stopPing(),S.AppState.removeEventListener("change",n._handleAppStateChange)},n.setModeProps=function(e){e==I.singleMode?n.setState({isSingleMode:!0,hidePeopleLable:!0,showLocalStream:!0}):e==I.spotlightMode?n.setState({isSingleMode:!1,hidePeopleLable:!1,showLocalStream:!0}):n.setState({isSingleMode:!1,hidePeopleLable:!0,hideUserThumbList:!1,showLocalStream:!1})},n.init=function(e){x=e,R.default.log("CallingComponent [ init] sessionID= ",n.props.sessionID),p.default.init(I.initOptions),p.default.setLogLevel(p.default.logLevels.ERROR),n.makeConnection()},n.onConnectionSuccess=function(){j=n.isLegacyServer?B.initJitsiConference(x,I.confOptionsLegacy):B.initJitsiConference(x,I.confOptions),n.state.isReconnecting&&n.setState({isReconnecting:!1}),window.room=j;var e=j.myUserId()||"",t=(0,o.default)(n.state.users),i=t[0];t[0]=D(D({},i),{},{id:e}),n.setState({users:t,dominantSpeakerId:j.lastDominantSpeaker||e}),j.on(p.default.events.conference.TRACK_ADDED,n.onRemoteTrack),j.on(p.default.events.conference.TRACK_REMOVED,n.onRemoteTrackRemoved),j.on(p.default.events.conference.CONFERENCE_JOINED,n.onConferenceJoined),j.on(p.default.events.conference.USER_JOINED,n.onUserJoined),j.on(p.default.events.conference.USER_LEFT,n.onUserLeft),j.on(p.default.events.conference.TRACK_MUTE_CHANGED,n.onTrackMuted),j.on(p.default.events.conference.DOMINANT_SPEAKER_CHANGED,n.onDominantSpeakerChanged),j.on(p.default.events.connectionQuality.REMOTE_STATS_UPDATED,n.onRemoteStatsUpdated),j.on(p.default.events.connectionQuality.LOCAL_STATS_UPDATED,n.onLocalStatsUpdated),j.on(p.default.events.conference.PARTICIPANT_CONN_STATUS_CHANGED,function(e,t){var o=n.state.users.map(function(n){return n.id===e?D(D({},n),{},{status:t}):n});n.setState({users:o})}),j.on(p.default.events.conference.LAST_N_ENDPOINTS_CHANGED,n.onLastNChanged),j.addCommandListener(I.SCREEN_SHARING_STARTED,function(e){var t=e.value;n.setState({pinnedUserId:t})}),j.addCommandListener(I.SCREEN_SHARING_STOPPED,function(e){e.value===n.state.pinnedUserId&&n.setState({pinnedUserId:null})}),j.on(p.default.events.conference.SUBJECT_CHANGED,function(e){console.log("SUBJECT_CHANGED",e);var t=JSON.parse(e);if(null!=t&&t.converted){var o=null==t?void 0:t.converted;n.onCallConvertedToVideo(o.initiator,o.responder)}}),setTimeout(function(){n.addToVideoListener()},3e3),j.addCommandListener(I.START_SCREEN_RECORDING,function(e){var t=e.attributes;n.setState({recorder:t,recordId:t.recordId,isRecording:!0,tryingToStartRecording:!1}),K.emit("CallEvent",{type:I.ON_RECORDING_TOGGLED,value:{recordingStarted:!0,user:n.removeAudioVideoTrackFromUser(t)}}),n.recordingRetryTimer&&clearTimeout(n.recordingRetryTimer)}),j.addCommandListener(I.TRYING_TO_START_SCREEN_RECORDING,function(e){var t=e.attributes;n.state.isRecording||n.setState({tryingToStartRecording:!0,recorder:t})}),j.addCommandListener(I.TRYING_TO_STOP_START_SCREEN_RECORDING,function(e){e.attributes;n.setState({tryingToStartRecording:!1,recorder:null})}),j.addCommandListener(I.STOP_SCREEN_RECORDING,function(e){var t=e.attributes;console.log("i am called STOP_SCREEN_RECORDING",n.state.isRecording),n.setState({recordingDetail:{},recordId:null,isRecording:!1}),K.emit("CallEvent",{type:I.ON_RECORDING_TOGGLED,value:{recordingStarted:!1,user:n.removeAudioVideoTrackFromUser(t)}})}),j.addCommandListener(I.PARTICIPANT_MUTED,function(e){var t=e.attributes,o={},i={};n.state.exportUserList.map(function(e){e.id==t.mutedParticipantId?i=e:e.id==t.participantMutedBy&&(o=e)}),t.mutedParticipantId==n.state.users[0].id&&n.setState({isAudioMuted:!0}),0!=Object.keys(i).length&&0!=Object.keys(o).length&&K.emit("CallEvent",{type:I.ON_USER_MUTED,value:{muted:i,mutedBy:o}})}),j.setDisplayName(n.props.RTCUser.name),j.sendCommand(G,{value:n.props.RTCUser.avatar}),j.sendCommand(q,{attributes:{uid:n.props.RTCUser.uid,avatar:n.props.RTCUser.avatar,name:n.props.RTCUser.name,joinnedAt:Date.now()}}),j.addCommandListener(q,function(e,t){var i=n.state.users.map(function(n){return n.id===t?(n.uid||K.emit("CallEvent",{type:"onUserJoinned",user:e.attributes}),D(D({},n),{},{uid:e.attributes.uid,avatar:e.attributes.avatar,joinnedAt:e.attributes.joinnedAt})):n}),s=n.state.exportUserList;if(!n.state.exportUserList.find(function(e){return e.id===t})){var u={id:t,name:e.attributes.name,avatar:e.attributes.avatar,uid:e.attributes.uid};s=[].concat((0,o.default)(s),[u]),K.emit("CallEvent",{type:"onUserListChanged",userList:s})}n.setState({users:i,exportUserList:s},function(){})}),j.join()},n.onCallConvertedToVideo=function(e,t){n.state.switchedToVideoCall||n.setState({toVideoRequestInitiator:e,toVideoRequestResponder:t,toVideoRequestType:"other",toVideoRequestModal:!0})},n.addToVideoListener=function(){j.addCommandListener(I.SWITCH_TO_VIDEO_SESSION_REQUEST,function(e,t){var o,i=(null==e?void 0:null==(o=e.attributes)?void 0:o.initiator)&&JSON.parse(e.attributes.initiator);t===n.localUser.id||n.state.switchedToVideoCall||n.setState({toVideoRequestModal:!0,toVideoInitiator:i,toVideoRequestInitiator:i,toVideoRequestType:"initial"})}),j.addCommandListener(I.SWITCH_TO_VIDEO_SESSION_RESPONSE,function(e,t){var o,i=e.attributes.responder&&JSON.parse(e.attributes.responder);"true"!=e.attributes.response||n.state.switchedToVideoCall?(i.id!=(null==(o=n.state.users[0])?void 0:o.id)&&v.default.showSnackbar(((null==i?void 0:i.name)||"Someone")+" rejected for switching to video call"),n.setState({requestingForVideoCall:!1})):(n.switchToVideoCall(!0,i),n.setState({toVideoRequestResponder:i,requestingForVideoCall:!1,switchedToVideoCall:!0},function(){}))})},n.switchToVideoCall=function(){var e,o,i,s,u=arguments;return t.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:o=u.length>0&&void 0!==u[0]&&u[0],i=u.length>1&&void 0!==u[1]?u[1]:{},o&&(s={initiator:D({},n.state.toVideoRequestInitiator),responder:D({},i),response:!0},j.setSubject(JSON.stringify({converted:s}))),n.setState({isAudioOnly:!1,requestingForVideoCall:!1,switchedToVideoCall:!0},function(){p.default.createLocalTracks({devices:["video"]}).then(n.onLocalTracks).catch(function(e){console.log(e)})}),"EARPIECE"==(null==(e=T.AudioManager.selectedDevice)?void 0:e.type)&&T.default.setMode("SPEAKER"),K.emit("CallEvent",{type:"onCallSwitchedToVideo",CallSwitchRequestInfo:{sessionId:n.props.sessionID,initiator:n.removeAudioVideoTrackFromUser(n.state.toVideoRequestInitiator),responder:n.removeAudioVideoTrackFromUser(i)}});case 6:case"end":return t.stop()}},null,null,null,Promise)},n.onLastNChanged=function(e,t){var o=n.state.users,i=!1;o.map(function(n){e.includes(n.id)?(i=!0,n.showVideo=!1):t.includes(n.id)&&(i=!0,n.showVideo=!0)}),i&&n.setState({users:o})},n.onLocalStatsUpdated=function(e){if(R.default.log(Q,"onLocalStatsUpdated updated : ",e.bitrate.download+" X "+e.bitrate.upload," conectionQuality: "+e.connectionQuality),JSON.stringify(n.state.users[0].stats)!=JSON.stringify(e)){var t=(0,o.default)(n.state.users);t[0].stats=e,n.setState({users:t}),n.setState({resolutions:e.resolution})}},n.onRemoteStatsUpdated=function(e,t){R.default.log(Q,"onRemoteStatsUpdated updated : ",e);var i=!1,s=(0,o.default)(n.state.users);s.map(function(n){n.id==e&&JSON.stringify(n.stats)!=JSON.stringify(t)&&(n.stats=t,i=!0)}),i&&n.setState({users:s})},n.onConnectionFailed=function(e){R.default.log(Q,"Reconn onConnectionFailed called....",e),M.default.addEventListener(function(e){console.log(Q," Reconn Connection type - ",e.type),console.log(Q,"Reconn Is connected? - ",e.isConnected),e.isConnected&&n.reconnect()})},n.onLastNEndPointsChanged=function(e,t){},n.onDominantSpeakerChanged=function(e){e&&n.state.users[0].id!==e&&(n.setState({dominantSpeakerId:e}),n.state.pinnedUserId)},n.onUserJoined=function(e,t){R.default.log(Q,"onUserJoined id ",t.getId()),R.default.log(Q,"onUserJoined myid ",j.myUserId());if("Unnamed"===(t.getDisplayName()?t.getDisplayName():"Unnamed")&&t._statsID.includes("jibri"))return!1;T.AudioManager.audioModeStarted=!0;var i={id:t.getId(),uid:null,name:t.getDisplayName(),avatar:null,status:t._connectionStatus,isAudioMuted:!1,isVideoMuted:!1,videoTrack:void 0,audioTrack:void 0,isLocalUser:!1};n.setState({users:[].concat((0,o.default)(n.state.users),[i])}),i.name&&i.name.includes("(Screen)")&&n.setState({isAnyScreenShareUser:[].concat((0,o.default)(n.state.isAnyScreenShareUser),[i])})},n.onUserLeft=function(e,t){if(R.default.log(Q,"onUserLeft called ",""),("Unnamed"===t.getDisplayName()||!t.getDisplayName())&&t._statsID&&t._statsID.includes("jibri"))return!1;if("Unnamed"===(t.getDisplayName()?t.getDisplayName():"Unnamed")&&t._statsID.includes("jibri"))return!1;var i=null;n.state.users.map(function(e){(null==i||i.joinedAt>e.joinedAt)&&t._id!==e.id&&"active"===e.status&&(i=e),t._id===e.id&&(n.state.tryingToStartRecording&&j.sendCommandOnce(I.TRYING_TO_STOP_START_SCREEN_RECORDING,{}),R.default.log(Q,"User letf with UID ==>",e.uid),K.emit("CallEvent",{type:"onUserLeft",user:{uid:e.uid,name:e.name,avatar:e.avatar}}))});if(t.name&&t.name.includes("(Screen)")){var s=(0,o.default)(n.state.isAnyScreenShareUser).filter(function(e){return e.id!=t.id});n.setState({isAnyScreenShareUser:s})}var u=n.state.users.filter(function(e){return e.id!==t._id});n.state.recorder&&t._id===n.state.recorder.id&&n.setState({recorder:i}),R.default.log(Q,"onUserLeft after .....",u),u.length<=1&&K.emit("CallEvent",{type:"EndCall"});var c=n.state.exportUserList.filter(function(e){return e.id!==t._id});K.emit("CallEvent",{type:"onUserListChanged",userList:c}),n.state.users.length,n.setState({users:u,exportUserList:c})},n.onTrackMuted=function(e){var t=e.ownerEndpointId;e.isLocal()&&(t=n.state.users[0].id);var o=n.state.users.map(function(n){return n.id===t?"video"===e.getType()?D(D({},n),{},{videoTrack:e,isVideoMuted:e.isMuted()}):D(D({},n),{},{audioTrack:e,isAudioMuted:e.isMuted()}):n});n.setState({users:o})},n.onRemoteTrack=function(e){try{if(e.isLocal())return;var t=e.ownerEndpointId;(0,k.isScreenSharingTrack)(e)?n.setState({pinnedUserId:t}):j.lastDominantSpeaker===t&&n.setState({dominantSpeakerId:t});var o=n.state.users.map(function(n){return n.id===t?"video"===e.type?D(D({},n),{},{videoTrack:e,isVideoMuted:e.muted}):D(D({},n),{},{audioTrack:e,isAudioMuted:e.muted}):n});n.setState({users:o})}catch(e){R.default.log(Q,"[onRemoteTrack]",e)}},n.onRemoteTrackRemoved=function(e){var t=n.state.users.map(function(t){return t.id===e.ownerEndpointId?"video"===e.type?D(D({},t),{},{videoTrack:void 0}):D(D({},t),{},{audioTrack:void 0}):t});n.setState({users:t})},n.onConferenceJoined=function(){var e,o;return t.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(F=!0,n.props.startRecordingOnCallStart&&(n.state.isRecording&&n.state.tryingToStartRecording||(console.log("this.props.startRecordingOnCallStar",n.props.startRecordingOnCallStart),n.startRecording())),e=(0,u.default)(n),(o=e.localUser).audioTrack&&j.addTrack(o.audioTrack),!o.videoTrack){i.next=7;break}return i.next=7,t.default.awrap(j.addTrack(o.videoTrack));case 7:case"end":return i.stop()}},null,null,null,Promise)},n.createLocalTracks=function(){return t.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:try{n.state.isAudioOnly?p.default.createLocalTracks({devices:["audio"]}).then(n.onLocalTracks):p.default.createLocalTracks({devices:["audio"]}).then(function(e){n.onLocalTracks(e),p.default.createLocalTracks({devices:["video"],resolution:360,constraints:{video:{height:{ideal:360,max:720,min:180},maxFps:15}}}).then(n.onLocalTracks).catch(function(e){console.log(e)})})}catch(e){console.log("createLocalTrack",e)}case 1:case"end":return e.stop()}},null,null,null,Promise)},n.onLocalTracks=function(e,t){for(var i=0;i<e.length;i++){if(console.log("onLocalTracks",e[i].getType()),"video"===e[i].getType()){var s=(0,o.default)(n.state.users),u=s[0];console.log("localUser.isVideoMuted || this.state.isVideoMuted",u.isVideoMuted,n.state.isVideoMuted),(u.isVideoMuted||n.state.isVideoMuted)&&e[i].mute(),s[0]=D(D({},u),{},{videoTrack:e[i]}),n.setState({users:s}),(0,k.isScreenSharingTrack)(e[i])&&(e[i].track.onended=function(){n.stopScreenShare()})}if("audio"===e[i].getType()){var c=(0,o.default)(n.state.users),l=c[0];(l.isAudioMuted||n.state.isAudioMuted)&&e[i].mute(),c[0]=D(D({},l),{},{audioTrack:e[i]}),n.setState({users:c})}F&&j.addTrack(e[i])}},n.toggleVideoButton=function(){var e=(0,u.default)(n).localUser;e.videoTrack&&(n.state.isVideoMuted?(e.videoTrack.unmute(),n.state.isVideoMuted=!1):(e.videoTrack.mute(),n.state.isVideoMuted=!0))},n.toggleAudioButton=function(){var e=(0,u.default)(n).localUser;e.audioTrack&&(n.state.isAudioMuted?(n.state.isAudioMuted=!1,e.audioTrack.unmute()):(e.audioTrack.mute(),n.state.isAudioMuted=!0))},n.muteAudio=function(){var e=(0,u.default)(n).localUser;e.audioTrack&&e.audioTrack.mute()},n.unmuteAudio=function(){var e=(0,u.default)(n).localUser;e.audioTrack&&e.audioTrack.unmute()},n.pauseVideo=function(){var e=(0,u.default)(n).localUser;e.videoTrack&&e.videoTrack.mute()},n.unPauseVideo=function(){var e=(0,u.default)(n).localUser;e.videoTrack&&e.videoTrack.unmute()},n.enterPIPMode=function(){n.setState({inPIPMode:!0})},n.exitPIPMode=function(){n.setState({inPIPMode:!1})},n.onEndCallButtonCLicked=function(){n.unload(),window.postMessage(window.parent.postMessage(JSON.stringify({type:"hangup",message:"Message text from iframe."}),"*"),"*")},n.disposeLocalVideoTrack=function(){var e,o,i,s=arguments;return t.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(e=s.length>0&&void 0!==s[0]?s[0]:"both",o=(0,u.default)(n),!(i=o.localUser).videoTrack||"audio"===e){c.next=10;break}return c.prev=3,c.next=6,t.default.awrap(i.videoTrack.dispose());case 6:c.next=10;break;case 8:c.prev=8,c.t0=c.catch(3);case 10:if(!i.audioTrack||"video"===e){c.next=19;break}return c.prev=11,c.next=14,t.default.awrap(i.audioTrack.dispose());case 14:n.createVideoTrack(),c.next=19;break;case 17:c.prev=17,c.t1=c.catch(11);case 19:case"end":return c.stop()}},null,null,[[3,8],[11,17]],Promise)},n.createScreenShareTrack=function(){return t.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.default.awrap(n.disposeLocalVideoTrack());case 2:return e.next=4,t.default.awrap(p.default.createLocalTracks({devices:["desktop"]}));case 4:e.sent;case 5:case"end":return e.stop()}},null,null,null,Promise)},n.stopScreenShare=function(){return t.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.default.awrap(n.disposeLocalVideoTrack());case 2:n.createLocalTracks();case 3:case"end":return e.stop()}},null,null,null,Promise)},n.startForegroundService=function(){var e,n;return t.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:if("android"===S.Platform.OS){o.next=2;break}return o.abrupt("return");case 2:if(!(S.Platform.Version>=26)){o.next=6;break}return e={id:"ForegroundServiceChannel",name:"Notification Channel",description:"Notification Channel for Foreground Service",enableVibration:!1,importance:2},o.next=6,t.default.awrap(VIForegroundService.createNotificationChannel(e));case 6:return n={id:3456,title:"Foreground Service",text:"Foreground service is running",icon:"ic_notification",priority:0},S.Platform.Version>=26&&(n.channelId="ForegroundServiceChannel"),o.next=10,t.default.awrap(VIForegroundService.startService(n).catch(function(e){console.log("catch VIForegroundService",e)}));case 10:return o.sent,o.abrupt("return",!0);case 12:case"end":return o.stop()}},null,null,null,Promise)},n.stopForegroundService=function(){return t.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:if("android"===S.Platform.OS){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.default.awrap(VIForegroundService.stopService());case 4:case"end":return e.stop()}},null,null,null,Promise)},n.onScreenShareClicked=function(){return t.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:n.state.isScreenShareOn?(n.stopScreenShare(),n.stopForegroundService()):n.createScreenShareTrack();case 1:case"end":return e.stop()}},null,null,null,Promise)},n.onDisplayModeChange=function(){n.setState(function(e){return{isGridMode:!e.isGridMode}})},n.onUserItemClicked=function(e){n.setState({dominantSpeakerId:e.id})},n.pinUser=function(e){n.setState({pinnedUserId:e.id})},n.unPinUser=function(){n.setState({pinnedUserId:null})},n.onDoubleTap=function(e){var t,o;null==(t=n.state.users[0])||null==(o=t.videoTrack)||o._switchCamera()},n.onAudioModeChanged=function(e){n.state.audioMode!==e&&n.setState({audioMode:e})},n.switchToVideoCallRequest=function(){if(n.state.switchedToVideoCall||!n.state.isAudioOnly)return!1;n.setState({requestingForVideoCall:!0,toVideoRequestInitiator:D(D({},n.state.users[0]),{},{audioTrack:null,videoTrack:null,stats:null}),toVideoInitiator:n.state.users[0]}),j.sendCommandOnce(I.SWITCH_TO_VIDEO_SESSION_REQUEST,{attributes:{initiator:JSON.stringify(D(D({},n.state.users[0]),{},{audioTrack:null,videoTrack:null,stats:null}))}})},n.switchToVideoCallResponse=function(e){"initial"==n.state.toVideoRequestType?(j.sendCommandOnce(I.SWITCH_TO_VIDEO_SESSION_RESPONSE,{attributes:{responder:JSON.stringify(D(D({},n.state.users[0]),{},{audioTrack:null,videoTrack:null,stats:null})),response:e}}),n.setState({toVideoRequestModal:!1})):e?(n.switchToVideoCall(!1,n.state.toVideoRequestResponder),n.setState({toVideoRequestModal:!1})):n.onHangUp()},n.createVideoTrack=function(){return t.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:p.default.createLocalTracks({devices:["video"]}).then(function(){n.onLocalTracks(track,!0)}).catch(function(e){});case 1:case"end":return e.stop()}},null,null,null,Promise)},n.createAudioTrack=function(){return t.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.default.awrap(n.localUser.audioTrack.dispose());case 2:p.default.createLocalTracks({devices:["audio"]}).then(function(e){n.onLocalTracks(e)}).catch(function(e){});case 3:case"end":return e.stop()}},null,null,null,Promise)},n.fullScreen=function(){n.state.fullScreen,n.setState({fullScreen:!n.state.fullScreen})},n.RenderCallUI=function(){return n.state.inPIPMode?h.default.createElement(P.default,{dominantSpeakerId:n.state.dominantSpeakerId,pinnedUserId:n.state.pinnedUserId,users:n.state.users}):"SPOTLIGHT"==n.props.mode?h.default.createElement(A.default,{isAudioOnly:n.props.isAudioOnly,avatarMode:n.state.avatarMode,dominantSpeakerId:n.state.dominantSpeakerId,pinnedUserId:n.state.pinnedUserId,users:n.state.users,isPortrait:n.state.isPortrait,closeShowUserList:function(){return n.setState({showUserList:!1})},pinUser:n.pinUser,unPinUser:n.unPinUser,flex1:n.state.flex1,resolutions:n.state.resolutions,toggleUserList:function(){return n.setState({showUserList:!n.state.showUserList})},recorderId:null==(e=n.state.recorder)?void 0:e.id}):h.default.createElement(L.default,{avatarMode:n.state.avatarMode,showUserList:n.state.showUserList,dominantSpeakerId:n.state.dominantSpeakerId,pinnedUserId:n.state.pinnedUserId,users:n.state.users,isPortrait:n.state.isPortrait,isAudioOnly:n.state.isAudioOnly,fullScreen:n.state.fullScreen,resolutions:n.state.resolutions,flex1:n.state.flex1,room:j,changeFullScreen:n.fullScreen,closeShowUserList:function(){return n.setState({showUserList:!1})},pinUser:n.pinUser,unPinUser:n.unPinUser,toggleUserList:function(){return n.setState({showUserList:!n.state.showUserList})},recorderId:null==(t=n.state.recorder)?void 0:t.id});var e,t},n.removeAudioVideoTrackFromUser=function(e){var t=D({},e);return delete t.audioTrack,delete t.videoTrack,delete t.stats,t},n.startRecording=function(){try{n.state.isRecording||(console.log(Q,"[startRecording] room",j),j.startRecording({mode:"file"}).then(function(e){n.setState({tryingToStartRecording:!1}),recordId=e._sessionID,n.setState({isRecording:!0,recordId:recordId,recorder:n.state.users[0]},function(){j.sendCommandOnce(I.START_SCREEN_RECORDING,{attributes:D({recordId:recordId},n.state.recorder)})})}).catch(function(e){console.log(Q,"[startRecording]",e,"trying to reconnect. try number:",n.recordingRetry),n.recordingRetryTimer=setTimeout(function(){n.state.isRecording||n.startRecording()},5e3*n.recordingRetry),n.setState({tryingToStartRecording:!0}),1===n.recordingRetry&&n.setState({recorder:n.state.users[0]},function(){j.sendCommandOnce(I.TRYING_TO_START_SCREEN_RECORDING,{attributes:D({},n.state.users[0])})}),n.state.isRecording&&n.setState({tryingToStartRecording:!1}),n.recordingRetry++}))}catch(e){R.default.log(Q,"[startRecording]",e)}},n.stopRecording=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.state.tryingToStartRecording)return n.state.recorder.id===n.state.users[0].id||e?(clearTimeout(n.recordingRetryTimer),n.recordingRetry=1,n.setState({tryingToStartRecording:!1}),void j.sendCommandOnce(I.TRYING_TO_STOP_START_SCREEN_RECORDING,{})):void 0;R.default.log(Q,"stopRecording recording id = ",n.state.recordId,"rtcorder",n.state.recorder),n.state.isRecording&&n.state.recorder&&(n.state.recorder.id===n.state.users[0].id||e)&&(j.sendCommandOnce(I.STOP_SCREEN_RECORDING,{attributes:n.removeAudioVideoTrackFromUser(n.state.users[0])}),j.stopRecording(n.state.recordId),n.setState({isRecording:!1,isStreaming:!1,streamingKey:"",recordId:"",recorder:{}}))},n.onAudioModeClicked=function(){n.setState({showAudioModel:!0})},n.onRecordingClicked=function(){n.state.isRecording||n.state.tryingToStartRecording?n.stopRecording():n.startRecording()},n.muteParticipant=function(e){if(!e)return alert("select usr"),!1;try{j.muteParticipant(e.id),j.sendCommandOnce(I.PARTICIPANT_MUTED,{attributes:{mutedParticipantId:e.id,participantMutedBy:n.state.users[0].id}})}catch(e){R.default.log(Q,"[muteParticipant]",e)}},H=n.props.height,W=n.props.width,n.participantsWhoPinnedMe=new Set,n.reconInterval;var s={name:n.props.username||"Unnamed",avatar:n.props.RTCUser.avatar||"No avatar",status:"active",isVideoMuted:n.props.startVideoMuted,isAudioMuted:n.props.startAudioMuted,isLocalUser:!0};return n.isLegacyServer=n.props.isLegacyServer,n.recordingRetry=1,n.state={mySessionId:n.props.sessionID,myUserName:n.props.username,status:"active",myAvatar:n.props.avatar,remoteTracks:[],users:[s],exportUserList:[],dominantSpeakerId:null,isScreenShareOn:!1,pinnedUserId:null,hideAudioMuteButton:n.props.hideAudioMuteButton,hidePauseVideoButton:n.props.hidePauseVideoButton,hideEndCallButton:n.props.hideEndCallButton,hideVideoSwitchButton:n.props.hideVideoSwitchButton,hideAudioModeButton:n.props.hideAudioModeButton,showButtonLayout:n.props.enableDefaultLayout,showUserPopUP:!1,hidePeopleLable:!1,hideUserThumbList:!0,isVideoMirrored:!0,isSingleMode:!1,activeUserIds:[],mode:n.props.mode,region:n.props.REGION,isAudioOnly:n.props.isAudioOnly,showLocalStream:!1,appState:S.AppState.currentState,audioMode:"speaker",isVideoMuted:n.props.startVideoMuted,isAudioMuted:n.props.startAudioMuted,isPortrait:!0,showUserList:!1,resolutions:{},flex1:{height:H,width:W},isReconnecting:!1,inPIPMode:!1,requestingForVideoCall:!1,toVideoRequestModal:!1,toVideoInitiator:{},switchedToVideoCall:!1,toVideoRequestType:"initial",toVideoRequestResponder:{},isAnyScreenShareUser:[],isRecording:null,avatarMode:n.props.avatarMode},n}return(0,s.default)(N,[{key:"componentDidMount",value:function(){new T.AudioManager;"android"===S.Platform.OS&&S.UIManager.setLayoutAnimationEnabledExperimental&&S.UIManager.setLayoutAnimationEnabledExperimental(!0),S.AppState.addEventListener("change",this._handleAppStateChange),this.setModeProps(this.props.mode),this.init(this.state.mySessionId),p.default.setLogLevel(p.default.logLevels.ERROR),this.createLocalTracks(),this.onAudioModeChanged=this.onAudioModeChanged.bind(this),this.onDoubleTap=this.onDoubleTap.bind(this),this.onAudioMute=this.onAudioMute.bind(this),this.onVideoMute=this.onVideoMute.bind(this),this.onHangUp=this.onHangUp.bind(this),this.reconnect=this.reconnect.bind(this),this.addNativeEventListner(),this.initExposedfunctions()}},{key:"componentWillUnmount",value:function(){}},{key:"localUser",get:function(){return this.state.users[0]}},{key:"initExposedfunctions",value:function(){var e=this;C.default.initOnEndCall(this.unload),C.default.initSwitchCamera(this.onDoubleTap),C.default.initOnMuteAudio(this.muteAudio),C.default.initOnUnMuteAudio(this.unmuteAudio),C.default.initOnPauseVideo(this.pauseVideo),C.default.initOnUnPauseVideo(this.unPauseVideo),C.default.initEnterPIPMode(this.enterPIPMode),C.default.initExitPIPMode(this.exitPIPMode),C.default.initSwitchToVideoCall(this.switchToVideoCallRequest),C.default.initStartCallRecording(function(){e.state.isRecording&&e.state.tryingToStartRecording||e.startRecording()}),C.default.initStopCallRecording(function(){e.state.isRecording&&e.state.tryingToStartRecording||e.stopRecording()})}},{key:"makeConnection",value:function(){var e,t;if(this.isLegacyServer)n={hosts:{domain:this.getDomain(),muc:this.getMUC(),focus:this.getFocus()},bosh:this.getBoshLegacy(),clientNode:"http://jitsi.org/jitsimeet"};else var n={hosts:{domain:this.getDomain(),muc:this.getMUC(),focus:this.getFocus()},serviceUrl:this.getWebSocket(),bosh:this.getBosh(),clientNode:"http://jitsi.org/jitsimeet"};B=null!=(e=this.props)&&null!=(t=e.RTCUser)&&t.jwt?new p.default.JitsiConnection(null,this.props.RTCUser.jwt,n):new p.default.JitsiConnection(null,null,n),this.addEventListener(),B.connect()}},{key:"getDomain",value:function(){return this.props.domain}},{key:"getMUC",value:function(){return"conference."+this.props.domain}},{key:"getFocus",value:function(){return"focus."+this.props.domain}},{key:"getBosh",value:function(){return"https://xmpp."+this.props.domain+"/http-bind"}},{key:"getBoshLegacy",value:function(){return"https://"+this.props.domain+"/http-bind"}},{key:"getWebSocket",value:function(){return"wss://xmpp."+this.props.domain+"/xmpp-websocket"}},{key:"addNativeEventListner",value:function(){var e=this;K.addListener("CallEvent",function(t){"NativeEndCall"==t.type&&e.onHangUp()})}},{key:"addEventListener",value:function(){R.default.log(Q,"addEventListener called..."),B.addEventListener(p.default.events.connection.CONNECTION_ESTABLISHED,this.onConnectionSuccess),B.addEventListener(p.default.events.connection.CONNECTION_FAILED,this.onConnectionFailed),B.addEventListener(p.default.events.connection.CONNECTION_DISCONNECTED,this.onDisconnect),B.addEventListener(p.default.events.connection.CONNECTION_DROPPED_ERROR,this.onConnectionDropped)}},{key:"reconnect",value:function(){var e=this;console.log(Q,"Reconn reconnect called.. "),this.setState({users:[this.localUser],isReconnecting:!0},function(){j&&(j.off(p.default.events.conference.USER_JOINED,e.onUserJoined),j.off(p.default.events.conference.USER_LEFT,e.onUserLeft),j.leave()),B&&B.disconnect(),e.makeConnection()})}},{key:"onDisconnect",value:function(){R.default.log(Q,"onDisconnect called....","onDisconnect called....")}},{key:"onConnectionDropped",value:function(){R.default.log(Q,"onConnectionDropped called....","onConnectionDropped called....")}},{key:"onAudioMute",value:function(){this.toggleAudioButton()}},{key:"onVideoMute",value:function(){this.state.isAudioOnly?this.switchToVideoCallRequest():this.toggleVideoButton()}},{key:"onHangUp",value:function(){this.unload()}},{key:"render",value:function(){var e,t,n,o,i=this;this.state.users;return h.default.createElement(S.View,{style:[y.default.mainContainer,this.state.flex1,{flexDirection:this.state.isPortrait?"column":"row",overflow:"hidden"}]},this.state.isReconnecting?h.default.createElement(S.Button,{style:y.default.reconnetIndicator,title:"Reconnecting.....",color:"#EB4E3D"}):null,this.RenderCallUI(),(this.state.isRecording||this.state.tryingToStartRecording)&&h.default.createElement(S.View,{style:y.default.recordingContainer},this.state.tryingToStartRecording?h.default.createElement(S.Text,{style:y.default.recordingText}," ","Trying to start recording..."):h.default.createElement(h.default.Fragment,null,h.default.createElement(S.Image,{source:r(d[30]),style:y.default.recordingIcon}),h.default.createElement(S.Text,{style:y.default.recordingText}," Recording"))),h.default.createElement(U.default,{ref:function(e){return i.analytics=e},user:this.props.RTCUser,appID:this.props.appId,isAudioOnly:this.state.isAudioOnly,sessionID:this.props.sessionID,analyticsSettings:this.props.analyticsSettings}),h.default.createElement(w.AudioToVideoRequestModal,{type:this.state.toVideoRequestType,name:null==(e=this.state)?void 0:null==(t=e.toVideoInitiator)?void 0:t.name,onResponse:this.switchToVideoCallResponse,visible:this.state.toVideoRequestModal}),h.default.createElement(w.AudioToVideoRequested,{visible:this.state.requestingForVideoCall}),this.state.showButtonLayout?h.default.createElement(O.default,{isPortrait:this.state.isPortrait,connection:F,hidePauseVideoButton:this.state.hidePauseVideoButton,isVideoMuted:this.state.isVideoMuted,onVideoMute:this.onVideoMute,hideAudioMuteButton:this.state.hideAudioMuteButton,isAudioMuted:this.state.isAudioMuted,onAudioMute:this.onAudioMute,hideEndCallButton:this.state.hideEndCallButton,onHangUp:this.onHangUp,hideAudioModeButton:this.state.hideAudioModeButton,defaultAudioMode:this.props.defaultAudioMode,onAudioModeChanged:this.onAudioModeChanged,isAudioOnly:this.state.isAudioOnly,hideSwitchToVideoCallButton:this.props.hideSwitchToVideoCallButton,hideVideoSwitchButton:this.state.hideVideoSwitchButton,onDoubleTap:this.onDoubleTap,inPIPMode:this.state.inPIPMode,userLength:null==(n=this.state.users)?void 0:n.length,isAnyScreenShareUser:this.state.isAnyScreenShareUser,isScreenShareOn:this.state.isScreenShareOn,onAudioModeClicked:this.onAudioModeClicked,onScreenShareClicked:this.onScreenShareClicked,isRecording:this.state.isRecording,tryingToStartRecording:this.state.tryingToStartRecording,onRecordingClicked:this.onRecordingClicked,hideRecordButton:!this.props.showCallRecordingButton||!!this.state.isRecording&&(!(!this.state.recorder||!this.state.recorder.id)&&this.state.recorder.id!==(null==(o=this.state.users[0])?void 0:o.id))}):h.default.createElement(E.default,{defaultAudioMode:this.props.defaultAudioMode,onAudioModeChanged:this.onAudioModeChanged,isAudioOnly:this.state.isAudioOnly,renderButton:!1}),this.state.showAudioModel?h.default.createElement(T.AudioModeModel,{onBackDropPress:function(){i.setState({showAudioModel:!1})}}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.height!==e.height?(H=e.height,W=e.width,{isPortrait:e.height>=e.width,flex1:{height:e.height,width:e.width}}):null}}]),N})(h.Component);_e.default=Y},555,[1,68,34,47,2,3,8,4,6,9,556,10,14,558,571,576,577,560,583,584,585,586,587,588,589,612,620,622,625,626,609]);
__d(function(global,_$$_REQUIRE,_$$_IMPORT_DEFAULT,_$$_IMPORT_ALL,module,exports,_dependencyMap){var _objectWithoutProperties=_$$_REQUIRE(_dependencyMap[0]),_readOnlyError=_$$_REQUIRE(_dependencyMap[1]),_toConsumableArray=_$$_REQUIRE(_dependencyMap[2]),_get=_$$_REQUIRE(_dependencyMap[3]),_regeneratorRuntime=_$$_REQUIRE(_dependencyMap[4]),_slicedToArray=_$$_REQUIRE(_dependencyMap[5]),_assertThisInitialized=_$$_REQUIRE(_dependencyMap[6]),_inherits=_$$_REQUIRE(_dependencyMap[7]),_possibleConstructorReturn=_$$_REQUIRE(_dependencyMap[8]),_getPrototypeOf=_$$_REQUIRE(_dependencyMap[9]),_defineProperty=_$$_REQUIRE(_dependencyMap[10]),_extends=_$$_REQUIRE(_dependencyMap[11]),_classCallCheck=_$$_REQUIRE(_dependencyMap[12]),_createClass=_$$_REQUIRE(_dependencyMap[13]),_excluded=["timeout"],_excluded2=["jitsiConnection"],_excluded3=["firePermissionPromptIsShownEvent","fireSlowPromiseEvent"],e,t;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _createForOfIteratorHelperLoose(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e=self,t=function(){return(function(){var __webpack_modules__={4449:function(e,t,n){e.exports=n(3924).default},2444:function(e){e.exports=(function(){"use strict";function e(t,n,r){_classCallCheck(this,e),this._userId=t,this.setDisplayName(n),this._isLocalStats=r||!1,this.setDominantSpeaker(!1),this.totalDominantSpeakerTime=0,this._dominantSpeakerStart=0,this._hasLeft=!1,this._facialExpressions={happy:0,neutral:0,surprised:0,angry:0,fearful:0,disgusted:0,sad:0}}return _createClass(e,[{key:"getUserId",value:function(){return this._userId}},{key:"getDisplayName",value:function(){return this.displayName}},{key:"setDisplayName",value:function(e){this.displayName=e}},{key:"isLocalStats",value:function(){return this._isLocalStats}},{key:"isDominantSpeaker",value:function(){return this._dominantSpeakerStart>0}},{key:"setDominantSpeaker",value:function(e){if(!this.isDominantSpeaker()&&e)this._dominantSpeakerStart=Date.now();else if(this.isDominantSpeaker()&&!e){var t=Date.now()-this._dominantSpeakerStart;this.totalDominantSpeakerTime+=t,this._dominantSpeakerStart=0}}},{key:"getTotalDominantSpeakerTime",value:function(){var e=this.totalDominantSpeakerTime;return this.isDominantSpeaker()&&(e+=Date.now()-this._dominantSpeakerStart),e}},{key:"hasLeft",value:function(){return this._hasLeft}},{key:"markAsHasLeft",value:function(){this._hasLeft=!0,this.setDominantSpeaker(!1)}},{key:"getFacialExpressions",value:function(){return this._facialExpressions}},{key:"setFacialExpressions",value:function(e){this._facialExpressions=e}},{key:"addFacialExpression",value:function(e,t){this._facialExpressions[e]+=t}}]),e})()},4424:function(e){e.exports={getTokenAuthUrl:function(e,t,n){return"string"!=typeof e?null:e.replace("{room}",t).replace("{roleUpgrade}",!0===n)}}},4832:function(e){function t(e,t){if(!e||!t||"function"!=typeof e.addListener||"function"!=typeof t.emit)throw new Error("Invalid arguments passed to EventEmitterForwarder");this.src=e,this.dest=t}t.prototype.forward=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];t[0]=this.dest,this.src.addListener(r,Function.prototype.bind.apply(this.dest.emit,t))},e.exports=t},1023:function(e){var t=[],n=window.onerror,r=window.onunhandledrejection;window.onerror=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.forEach(function(e){return e.apply(void 0,r)}),n&&n.apply(void 0,r)},window.onunhandledrejection=function(e){t.forEach(function(t){return t(null,null,null,null,e.reason)}),r&&r(e)};var i={addHandler:function(e){t.push(e)},callErrorHandler:function(e){var t=window.onerror;t&&t(null,null,null,null,e)},callUnhandledRejectionHandler:function(e){var t=window.onunhandledrejection;t&&t(e)}};e.exports=i},5399:function(e){function t(e,t){return Math.floor(Math.random()*(t-e+1))+e}function n(e){return e[t(0,e.length-1)]}var r={randomHexDigit:function(){return n("0123456789abcdef")},randomHexString:function(e){for(var t="";e--;)t+=this.randomHexDigit();return t},randomElement:n,randomAlphanumStr:function(e){for(var t="",r=0;r<e;r+=1)t+=n("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return t},randomInt:t};e.exports=r},549:function(e,t,n){var r=n(6799),i={loadScript:function(e,t,n,i,o,s){var a=document,c="script",u=a.createElement(c),d=a.getElementsByTagName(c)[0];if(u.async=t,i){var l=r();if(l){var h=l.src,p=h.substring(0,h.lastIndexOf("/")+1);h&&p&&(e=p+e)}}o&&(u.onload=o),s&&(u.onerror=s),u.src=e,n?d.parentNode.insertBefore(u,d):d.parentNode.appendChild(u)}};e.exports=i},2593:function(e){e.exports={integerHash:function(e){if(!e)return 0;var t,n=0;for(t=0;t<e.length;t++)n+=e.charCodeAt(t)*Math.pow(31,e.length-1-t),n=Math.abs(0|n);return n}}},6667:function(e,t,n){var r=n(5399),i=["Aaliyah","Aaron","Abagail","Abbey","Abbie","Abbigail","Abby","Abdiel","Abdul","Abdullah","Abe","Abel","Abelardo","Abigail","Abigale","Abigayle","Abner","Abraham","Ada","Adah","Adalberto","Adaline","Adam","Adan","Addie","Addison","Adela","Adelbert","Adele","Adelia","Adeline","Adell","Adella","Adelle","Aditya","Adolf","Adolfo","Adolph","Adolphus","Adonis","Adrain","Adrian","Adriana","Adrianna","Adriel","Adrien","Adrienne","Afton","Aglae","Agnes","Agustin","Agustina","Ahmad","Ahmed","Aida","Aidan","Aiden","Aileen","Aisha","Aiyana","Akeem","Al","Alaina","Alan","Alana","Alanis","Alanna","Alayna","Alba","Albert","Alberta","Albertha","Alberto","Albin","Albina","Alda","Alden","Alec","Aleen","Alejandra","Alejandrin","Alek","Alena","Alene","Alessandra","Alessandro","Alessia","Aletha","Alex","Alexa","Alexander","Alexandra","Alexandre","Alexandrea","Alexandria","Alexandrine","Alexandro","Alexane","Alexanne","Alexie","Alexis","Alexys","Alexzander","Alf","Alfonso","Alfonzo","Alford","Alfred","Alfreda","Alfredo","Ali","Alia","Alice","Alicia","Alisa","Alisha","Alison","Alivia","Aliya","Aliyah","Aliza","Alize","Allan","Allen","Allene","Allie","Allison","Ally","Alphonso","Alta","Althea","Alva","Alvah","Alvena","Alvera","Alverta","Alvina","Alvis","Alyce","Alycia","Alysa","Alysha","Alyson","Alysson","Amalia","Amanda","Amani","Amara","Amari","Amaya","Amber","Ambrose","Amelia","Amelie","Amely","America","Americo","Amie","Amina","Amir","Amira","Amiya","Amos","Amparo","Amy","Amya","Ana","Anabel","Anabelle","Anahi","Anais","Anastacio","Anastasia","Anderson","Andre","Andreane","Andreanne","Andres","Andrew","Andy","Angel","Angela","Angelica","Angelina","Angeline","Angelita","Angelo","Angie","Angus","Anibal","Anika","Anissa","Anita","Aniya","Aniyah","Anjali","Anna","Annabel","Annabell","Annabelle","Annalise","Annamae","Annamarie","Anne","Annetta","Annette","Annie","Ansel","Ansley","Anthony","Antoinette","Antone","Antonetta","Antonette","Antonia","Antonietta","Antonina","Antonio","Antwan","Antwon","Anya","April","Ara","Araceli","Aracely","Arch","Archibald","Ardella","Arden","Ardith","Arely","Ari","Ariane","Arianna","Aric","Ariel","Arielle","Arjun","Arlene","Arlie","Arlo","Armand","Armando","Armani","Arnaldo","Arne","Arno","Arnold","Arnoldo","Arnulfo","Aron","Art","Arthur","Arturo","Arvel","Arvid","Arvilla","Aryanna","Asa","Asha","Ashlee","Ashleigh","Ashley","Ashly","Ashlynn","Ashton","Ashtyn","Asia","Assunta","Astrid","Athena","Aubree","Aubrey","Audie","Audra","Audreanne","Audrey","August","Augusta","Augustine","Augustus","Aurelia","Aurelie","Aurelio","Aurore","Austen","Austin","Austyn","Autumn","Ava","Avery","Avis","Axel","Ayana","Ayden","Ayla","Aylin","Baby","Bailee","Bailey","Barbara","Barney","Baron","Barrett","Barry","Bart","Bartholome","Barton","Baylee","Beatrice","Beau","Beaulah","Bell","Bella","Belle","Ben","Benedict","Benjamin","Bennett","Bennie","Benny","Benton","Berenice","Bernadette","Bernadine","Bernard","Bernardo","Berneice","Bernhard","Bernice","Bernie","Berniece","Bernita","Berry","Bert","Berta","Bertha","Bertram","Bertrand","Beryl","Bessie","Beth","Bethany","Bethel","Betsy","Bette","Bettie","Betty","Bettye","Beulah","Beverly","Bianka","Bill","Billie","Billy","Birdie","Blair","Blaise","Blake","Blanca","Blanche","Blaze","Bo","Bobbie","Bobby","Bonita","Bonnie","Boris","Boyd","Brad","Braden","Bradford","Bradley","Bradly","Brady","Braeden","Brain","Brandi","Brando","Brandon","Brandt","Brandy","Brandyn","Brannon","Branson","Brant","Braulio","Braxton","Brayan","Breana","Breanna","Breanne","Brenda","Brendan","Brenden","Brendon","Brenna","Brennan","Brennon","Brent","Bret","Brett","Bria","Brian","Briana","Brianne","Brice","Bridget","Bridgette","Bridie","Brielle","Brigitte","Brionna","Brisa","Britney","Brittany","Brock","Broderick","Brody","Brook","Brooke","Brooklyn","Brooks","Brown","Bruce","Bryana","Bryce","Brycen","Bryon","Buck","Bud","Buddy","Buford","Bulah","Burdette","Burley","Burnice","Buster","Cade","Caden","Caesar","Caitlyn","Cale","Caleb","Caleigh","Cali","Calista","Callie","Camden","Cameron","Camila","Camilla","Camille","Camren","Camron","Camryn","Camylle","Candace","Candelario","Candice","Candida","Candido","Cara","Carey","Carissa","Carlee","Carleton","Carley","Carli","Carlie","Carlo","Carlos","Carlotta","Carmel","Carmela","Carmella","Carmelo","Carmen","Carmine","Carol","Carolanne","Carole","Carolina","Caroline","Carolyn","Carolyne","Carrie","Carroll","Carson","Carter","Cary","Casandra","Casey","Casimer","Casimir","Casper","Cassandra","Cassandre","Cassidy","Cassie","Catalina","Caterina","Catharine","Catherine","Cathrine","Cathryn","Cathy","Cayla","Ceasar","Cecelia","Cecil","Cecile","Cecilia","Cedrick","Celestine","Celestino","Celia","Celine","Cesar","Chad","Chadd","Chadrick","Chaim","Chance","Chandler","Chanel","Chanelle","Charity","Charlene","Charles","Charley","Charlie","Charlotte","Chase","Chasity","Chauncey","Chaya","Chaz","Chelsea","Chelsey","Chelsie","Chesley","Chester","Chet","Cheyanne","Cheyenne","Chloe","Chris","Christ","Christa","Christelle","Christian","Christiana","Christina","Christine","Christop","Christophe","Christopher","Christy","Chyna","Ciara","Cicero","Cielo","Cierra","Cindy","Citlalli","Clair","Claire","Clara","Clarabelle","Clare","Clarissa","Clark","Claud","Claude","Claudia","Claudie","Claudine","Clay","Clemens","Clement","Clementina","Clementine","Clemmie","Cleo","Cleora","Cleta","Cletus","Cleve","Cleveland","Clifford","Clifton","Clint","Clinton","Clotilde","Clovis","Cloyd","Clyde","Coby","Cody","Colby","Cole","Coleman","Colin","Colleen","Collin","Colt","Colten","Colton","Columbus","Concepcion","Conner","Connie","Connor","Conor","Conrad","Constance","Constantin","Consuelo","Cooper","Cora","Coralie","Corbin","Cordelia","Cordell","Cordia","Cordie","Corene","Corine","Cornelius","Cornell","Corrine","Cortez","Cortney","Cory","Coty","Courtney","Coy","Craig","Crawford","Creola","Cristal","Cristian","Cristina","Cristobal","Cristopher","Cruz","Crystal","Crystel","Cullen","Curt","Curtis","Cydney","Cynthia","Cyril","Cyrus","Dagmar","Dahlia","Daija","Daisha","Daisy","Dakota","Dale","Dallas","Dallin","Dalton","Damaris","Dameon","Damian","Damien","Damion","Damon","Dan","Dana","Dandre","Dane","D'angelo","Dangelo","Danial","Daniela","Daniella","Danielle","Danika","Dannie","Danny","Dante","Danyka","Daphne","Daphnee","Daphney","Darby","Daren","Darian","Dariana","Darien","Dario","Darion","Darius","Darlene","Daron","Darrel","Darrell","Darren","Darrick","Darrin","Darrion","Darron","Darryl","Darwin","Daryl","Dashawn","Dasia","Dave","David","Davin","Davion","Davon","Davonte","Dawn","Dawson","Dax","Dayana","Dayna","Dayne","Dayton","Dean","Deangelo","Deanna","Deborah","Declan","Dedric","Dedrick","Dee","Deion","Deja","Dejah","Dejon","Dejuan","Delaney","Delbert","Delfina","Delia","Delilah","Dell","Della","Delmer","Delores","Delpha","Delphia","Delphine","Delta","Demarco","Demarcus","Demario","Demetris","Demetrius","Demond","Dena","Denis","Dennis","Deon","Deondre","Deontae","Deonte","Dereck","Derek","Derick","Deron","Derrick","Deshaun","Deshawn","Desiree","Desmond","Dessie","Destany","Destin","Destinee","Destiney","Destini","Destiny","Devan","Devante","Deven","Devin","Devon","Devonte","Devyn","Dewayne","Dewitt","Dexter","Diamond","Diana","Dianna","Diego","Dillan","Dillon","Dimitri","Dina","Dino","Dion","Dixie","Dock","Dolly","Dolores","Domenic","Domenica","Domenick","Domenico","Domingo","Dominic","Dominique","Don","Donald","Donato","Donavon","Donna","Donnell","Donnie","Donny","Dora","Dorcas","Dorian","Doris","Dorothea","Dorothy","Dorris","Dortha","Dorthy","Doug","Douglas","Dovie","Doyle","Drake","Drew","Duane","Dudley","Dulce","Duncan","Durward","Dustin","Dusty","Dwight","Dylan","Earl","Earlene","Earline","Earnest","Earnestine","Easter","Easton","Ebba","Ebony","Ed","Eda","Edd","Eddie","Eden","Edgar","Edgardo","Edison","Edmond","Edmund","Edna","Eduardo","Edward","Edwardo","Edwin","Edwina","Edyth","Edythe","Effie","Efrain","Efren","Eileen","Einar","Eino","Eladio","Elaina","Elbert","Elda","Eldon","Eldora","Eldred","Eldridge","Eleanora","Eleanore","Eleazar","Electa","Elena","Elenor","Elenora","Eleonore","Elfrieda","Eli","Elian","Eliane","Elias","Eliezer","Elijah","Elinor","Elinore","Elisa","Elisabeth","Elise","Eliseo","Elisha","Elissa","Eliza","Elizabeth","Ella","Ellen","Ellie","Elliot","Elliott","Ellis","Ellsworth","Elmer","Elmira","Elmo","Elmore","Elna","Elnora","Elody","Eloisa","Eloise","Elouise","Eloy","Elroy","Elsa","Else","Elsie","Elta","Elton","Elva","Elvera","Elvie","Elvis","Elwin","Elwyn","Elyse","Elyssa","Elza","Emanuel","Emelia","Emelie","Emely","Emerald","Emerson","Emery","Emie","Emil","Emile","Emilia","Emiliano","Emilie","Emilio","Emily","Emma","Emmalee","Emmanuel","Emmanuelle","Emmet","Emmett","Emmie","Emmitt","Emmy","Emory","Ena","Enid","Enoch","Enola","Enos","Enrico","Enrique","Ephraim","Era","Eriberto","Eric","Erica","Erich","Erick","Ericka","Erik","Erika","Erin","Erling","Erna","Ernest","Ernestina","Ernestine","Ernesto","Ernie","Ervin","Erwin","Eryn","Esmeralda","Esperanza","Esta","Esteban","Estefania","Estel","Estell","Estella","Estelle","Estevan","Esther","Estrella","Etha","Ethan","Ethel","Ethelyn","Ethyl","Ettie","Eudora","Eugene","Eugenia","Eula","Eulah","Eulalia","Euna","Eunice","Eusebio","Eva","Evalyn","Evan","Evangeline","Evans","Eve","Eveline","Evelyn","Everardo","Everett","Everette","Evert","Evie","Ewald","Ewell","Ezekiel","Ezequiel","Ezra","Fabian","Fabiola","Fae","Fannie","Fanny","Fatima","Faustino","Fausto","Favian","Fay","Faye","Federico","Felicia","Felicita","Felicity","Felipa","Felipe","Felix","Felton","Fermin","Fern","Fernando","Ferne","Fidel","Filiberto","Filomena","Finn","Fiona","Flavie","Flavio","Fleta","Fletcher","Flo","Florence","Florencio","Florian","Florida","Florine","Flossie","Floy","Floyd","Ford","Forest","Forrest","Foster","Frances","Francesca","Francesco","Francis","Francisca","Francisco","Franco","Frank","Frankie","Franz","Fred","Freda","Freddie","Freddy","Frederic","Frederick","Frederik","Frederique","Fredrick","Fredy","Freeda","Freeman","Freida","Frida","Frieda","Friedrich","Fritz","Furman","Gabe","Gabriel","Gabriella","Gabrielle","Gaetano","Gage","Gail","Gardner","Garett","Garfield","Garland","Garnet","Garnett","Garret","Garrett","Garrick","Garrison","Garry","Garth","Gaston","Gavin","Gay","Gayle","Gaylord","Gene","General","Genesis","Genevieve","Gennaro","Genoveva","Geo","Geoffrey","George","Georgette","Georgiana","Georgianna","Geovanni","Geovanny","Geovany","Gerald","Geraldine","Gerard","Gerardo","Gerda","Gerhard","Germaine","German","Gerry","Gerson","Gertrude","Gia","Gianni","Gideon","Gilbert","Gilberto","Gilda","Giles","Gillian","Gina","Gino","Giovani","Giovanna","Giovanni","Giovanny","Gisselle","Giuseppe","Gladyce","Gladys","Glen","Glenda","Glenna","Glennie","Gloria","Godfrey","Golda","Golden","Gonzalo","Gordon","Grace","Gracie","Graciela","Grady","Graham","Grant","Granville","Grayce","Grayson","Green","Greg","Gregg","Gregoria","Gregorio","Gregory","Greta","Gretchen","Greyson","Griffin","Grover","Guadalupe","Gudrun","Guido","Guillermo","Guiseppe","Gunnar","Gunner","Gus","Gussie","Gust","Gustave","Guy","Gwen","Gwendolyn","Hadley","Hailee","Hailey","Hailie","Hal","Haleigh","Haley","Halie","Halle","Hallie","Hank","Hanna","Hannah","Hans","Hardy","Harley","Harmon","Harmony","Harold","Harrison","Harry","Harvey","Haskell","Hassan","Hassie","Hattie","Haven","Hayden","Haylee","Hayley","Haylie","Hazel","Hazle","Heath","Heather","Heaven","Heber","Hector","Heidi","Helen","Helena","Helene","Helga","Hellen","Helmer","Heloise","Henderson","Henri","Henriette","Henry","Herbert","Herman","Hermann","Hermina","Herminia","Herminio","Hershel","Herta","Hertha","Hester","Hettie","Hilario","Hilbert","Hilda","Hildegard","Hillard","Hillary","Hilma","Hilton","Hipolito","Hiram","Hobart","Holden","Hollie","Hollis","Holly","Hope","Horace","Horacio","Hortense","Hosea","Houston","Howard","Howell","Hoyt","Hubert","Hudson","Hugh","Hulda","Humberto","Hunter","Hyman","Ian","Ibrahim","Icie","Ida","Idell","Idella","Ignacio","Ignatius","Ike","Ila","Ilene","Iliana","Ima","Imani","Imelda","Immanuel","Imogene","Ines","Irma","Irving","Irwin","Isaac","Isabel","Isabell","Isabella","Isabelle","Isac","Isadore","Isai","Isaiah","Isaias","Isidro","Ismael","Isobel","Isom","Israel","Issac","Itzel","Iva","Ivah","Ivory","Ivy","Izabella","Izaiah","Jabari","Jace","Jacey","Jacinthe","Jacinto","Jack","Jackeline","Jackie","Jacklyn","Jackson","Jacky","Jaclyn","Jacquelyn","Jacques","Jacynthe","Jada","Jade","Jaden","Jadon","Jadyn","Jaeden","Jaida","Jaiden","Jailyn","Jaime","Jairo","Jakayla","Jake","Jakob","Jaleel","Jalen","Jalon","Jalyn","Jamaal","Jamal","Jamar","Jamarcus","Jamel","Jameson","Jamey","Jamie","Jamil","Jamir","Jamison","Jammie","Jan","Jana","Janae","Jane","Janelle","Janessa","Janet","Janice","Janick","Janie","Janis","Janiya","Jannie","Jany","Jaquan","Jaquelin","Jaqueline","Jared","Jaren","Jarod","Jaron","Jarred","Jarrell","Jarret","Jarrett","Jarrod","Jarvis","Jasen","Jasmin","Jason","Jasper","Jaunita","Javier","Javon","Javonte","Jay","Jayce","Jaycee","Jayda","Jayde","Jayden","Jaydon","Jaylan","Jaylen","Jaylin","Jaylon","Jayme","Jayne","Jayson","Jazlyn","Jazmin","Jazmyn","Jazmyne","Jean","Jeanette","Jeanie","Jeanne","Jed","Jedediah","Jedidiah","Jeff","Jefferey","Jeffery","Jeffrey","Jeffry","Jena","Jenifer","Jennie","Jennifer","Jennings","Jennyfer","Jensen","Jerad","Jerald","Jeramie","Jeramy","Jerel","Jeremie","Jeremy","Jermain","Jermaine","Jermey","Jerod","Jerome","Jeromy","Jerrell","Jerrod","Jerrold","Jerry","Jess","Jesse","Jessica","Jessie","Jessika","Jessy","Jessyca","Jesus","Jett","Jettie","Jevon","Jewel","Jewell","Jillian","Jimmie","Jimmy","Jo","Joan","Joana","Joanie","Joanne","Joannie","Joanny","Joany","Joaquin","Jocelyn","Jodie","Jody","Joe","Joel","Joelle","Joesph","Joey","Johan","Johann","Johanna","Johathan","John","Johnathan","Johnathon","Johnnie","Johnny","Johnpaul","Johnson","Jolie","Jon","Jonas","Jonatan","Jonathan","Jonathon","Jordan","Jordane","Jordi","Jordon","Jordy","Jordyn","Jorge","Jose","Josefa","Josefina","Joseph","Josephine","Josh","Joshua","Joshuah","Josiah","Josiane","Josianne","Josie","Josue","Jovan","Jovani","Jovanny","Jovany","Joy","Joyce","Juana","Juanita","Judah","Judd","Jude","Judge","Judson","Judy","Jules","Julia","Julian","Juliana","Julianne","Julie","Julien","Juliet","Julio","Julius","June","Junior","Junius","Justen","Justice","Justina","Justine","Juston","Justus","Justyn","Juvenal","Juwan","Kacey","Kaci","Kacie","Kade","Kaden","Kadin","Kaela","Kaelyn","Kaia","Kailee","Kailey","Kailyn","Kaitlin","Kaitlyn","Kale","Kaleb","Kaleigh","Kaley","Kali","Kallie","Kameron","Kamille","Kamren","Kamron","Kamryn","Kane","Kara","Kareem","Karelle","Karen","Kari","Kariane","Karianne","Karina","Karine","Karl","Karlee","Karley","Karli","Karlie","Karolann","Karson","Kasandra","Kasey","Kassandra","Katarina","Katelin","Katelyn","Katelynn","Katharina","Katherine","Katheryn","Kathleen","Kathlyn","Kathryn","Kathryne","Katlyn","Katlynn","Katrina","Katrine","Kattie","Kavon","Kay","Kaya","Kaycee","Kayden","Kayla","Kaylah","Kaylee","Kayleigh","Kayley","Kayli","Kaylie","Kaylin","Keagan","Keanu","Keara","Keaton","Keegan","Keeley","Keely","Keenan","Keira","Keith","Kellen","Kelley","Kelli","Kellie","Kelly","Kelsi","Kelsie","Kelton","Kelvin","Ken","Kendall","Kendra","Kendrick","Kenna","Kennedi","Kennedy","Kenneth","Kennith","Kenny","Kenton","Kenya","Kenyatta","Kenyon","Keon","Keshaun","Keshawn","Keven","Kevin","Kevon","Keyon","Keyshawn","Khalid","Khalil","Kian","Kiana","Kianna","Kiara","Kiarra","Kiel","Kiera","Kieran","Kiley","Kim","Kimberly","King","Kip","Kira","Kirk","Kirsten","Kirstin","Kitty","Kobe","Koby","Kody","Kolby","Kole","Korbin","Korey","Kory","Kraig","Kris","Krista","Kristian","Kristin","Kristina","Kristofer","Kristoffer","Kristopher","Kristy","Krystal","Krystel","Krystina","Kurt","Kurtis","Kyla","Kyle","Kylee","Kyleigh","Kyler","Kylie","Kyra","Lacey","Lacy","Ladarius","Lafayette","Laila","Laisha","Lamar","Lambert","Lamont","Lance","Landen","Lane","Laney","Larissa","Laron","Larry","Larue","Laura","Laurel","Lauren","Laurence","Lauretta","Lauriane","Laurianne","Laurie","Laurine","Laury","Lauryn","Lavada","Lavern","Laverna","Laverne","Lavina","Lavinia","Lavon","Lavonne","Lawrence","Lawson","Layla","Layne","Lazaro","Lea","Leann","Leanna","Leanne","Leatha","Leda","Lee","Leif","Leila","Leilani","Lela","Lelah","Leland","Lelia","Lempi","Lemuel","Lenna","Lennie","Lenny","Lenora","Lenore","Leo","Leola","Leon","Leonard","Leonardo","Leone","Leonel","Leonie","Leonor","Leonora","Leopold","Leopoldo","Leora","Lera","Lesley","Leslie","Lesly","Lessie","Lester","Leta","Letha","Letitia","Levi","Lew","Lewis","Lexi","Lexie","Lexus","Lia","Liam","Liana","Libbie","Libby","Lila","Lilian","Liliana","Liliane","Lilla","Lillian","Lilliana","Lillie","Lilly","Lily","Lilyan","Lina","Lincoln","Linda","Lindsay","Lindsey","Linnea","Linnie","Linwood","Lionel","Lisa","Lisandro","Lisette","Litzy","Liza","Lizeth","Lizzie","Llewellyn","Lloyd","Logan","Lois","Lola","Lolita","Loma","Lon","London","Lonie","Lonnie","Lonny","Lonzo","Lora","Loraine","Loren","Lorena","Lorenz","Lorenza","Lorenzo","Lori","Lorine","Lorna","Lottie","Lou","Louie","Louisa","Lourdes","Louvenia","Lowell","Loy","Loyal","Loyce","Lucas","Luciano","Lucie","Lucienne","Lucile","Lucinda","Lucio","Lucious","Lucius","Lucy","Ludie","Ludwig","Lue","Luella","Luigi","Luis","Luisa","Lukas","Lula","Lulu","Luna","Lupe","Lura","Lurline","Luther","Luz","Lyda","Lydia","Lyla","Lynn","Lyric","Lysanne","Mabel","Mabelle","Mable","Mac","Macey","Maci","Macie","Mack","Mackenzie","Macy","Madaline","Madalyn","Maddison","Madeline","Madelyn","Madelynn","Madge","Madie","Madilyn","Madisen","Madison","Madisyn","Madonna","Madyson","Mae","Maegan","Maeve","Mafalda","Magali","Magdalen","Magdalena","Maggie","Magnolia","Magnus","Maia","Maida","Maiya","Major","Makayla","Makenna","Makenzie","Malachi","Malcolm","Malika","Malinda","Mallie","Mallory","Malvina","Mandy","Manley","Manuel","Manuela","Mara","Marc","Marcel","Marcelina","Marcelino","Marcella","Marcelle","Marcellus","Marcelo","Marcia","Marco","Marcos","Marcus","Margaret","Margarete","Margarett","Margaretta","Margarette","Margarita","Marge","Margie","Margot","Margret","Marguerite","Maria","Mariah","Mariam","Marian","Mariana","Mariane","Marianna","Marianne","Mariano","Maribel","Marie","Mariela","Marielle","Marietta","Marilie","Marilou","Marilyne","Marina","Mario","Marion","Marisa","Marisol","Maritza","Marjolaine","Marjorie","Marjory","Mark","Markus","Marlee","Marlen","Marlene","Marley","Marlin","Marlon","Marques","Marquis","Marquise","Marshall","Marta","Martin","Martina","Martine","Marty","Marvin","Mary","Maryam","Maryjane","Maryse","Mason","Mateo","Mathew","Mathias","Mathilde","Matilda","Matilde","Matt","Matteo","Mattie","Maud","Maude","Maudie","Maureen","Maurice","Mauricio","Maurine","Maverick","Mavis","Max","Maxie","Maxime","Maximilian","Maximillia","Maximillian","Maximo","Maximus","Maxine","Maxwell","May","Maya","Maybell","Maybelle","Maye","Maymie","Maynard","Mayra","Mazie","Mckayla","Mckenna","Mckenzie","Meagan","Meaghan","Meda","Megane","Meggie","Meghan","Mekhi","Melany","Melba","Melisa","Melissa","Mellie","Melody","Melvin","Melvina","Melyna","Melyssa","Mercedes","Meredith","Merl","Merle","Merlin","Merritt","Mertie","Mervin","Meta","Mia","Micaela","Micah","Michael","Michaela","Michale","Micheal","Michel","Michele","Michelle","Miguel","Mikayla","Mike","Mikel","Milan","Miles","Milford","Miller","Millie","Milo","Milton","Mina","Minerva","Minnie","Miracle","Mireille","Mireya","Misael","Missouri","Misty","Mitchel","Mitchell","Mittie","Modesta","Modesto","Mohamed","Mohammad","Mohammed","Moises","Mollie","Molly","Mona","Monica","Monique","Monroe","Monserrat","Monserrate","Montana","Monte","Monty","Morgan","Moriah","Morris","Mortimer","Morton","Mose","Moses","Moshe","Mossie","Mozell","Mozelle","Muhammad","Muriel","Murl","Murphy","Murray","Mustafa","Mya","Myah","Mylene","Myles","Myra","Myriam","Myrl","Myrna","Myron","Myrtice","Myrtie","Myrtis","Myrtle","Nadia","Nakia","Name","Nannie","Naomi","Naomie","Napoleon","Narciso","Nash","Nasir","Nat","Natalia","Natalie","Natasha","Nathan","Nathanael","Nathanial","Nathaniel","Nathen","Nayeli","Neal","Ned","Nedra","Neha","Neil","Nelda","Nella","Nelle","Nellie","Nels","Nelson","Neoma","Nestor","Nettie","Neva","Newell","Newton","Nia","Nicholas","Nicholaus","Nichole","Nick","Nicklaus","Nickolas","Nico","Nicola","Nicolas","Nicole","Nicolette","Nigel","Nikita","Nikki","Nikko","Niko","Nikolas","Nils","Nina","Noah","Noble","Noe","Noel","Noelia","Noemi","Noemie","Noemy","Nola","Nolan","Nona","Nora","Norbert","Norberto","Norene","Norma","Norris","Norval","Norwood","Nova","Novella","Nya","Nyah","Nyasia","Obie","Oceane","Ocie","Octavia","Oda","Odell","Odessa","Odie","Ofelia","Okey","Ola","Olaf","Ole","Olen","Oleta","Olga","Olin","Oliver","Ollie","Oma","Omari","Omer","Ona","Onie","Opal","Ophelia","Ora","Oral","Oran","Oren","Orie","Orin","Orion","Orland","Orlando","Orlo","Orpha","Orrin","Orval","Orville","Osbaldo","Osborne","Oscar","Osvaldo","Oswald","Oswaldo","Otha","Otho","Otilia","Otis","Ottilie","Ottis","Otto","Ova","Owen","Ozella","Pablo","Paige","Palma","Pamela","Pansy","Paolo","Paris","Parker","Pascale","Pasquale","Pat","Patience","Patricia","Patrick","Patsy","Pattie","Paul","Paula","Pauline","Paxton","Payton","Pearl","Pearlie","Pearline","Pedro","Peggie","Penelope","Percival","Percy","Perry","Pete","Peter","Petra","Peyton","Philip","Phoebe","Phyllis","Pierce","Pierre","Pietro","Pink","Pinkie","Piper","Polly","Porter","Precious","Presley","Preston","Price","Prince","Princess","Priscilla","Providenci","Prudence","Queen","Queenie","Quentin","Quincy","Quinn","Quinten","Quinton","Rachael","Rachel","Rachelle","Rae","Raegan","Rafael","Rafaela","Raheem","Rahsaan","Rahul","Raina","Raleigh","Ralph","Ramiro","Ramon","Ramona","Randal","Randall","Randi","Randy","Ransom","Raoul","Raphael","Raphaelle","Raquel","Rashad","Rashawn","Rasheed","Raul","Raven","Ray","Raymond","Raymundo","Reagan","Reanna","Reba","Rebeca","Rebecca","Rebeka","Rebekah","Reece","Reed","Reese","Regan","Reggie","Reginald","Reid","Reilly","Reina","Reinhold","Remington","Rene","Renee","Ressie","Reta","Retha","Retta","Reuben","Reva","Rex","Rey","Reyes","Reymundo","Reyna","Reynold","Rhea","Rhett","Rhianna","Rhiannon","Rhoda","Ricardo","Richard","Richie","Richmond","Rick","Rickey","Rickie","Ricky","Rico","Rigoberto","Riley","Rita","River","Robb","Robbie","Robert","Roberta","Roberto","Robin","Robyn","Rocio","Rocky","Rod","Roderick","Rodger","Rodolfo","Rodrick","Rodrigo","Roel","Rogelio","Roger","Rogers","Rolando","Rollin","Roma","Romaine","Roman","Ron","Ronaldo","Ronny","Roosevelt","Rory","Rosa","Rosalee","Rosalia","Rosalind","Rosalinda","Rosalyn","Rosamond","Rosanna","Rosario","Roscoe","Rose","Rosella","Roselyn","Rosemarie","Rosemary","Rosendo","Rosetta","Rosie","Rosina","Roslyn","Ross","Rossie","Rowan","Rowena","Rowland","Roxane","Roxanne","Roy","Royal","Royce","Rozella","Ruben","Rubie","Ruby","Rubye","Rudolph","Rudy","Rupert","Russ","Russel","Russell","Rusty","Ruth","Ruthe","Ruthie","Ryan","Ryann","Ryder","Rylan","Rylee","Ryleigh","Ryley","Sabina","Sabrina","Sabryna","Sadie","Sadye","Sage","Saige","Sallie","Sally","Salma","Salvador","Salvatore","Sam","Samanta","Samantha","Samara","Samir","Sammie","Sammy","Samson","Sandra","Sandrine","Sandy","Sanford","Santa","Santiago","Santina","Santino","Santos","Sarah","Sarai","Sarina","Sasha","Saul","Savanah","Savanna","Savannah","Savion","Scarlett","Schuyler","Scot","Scottie","Scotty","Seamus","Sean","Sebastian","Sedrick","Selena","Selina","Selmer","Serena","Serenity","Seth","Shad","Shaina","Shakira","Shana","Shane","Shanel","Shanelle","Shania","Shanie","Shaniya","Shanna","Shannon","Shanny","Shanon","Shany","Sharon","Shaun","Shawn","Shawna","Shaylee","Shayna","Shayne","Shea","Sheila","Sheldon","Shemar","Sheridan","Sherman","Sherwood","Shirley","Shyann","Shyanne","Sibyl","Sid","Sidney","Sienna","Sierra","Sigmund","Sigrid","Sigurd","Silas","Sim","Simeon","Simone","Sincere","Sister","Skye","Skyla","Skylar","Sofia","Soledad","Solon","Sonia","Sonny","Sonya","Sophia","Sophie","Spencer","Stacey","Stacy","Stan","Stanford","Stanley","Stanton","Stefan","Stefanie","Stella","Stephan","Stephania","Stephanie","Stephany","Stephen","Stephon","Sterling","Steve","Stevie","Stewart","Stone","Stuart","Summer","Sunny","Susan","Susana","Susanna","Susie","Suzanne","Sven","Syble","Sydnee","Sydney","Sydni","Sydnie","Sylvan","Sylvester","Sylvia","Tabitha","Tad","Talia","Talon","Tamara","Tamia","Tania","Tanner","Tanya","Tara","Taryn","Tate","Tatum","Tatyana","Taurean","Tavares","Taya","Taylor","Teagan","Ted","Telly","Terence","Teresa","Terrance","Terrell","Terrence","Terrill","Terry","Tess","Tessie","Tevin","Thad","Thaddeus","Thalia","Thea","Thelma","Theo","Theodora","Theodore","Theresa","Therese","Theresia","Theron","Thomas","Thora","Thurman","Tia","Tiana","Tianna","Tiara","Tierra","Tiffany","Tillman","Timmothy","Timmy","Timothy","Tina","Tito","Titus","Tobin","Toby","Tod","Tom","Tomas","Tomasa","Tommie","Toney","Toni","Tony","Torey","Torrance","Torrey","Toy","Trace","Tracey","Tracy","Travis","Travon","Tre","Tremaine","Tremayne","Trent","Trenton","Tressa","Tressie","Treva","Trever","Trevion","Trevor","Trey","Trinity","Trisha","Tristian","Tristin","Triston","Troy","Trudie","Trycia","Trystan","Turner","Twila","Tyler","Tyra","Tyree","Tyreek","Tyrel","Tyrell","Tyrese","Tyrique","Tyshawn","Tyson","Ubaldo","Ulices","Ulises","Una","Unique","Urban","Uriah","Uriel","Ursula","Vada","Valentin","Valentina","Valentine","Valerie","Vallie","Van","Vance","Vanessa","Vaughn","Veda","Velda","Vella","Velma","Velva","Vena","Verda","Verdie","Vergie","Verla","Verlie","Vern","Verna","Verner","Vernice","Vernie","Vernon","Verona","Veronica","Vesta","Vicenta","Vicente","Vickie","Vicky","Victor","Victoria","Vida","Vidal","Vilma","Vince","Vincent","Vincenza","Vincenzo","Vinnie","Viola","Violet","Violette","Virgie","Virgil","Virginia","Virginie","Vita","Vito","Viva","Vivian","Viviane","Vivianne","Vivien","Vivienne","Vladimir","Wade","Waino","Waldo","Walker","Wallace","Walter","Walton","Wanda","Ward","Warren","Watson","Wava","Waylon","Wayne","Webster","Weldon","Wellington","Wendell","Wendy","Werner","Westley","Weston","Whitney","Wilber","Wilbert","Wilburn","Wiley","Wilford","Wilfred","Wilfredo","Wilfrid","Wilhelm","Wilhelmine","Will","Willa","Willard","William","Willie","Willis","Willow","Willy","Wilma","Wilmer","Wilson","Wilton","Winfield","Winifred","Winnifred","Winona","Winston","Woodrow","Wyatt","Wyman","Xander","Xavier","Xzavier","Yadira","Yasmeen","Yasmin","Yasmine","Yazmin","Yesenia","Yessenia","Yolanda","Yoshiko","Yvette","Yvonne","Zachariah","Zachary","Zachery","Zack","Zackary","Zackery","Zakary","Zander","Zane","Zaria","Zechariah","Zelda","Zella","Zelma","Zena","Zetta","Zion","Zita","Zoe","Zoey","Zoie","Zoila","Zola","Zora","Zula"];e.exports={generateUsername:function(){return r.randomElement(i)+"-"+r.randomAlphanumStr(3)}}},2505:function(e,t,n){var r=n(8350);function i(e,t){this.logStorage=e,this.stringifyObjects=!(!t||!t.stringifyObjects)&&t.stringifyObjects,this.storeInterval=t&&t.storeInterval?t.storeInterval:3e4,this.maxEntryLength=t&&t.maxEntryLength?t.maxEntryLength:1e4,Object.keys(r.levels).forEach(function(e){this[r.levels[e]]=function(){this._log.apply(this,arguments)}.bind(this,e)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}i.prototype.stringify=function(e){try{return JSON.stringify(e)}catch(e){return"[object with circular refs?]"}},i.prototype.formatLogMessage=function(e){for(var t="",n=1,i=arguments.length;n<i;n++){var o=arguments[n];!this.stringifyObjects&&e!==r.levels.ERROR||"object"!=typeof o||(o=this.stringify(o)),t+=o,n!==i-1&&(t+=" ")}return t.length?t:null},i.prototype._log=function(){var e=arguments[1],t=this.formatLogMessage.apply(this,arguments);if(t){var n=this.queue[this.queue.length-1];(n&&n.text)===t?n.count+=1:(this.queue.push({text:t,timestamp:e,count:1}),this.totalLen+=t.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},i.prototype.start=function(){this._reschedulePublishInterval()},i.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},i.prototype.flush=function(){this._flush(!1,!0)},i.prototype._flush=function(e,t){this.totalLen>0&&(this.logStorage.isReady()||e)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(e){this.logStorage.storeLogs(e)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),t&&this._reschedulePublishInterval()},i.prototype.stop=function(){this._flush(!1,!1)},e.exports=i},8350:function(e){var t={trace:0,debug:1,info:2,log:3,warn:4,error:5};s.consoleTransport=console;var n=[s.consoleTransport];s.addGlobalTransport=function(e){-1===n.indexOf(e)&&n.push(e)},s.removeGlobalTransport=function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)};var r={};function i(){var e={methodName:"",fileLocation:"",line:null,column:null},t=new Error,n=t.stack?t.stack.split("\n"):[];if(!n||n.length<3)return e;var r=null;return n[3]&&(r=n[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!r||r.length<=4?(0===n[2].indexOf("log@")?e.methodName=n[3].substr(0,n[3].indexOf("@")):e.methodName=n[2].substr(0,n[2].indexOf("@")),e):(e.methodName=r[1],e.fileLocation=r[2],e.line=r[3],e.column=r[4],e)}function o(){var e=arguments[0],o=arguments[1],s=Array.prototype.slice.call(arguments,2);if(!(t[o]<e.level))for(var a=!(e.options.disableCallerInfo||r.disableCallerInfo)&&i(),c=n.concat(e.transports),u=0;u<c.length;u++){var d=c[u],l=d[o];if(l&&"function"==typeof l){var h=[];h.push((new Date).toISOString()),e.id&&h.push("["+e.id+"]"),a&&a.methodName.length>1&&h.push("<"+a.methodName+">: ");var p=h.concat(s);l.bind(d).apply(d,p)}}}function s(e,n,r,i){this.id=n,this.options=i||{},this.transports=r,this.transports||(this.transports=[]),this.level=t[e];for(var s=Object.keys(t),a=0;a<s.length;a++)this[s[a]]=o.bind(null,this,s[a])}s.setGlobalOptions=function(e){r=e||{}},s.prototype.setLevel=function(e){this.level=t[e]},e.exports=s,s.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},5810:function(e,t,n){var r=n(8350),i=n(2505),o={},s=[],a=r.levels.TRACE;e.exports={addGlobalTransport:function(e){r.addGlobalTransport(e)},removeGlobalTransport:function(e){r.removeGlobalTransport(e)},setGlobalOptions:function(e){r.setGlobalOptions(e)},getLogger:function(e,t,n){var i=new r(a,e,t,n);return e?(o[e]=o[e]||[],o[e].push(i)):s.push(i),i},setLogLevelById:function(e,t){for(var n=t?o[t]||[]:s,r=0;r<n.length;r++)n[r].setLevel(e)},setLogLevel:function(e){a=e;for(var t=0;t<s.length;t++)s[t].setLevel(e);for(var n in o){var r=o[n]||[];for(t=0;t<r.length;t++)r[t].setLevel(e)}},levels:r.levels,LogCollector:i}},8022:function(e){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},6561:function(e,t,n){var r=n(2408),i=n(2508);t.write=i,t.parse=r.parse,t.parseParams=r.parseParams,t.parseFmtpConfig=r.parseFmtpConfig,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates,t.parseImageAttributes=r.parseImageAttributes,t.parseSimulcastStreamList=r.parseSimulcastStreamList},2408:function(e,t,n){var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!(function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=r(e[o+1]))})(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=n(8022),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(s).forEach(function(e){var t=e[0],s=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var a=0;a<(o[t]||[]).length;a+=1){var c=o[t][a];if(c.reg.test(s))return i(c,r,s)}}),t.media=n,t};var a=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}})})}},2508:function(e,t,n){var r=n(8022),i=/%[sdv%]/g,o=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})},s=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var s=t.names[i];t.name?r.push(n[t.name][s]):r.push(n[t.names[i]])}else r.push(n[t.name]);return o.apply(null,r)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var n=t.outerOrder||a,i=t.innerOrder||c,o=[];return n.forEach(function(t){r[t].forEach(function(n){n.name in e&&null!=e[n.name]?o.push(s(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){o.push(s(t,n,e))})})}),e.media.forEach(function(e){o.push(s("m",r.m[0],e)),i.forEach(function(t){r[t].forEach(function(n){n.name in e&&null!=e[n.name]?o.push(s(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){o.push(s(t,n,e))})})})}),o.join("\r\n")+"\r\n"}},6234:function(e,t,n){var r=n(8310),i=n(6298),o=i.parseSsrcs,s=i.writeSsrcs;function a(e,t,n){return e.ssrcs.filter(function(e){return e.id===t}).filter(function(e){return e.attribute===n}).map(function(e){return e.value})[0]}function c(e){this.options=e||{},this.options.numOfLayers||(this.options.numOfLayers=3),console.log("SdpSimulcast: using "+this.options.numOfLayers+" layers"),this.ssrcCache=[]}function u(e,t){null!=e&&Array.isArray(e.media)&&e.media.forEach(function(e){"video"===e.type&&t(e)})}function d(e){return e&&null!=e&&e.type&&""!=e.type&&e.sdp&&""!=e.sdp}c.prototype.clearSsrcCache=function(){this.ssrcCache=[]},c.prototype.setSsrcCache=function(e){this.ssrcCache=e},c.prototype._parseSimLayers=function(e){var t=e.ssrcGroups&&e.ssrcGroups.find(function(e){return"SIM"===e.semantics});return t?t.ssrcs.split(" ").map(function(e){return parseInt(e)}):[e.ssrcs[0].id]},c.prototype._buildNewToOldSsrcMap=function(e,t){for(var n={},r=0;r<e.length;++r){var i=e[r],o=t[r]||null;n[i]=o}return n},c.prototype._fillInSourceDataFromCache=function(e){console.log("SdpSimulcast restoring from cache: ",this.ssrcCache);var t=this._parseSimLayers(e);console.log("SdpSimulcast Parsed new sim ssrcs: ",t);var n=a(e,t[0],"msid"),r=a(e,t[0],"cname"),i=this._buildNewToOldSsrcMap(t,this.ssrcCache);console.log("SdpSimulcast built replacement map: ",i);var o=this.ssrcCache.filter(function(e){return-1===Object.values(i).indexOf(e)});return console.log("SdpSimulcast built ssrcs to add: ",o),e.ssrcs.forEach(function(e){i[e.id]&&(e.id=i[e.id])}),o.forEach(function(t){e.ssrcs.push({id:t,attribute:"msid",value:n}),e.ssrcs.push({id:t,attribute:"cname",value:r})}),e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:this.ssrcCache.join(" ")}),e},c.prototype._generateSourceData=function(e,t){var n=function(e,t){e.ssrcs.push({id:t,attribute:"cname",value:i}),e.ssrcs.push({id:t,attribute:"msid",value:r})},r=a(e,t,"msid"),i=a(e,t,"cname");this.options.usesUnifiedPlan&&!r&&(r=e.msid,e.ssrcs.forEach(function(t){e.ssrcs.push({id:t.id,attribute:"msid",value:r})}));for(var o=[],s=0;s<this.options.numOfLayers-1;++s){var c=Math.floor(4294967295*Math.random())+0;n(e,c),o.push(c)}return e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:t+" "+o.join(" ")}),e},c.prototype._restoreSimulcast=function(e){var t,n=e.ssrcs&&e.ssrcs.map(function(e){return e.id}).filter(function(e,t,n){return n.indexOf(e)===t}).length||0,r=e.ssrcGroups&&e.ssrcGroups.length||0;if(0===n||n>2)return e;if(2==n&&0===r)return e;if(1===n)t=e.ssrcs[0].id;else{var i=e.ssrcGroups.filter(function(e){return"FID"===e.semantics})[0];if(!i)return e;t=parseInt(i.ssrcs.split(" ")[0])}return console.log("SdpSimulcast: current ssrc cache: ",this.ssrcCache),console.log("SdpSimulcast: parsed primary ssrc "+t),-1!==this.ssrcCache.indexOf(t)?(console.log("SdpSimulcast: Have seen primary ssrc before, filling in data from cache"),e=this._fillInSourceDataFromCache(e)):(console.log("SdpSimulcast: Have not seen primary ssrc before, generating source data"),e=this._generateSourceData(e,t)),this.ssrcCache=this._parseSimLayers(e),e},c.prototype.mungeRemoteDescription=function(e,t){if(!d(e))return e;var n=r.parse(e.sdp),i=this;return u(n,function(e){i.options.explodeRemoteSimulcast?(function(e){if(e&&Array.isArray(e.ssrcGroups))for(var t=o(e),n=[],r=e.ssrcGroups.length;r--;)if("SIM"===e.ssrcGroups[r].semantics){for(var i=e.ssrcGroups[r].ssrcs.split(" "),a=0;a<i.length;a++){var c=i[a];n.push(c);var u=t[c].msid.split(" ");t[c].msid=[u[0],"/",a," ",u[1],"/",a].join(""),t[c].cname=[t[c].cname,"/",a].join(""),e.ssrcGroups.forEach(function(e){if("SIM"!==e.semantics){var r=e.ssrcs.split(" ");-1!==r.indexOf(c)&&r.forEach(function(e){t[e].msid=t[c].msid,t[e].cname=t[c].cname,e!==c&&n.push(e)})}})}e.ssrcs=s(t,n),e.ssrcGroups.splice(r,1)}})(e):(function(e){if(e&&Array.isArray(e.ssrcGroups)){var t=o(e);e.ssrcGroups.forEach(function(n){if("SIM"===n.semantics){console.info("Imploding SIM group: "+n.ssrcs),n.nuke=!0;for(var r=n.ssrcs.split(" "),i=1;i<r.length;i++){var o=r[i];delete t[o],e.ssrcGroups.forEach(function(e){if("SIM"!==e.semantics){var n=e.ssrcs.split(" ");-1!==n.indexOf(o)&&(n.forEach(function(e){delete t[e]}),e.nuke=!0)}})}}}),e.ssrcs=s(t);for(var n=e.ssrcGroups.length;n--;)e.ssrcGroups[n].nuke&&e.ssrcGroups.splice(n,1)}else console.info("Halt: There are no SSRC groups in the remote description.")})(e),!i.options.usesUnifiedPlan&&t?(function(e){e&&(Array.isArray(e.invalid)||(e.invalid=[]),e.invalid.some(function(e){return"x-google-flag:conference"===e.value})||e.invalid.push({value:"x-google-flag:conference"}))})(e):(function(e){e&&void 0!==e.xGoogleFlag&&(e.xGoogleFlag=void 0)})(e)}),new RTCSessionDescription({type:e.type,sdp:r.write(n)})},c.prototype.mungeLocalDescription=function(e){if(!d(e))return e;var t=r.parse(e.sdp),n=this;return u(t,function(e){"recvonly"!=e.direction&&"inactive"!=e.direction&&n._restoreSimulcast(e)}),new RTCSessionDescription({type:e.type,sdp:r.write(t)})},e.exports=c},6298:function(e,t){t.writeSsrcs=function(e,t){var n=[];if(void 0!==e&&0!==Object.keys(e).length){Array.isArray(t)||(t=[]);for(var r=0;r<t.length;r++){var i=t[r],o=e[i];Object.keys(o).forEach(function(e){n.push({id:i,attribute:e,value:o[e]})})}Object.keys(e).forEach(function(r){if(r=parseInt(r),!(t.indexOf(r)>=0)){var i=e[r];Object.keys(i).forEach(function(e){n.push({id:r,attribute:e,value:i[e]})})}})}return n},t.parseSsrcs=function(e){var t={};return void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach(function(e){t[e.id]||(t[e.id]={}),t[e.id][e.attribute]=e.value}),t}},266:function(e,t){var n;!(function(){var r,i,o={};function s(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(r,arguments)}}null!=(r=this)&&(i=r.async),o.noConflict=function(){return r.async=i,o};var a=Object.prototype.toString,c=Array.isArray||function(e){return"[object Array]"===a.call(e)},u=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},d=function(e,t){if(e.map)return e.map(t);var n=[];return u(e,function(e,r,i){n.push(t(e,r,i))}),n},l=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof process&&process.nextTick?(o.nextTick=process.nextTick,"undefined"!=typeof setImmediate?o.setImmediate=function(e){setImmediate(e)}:o.setImmediate=o.nextTick):"function"==typeof setImmediate?(o.nextTick=function(e){setImmediate(e)},o.setImmediate=o.nextTick):(o.nextTick=function(e){setTimeout(e,0)},o.setImmediate=o.nextTick),o.each=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0;function i(t){t?(n(t),n=function(){}):(r+=1)>=e.length&&n()}u(e,function(e){t(e,s(i))})},o.forEach=o.each,o.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0;!(function i(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1)>=e.length?n():i()})})()},o.forEachSeries=o.eachSeries,o.eachLimit=function(e,t,n,r){h(t).apply(null,[e,n,r])},o.forEachLimit=o.eachLimit;var h=function(e){return function(t,n,r){if(r=r||function(){},!t.length||e<=0)return r();var i=0,o=0,s=0;!(function a(){if(i>=t.length)return r();for(;s<e&&o<t.length;)s+=1,n(t[(o+=1)-1],function(e){e?(r(e),r=function(){}):(s-=1,(i+=1)>=t.length?r():a())})})()}},p=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[o.each].concat(t))}},f=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[o.eachSeries].concat(t))}},m=function(e,t,n,r){if(t=d(t,function(e,t){return{index:t,value:e}}),r){var i=[];e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};o.map=p(m),o.mapSeries=f(m),o.mapLimit=function(e,t,n,r){return v(t)(e,n,r)};var v=function(e){return(function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[h(e)].concat(n))}})(e,m)};o.reduce=function(e,t,n,r){o.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})},o.inject=o.reduce,o.foldl=o.reduce,o.reduceRight=function(e,t,n,r){var i=d(e,function(e){return e}).reverse();o.reduce(i,t,n,r)},o.foldr=o.reduceRight;var _=function(e,t,n,r){var i=[];e(t=d(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(e){r(d(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};o.filter=p(_),o.filterSeries=f(_),o.select=o.filter,o.selectSeries=o.filterSeries;var g=function(e,t,n,r){var i=[];e(t=d(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(e){r(d(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};o.reject=p(g),o.rejectSeries=f(g);var y=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(e){r()})};o.detect=p(y),o.detectSeries=f(y),o.some=function(e,t,n){o.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(e){n(!1)})},o.any=o.some,o.every=function(e,t,n){o.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(e){n(!0)})},o.all=o.every,o.sortBy=function(e,t,n){o.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,d(t.sort(function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}),function(e){return e.value}))})},o.auto=function(e,t){t=t||function(){};var n=l(e),r=n.length;if(!r)return t();var i={},s=[],a=function(e){s.unshift(e)},d=function(){r--,u(s.slice(0),function(e){e()})};a(function(){if(!r){var e=t;t=function(){},e(null,i)}}),u(n,function(n){var r=c(e[n])?e[n]:[e[n]],h=function(e){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),e){var s={};u(l(i),function(e){s[e]=i[e]}),s[n]=r,t(e,s),t=function(){}}else i[n]=r,o.setImmediate(d)},p=r.slice(0,Math.abs(r.length-1))||[],f=function(){return t=function(e,t){return e&&i.hasOwnProperty(t)},r=!0,((e=p).reduce?e.reduce(t,r):(u(e,function(e,n,i){r=t(r,e)}),r))&&!i.hasOwnProperty(n);var e,t,r};if(f())r[r.length-1](h,i);else{a(function e(){f()&&((function(e){for(var t=0;t<s.length;t+=1)if(s[t]===e)return void s.splice(t,1)})(e),r[r.length-1](h,i))})}})},o.retry=function(e,t,n){var r=[];"function"==typeof e&&(n=t,t=e,e=5),e=parseInt(e,10)||5;var i=function(i,s){for(var a=function(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},s)}};e;)r.push(a(t,!(e-=1)));o.series(r,function(e,t){t=t[t.length-1],(i||n)(t.err,t.result)})};return n?i():i},o.waterfall=function(e,t){if(t=t||function(){},!c(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();!(function e(n){return function(r){if(r)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),s=n.next();s?i.push(e(s)):i.push(t),o.setImmediate(function(){n.apply(null,i)})}}})(o.iterator(e))()};var S=function(e,t,n){if(n=n||function(){},c(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(l(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};o.parallel=function(e,t){S({map:o.map,each:o.each},e,t)},o.parallelLimit=function(e,t,n){S({map:v(t),each:h(t)},e,n)},o.series=function(e,t){if(t=t||function(){},c(e))o.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};o.eachSeries(l(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})}},o.iterator=function(e){return(function t(n){var r=function t(){return e.length&&e[n].apply(null,arguments),t.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r})(0)},o.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var E=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};o.concat=p(E),o.concatSeries=f(E),o.whilst=function(e,t,n){e()?t(function(r){if(r)return n(r);o.whilst(e,t,n)}):n()},o.doWhilst=function(e,t,n){e(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?o.doWhilst(e,t,n):n()})},o.until=function(e,t,n){e()?n():t(function(r){if(r)return n(r);o.until(e,t,n)})},o.doUntil=function(e,t,n){e(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?n():o.doUntil(e,t,n)})},o.queue=function(e,t){function n(e,t,n,r){if(e.started||(e.started=!0),c(t)||(t=[t]),0==t.length)return o.setImmediate(function(){e.drain&&e.drain()});u(t,function(t){var i={data:t,callback:"function"==typeof r?r:null};n?e.tasks.unshift(i):e.tasks.push(i),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),o.setImmediate(e.process)})}void 0===t&&(t=1);var r=0,i={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){n(i,e,!1,t)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(e,t){n(i,e,!0,t)},process:function(){if(!i.paused&&r<i.concurrency&&i.tasks.length){var t=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),r+=1;var n=s(function(){r-=1,t.callback&&t.callback.apply(t,arguments),i.drain&&i.tasks.length+r===0&&i.drain(),i.process()});e(t.data,n)}},length:function(){return i.tasks.length},running:function(){return r},idle:function(){return i.tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0,i.process())},resume:function(){!1!==i.paused&&(i.paused=!1,i.process())}};return i},o.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}var r=o.queue(e,t);return r.push=function(e,t,i){!(function(e,t,r,i){if(e.started||(e.started=!0),c(t)||(t=[t]),0==t.length)return o.setImmediate(function(){e.drain&&e.drain()});u(t,function(t){var s={data:t,priority:r,callback:"function"==typeof i?i:null};e.tasks.splice((function(e,t,n){for(var r=-1,i=e.length-1;r<i;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r})(e.tasks,s,n)+1,0,s),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),o.setImmediate(e.process)})})(r,e,t,i)},delete r.unshift,r},o.cargo=function(e,t){var n=!1,r=[],i={tasks:r,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){c(e)||(e=[e]),u(e,function(e){r.push({data:e,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===t&&i.saturated()}),o.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var s="number"==typeof t?r.splice(0,t):r.splice(0,r.length),a=d(s,function(e){return e.data});i.empty&&i.empty(),n=!0,e(a,function(){n=!1;var e=arguments;u(s,function(t){t.callback&&t.callback.apply(null,e)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var C=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&u(n,function(t){console[e](t)}))}]))}};o.log=C("log"),o.dir=C("dir"),o.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),s=i.pop(),a=t.apply(null,i);a in n?o.nextTick(function(){s.apply(null,n[a])}):a in r?r[a].push(s):(r[a]=[s],e.apply(null,i.concat([function(){n[a]=arguments;var e=r[a];delete r[a];for(var t=0,i=e.length;t<i;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},o.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},o.times=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return o.map(r,t,n)},o.timesSeries=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return o.mapSeries(r,t,n)},o.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),r=n.pop();o.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){r.apply(t,[e].concat(n))})}},o.compose=function(){return o.seq.apply(null,Array.prototype.reverse.call(arguments))};var T=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};o.applyEach=p(T),o.applyEachSeries=f(T),o.forever=function(e,t){!(function n(r){if(r){if(t)return t(r);throw r}e(n)})()},e.exports?e.exports=o:void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)})()},3577:function(e,t){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=c(e),s=o[0],a=o[1],u=new i(3*(s+a)/4-a),d=0,l=a>0?s-4:s;for(n=0;n<l;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[d++]=t>>16&255,u[d++]=t>>8&255,u[d++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[d++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[d++]=t>>8&255,u[d++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(u(e,a,a+s>c?c:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7032:function(e){e.exports=(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)})({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=(function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,c=e.map([t,n],function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e})();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=(function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},(t=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&s(e,t),e})();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=(function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=r.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=i.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return _extends({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach(function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)}),r>0){var s=Object.keys(n),a=s.find(function(e){return t.isOS(e)});if(a){var c=this.satisfies(n[a]);if(void 0!==c)return c}var u=s.find(function(e){return t.isPlatform(e)});if(u){var d=this.satisfies(n[u]);if(void 0!==d)return d}}if(o>0){var l=Object.keys(i).find(function(e){return t.isBrowser(e,!0)});if(void 0!==l)return this.compareVersion(i[l])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e})();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows/i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},6799:function(e,t){var n,r;this||window,void 0===(r="function"==typeof(n=function(){var e=/^(interactive|loaded|complete)$/,t=window.location?window.location.href:null,n=t&&t.replace(/#.*$/,"").replace(/\?.*$/,"")||null,r=document.getElementsByTagName("script"),i="readyState"in(r[0]||document.createElement("script")),o=!window.opera||"[object Opera]"!==window.opera.toString(),s="currentScript"in document;"stackTraceLimit"in Error&&Error.stackTraceLimit!==1/0&&(Error.stackTraceLimit,Error.stackTraceLimit=1/0);var a=!1,c=!1;function u(e,t){var n,r=null,i="number"==typeof t;return t=i?Math.round(t):0,"string"==typeof e&&e&&(i?n=e.match(/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/):(n=e.match(/^(?:|[^:@]*@|.+\)@(?=data:text\/javascript|blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&n[1]||(n=e.match(/\)@(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)),n&&n[1]&&(r=t>0?u(e.slice(e.indexOf(n[0])+n[0].length),t-1):n[1])),r}function d(){if(0===r.length)return null;var t,l,h,p,f,m=[],v=d.skipStackDepth||1;for(t=0;t<r.length;t++)o&&i?e.test(r[t].readyState)&&m.push(r[t]):m.push(r[t]);if(l=new Error,a&&(h=l.stack),!h&&c)try{throw l}catch(e){h=e.stack}if(h&&!(f=(function(e,t){var n,i=null;if(t=t||r,"string"==typeof e&&e)for(n=t.length;n--;)if(t[n].src===e){i=t[n];break}return i})(p=u(h,v),m))&&n&&p===n&&(f=(function(e){var t,n,i=null;for(t=0,n=(e=e||r).length;t<n;t++)if(!e[t].hasAttribute("src")){if(i){i=null;break}i=e[t]}return i})(m)),f||1===m.length&&(f=m[0]),f||s&&(f=document.currentScript),!f&&o&&i)for(t=m.length;t--;)if("interactive"===m[t].readyState){f=m[t];break}return f||(f=m[m.length-1]||null),f}(function(){try{var e=new Error;throw a="string"==typeof e.stack&&!!e.stack,e}catch(e){c="string"==typeof e.stack&&!!e.stack}})(),d.skipStackDepth=1;var l=d;return l.near=d,l.far=function(){return null},l.origin=function(){return null},l})?n.apply(t,[]):n)||(e.exports=r)},6857:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&(function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})})(e,i)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,u;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=s.length,u=d,console&&console.warn&&console.warn(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?(function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t})(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,d=f(c,u);for(n=0;n<u;++n)r(d[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():(function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()})(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},3478:function _(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null==e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var r,i,o=0,s=e.length,a=this.blocks,c=this.buffer8;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)if(ARRAY_BUFFER)for(i=this.start;o<s&&i<64;++o)c[i++]=e[o];else for(i=this.start;o<s&&i<64;++o)a[i>>2]|=e[o]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;o<s&&i<64;++o)(r=e.charCodeAt(o))<128?c[i++]=r:r<2048?(c[i++]=192|r>>6,c[i++]=128|63&r):r<55296||r>=57344?(c[i++]=224|r>>12,c[i++]=128|r>>6&63,c[i++]=128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),c[i++]=240|r>>18,c[i++]=128|r>>12&63,c[i++]=128|r>>6&63,c[i++]=128|63&r);else for(i=this.start;o<s&&i<64;++o)(r=e.charCodeAt(o))<128?a[i>>2]|=r<<SHIFT[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),a[i>>2]|=(240|r>>18)<<SHIFT[3&i++],a[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,n,r,i,o,s=this.blocks;this.first?t=((t=((e=((e=s[0]-680876937)<<7|e>>>25)-271733879<<0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&e)+s[1]-117830708)<<12|r>>>20)+e<<0)&(-271733879^e))+s[2]-1126478375)<<17|n>>>15)+r<<0)&(r^e))+s[3]-1316259209)<<22|t>>>10)+n<<0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((r=this.h3)^t&(n^r))+s[0]-680876936)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+s[1]-389564586)<<12|r>>>20)+e<<0)&(e^t))+s[2]+606105819)<<17|n>>>15)+r<<0)&(r^e))+s[3]-1044525330)<<22|t>>>10)+n<<0),t=((t+=((e=((e+=(r^t&(n^r))+s[4]-176418897)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+s[5]+1200080426)<<12|r>>>20)+e<<0)&(e^t))+s[6]-1473231341)<<17|n>>>15)+r<<0)&(r^e))+s[7]-45705983)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+s[8]+1770035416)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+s[9]-1958414417)<<12|r>>>20)+e<<0)&(e^t))+s[10]-42063)<<17|n>>>15)+r<<0)&(r^e))+s[11]-1990404162)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+s[12]+1804603682)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+s[13]-40341101)<<12|r>>>20)+e<<0)&(e^t))+s[14]-1502002290)<<17|n>>>15)+r<<0)&(r^e))+s[15]+1236535329)<<22|t>>>10)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+s[1]-165796510)<<5|e>>>27)+t<<0)^t))+s[6]-1069501632)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+s[11]+643717713)<<14|n>>>18)+r<<0)^r))+s[0]-373897302)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+s[5]-701558691)<<5|e>>>27)+t<<0)^t))+s[10]+38016083)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+s[15]-660478335)<<14|n>>>18)+r<<0)^r))+s[4]-405537848)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+s[9]+568446438)<<5|e>>>27)+t<<0)^t))+s[14]-1019803690)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+s[3]-187363961)<<14|n>>>18)+r<<0)^r))+s[8]+1163531501)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+s[13]-1444681467)<<5|e>>>27)+t<<0)^t))+s[2]-51403784)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+s[7]+1735328473)<<14|n>>>18)+r<<0)^r))+s[12]-1926607734)<<20|t>>>12)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+s[5]-378558)<<4|e>>>28)+t<<0))+s[8]-2022574463)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+s[11]+1839030562)<<16|n>>>16)+r<<0))+s[14]-35309556)<<23|t>>>9)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+s[1]-1530992060)<<4|e>>>28)+t<<0))+s[4]+1272893353)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+s[7]-155497632)<<16|n>>>16)+r<<0))+s[10]-1094730640)<<23|t>>>9)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+s[13]+681279174)<<4|e>>>28)+t<<0))+s[0]-358537222)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+s[3]-722521979)<<16|n>>>16)+r<<0))+s[6]+76029189)<<23|t>>>9)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+s[9]-640364487)<<4|e>>>28)+t<<0))+s[12]-421815835)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+s[15]+530742520)<<16|n>>>16)+r<<0))+s[2]-995338651)<<23|t>>>9)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+s[0]-198630844)<<6|e>>>26)+t<<0)|~n))+s[7]+1126891415)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+s[14]-1416354905)<<15|n>>>17)+r<<0)|~e))+s[5]-57434055)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+s[12]+1700485571)<<6|e>>>26)+t<<0)|~n))+s[3]-1894986606)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+s[10]-1051523)<<15|n>>>17)+r<<0)|~e))+s[1]-2054922799)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+s[8]+1873313359)<<6|e>>>26)+t<<0)|~n))+s[15]-30611744)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+s[6]-1560198380)<<15|n>>>17)+r<<0)|~e))+s[13]+1309151649)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+s[4]-145523070)<<6|e>>>26)+t<<0)|~n))+s[11]-1120210379)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+s[2]+718787259)<<15|n>>>17)+r<<0)|~e))+s[9]-343485551)<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,r="",i=this.array(),o=0;o<15;)e=i[o++],t=i[o++],n=i[o++],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=i[o],r+(BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},2138:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Boolean]",a="[object Date]",c="[object Function]",u="[object GeneratorFunction]",d="[object Map]",l="[object Number]",h="[object Object]",p="[object Promise]",f="[object RegExp]",m="[object Set]",v="[object String]",_="[object Symbol]",g="[object WeakMap]",y="[object ArrayBuffer]",S="[object DataView]",E="[object Float32Array]",C="[object Float64Array]",T="[object Int8Array]",b="[object Int16Array]",R="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",k="[object Uint16Array]",P="[object Uint32Array]",O=/\w*$/,D=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,M={};M[o]=M["[object Array]"]=M[y]=M[S]=M[s]=M[a]=M[E]=M[C]=M[T]=M[b]=M[R]=M[d]=M[l]=M[h]=M[f]=M[m]=M[v]=M[_]=M[A]=M[I]=M[k]=M[P]=!0,M["[object Error]"]=M[c]=M[g]=!1;var w="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,L="object"==typeof self&&self&&self.Object===Object&&self,x=w||L||Function("return this")(),F=t&&!t.nodeType&&t,U=F&&e&&!e.nodeType&&e,V=U&&U.exports===F;function j(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function B(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function J(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function G(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function K(e,t){return function(n){return e(t(n))}}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var z,W=Array.prototype,X=Function.prototype,$=Object.prototype,Q=x["__core-js_shared__"],Y=(z=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",Z=X.toString,ee=$.hasOwnProperty,te=$.toString,ne=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=V?x.Buffer:void 0,ie=x.Symbol,oe=x.Uint8Array,se=K(Object.getPrototypeOf,Object),ae=Object.create,ce=$.propertyIsEnumerable,ue=W.splice,de=Object.getOwnPropertySymbols,le=re?re.isBuffer:void 0,he=K(Object.keys,Object),pe=xe(x,"DataView"),fe=xe(x,"Map"),me=xe(x,"Promise"),ve=xe(x,"Set"),_e=xe(x,"WeakMap"),ge=xe(Object,"create"),ye=He(pe),Se=He(fe),Ee=He(me),Ce=He(ve),Te=He(_e),be=ie?ie.prototype:void 0,Re=be?be.valueOf:void 0;function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pe(e){this.__data__=new Ie(e)}function Oe(e,t,n){var r=e[t];ee.call(e,t)&&Be(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function De(e,t){for(var n=e.length;n--;)if(Be(e[n][0],t))return n;return-1}function Ne(e,t,n,r,i,p,g){var D;if(r&&(D=p?r(e,i,p,g):r(e)),void 0!==D)return D;if(!ze(e))return e;var N=Je(e);if(N){if(D=(function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n})(e),!t)return(function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t})(e,D)}else{var w=Ue(e),L=w==c||w==u;if(Ke(e))return(function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n})(e,t);if(w==h||w==o||L&&!p){if(J(e))return p?e:{};if(D=(function(e){return"function"!=typeof e.constructor||je(e)?{}:ze(t=se(e))?ae(t):{};var t})(L?{}:e),!t)return(function(e,t){return we(e,Fe(e),t)})(e,(function(e,t){return e&&we(t,We(t),e)})(D,e))}else{if(!M[w])return p?e:{};D=(function(e,t,n,r){var i,o=e.constructor;switch(t){case y:return Me(e);case s:case a:return new o(+e);case S:return(function(e,t){var n=r?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)})(e);case E:case C:case T:case b:case R:case A:case I:case k:case P:return(function(e,t){var n=r?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)})(e);case d:return(function(e,t,n){return B(r?n(G(e),!0):G(e),j,new e.constructor)})(e,0,n);case l:case v:return new o(e);case f:return(function(e){var t=new e.constructor(e.source,O.exec(e));return t.lastIndex=e.lastIndex,t})(e);case m:return(function(e,t,n){return B(r?n(q(e),!0):q(e),H,new e.constructor)})(e,0,n);case _:return i=e,Re?Object(Re.call(i)):{}}})(e,w,Ne,t)}}g||(g=new Pe);var x=g.get(e);if(x)return x;if(g.set(e,D),!N)var F=n?(function(e){return(function(e,t,n){var r=We(e);return Je(e)?r:(function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e})(r,n(e))})(e,0,Fe)})(e):We(e);return(function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n););})(F||e,function(i,o){F&&(i=e[o=i]),Oe(D,o,Ne(i,t,n,r,o,e,g))}),D}function Me(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function we(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=r?r(n[s],e[s],s,n,e):void 0;Oe(n,s,void 0===a?e[s]:a)}return n}function Le(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function xe(e,t){var n=(function(e,t){return null==e?void 0:e[t]})(e,t);return(function(e){return!(!ze(e)||(t=e,Y&&Y in t))&&(qe(e)||J(e)?ne:D).test(He(e));var t})(n)?n:void 0}Ae.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:ee.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},Ie.prototype.clear=function(){this.__data__=[]},Ie.prototype.delete=function(e){var t=this.__data__,n=De(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),0))},Ie.prototype.get=function(e){var t=this.__data__,n=De(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return De(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,r=De(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ke.prototype.clear=function(){this.__data__={hash:new Ae,map:new(fe||Ie),string:new Ae}},ke.prototype.delete=function(e){return Le(this,e).delete(e)},ke.prototype.get=function(e){return Le(this,e).get(e)},ke.prototype.has=function(e){return Le(this,e).has(e)},ke.prototype.set=function(e,t){return Le(this,e).set(e,t),this},Pe.prototype.clear=function(){this.__data__=new Ie},Pe.prototype.delete=function(e){return this.__data__.delete(e)},Pe.prototype.get=function(e){return this.__data__.get(e)},Pe.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ie){var r=n.__data__;if(!fe||r.length<199)return r.push([e,t]),this;n=this.__data__=new ke(r)}return n.set(e,t),this};var Fe=de?K(de,Object):function(){return[]},Ue=function(e){return te.call(e)};function Ve(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function je(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)}function He(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Be(e,t){return e===t||e!=e&&t!=t}(pe&&Ue(new pe(new ArrayBuffer(1)))!=S||fe&&Ue(new fe)!=d||me&&Ue(me.resolve())!=p||ve&&Ue(new ve)!=m||_e&&Ue(new _e)!=g)&&(Ue=function(e){var t=te.call(e),n=t==h?e.constructor:void 0,r=n?He(n):void 0;if(r)switch(r){case ye:return S;case Se:return d;case Ee:return p;case Ce:return m;case Te:return g}return t});var Je=Array.isArray;function Ge(e){return null!=e&&(function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i})(e.length)&&!qe(e)}var Ke=le||function(){return!1};function qe(e){var t=ze(e)?te.call(e):"";return t==c||t==u}function ze(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function We(e){return Ge(e)?(function(e,t){var n=Je(e)||(function(e){return(function(e){return(function(e){return!!e&&"object"==typeof e})(e)&&Ge(e)})(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==o)})(e)?(function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r})(e.length,String):[],r=n.length,i=!!r;for(var s in e)!ee.call(e,s)||i&&("length"==s||Ve(s,r))||n.push(s);return n})(e):(function(e){if(!je(e))return he(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t})(e)}e.exports=function(e){return Ne(e,!0,!0)}},9509:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),l=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return d.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if((function(e){return"symbol"==typeof e||(function(e){return!!e&&"object"==typeof e})(e)&&"[object Symbol]"==l.call(e)})(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,o,s,a,c,u=0,d=!1,l=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,o=i;return r=i=void 0,u=t,s=e.apply(o,n)}function y(e){return u=e,a=setTimeout(E,t),d?g(e):s}function S(e){var n=e-c;return void 0===c||n>=t||n<0||l&&e-u>=o}function E(){var e=f();if(S(e))return C(e);a=setTimeout(E,(function(e){var n=t-(e-c);return l?p(n,o-(e-u)):n})(e))}function C(e){return a=void 0,_&&r?g(e):(r=i=void 0,s)}function T(){var e=f(),n=S(e);if(r=arguments,i=this,c=e,n){if(void 0===a)return y(c);if(l)return a=setTimeout(E,t),g(c)}return void 0===a&&(a=setTimeout(E,t)),s}return t=v(t)||0,m(n)&&(d=!!n.leading,o=(l="maxWait"in n)?h(v(n.maxWait)||0,t):o,_="trailing"in n?!!n.trailing:_),T.cancel=function(){void 0!==a&&clearTimeout(a),u=0,r=c=i=a=void 0},T.flush=function(){return void 0===a?s:C(f())},T}},7047:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",l="[object Map]",h="[object Number]",p="[object Object]",f="[object Promise]",m="[object RegExp]",v="[object Set]",_="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",S="[object DataView]",E=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[o]=T[s]=T[y]=T[a]=T[S]=T[c]=T[u]=T[d]=T[l]=T[h]=T[p]=T[m]=T[v]=T[_]=T[g]=!1;var b="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,R="object"==typeof self&&self&&self.Object===Object&&self,A=b||R||Function("return this")(),I=t&&!t.nodeType&&t,k=I&&e&&!e.nodeType&&e,P=k&&k.exports===I,O=P&&b.process,D=(function(){try{return O&&O.binding&&O.binding("util")}catch(e){}})(),N=D&&D.isTypedArray;function M(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function w(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function L(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var x,F,U,V=Array.prototype,j=Function.prototype,H=Object.prototype,B=A["__core-js_shared__"],J=j.toString,G=H.hasOwnProperty,K=(x=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",q=H.toString,z=RegExp("^"+J.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=P?A.Buffer:void 0,X=A.Symbol,$=A.Uint8Array,Q=H.propertyIsEnumerable,Y=V.splice,Z=X?X.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=W?W.isBuffer:void 0,ne=(F=Object.keys,U=Object,function(e){return F(U(e))}),re=ke(A,"DataView"),ie=ke(A,"Map"),oe=ke(A,"Promise"),se=ke(A,"Set"),ae=ke(A,"WeakMap"),ce=ke(Object,"create"),ue=Ne(re),de=Ne(ie),le=Ne(oe),he=Ne(se),pe=Ne(ae),fe=X?X.prototype:void 0,me=fe?fe.valueOf:void 0;function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ge;++t<n;)this.add(e[t])}function Se(e){var t=this.__data__=new _e(e);this.size=t.size}function Ee(e,t){for(var n=e.length;n--;)if(Me(e[n][0],t))return n;return-1}function Ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Z&&Z in Object(e)?(function(e){var t=G.call(e,Z),n=e[Z];try{e[Z]=void 0}catch(e){}var r=q.call(e);return t?e[Z]=n:delete e[Z],r})(e):(function(e){return q.call(e)})(e)}function Te(e){return je(e)&&Ce(e)==o}function be(e,t,n,r,i){return e===t||(null==e||null==t||!je(e)&&!je(t)?e!=e&&t!=t:(function(e,t,n,r,i,d){var f=Le(e),g=Le(t),E=f?s:Oe(e),C=g?s:Oe(t),T=(E=E==o?p:E)==p,b=(C=C==o?p:C)==p,R=E==C;if(R&&xe(e)){if(!xe(t))return!1;f=!0,T=!1}if(R&&!T)return d||(d=new Se),f||He(e)?Re(e,t,n,r,i,d):(function(e,t,n,r,i,o,s){switch(E){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!o(new $(e),new $(t)));case a:case c:case h:return Me(+e,+t);case u:return e.name==t.name&&e.message==t.message;case m:case _:return e==t+"";case l:var d=w;case v:var p=1&r;if(d||(d=L),e.size!=t.size&&!p)return!1;var f=s.get(e);if(f)return f==t;r|=2,s.set(e,t);var g=Re(d(e),d(t),r,i,o,s);return s.delete(e),g;case"[object Symbol]":if(me)return me.call(e)==me.call(t)}return!1})(e,t,0,n,r,i,d);if(!(1&n)){var A=T&&G.call(e,"__wrapped__"),I=b&&G.call(t,"__wrapped__");if(A||I){var k=A?e.value():e,P=I?t.value():t;return d||(d=new Se),i(k,P,n,r,d)}}return!!R&&(d||(d=new Se),(function(e,t,n,r,i,o){var s=1&n,a=Ae(e),c=a.length;if(c!=Ae(t).length&&!s)return!1;for(var u=c;u--;){var d=a[u];if(!(s?d in t:G.call(t,d)))return!1}var l=o.get(e);if(l&&o.get(t))return l==t;var h=!0;o.set(e,t),o.set(t,e);for(var p=s;++u<c;){var f=e[d=a[u]],m=t[d];if(r)var v=s?r(m,f,d,t,e,o):r(f,m,d,e,t,o);if(!(void 0===v?f===m||i(f,m,n,r,o):v)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var _=e.constructor,g=t.constructor;_==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g||(h=!1)}return o.delete(e),o.delete(t),h})(e,t,n,r,i,d))})(e,t,n,r,be,i))}function Re(e,t,n,r,i,o){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var d=-1,l=!0,h=2&n?new ye:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var p=e[d],f=t[d];if(r)var m=s?r(f,p,d,t,e,o):r(p,f,d,e,t,o);if(void 0!==m){if(m)continue;l=!1;break}if(h){if(!M(t,function(e,t){if(s=t,!h.has(s)&&(p===e||i(p,e,n,r,o)))return h.push(t);var s})){l=!1;break}}else if(p!==f&&!i(p,f,n,r,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function Ae(e){return(function(e,t,n){var r=Be(e);return Le(e)?r:(function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e})(r,n(e))})(e,0,Pe)}function Ie(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ke(e,t){var n=(function(e,t){return null==e?void 0:e[t]})(e,t);return(function(e){return!(!Ve(e)||(function(e){return!!K&&K in e})(e))&&(Fe(e)?z:E).test(Ne(e))})(n)?n:void 0}ve.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ve.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===r?void 0:n}return G.call(t,e)?t[e]:void 0},ve.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:G.call(t,e)},ve.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?r:t,this},_e.prototype.clear=function(){this.__data__=[],this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=Ee(t,e);return!(n<0||(n==t.length-1?t.pop():Y.call(t,n,1),--this.size,0))},_e.prototype.get=function(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1]},_e.prototype.has=function(e){return Ee(this.__data__,e)>-1},_e.prototype.set=function(e,t){var n=this.__data__,r=Ee(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ge.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(ie||_e),string:new ve}},ge.prototype.delete=function(e){var t=Ie(this,e).delete(e);return this.size-=t?1:0,t},ge.prototype.get=function(e){return Ie(this,e).get(e)},ge.prototype.has=function(e){return Ie(this,e).has(e)},ge.prototype.set=function(e,t){var n=Ie(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ye.prototype.add=ye.prototype.push=function(e){return this.__data__.set(e,r),this},ye.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.clear=function(){this.__data__=new _e,this.size=0},Se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _e){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ge(r)}return n.set(e,t),this.size=n.size,this};var Pe=ee?function(e){return null==e?[]:(e=Object(e),(function(t,n){for(var r=-1,i=null==t?0:t.length,o=0,s=[];++r<i;){var a=t[r];c=a,Q.call(e,c)&&(s[o++]=a)}var c;return s})(ee(e)))}:function(){return[]},Oe=Ce;function De(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function Ne(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Me(e,t){return e===t||e!=e&&t!=t}(re&&Oe(new re(new ArrayBuffer(1)))!=S||ie&&Oe(new ie)!=l||oe&&Oe(oe.resolve())!=f||se&&Oe(new se)!=v||ae&&Oe(new ae)!=g)&&(Oe=function(e){var t=Ce(e),n=t==p?e.constructor:void 0,r=n?Ne(n):"";if(r)switch(r){case ue:return S;case de:return l;case le:return f;case he:return v;case pe:return g}return t});var we=Te((function(){return arguments})())?Te:function(e){return je(e)&&G.call(e,"callee")&&!Q.call(e,"callee")},Le=Array.isArray,xe=te||function(){return!1};function Fe(e){if(!Ve(e))return!1;var t=Ce(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ue(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function je(e){return null!=e&&"object"==typeof e}var He=N?(function(e){return function(t){return e(t)}})(N):function(e){return je(e)&&Ue(e.length)&&!!T[Ce(e)]};function Be(e){return null!=(t=e)&&Ue(t.length)&&!Fe(t)?(function(e,t){var n=Le(e),r=!n&&we(e),i=!n&&!r&&xe(e),o=!n&&!r&&!i&&He(e),s=n||r||i||o,a=s?(function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r})(e.length,String):[],c=a.length;for(var u in e)!G.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||De(u,c))||a.push(u);return a})(e):(function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||H))return ne(e);var t,n,r=[];for(var i in Object(e))G.call(e,i)&&"constructor"!=i&&r.push(i);return r})(e);var t}e.exports=function(e,t){return be(e,t)}},5296:function(e){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:["value","direction","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+" %s"+(e.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},8310:function(e,t,n){var r=n(1415),i=n(9159);t.write=i,t.parse=r.parse,t.parseFmtpConfig=r.parseFmtpConfig,t.parseParams=r.parseParams,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates,t.parseImageAttributes=r.parseImageAttributes,t.parseSimulcastStreamList=r.parseSimulcastStreamList},1415:function(e,t,n){var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!(function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=r(e[o+1]))})(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=n(5296),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(s).forEach(function(e){var t=e[0],s=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var a=0;a<(o[t]||[]).length;a+=1){var c=o[t][a];if(c.reg.test(s))return i(c,r,s)}}),t.media=n,t};var a=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length&&(e[n[0]]=r(n[1])),e};t.parseParams=function(e){return e.split(/\;\s?/).reduce(a,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}})})}},9159:function(e,t,n){var r=n(5296),i=/%[sdv%]/g,o=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})},s=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var s=t.names[i];t.name?r.push(n[t.name][s]):r.push(n[t.names[i]])}else r.push(n[t.name]);return o.apply(null,r)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var n=t.outerOrder||a,i=t.innerOrder||c,o=[];return n.forEach(function(t){r[t].forEach(function(n){n.name in e&&null!=e[n.name]?o.push(s(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){o.push(s(t,n,e))})})}),e.media.forEach(function(e){o.push(s("m",r.m[0],e)),i.forEach(function(t){r[t].forEach(function(n){n.name in e&&null!=e[n.name]?o.push(s(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){o.push(s(t,n,e))})})})}),o.join("\r\n")+"\r\n"}},5483:function(e){"use strict";var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},t.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter(function(e){return 0===e.indexOf(n)})},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation);var n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach(function(t){void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var o=r[i],s=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){var a=t.parseRtpMap(s),c=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(a.parameters=c.length?t.parseFmtp(c[0]):{},a.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(a.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach(function(e){n.headerExtensions.push(t.parseExtmap(e))}),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach(function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)});var i=0;return n.codecs.forEach(function(e){e.maxptime>i&&(i=e.maxptime)}),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach(function(e){r+=t.writeExtmap(e)}),r},t.parseRtpEncodingParameters=function(e){var n,r=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=a.length>0&&a[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});u.length>0&&u[0].length>1&&u[0][0]===c&&(n=u[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&n&&(t.rtx={ssrc:n}),r.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},r.push(t))}}),0===r.length&&c&&r.push({ssrc:c});var d=t.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,r.forEach(function(e){e.maxBitrate=d})),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,r=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substr(19),10)),isNaN(n)&&(n=65536);var o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:r.fmt,maxMessageSize:n};var s=t.matchPrefix(e,"a=sctpmap:");if(s.length>0){var a=s[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var i,o=void 0!==n?n:2;return i=e||t.generateSessionId(),"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){for(var r=t.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t},6033:function(e,t,n){e.exports=(function(){"use strict";var e=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}})(e)||(function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}var i=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},o=function(e){if("string"!=typeof e)throw new Error("str2binl was passed a non-string");for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},s=function(e,t,n,r,o,s){return i((a=i(i(t,e),i(r,s)))<<(c=o)|a>>>32-c,n);var a,c},a=function(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)},c=function(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)},u=function(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)},d=function(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)},l=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,r,o,s,l=1732584193,h=-271733879,p=-1732584194,f=271733878,m=0;m<e.length;m+=16)n=l,r=h,o=p,s=f,l=a(l,h,p,f,e[m+0],7,-680876936),f=a(f,l,h,p,e[m+1],12,-389564586),p=a(p,f,l,h,e[m+2],17,606105819),h=a(h,p,f,l,e[m+3],22,-1044525330),l=a(l,h,p,f,e[m+4],7,-176418897),f=a(f,l,h,p,e[m+5],12,1200080426),p=a(p,f,l,h,e[m+6],17,-1473231341),h=a(h,p,f,l,e[m+7],22,-45705983),l=a(l,h,p,f,e[m+8],7,1770035416),f=a(f,l,h,p,e[m+9],12,-1958414417),p=a(p,f,l,h,e[m+10],17,-42063),h=a(h,p,f,l,e[m+11],22,-1990404162),l=a(l,h,p,f,e[m+12],7,1804603682),f=a(f,l,h,p,e[m+13],12,-40341101),p=a(p,f,l,h,e[m+14],17,-1502002290),h=a(h,p,f,l,e[m+15],22,1236535329),l=c(l,h,p,f,e[m+1],5,-165796510),f=c(f,l,h,p,e[m+6],9,-1069501632),p=c(p,f,l,h,e[m+11],14,643717713),h=c(h,p,f,l,e[m+0],20,-373897302),l=c(l,h,p,f,e[m+5],5,-701558691),f=c(f,l,h,p,e[m+10],9,38016083),p=c(p,f,l,h,e[m+15],14,-660478335),h=c(h,p,f,l,e[m+4],20,-405537848),l=c(l,h,p,f,e[m+9],5,568446438),f=c(f,l,h,p,e[m+14],9,-1019803690),p=c(p,f,l,h,e[m+3],14,-187363961),h=c(h,p,f,l,e[m+8],20,1163531501),l=c(l,h,p,f,e[m+13],5,-1444681467),f=c(f,l,h,p,e[m+2],9,-51403784),p=c(p,f,l,h,e[m+7],14,1735328473),h=c(h,p,f,l,e[m+12],20,-1926607734),l=u(l,h,p,f,e[m+5],4,-378558),f=u(f,l,h,p,e[m+8],11,-2022574463),p=u(p,f,l,h,e[m+11],16,1839030562),h=u(h,p,f,l,e[m+14],23,-35309556),l=u(l,h,p,f,e[m+1],4,-1530992060),f=u(f,l,h,p,e[m+4],11,1272893353),p=u(p,f,l,h,e[m+7],16,-155497632),h=u(h,p,f,l,e[m+10],23,-1094730640),l=u(l,h,p,f,e[m+13],4,681279174),f=u(f,l,h,p,e[m+0],11,-358537222),p=u(p,f,l,h,e[m+3],16,-722521979),h=u(h,p,f,l,e[m+6],23,76029189),l=u(l,h,p,f,e[m+9],4,-640364487),f=u(f,l,h,p,e[m+12],11,-421815835),p=u(p,f,l,h,e[m+15],16,530742520),h=u(h,p,f,l,e[m+2],23,-995338651),l=d(l,h,p,f,e[m+0],6,-198630844),f=d(f,l,h,p,e[m+7],10,1126891415),p=d(p,f,l,h,e[m+14],15,-1416354905),h=d(h,p,f,l,e[m+5],21,-57434055),l=d(l,h,p,f,e[m+12],6,1700485571),f=d(f,l,h,p,e[m+3],10,-1894986606),p=d(p,f,l,h,e[m+10],15,-1051523),h=d(h,p,f,l,e[m+1],21,-2054922799),l=d(l,h,p,f,e[m+8],6,1873313359),f=d(f,l,h,p,e[m+15],10,-30611744),p=d(p,f,l,h,e[m+6],15,-1560198380),h=d(h,p,f,l,e[m+13],21,1309151649),l=d(l,h,p,f,e[m+4],6,-145523070),f=d(f,l,h,p,e[m+11],10,-1120210379),p=d(p,f,l,h,e[m+2],15,718787259),h=d(h,p,f,l,e[m+9],21,-343485551),l=i(l,n),h=i(h,r),p=i(p,o),f=i(f,s);return[l,h,p,f]},h={hexdigest:function(e){return(function(e){for(var t="0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n})(l(o(e),8*e.length))},hash:function(e){return(function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t})(l(o(e),8*e.length))}};function p(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;var n,r,i,o,s,a,c,u,d=new Array(80),l=1732584193,h=-271733879,p=-1732584194,v=271733878,y=-1009589776;for(n=0;n<e.length;n+=16){for(o=l,s=h,a=p,c=v,u=y,r=0;r<80;r++)d[r]=r<16?e[n+r]:g(d[r-3]^d[r-8]^d[r-14]^d[r-16],1),i=_(_(g(l,5),f(r,h,p,v)),_(_(y,d[r]),m(r))),y=v,v=p,p=g(h,30),h=l,l=i;l=_(l,o),h=_(h,s),p=_(p,a),v=_(v,c),y=_(y,u)}return[l,h,p,v,y]}function f(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function m(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function v(e,t){var n=y(e);n.length>16&&(n=p(n,8*e.length));for(var r=new Array(16),i=new Array(16),o=0;o<16;o++)r[o]=909522486^n[o],i[o]=1549556828^n[o];var s=p(r.concat(y(t)),512+8*t.length);return p(i.concat(s),672)}function _(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function g(e,t){return e<<t|e>>>32-t}function y(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}function S(e){for(var t,n,r="",i=0;i<4*e.length;i+=3)for(t=(e[i>>2]>>8*(3-i%4)&255)<<16|(e[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|e[i+2>>2]>>8*(3-(i+2)%4)&255,n=0;n<4;n++)8*i+6*n>32*e.length?r+="=":r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>6*(3-n)&63);return r}function E(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}var C={b64_hmac_sha1:function(e,t){return S(v(e,t))},b64_sha1:function(e){return S(p(y(e),8*e.length))},binb2str:E,core_hmac_sha1:v,str_hmac_sha1:function(e,t){return E(v(e,t))},str_sha1:function(e){return E(p(y(e),8*e.length))}},T=function(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)(n=e.charCodeAt(t))>=0&&n<=127?r+=e.charAt(t):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|n>>0&63)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r},b=function(e){for(var n in e=e||{})if(Object.prototype.hasOwnProperty.call(e,n)){var r="",i="",o="",s=e[n],a="object"===t(s),c=escape(unescape(a?s.value:s));a&&(r=s.expires?";expires="+s.expires:"",i=s.domain?";domain="+s.domain:"",o=s.path?";path="+s.path:""),document.cookie=n+"="+c+r+i+o}};function R(e,t){return new k.Builder(e,t)}function A(e){return new k.Builder("iq",e)}function I(e){return new k.Builder("presence",e)}var k={VERSION:"@VERSION@",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<k.XHTML.tags.length;t++)if(e===k.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if(void 0!==k.XHTML.attributes[e]&&k.XHTML.attributes[e].length>0)for(var n=0;n<k.XHTML.attributes[e].length;n++)if(t===k.XHTML.attributes[e][n])return!0;return!1},validCSS:function(e){for(var t=0;t<k.XHTML.css.length;t++)if(e===k.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10,BINDREQUIRED:11},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){k.NS[e]=t},forEachChild:function(e,t,n){for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];i.nodeType!==k.ElementType.NORMAL||t&&!this.isTagEqual(i,t)||n(i)}},isTagEqual:function(e,t){return e.tagName===t},_xmlGenerator:null,_makeGenerator:function(){var e;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(e=this._getIEXmlDom()).appendChild(e.createElement("strophe")):e=document.implementation.createDocument("jabber:client","strophe",null),e},xmlGenerator:function(){return k._xmlGenerator||(k._xmlGenerator=k._makeGenerator()),k._xmlGenerator},_getIEXmlDom:function(){for(var e=null,t=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<t.length&&null===e;n++)try{e=new ActiveXObject(t[n])}catch(t){e=null}return e},xmlElement:function(e){if(!e)return null;for(var n=k.xmlGenerator().createElement(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i)if("string"==typeof i||"number"==typeof i)n.appendChild(k.xmlTextNode(i));else if("object"===t(i)&&"function"==typeof i.sort)for(var o=0;o<i.length;o++){var s=i[o];"object"===t(s)&&"function"==typeof s.sort&&void 0!==s[1]&&null!==s[1]&&n.setAttribute(s[0],s[1])}else if("object"===t(i))for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&void 0!==i[a]&&null!==i[a]&&n.setAttribute(a,i[a])}return n},xmlescape:function(e){return(e=(e=(e=(e=e.replace(/\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},xmlunescape:function(e){return(e=(e=(e=(e=e.replace(/\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')},xmlTextNode:function(e){return k.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;return DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)),t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===k.ElementType.TEXT&&(t+=e.nodeValue);for(var n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===k.ElementType.TEXT&&(t+=e.childNodes[n].nodeValue);return k.xmlescape(t)},copyElement:function(e){var t;if(e.nodeType===k.ElementType.NORMAL){t=k.xmlElement(e.tagName);for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].nodeName,e.attributes[n].value);for(var r=0;r<e.childNodes.length;r++)t.appendChild(k.copyElement(e.childNodes[r]))}else e.nodeType===k.ElementType.TEXT&&(t=k.xmlGenerator().createTextNode(e.nodeValue));return t},createHtml:function(e){var n;if(e.nodeType===k.ElementType.NORMAL){var r=e.nodeName.toLowerCase();if(k.XHTML.validTag(r))try{n=k.xmlElement(r);for(var i=0;i<k.XHTML.attributes[r].length;i++){var o=k.XHTML.attributes[r][i],s=e.getAttribute(o);if(null!=s&&""!==s&&!1!==s&&0!==s)if("style"===o&&"object"===t(s)&&void 0!==s.cssText&&(s=s.cssText),"style"===o){for(var a=[],c=s.split(";"),u=0;u<c.length;u++){var d=c[u].split(":"),l=d[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(k.XHTML.validCSS(l)){var h=d[1].replace(/^\s*/,"").replace(/\s*$/,"");a.push(l+": "+h)}}a.length>0&&(s=a.join("; "),n.setAttribute(o,s))}else n.setAttribute(o,s)}for(var p=0;p<e.childNodes.length;p++)n.appendChild(k.createHtml(e.childNodes[p]))}catch(e){n=k.xmlTextNode("")}else{n=k.xmlGenerator().createDocumentFragment();for(var f=0;f<e.childNodes.length;f++)n.appendChild(k.createHtml(e.childNodes[f]))}}else if(e.nodeType===k.ElementType.FRAGMENT){n=k.xmlGenerator().createDocumentFragment();for(var m=0;m<e.childNodes.length;m++)n.appendChild(k.createHtml(e.childNodes[m]))}else e.nodeType===k.ElementType.TEXT&&(n=k.xmlTextNode(e.nodeValue));return n},escapeNode:function(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(e){return"string"!=typeof e?e:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(e){return e.indexOf("@")<0?null:e.split("@")[0]},getDomainFromJid:function(e){var t=k.getBareJidFromJid(e);if(t.indexOf("@")<0)return t;var n=t.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(e){if(!e)return null;var t=e.split("/");return t.length<2?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},_handleError:function(e){void 0!==e.stack&&k.fatal(e.stack),e.sourceURL?k.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?k.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message):k.fatal("error: "+e.message)},log:function(e,n){e===this.LogLevel.FATAL&&"object"===t(window.console)&&"function"==typeof window.console.error&&window.console.error(n)},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){if(!e)return null;"function"==typeof e.tree&&(e=e.tree());var t=r(Array(e.attributes.length).keys()).map(function(t){return e.attributes[t].nodeName});t.sort();var n=t.reduce(function(t,n){return"".concat(t," ").concat(n,'="').concat(k.xmlescape(e.attributes.getNamedItem(n).value),'"')},"<".concat(e.nodeName));if(e.childNodes.length>0){n+=">";for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes[i];switch(o.nodeType){case k.ElementType.NORMAL:n+=k.serialize(o);break;case k.ElementType.TEXT:n+=k.xmlescape(o.nodeValue);break;case k.ElementType.CDATA:n+="<![CDATA["+o.nodeValue+"]]>"}}n+="</"+e.nodeName+">"}else n+="/>";return n},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){k._connectionPlugins[e]=t},Builder:function(e,t){"presence"!==e&&"message"!==e&&"iq"!==e||(t&&!t.xmlns?t.xmlns=k.NS.CLIENT:t||(t={xmlns:k.NS.CLIENT})),this.nodeTree=k.xmlElement(e,t),this.node=this.nodeTree}};k.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return k.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this},c:function(e,t,n){var r=k.xmlElement(e,t,n);return this.node.appendChild(r),"string"!=typeof n&&"number"!=typeof n&&(this.node=r),this},cnode:function(e){var t,n=k.xmlGenerator();try{t=void 0!==n.importNode}catch(e){t=!1}var r=t?n.importNode(e,!0):k.copyElement(e);return this.node.appendChild(r),this.node=r,this},t:function(e){var t=k.xmlTextNode(e);return this.node.appendChild(t),this},h:function(e){var t=document.createElement("body");t.innerHTML=e;for(var n=k.createHtml(t);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}},k.Handler=function(e,t,n,r,i,o,s){this.handler=e,this.ns=t,this.name=n,this.type=r,this.id=i,this.options=s||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(k.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=o?k.getBareJidFromJid(o):null:this.from=o,this.user=!0},k.Handler.prototype={getNamespace:function(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t},namespaceMatch:function(e){var t=this,n=!1;return!this.ns||(k.forEachChild(e,null,function(e){t.getNamespace(e)===t.ns&&(n=!0)}),n||this.getNamespace(e)===this.ns)},isMatch:function(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=k.getBareJidFromJid(t));var n=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!k.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(e){throw k._handleError(e),e}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},k.TimedHandler=function(e,t){this.period=e,this.handler=t,this.lastCalled=(new Date).getTime(),this.user=!0},k.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},k.Connection=function(e,t){var n=this;this.service=e,this.options=t||{};var r=this.options.protocol||"";for(var i in 0===e.indexOf("ws:")||0===e.indexOf("wss:")||0===r.indexOf("ws")?this._proto=new k.Websocket(this):this._proto=new k.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){return n._onIdle()},100),b(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),k._connectionPlugins)if(Object.prototype.hasOwnProperty.call(k._connectionPlugins,i)){var o=function(){};o.prototype=k._connectionPlugins[i],this[i]=new o,this[i].init(this)}},k.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});return"string"==typeof e||"number"==typeof e?t+":"+e:t+""},addProtocolErrorHandler:function(e,t,n){this.protocolErrorHandlers[e][t]=n},connect:function(e,t,n,r,i,o,s){this.jid=e,this.authzid=k.getBareJidFromJid(this.jid),this.authcid=s||k.getNodeFromJid(this.jid),this.pass=t,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=k.getDomainFromJid(this.jid),this._changeConnectStatus(k.Status.CONNECTING,null),this._proto._connect(r,i,o)},attach:function(e,t,n,r,i,o,s){if(!(this._proto instanceof k.Bosh)){var a=new Error('The "attach" method can only be used with a BOSH connection.');throw a.name="StropheSessionError",a}this._proto._attach(e,t,n,r,i,o,s)},restore:function(e,t,n,r,i){if(!this._sessionCachingSupported()){var o=new Error('The "restore" method can only be used with a BOSH connection.');throw o.name="StropheSessionError",o}this._proto._restore(e,t,n,r,i)},_sessionCachingSupported:function(){if(this._proto instanceof k.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(e){return!1}return!0}return!1},xmlInput:function(e){},xmlOutput:function(e){},rawInput:function(e){},rawOutput:function(e){},nextValidRid:function(e){},send:function(e){if(null!==e){if("function"==typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"==typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(e,t,n,r){var i=this,o=null;"function"==typeof e.tree&&(e=e.tree());var s=e.getAttribute("id");if(s||(s=this.getUniqueId("sendPresence"),e.setAttribute("id",s)),"function"==typeof t||"function"==typeof n){var a=this.addHandler(function(e){o&&i.deleteTimedHandler(o),"error"===e.getAttribute("type")?n&&n(e):t&&t(e)},null,"presence",null,s);r&&(o=this.addTimedHandler(r,function(){return i.deleteHandler(a),n&&n(null),!1}))}return this.send(e),s},sendIQ:function(e,t,n,r){var i=this,o=null;"function"==typeof e.tree&&(e=e.tree());var s=e.getAttribute("id");if(s||(s=this.getUniqueId("sendIQ"),e.setAttribute("id",s)),"function"==typeof t||"function"==typeof n){var a=this.addHandler(function(e){o&&i.deleteTimedHandler(o);var r=e.getAttribute("type");if("result"===r)t&&t(e);else{if("error"!==r){var s=new Error("Got bad IQ type of ".concat(r));throw s.name="StropheError",s}n&&n(e)}},null,"iq",["error","result"],s);r&&(o=this.addTimedHandler(r,function(){return i.deleteHandler(a),n&&n(null),!1}))}return this.send(e),s},_queueData:function(e){if(null===e||!e.tagName||!e.childNodes){var t=new Error("Cannot queue non-DOMElement.");throw t.name="StropheError",t}this._data.push(e)},_sendRestart:function(){var e=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){return e._onIdle()},100)},addTimedHandler:function(e,t){var n=new k.TimedHandler(e,t);return this.addTimeds.push(n),n},deleteTimedHandler:function(e){this.removeTimeds.push(e)},addHandler:function(e,t,n,r,i,o,s){var a=new k.Handler(e,t,n,r,i,o,s);return this.addHandlers.push(a),a},deleteHandler:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);t>=0&&this.addHandlers.splice(t,1)},registerSASLMechanisms:function(e){this.mechanisms={},(e=e||[k.SASLAnonymous,k.SASLExternal,k.SASLMD5,k.SASLOAuthBearer,k.SASLXOAuth2,k.SASLPlain,k.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(e){this.mechanisms[e.prototype.name]=e},disconnect:function(e){if(this._changeConnectStatus(k.Status.DISCONNECTING,e),k.warn("Disconnect was called because: "+e),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=I({xmlns:k.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else k.warn("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(e,t,n){for(var r in k._connectionPlugins)if(Object.prototype.hasOwnProperty.call(k._connectionPlugins,r)){var i=this[r];if(i.statusChanged)try{i.statusChanged(e,t)}catch(e){k.error("".concat(r," plugin caused an exception changing status: ").concat(e))}}if(this.connect_callback)try{this.connect_callback(e,t,n)}catch(e){k._handleError(e),k.error("User connection callback caused an exception: ".concat(e))}},_doDisconnect:function(e){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),k.debug("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(k.Status.DISCONNECTED,e),this.connected=!1},_dataRecv:function(e,t){var n=this;k.debug("_dataRecv called");var r=this._proto._reqToData(e);if(null!==r){for(this.xmlInput!==k.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==k.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(k.serialize(r)));this.removeHandlers.length>0;){var i=this.removeHandlers.pop(),o=this.handlers.indexOf(i);o>=0&&this.handlers.splice(o,1)}for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var s=r.getAttribute("type");if(null!==s&&"terminate"===s){if(this.disconnecting)return;var a=r.getAttribute("condition"),c=r.getElementsByTagName("conflict");return null!==a?("remote-stream-error"===a&&c.length>0&&(a="conflict"),this._changeConnectStatus(k.Status.CONNFAIL,a)):this._changeConnectStatus(k.Status.CONNFAIL,k.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(a)}k.forEachChild(r,null,function(e){var t=n.handlers;n.handlers=[];for(var r=0;r<t.length;r++){var i=t[r];try{(!i.isMatch(e)||!n.authenticated&&i.user||i.run(e))&&n.handlers.push(i)}catch(e){k.warn("Removing Strophe handlers due to uncaught exception: "+e.message)}}})}}},mechanisms:{},_connect_cb:function(e,t,n){var r;k.debug("_connect_cb was called"),this.connected=!0;try{r=this._proto._reqToData(e)}catch(e){if(e.name!==k.ErrorCondition.BAD_FORMAT)throw e;this._changeConnectStatus(k.Status.CONNFAIL,k.ErrorCondition.BAD_FORMAT),this._doDisconnect(k.ErrorCondition.BAD_FORMAT)}if(r&&(this.xmlInput!==k.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==k.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(k.serialize(r))),this._proto._connect_cb(r)!==k.Status.CONNFAIL))if(r.getElementsByTagNameNS?r.getElementsByTagNameNS(k.NS.STREAM,"features").length>0:r.getElementsByTagName("stream:features").length>0||r.getElementsByTagName("features").length>0){var i=[],o=r.getElementsByTagName("mechanism");if(o.length>0)for(var s=0;s<o.length;s++){var a=k.getText(o[s]);this.mechanisms[a]&&i.push(this.mechanisms[a])}0!==i.length||0!==r.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(i):this._proto._no_auth_received(t)}else this._proto._no_auth_received(t)},sortMechanismsByPriority:function(e){for(var t=0;t<e.length-1;++t){for(var n=t,r=t+1;r<e.length;++r)e[r].prototype.priority>e[n].prototype.priority&&(n=r);if(n!==t){var i=e[t];e[t]=e[n],e[n]=i}}return e},authenticate:function(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()},_attemptSASLAuth:function(e){e=this.sortMechanismsByPriority(e||[]);for(var t=!1,n=0;n<e.length;++n)if(e[n].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[n],this._sasl_mechanism.onStart(this);var r=R("auth",{xmlns:k.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var i=this._sasl_mechanism.onChallenge(this,null);r.t(btoa(i))}this.send(r.tree()),t=!0;break}return t},_sasl_challenge_cb:function(e){var t=atob(k.getText(e)),n=this._sasl_mechanism.onChallenge(this,t),r=R("response",{xmlns:k.NS.SASL});return""!==n&&r.t(btoa(n)),this.send(r.tree()),!0},_attemptLegacyAuth:function(){null===k.getNodeFromJid(this.jid)?(this._changeConnectStatus(k.Status.CONNFAIL,k.ErrorCondition.MISSING_JID_NODE),this.disconnect(k.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(k.Status.AUTHENTICATING,null),this._addSysHandler(this._onLegacyAuthIQResult.bind(this),null,null,null,"_auth_1"),this.send(A({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:k.NS.AUTH}).c("username",{}).t(k.getNodeFromJid(this.jid)).tree()))},_onLegacyAuthIQResult:function(e){var t=A({type:"set",id:"_auth_2"}).c("query",{xmlns:k.NS.AUTH}).c("username",{}).t(k.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return k.getResourceFromJid(this.jid)||(this.jid=k.getBareJidFromJid(this.jid)+"/strophe"),t.up().c("resource",{}).t(k.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(t.tree()),!1},_sasl_success_cb:function(e){var t=this;if(this._sasl_data["server-signature"]){var n,r=atob(k.getText(e)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===r[1]&&(n=r[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}k.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var i=[],o=function(e,n){for(;e.length;)t.deleteHandler(e.pop());return t._onStreamFeaturesAfterSASL(n),!1};return i.push(this._addSysHandler(function(e){return o(i,e)},null,"stream:features",null,null)),i.push(this._addSysHandler(function(e){return o(i,e)},k.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_onStreamFeaturesAfterSASL:function(e){this.features=e;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0)}return this.do_bind?(this.options.explicitResourceBinding?this._changeConnectStatus(k.Status.BINDREQUIRED,null):this.bind(),!1):(this._changeConnectStatus(k.Status.AUTHFAIL,null),!1)},bind:function(){if(this.do_bind){this._addSysHandler(this._onResourceBindResultIQ.bind(this),null,null,null,"_bind_auth_2");var e=k.getResourceFromJid(this.jid);e?this.send(A({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:k.NS.BIND}).c("resource",{}).t(e).tree()):this.send(A({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:k.NS.BIND}).tree())}else k.log(k.LogLevel.INFO,'Strophe.Connection.prototype.bind called but "do_bind" is false')},_onResourceBindResultIQ:function(e){var t;if("error"===e.getAttribute("type"))return k.warn("Resource binding failed."),e.getElementsByTagName("conflict").length>0&&(t=k.ErrorCondition.CONFLICT),this._changeConnectStatus(k.Status.AUTHFAIL,t,e),!1;var n=e.getElementsByTagName("bind");if(!(n.length>0))return k.warn("Resource binding failed."),this._changeConnectStatus(k.Status.AUTHFAIL,null,e),!1;var r=n[0].getElementsByTagName("jid");r.length>0&&(this.jid=k.getText(r[0]),this.do_session?this._establishSession():(this.authenticated=!0,this._changeConnectStatus(k.Status.CONNECTED,null)))},_establishSession:function(){if(!this.do_session)throw new Error("Strophe.Connection.prototype._establishSession "+"called but apparently ".concat(k.NS.SESSION," wasn't advertised by the server"));this._addSysHandler(this._onSessionResultIQ.bind(this),null,null,null,"_session_auth_2"),this.send(A({type:"set",id:"_session_auth_2"}).c("session",{xmlns:k.NS.SESSION}).tree())},_onSessionResultIQ:function(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(k.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return k.warn("Session creation failed."),this._changeConnectStatus(k.Status.AUTHFAIL,null,e),!1;return!1},_sasl_failure_cb:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(k.Status.AUTHFAIL,null,e),!1},_auth2_cb:function(e){return"result"===e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(k.Status.CONNECTED,null)):"error"===e.getAttribute("type")&&(this._changeConnectStatus(k.Status.AUTHFAIL,null,e),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(e,t){var n=new k.TimedHandler(e,t);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(e,t,n,r,i){var o=new k.Handler(e,t,n,r,i);return o.user=!1,this.addHandlers.push(o),o},_onDisconnectTimeout:function(){return k.debug("_onDisconnectTimeout was called"),this._changeConnectStatus(k.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var e=this;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;){var t=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(t);n>=0&&this.timedHandlers.splice(n,1)}for(var r=(new Date).getTime(),i=[],o=0;o<this.timedHandlers.length;o++){var s=this.timedHandlers[o];!this.authenticated&&s.user||(s.lastCalled+s.period-r<=0?s.run()&&i.push(s):i.push(s))}this.timedHandlers=i,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){return e._onIdle()},100))}},k.SASLMechanism=function(e,t,n){this.name=e,this.isClientFirst=t,this.priority=n},k.SASLMechanism.prototype={test:function(e){return!0},onStart:function(e){this._connection=e},onChallenge:function(e,t){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},k.SASLAnonymous=function(){},k.SASLAnonymous.prototype=new k.SASLMechanism("ANONYMOUS",!1,20),k.SASLAnonymous.prototype.test=function(e){return null===e.authcid},k.SASLPlain=function(){},k.SASLPlain.prototype=new k.SASLMechanism("PLAIN",!0,50),k.SASLPlain.prototype.test=function(e){return null!==e.authcid},k.SASLPlain.prototype.onChallenge=function(e){var t=e.authzid;return t+="\0",t+=e.authcid,t+="\0",t+=e.pass,T(t)},k.SASLSHA1=function(){},k.SASLSHA1.prototype=new k.SASLMechanism("SCRAM-SHA-1",!0,70),k.SASLSHA1.prototype.test=function(e){return null!==e.authcid},k.SASLSHA1.prototype.onChallenge=function(e,t,n){var r=n||h.hexdigest(""+1234567890*Math.random()),i="n="+T(e.authcid);return i+=",r=",i+=r,e._sasl_data.cnonce=r,e._sasl_data["client-first-message-bare"]=i,i="n,,"+i,this.onChallenge=function(e,t){for(var n,r,i,o,s,a,c,u,d="c=biws,",l="".concat(e._sasl_data["client-first-message-bare"],",").concat(t,","),h=e._sasl_data.cnonce,p=/([a-z]+)=([^,]+)(,|$)/;t.match(p);){var f=t.match(p);switch(t=t.replace(f[0],""),f[1]){case"r":n=f[2];break;case"s":r=f[2];break;case"i":i=f[2]}}if(n.substr(0,h.length)!==h)return e._sasl_data={},e._sasl_failure_cb();l+=d+="r="+n,r=atob(r),r+="\0\0\0\x01";var m=T(e.pass);for(o=a=C.core_hmac_sha1(m,r),c=1;c<i;c++){for(s=C.core_hmac_sha1(m,C.binb2str(a)),u=0;u<5;u++)o[u]^=s[u];a=s}o=C.binb2str(o);var v=C.core_hmac_sha1(o,"Client Key"),_=C.str_hmac_sha1(o,"Server Key"),g=C.core_hmac_sha1(C.str_sha1(C.binb2str(v)),l);for(e._sasl_data["server-signature"]=C.b64_hmac_sha1(_,l),u=0;u<5;u++)v[u]^=g[u];return d+",p="+btoa(C.binb2str(v))},i},k.SASLMD5=function(){},k.SASLMD5.prototype=new k.SASLMechanism("DIGEST-MD5",!1,60),k.SASLMD5.prototype.test=function(e){return null!==e.authcid},k.SASLMD5.prototype._quote=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},k.SASLMD5.prototype.onChallenge=function(e,t,n){for(var r=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,i=n||h.hexdigest(""+1234567890*Math.random()),o="",s=null,a="";t.match(r);){var c=t.match(r);switch(t=t.replace(c[0],""),c[2]=c[2].replace(/^"(.+)"$/,"$1"),c[1]){case"realm":o=c[2];break;case"nonce":a=c[2];break;case"qop":c[2];break;case"host":s=c[2]}}var u=e.servtype+"/"+e.domain;null!==s&&(u=u+"/"+s);var d=T(e.authcid+":"+o+":"+this._connection.pass),l=h.hash(d)+":"+a+":"+i,p="AUTHENTICATE:"+u,f="";return f+="charset=utf-8,",f+="username="+this._quote(T(e.authcid))+",",f+="realm="+this._quote(o)+",",f+="nonce="+this._quote(a)+",",f+="nc=00000001,",f+="cnonce="+this._quote(i)+",",f+="digest-uri="+this._quote(u)+",",f+="response="+h.hexdigest(h.hexdigest(l)+":"+a+":00000001:"+i+":auth:"+h.hexdigest(p))+",",f+="qop=auth",this.onChallenge=function(){return""},f},k.SASLOAuthBearer=function(){},k.SASLOAuthBearer.prototype=new k.SASLMechanism("OAUTHBEARER",!0,40),k.SASLOAuthBearer.prototype.test=function(e){return null!==e.pass},k.SASLOAuthBearer.prototype.onChallenge=function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="\x01",t+="auth=Bearer ",t+=e.pass,t+="\x01",T(t+="\x01")},k.SASLExternal=function(){},k.SASLExternal.prototype=new k.SASLMechanism("EXTERNAL",!0,10),k.SASLExternal.prototype.onChallenge=function(e){return e.authcid===e.authzid?"":e.authzid},k.SASLXOAuth2=function(){},k.SASLXOAuth2.prototype=new k.SASLMechanism("X-OAUTH2",!0,30),k.SASLXOAuth2.prototype.test=function(e){return null!==e.pass},k.SASLXOAuth2.prototype.onChallenge=function(e){var t="\0";return null!==e.authcid&&(t+=e.authzid),t+="\0",t+=e.pass,T(t)};var P={Strophe:k,$build:R,$iq:A,$msg:function(e){return new k.Builder("message",e)},$pres:I,SHA1:C,MD5:h,b64_hmac_sha1:C.b64_hmac_sha1,b64_sha1:C.b64_sha1,str_hmac_sha1:C.str_hmac_sha1,str_sha1:C.str_sha1},O=P.Strophe,D=P.$build;O.Request=function(e,t,n,r){this.id=++O._requestId,this.xmlData=e,this.data=O.serialize(e),this.origFunc=t,this.func=t,this.rid=n,this.date=NaN,this.sends=r||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()},O.Request.prototype={getResponse:function(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(e=this.xhr.responseXML.documentElement).tagName)throw O.error("invalid response received"),O.error("responseText: "+this.xhr.responseText),O.error("responseXML: "+O.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(O.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(e=(new DOMParser).parseFromString(this.xhr.responseText,"application/xml").documentElement))throw new Error("Parsing produced null node");if(e.querySelector("parsererror")){O.error("invalid response received: "+e.querySelector("parsererror").textContent),O.error("responseText: "+this.xhr.responseText);var t=new Error;throw t.name=O.ErrorCondition.BAD_FORMAT,t}}return e},_newXHR:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest).overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}},O.Bosh=function(e){this._conn=e,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},O.Bosh.prototype={strip:null,_buildBody:function(){var e=D("body",{rid:this.rid++,xmlns:O.NS.HTTPBIND});return null!==this.sid&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(e,t,n){this.wait=e||this.wait,this.hold=t||this.hold,this.errors=0;var r=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":O.NS.BOSH});n&&r.attrs({route:n});var i=this._conn._connect_cb;this._requests.push(new O.Request(r.tree(),this._onRequestStateChange.bind(this,i.bind(this._conn)),r.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(e,t,n,r,i,o,s){this._conn.jid=e,this.sid=t,this.rid=n,this._conn.connect_callback=r,this._conn.domain=O.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=i||this.wait,this.hold=o||this.hold,this.window=s||this.window,this._conn._changeConnectStatus(O.Status.ATTACHED,null)},_restore:function(e,t,n,r,i){var o=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!(null!=o&&o.rid&&o.sid&&o.jid&&(null==e||O.getBareJidFromJid(o.jid)===O.getBareJidFromJid(e)||null===O.getNodeFromJid(e)&&O.getDomainFromJid(o.jid)===e))){var s=new Error("_restore: no restoreable session.");throw s.name="StropheSessionError",s}this._conn.restored=!0,this._attach(o.jid,o.sid,o.rid,t,n,r,i)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(e){var t=e.getAttribute("type");if(null!==t&&"terminate"===t){var n=e.getAttribute("condition");O.error("BOSH-Connection failed: "+n);var r=e.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&r.length>0&&(n="conflict"),this._conn._changeConnectStatus(O.Status.CONNFAIL,n)):this._conn._changeConnectStatus(O.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),O.Status.CONNFAIL}this.sid||(this.sid=e.getAttribute("sid"));var i=e.getAttribute("requests");i&&(this.window=parseInt(i,10));var o=e.getAttribute("hold");o&&(this.hold=parseInt(o,10));var s=e.getAttribute("wait");s&&(this.wait=parseInt(s,10));var a=e.getAttribute("inactivity");a&&(this.inactivity=parseInt(a,10))},_disconnect:function(e){this._sendTerminate(e)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(e){var t=this._getRequestStatus(e),n=this._conn.protocolErrorHandlers.HTTP[t];n&&n.call(this,t)},_hitError:function(e){this.errors++,O.warn("request errored, status: "+e+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(e){O.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var t=this._buildBody();this._requests.push(new O.Request(t.tree(),this._onRequestStateChange.bind(this,e),t.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(;this._requests.length>0;){var e=this._requests.pop();e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}}},_onIdle:function(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(O.debug("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(this._requests.length<2&&e.length>0){for(var t=this._buildBody(),n=0;n<e.length;n++)null!==e[n]&&("restart"===e[n]?t.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":O.NS.BOSH}):t.cnode(e[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new O.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var r=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(O.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),r>Math.floor(O.TIMEOUT*this.wait)&&(O.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(O.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(e,t){var n;if(4===e.xhr.readyState)try{n=e.xhr.status}catch(e){O.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return void 0===n&&(n="number"==typeof t?t:0),n},_onRequestStateChange:function(e,t){if(O.debug("request id "+t.id+"."+t.sends+" state changed to "+t.xhr.readyState),t.abort)t.abort=!1;else if(4===t.xhr.readyState){var n=this._getRequestStatus(t);if(this.lastResponseHeaders=t.xhr.getAllResponseHeaders(),this.disconnecting&&n>=400)return this._hitError(n),void this._callProtocolErrorHandlers(t);var r=n>0&&n<500,i=t.sends>this._conn.maxRetries;if((r||i)&&(this._removeRequest(t),O.debug("request id "+t.id+" should now be removed")),200===n){var o=this._requests[0]===t;(this._requests[1]===t||o&&this._requests.length>0&&this._requests[0].age()>Math.floor(O.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(t.rid)+1),O.debug("request id "+t.id+"."+t.sends+" got 200"),e(t),this.errors=0}else 0===n||n>=400&&n<600||n>=12e3?(O.error("request id "+t.id+"."+t.sends+" error "+n+" happened"),this._hitError(n),this._callProtocolErrorHandlers(t),n>=400&&n<500&&(this._conn._changeConnectStatus(O.Status.DISCONNECTING,null),this._conn._doDisconnect())):O.error("request id "+t.id+"."+t.sends+" error "+n+" happened");r||i?i&&!this._conn.connected&&this._conn._changeConnectStatus(O.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(e){var t=this,n=this._requests[e],r=this._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var i=n.age(),o=!isNaN(i)&&i>Math.floor(O.TIMEOUT*this.wait),s=null!==n.dead&&n.timeDead()>Math.floor(O.SECONDARY_TIMEOUT*this.wait),a=4===n.xhr.readyState&&(r<1||r>=500);if((o||s||a)&&(s&&O.error("Request ".concat(this._requests[e].id," timed out (secondary), restarting")),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[e]=new O.Request(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[e]),0===n.xhr.readyState){O.debug("request id "+n.id+"."+n.sends+" posting");try{var c=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==n.xhr.setRequestHeader&&n.xhr.setRequestHeader("Content-Type",c),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0)}catch(e){return O.error("XHR open failed: "+e.toString()),this._conn.connected||this._conn._changeConnectStatus(O.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var u=function(){if(n.date=new Date,t._conn.options.customHeaders){var e=t._conn.options.customHeaders;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.xhr.setRequestHeader(r,e[r])}n.xhr.send(n.data)};if(n.sends>1){var d=1e3*Math.min(Math.floor(O.TIMEOUT*this.wait),Math.pow(n.sends,3));setTimeout(function(){u()},d)}else u();n.sends++,this._conn.xmlOutput!==O.Connection.prototype.xmlOutput&&(n.xmlData.nodeName===this.strip&&n.xmlData.childNodes.length?this._conn.xmlOutput(n.xmlData.childNodes[0]):this._conn.xmlOutput(n.xmlData)),this._conn.rawOutput!==O.Connection.prototype.rawOutput&&this._conn.rawOutput(n.data)}else O.debug("_processRequest: "+(0===e?"first":"second")+" request has readyState of "+n.xhr.readyState)}},_removeRequest:function(e){O.debug("removing request");for(var t=this._requests.length-1;t>=0;t--)e===this._requests[t]&&this._requests.splice(t,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)},_reqToData:function(e){try{return e.getResponse()}catch(e){if("parsererror"!==e.message)throw e;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(e){O.debug("_sendTerminate was called");var t=this._buildBody().attrs({type:"terminate"});e&&t.cnode(e.tree());var n=new O.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()},_send:function(){var e=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){return e._conn._onIdle()},100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?O.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):O.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}};var N=P.Strophe,M=P.$build;return N.Websocket=function(e){this._conn=e,this.strip="wrapper";var t=e.service;if(0!==t.indexOf("ws:")&&0!==t.indexOf("wss:")){var n="";"ws"===e.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==t.indexOf("/")?n+=window.location.pathname+t:n+=t,e.service=n}},N.Websocket.prototype={_buildStream:function(){return M("open",{xmlns:N.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(e,t){var n;if(0===(n=e.getElementsByTagNameNS?e.getElementsByTagNameNS(N.NS.STREAM,"error"):e.getElementsByTagName("stream:error")).length)return!1;for(var r=n[0],i="",o="",s=0;s<r.childNodes.length;s++){var a=r.childNodes[s];if("urn:ietf:params:xml:ns:xmpp-streams"!==a.getAttribute("xmlns"))break;"text"===a.nodeName?o=a.textContent:i=a.nodeName}var c="WebSocket stream error: ";return c+=i||"unknown",o&&(c+=" - "+o),N.error(c),this._conn._changeConnectStatus(t,i),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(e){if(this._check_streamerror(e,N.Status.CONNFAIL))return N.Status.CONNFAIL},_handleStreamStart:function(e){var t=!1,n=e.getAttribute("xmlns");"string"!=typeof n?t="Missing xmlns in <open />":n!==N.NS.FRAMING&&(t="Wrong xmlns in <open />: "+n);var r=e.getAttribute("version");return"string"!=typeof r?t="Missing version in <open />":"1.0"!==r&&(t="Wrong version in <open />: "+r),!t||(this._conn._changeConnectStatus(N.Status.CONNFAIL,t),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var t=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===t)return;var n=(new DOMParser).parseFromString(t,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===e.data.indexOf("<close ")){var r=(new DOMParser).parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(e.data);var i=r.getAttribute("see-other-uri");if(i){var o=this._conn.service;(o.indexOf("wss:")>=0&&i.indexOf("wss:")>=0||o.indexOf("ws:")>=0)&&(this._conn._changeConnectStatus(N.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect())}else this._conn._changeConnectStatus(N.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var s=this._streamWrap(e.data),a=(new DOMParser).parseFromString(s,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(a,null,e.data)}},_disconnect:function(e){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){e&&this._conn.send(e);var t=M("close",{xmlns:N.NS.FRAMING});this._conn.xmlOutput(t.tree());var n=N.serialize(t);this._conn.rawOutput(n);try{this.socket.send(n)}catch(e){N.warn("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){N.debug("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(e){return"<wrapper>"+e+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close()}catch(e){N.debug(e.message)}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(e){this._conn.connected&&!this._conn.disconnecting?(N.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&1006===e.code&&!this._conn.connected&&this.socket?(N.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(N.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):N.debug("Websocket closed")},_no_auth_received:function(e){N.error("Server did not offer a supported authentication mechanism"),this._conn._changeConnectStatus(N.Status.CONNFAIL,N.ErrorCondition.NO_AUTH_MECH),e&&e.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(e){N.error("Websocket error "+e),this._conn._changeConnectStatus(N.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var e=this._conn._data;if(e.length>0&&!this._conn.paused){for(var t=0;t<e.length;t++)if(null!==e[t]){var n;n="restart"===e[t]?this._buildStream().tree():e[t];var r=N.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(r),this.socket.send(r)}this._conn._data=[]}},_onMessage:function(e){var t,n='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(e.data===n)return this._conn.rawInput(n),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===e.data.search("<open ")){if(t=(new DOMParser).parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(t))return}else{var r=this._streamWrap(e.data);t=(new DOMParser).parseFromString(r,"text/xml").documentElement}return this._check_streamerror(t,N.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===t.firstChild.nodeName&&"unavailable"===t.firstChild.getAttribute("type")?(this._conn.xmlInput(t),void this._conn.rawInput(N.serialize(t))):void this._conn._dataRecv(t,e.data)},_onOpen:function(){N.debug("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var t=N.serialize(e);this._conn.rawOutput(t),this.socket.send(t)},_reqToData:function(e){return e},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},e.Strophe=P.Strophe,e.$build=P.$build,e.$iq=P.$iq,e.$msg=P.$msg,e.$pres=P.$pres,P})()},1352:function(e,t,n){!(function(e){"use strict";e.Strophe.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function(t){this._connection=t,this._identities=[],this._features=[],this._items=[],t.addHandler(this._onDiscoInfo.bind(this),e.Strophe.NS.DISCO_INFO,"iq","get",null,null),t.addHandler(this._onDiscoItems.bind(this),e.Strophe.NS.DISCO_ITEMS,"iq","get",null,null)},addIdentity:function(e,t,n,r){for(var i=0;i<this._identities.length;i++)if(this._identities[i].category==e&&this._identities[i].type==t&&this._identities[i].name==n&&this._identities[i].lang==r)return!1;return this._identities.push({category:e,type:t,name:n,lang:r}),!0},addFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]==e)return!1;return this._features.push(e),!0},removeFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]===e)return this._features.splice(t,1),!0;return!1},addItem:function(e,t,n,r){return!(n&&!r||(this._items.push({jid:e,name:t,node:n,call_back:r}),0))},info:function(t,n,r,i,o){var s={xmlns:e.Strophe.NS.DISCO_INFO};n&&(s.node=n);var a=e.$iq({from:this._connection.jid,to:t,type:"get"}).c("query",s);this._connection.sendIQ(a,r,i,o)},items:function(t,n,r,i,o){var s={xmlns:e.Strophe.NS.DISCO_ITEMS};n&&(s.node=n);var a=e.$iq({from:this._connection.jid,to:t,type:"get"}).c("query",s);this._connection.sendIQ(a,r,i,o)},_buildIQResult:function(t,n){var r=t.getAttribute("id"),i=t.getAttribute("from"),o=e.$iq({type:"result",id:r});return null!==i&&o.attrs({to:i}),o.c("query",n)},_onDiscoInfo:function(t){var n,r=t.getElementsByTagName("query")[0].getAttribute("node"),i={xmlns:e.Strophe.NS.DISCO_INFO};r&&(i.node=r);var o=this._buildIQResult(t,i);for(n=0;n<this._identities.length;n++)i={category:this._identities[n].category,type:this._identities[n].type},this._identities[n].name&&(i.name=this._identities[n].name),this._identities[n].lang&&(i["xml:lang"]=this._identities[n].lang),o.c("identity",i).up();for(n=0;n<this._features.length;n++)o.c("feature",{var:this._features[n]}).up();return this._connection.send(o.tree()),!0},_onDiscoItems:function(t){var n,r,i={xmlns:e.Strophe.NS.DISCO_ITEMS},o=t.getElementsByTagName("query")[0].getAttribute("node");if(o){for(i.node=o,n=[],r=0;r<this._items.length;r++)if(this._items[r].node==o){n=this._items[r].call_back(t);break}}else n=this._items;var s=this._buildIQResult(t,i);for(r=0;r<n.length;r++){var a={jid:n[r].jid};n[r].name&&(a.name=n[r].name),n[r].node&&(a.node=n[r].node),s.c("item",a).up()}return this._connection.send(s.tree()),!0}})})(n(6033))},9617:function(e,t,n){!(function(e){"use strict";e.Strophe.addConnectionPlugin("streamManagement",{logging:!1,autoSendCountOnEveryIncomingStanza:!1,requestResponseInterval:5,_c:null,_NS:"urn:xmpp:sm:3",_isStreamManagementEnabled:!1,_serverProcesssedStanzasCounter:null,_clientProcessedStanzasCounter:null,_clientSentStanzasCounter:null,_originalXMLOutput:null,_requestHandler:null,_incomingHandler:null,_requestResponseIntervalCount:0,_isSupported:!1,_unacknowledgedStanzas:[],_acknowledgedStanzaListeners:[],addAcknowledgedStanzaListener:function(e){this._acknowledgedStanzaListeners.push(e)},enable:function(t){if(!this._isSupported)throw new Error("The server doesn't support urn:xmpp:sm:3 namespace");if(this._connectionStatus!==e.Strophe.Status.CONNECTED)throw new Error("enable() can only be called in the CONNECTED state");this._c.send(e.$build("enable",{xmlns:this._NS,resume:t})),this._c.flush(),this._c.pause()},getResumeToken:function(){return this._resumeToken},isSupported:function(){return this._isSupported},resume:function(){if(!this.getResumeToken())throw new Error("No resume token");if(this._connectionStatus!==e.Strophe.Status.DISCONNECTED)throw new Error("resume() can only be called in the DISCONNECTED state");this._c.options.explicitResourceBinding=!0,this._resuming=!0,this._originalConnect.apply(this._c,this._connectArgs)},requestAcknowledgement:function(){if(this._connectionStatus!==e.Strophe.Status.CONNECTED)throw new Error("requestAcknowledgement() can only be called in the CONNECTED state");this._requestResponseIntervalCount=0,this._c.send(e.$build("r",{xmlns:this._NS}))},getOutgoingCounter:function(){return this._clientSentStanzasCounter},getIncomingCounter:function(){return this._clientProcessedStanzasCounter},init:function(t){this._c=t,e.Strophe.addNamespace("SM",this._NS),this._originalXMLOutput=this._c.xmlOutput,this._c.xmlOutput=this.xmlOutput.bind(this),this._originalConnect=this._c.connect,this._c.connect=this._interceptConnectArgs.bind(this),this._originalOnStreamFeaturesAfterSASL=this._c._onStreamFeaturesAfterSASL,this._c._onStreamFeaturesAfterSASL=this._onStreamFeaturesAfterSASL.bind(this),this._originalDoDisconnect=this._c._doDisconnect,this._c._doDisconnect=this._interceptDoDisconnect.bind(this),this._originalDisconnect=this._c.disconnect,this._c.disconnect=this._interceptDisconnect.bind(this)},_interceptDisconnect:function(){this._resumeToken=void 0,this._originalDisconnect.apply(this._c,arguments)},_interceptDoDisconnect:function(){this.getResumeToken()&&!this._resuming&&this._c.connected&&!this._c.disconnecting&&(this._resumeState={handlers:this._c.handlers,timedHandlers:this._c.timedHandlers,removeTimeds:this._c.removeTimeds,removeHandlers:this._c.removeHandlers,addTimeds:this._c.addTimeds,addHandlers:this._c.addHandlers},this._storedJid=this._c.jid,this.logging&&e.Strophe.debug("SM stored resume state, handler count: "+this._resumeState.handlers.length)),this._c._data=[],this._originalDoDisconnect.apply(this._c,arguments)},_interceptConnectArgs:function(){this._connectArgs=arguments,this._originalConnect.apply(this._c,arguments)},_onStreamFeaturesAfterSASL:function(e){return this._isSupported=e.getElementsByTagNameNS(this._NS,"sm").length>0,this._originalOnStreamFeaturesAfterSASL.apply(this._c,arguments)},statusChanged:function(t){if(this._connectionStatus=t,this.getResumeToken()||t!==e.Strophe.Status.CONNECTED&&t!==e.Strophe.Status.DISCONNECTED)if(t===e.Strophe.Status.BINDREQUIRED){for(var n in this._c.jid=this._storedJid,this._resumeState)this._c[n]=this._resumeState[n];this._c.send(e.$build("resume",{xmlns:this._NS,h:this._clientProcessedStanzasCounter,previd:this._resumeToken})),this._c.flush()}else t===e.Strophe.Status.ERROR&&(this.logging&&e.Strophe.debug("SM cleared resume token on error"),this._resumeToken=void 0);else this.logging&&e.Strophe.debug("SM reset state"),this._serverProcesssedStanzasCounter=0,this._clientProcessedStanzasCounter=0,this._clientSentStanzasCounter=0,this._isStreamManagementEnabled=!1,this._requestResponseIntervalCount=0,this._resuming=!1,t===e.Strophe.Status.DISCONNECTED&&(this._isSupported=!1),this._unacknowledgedStanzas=[],this._requestHandler&&this._c.deleteHandler(this._requestHandler),this._incomingHandler&&this._c.deleteHandler(this._incomingHandler),this._requestHandler=this._c.addHandler(this._handleServerRequestHandler.bind(this),this._NS,"r"),this._ackHandler=this._c.addHandler(this._handleServerAck.bind(this),this._NS,"a"),this._incomingHandler=this._c.addHandler(this._incomingStanzaHandler.bind(this)),this._enabledHandler=this._c._addSysHandler(this._handleEnabled.bind(this),this._NS,"enabled"),this._resumeFailedHandler=this._c._addSysHandler(this._handleResumeFailed.bind(this),this._NS,"failed"),this._resumedHandler=this._c._addSysHandler(this._handleResumed.bind(this),this._NS,"resumed")},xmlOutput:function(t){return(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&this._increaseSentStanzasCounter(t),this._originalXMLOutput.call(this._c,t)},_handleEnabled:function(e){return this._isStreamManagementEnabled=!0,this._resumeToken="true"===e.getAttribute("resume")&&e.getAttribute("id"),this._c.resume(),!0},_handleResumeFailed:function(t){var n=t&&t.firstElementChild&&t.firstElementChild.tagName;return this._c._changeConnectStatus(e.Strophe.Status.ERROR,n,t),this._c._doDisconnect(),!0},_handleResumed:function(t){var n=parseInt(t.getAttribute("h"));if(this._handleAcknowledgedStanzas(n,this._serverProcesssedStanzasCounter),this._resuming=!1,this._c.do_bind=!1,this._c.authenticated=!0,this._c.restored=!0,this._unacknowledgedStanzas.length>0){this.logging&&e.Strophe.debug("SM Sending unacknowledged stanzas",this._unacknowledgedStanzas);for(var r,i=_createForOfIteratorHelperLoose(this._unacknowledgedStanzas);!(r=i()).done;){var o=r.value;this._c.send(o)}}else this.logging&&e.Strophe.debug("SM No unacknowledged stanzas",this._unacknowledgedStanzas);return this._c._changeConnectStatus(e.Strophe.Status.CONNECTED,null),!0},_incomingStanzaHandler:function(t){return(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&(this._increaseReceivedStanzasCounter(),this.autoSendCountOnEveryIncomingStanza&&this._answerProcessedStanzas()),!0},_handleAcknowledgedStanzas:function(t,n){var r=t-n;r<0&&this._throwError("New reported stanza count lower than previous. New: "+t+" - Previous: "+n),r>this._unacknowledgedStanzas.length&&this._throwError("Higher reported acknowledge count than unacknowledged stanzas. Reported Acknowledge Count: "+r+" - Unacknowledge Stanza Count: "+this._unacknowledgedStanzas.length+" - New: "+t+" - Previous: "+n);for(var i=0;i<r;i++)for(var o=this._unacknowledgedStanzas.shift(),s=0;s<this._acknowledgedStanzaListeners.length;s++)this._acknowledgedStanzaListeners[s](o);this.logging&&this._unacknowledgedStanzas.length>0&&e.Strophe.warn("SM Unacknowledged stanzas",this._unacknowledgedStanzas),this._serverProcesssedStanzasCounter=t,this.requestResponseInterval>0&&(this._requestResponseIntervalCount=0)},_handleServerRequestHandler:function(){return this._answerProcessedStanzas(),!0},_handleServerAck:function(e){var t=parseInt(e.getAttribute("h"));return this._handleAcknowledgedStanzas(t,this._serverProcesssedStanzasCounter),!0},_answerProcessedStanzas:function(){this._isStreamManagementEnabled&&this._c.send(e.$build("a",{xmlns:this._NS,h:this._clientProcessedStanzasCounter}))},_increaseSentStanzasCounter:function(t){var n=this;if(this._isStreamManagementEnabled){if(-1!==this._unacknowledgedStanzas.indexOf(t))return;this._unacknowledgedStanzas.push(t),this._clientSentStanzasCounter++,this.requestResponseInterval>0&&(this._requestResponseIntervalCount++,this._requestResponseIntervalCount===this.requestResponseInterval&&setTimeout(function(){n._connectionStatus===e.Strophe.Status.CONNECTED&&n.requestAcknowledgement()},1))}},_increaseReceivedStanzasCounter:function(){this._isStreamManagementEnabled&&this._clientProcessedStanzasCounter++},_throwError:function(t){throw e.Strophe.error(t),new Error(t)}})})(n(6033))},8144:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;for(var n=[],r=0;r<256;++r)n.push((r+256).toString(16).substr(1));t.default=function(e,t){var r=t||0,i=n;return(i[e[r+0]]+i[e[r+1]]+i[e[r+2]]+i[e[r+3]]+"-"+i[e[r+4]]+i[e[r+5]]+"-"+i[e[r+6]]+i[e[r+7]]+"-"+i[e[r+8]]+i[e[r+9]]+"-"+i[e[r+10]]+i[e[r+11]]+i[e[r+12]]+i[e[r+13]]+i[e[r+14]]+i[e[r+15]]).toLowerCase()}},4433:function(e,t,n){"use strict";Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}});var r=a(n(3423)),i=a(n(89)),o=a(n(7600)),s=a(n(9400));function a(e){return e&&e.__esModule?e:{default:e}}},2862:function(e,t){"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,o,s){return r((a=r(r(t,e),r(i,s)))<<(c=o)|a>>>32-c,n);var a,c}function o(e,t,n,r,o,s,a){return i(t&n|~t&r,e,t,o,s,a)}function s(e,t,n,r,o,s,a){return i(t&r|n&~r,e,t,o,s,a)}function a(e,t,n,r,o,s,a){return i(t^n^r,e,t,o,s,a)}function c(e,t,n,r,o,s,a){return i(n^(t|~r),e,t,o,s,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var i=0;i<t.length;++i)e[i]=t.charCodeAt(i)}return(function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(s)}return t})((function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;for(var i=1732584193,u=-271733879,d=-1732584194,l=271733878,h=0;h<e.length;h+=16){var p=i,f=u,m=d,v=l;u=c(u=c(u=c(u=c(u=a(u=a(u=a(u=a(u=s(u=s(u=s(u=s(u=o(u=o(u=o(u=o(u,d=o(d,l=o(l,i=o(i,u,d,l,e[h],7,-680876936),u,d,e[h+1],12,-389564586),i,u,e[h+2],17,606105819),l,i,e[h+3],22,-1044525330),d=o(d,l=o(l,i=o(i,u,d,l,e[h+4],7,-176418897),u,d,e[h+5],12,1200080426),i,u,e[h+6],17,-1473231341),l,i,e[h+7],22,-45705983),d=o(d,l=o(l,i=o(i,u,d,l,e[h+8],7,1770035416),u,d,e[h+9],12,-1958414417),i,u,e[h+10],17,-42063),l,i,e[h+11],22,-1990404162),d=o(d,l=o(l,i=o(i,u,d,l,e[h+12],7,1804603682),u,d,e[h+13],12,-40341101),i,u,e[h+14],17,-1502002290),l,i,e[h+15],22,1236535329),d=s(d,l=s(l,i=s(i,u,d,l,e[h+1],5,-165796510),u,d,e[h+6],9,-1069501632),i,u,e[h+11],14,643717713),l,i,e[h],20,-373897302),d=s(d,l=s(l,i=s(i,u,d,l,e[h+5],5,-701558691),u,d,e[h+10],9,38016083),i,u,e[h+15],14,-660478335),l,i,e[h+4],20,-405537848),d=s(d,l=s(l,i=s(i,u,d,l,e[h+9],5,568446438),u,d,e[h+14],9,-1019803690),i,u,e[h+3],14,-187363961),l,i,e[h+8],20,1163531501),d=s(d,l=s(l,i=s(i,u,d,l,e[h+13],5,-1444681467),u,d,e[h+2],9,-51403784),i,u,e[h+7],14,1735328473),l,i,e[h+12],20,-1926607734),d=a(d,l=a(l,i=a(i,u,d,l,e[h+5],4,-378558),u,d,e[h+8],11,-2022574463),i,u,e[h+11],16,1839030562),l,i,e[h+14],23,-35309556),d=a(d,l=a(l,i=a(i,u,d,l,e[h+1],4,-1530992060),u,d,e[h+4],11,1272893353),i,u,e[h+7],16,-155497632),l,i,e[h+10],23,-1094730640),d=a(d,l=a(l,i=a(i,u,d,l,e[h+13],4,681279174),u,d,e[h],11,-358537222),i,u,e[h+3],16,-722521979),l,i,e[h+6],23,76029189),d=a(d,l=a(l,i=a(i,u,d,l,e[h+9],4,-640364487),u,d,e[h+12],11,-421815835),i,u,e[h+15],16,530742520),l,i,e[h+2],23,-995338651),d=c(d,l=c(l,i=c(i,u,d,l,e[h],6,-198630844),u,d,e[h+7],10,1126891415),i,u,e[h+14],15,-1416354905),l,i,e[h+5],21,-57434055),d=c(d,l=c(l,i=c(i,u,d,l,e[h+12],6,1700485571),u,d,e[h+3],10,-1894986606),i,u,e[h+10],15,-1051523),l,i,e[h+1],21,-2054922799),d=c(d,l=c(l,i=c(i,u,d,l,e[h+8],6,1873313359),u,d,e[h+15],10,-30611744),i,u,e[h+6],15,-1560198380),l,i,e[h+13],21,1309151649),d=c(d,l=c(l,i=c(i,u,d,l,e[h+4],6,-145523070),u,d,e[h+11],10,-1120210379),i,u,e[h+2],15,718787259),l,i,e[h+9],21,-343485551),i=r(i,p),u=r(u,f),d=r(d,m),l=r(l,v)}return[i,u,d,l]})((function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(n(t)),i=0;i<t;i+=8)r[i>>5]|=(255&e[i/8])<<i%32;return r})(e),8*e.length))}},294:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16)},7585:function(e,t){"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var o=unescape(encodeURIComponent(e));e=[];for(var s=0;s<o.length;++s)e.push(o.charCodeAt(s))}e.push(128);for(var a=e.length/4+2,c=Math.ceil(a/16),u=new Array(c),d=0;d<c;++d){for(var l=new Uint32Array(16),h=0;h<16;++h)l[h]=e[64*d+4*h]<<24|e[64*d+4*h+1]<<16|e[64*d+4*h+2]<<8|e[64*d+4*h+3];u[d]=l}u[c-1][14]=8*(e.length-1)/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=8*(e.length-1)&4294967295;for(var p=0;p<c;++p){for(var f=new Uint32Array(80),m=0;m<16;++m)f[m]=u[p][m];for(var v=16;v<80;++v)f[v]=r(f[v-3]^f[v-8]^f[v-14]^f[v-16],1);for(var _=i[0],g=i[1],y=i[2],S=i[3],E=i[4],C=0;C<80;++C){var T=Math.floor(C/20),b=r(_,5)+n(T,g,y,S)+E+t[T]+f[C]>>>0;E=S,S=y,y=r(g,30)>>>0,g=_,_=b}i[0]=i[0]+_>>>0,i[1]=i[1]+g>>>0,i[2]=i[2]+y>>>0,i[3]=i[3]+S>>>0,i[4]=i[4]+E>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}},3423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(294)),i=o(n(8144));function o(e){return e&&e.__esModule?e:{default:e}}var s,a,c=0,u=0;t.default=function(e,t,n){var o=t&&n||0,d=t||[],l=(e=e||{}).node||s,h=void 0!==e.clockseq?e.clockseq:a;if(null==l||null==h){var p=e.random||(e.rng||r.default)();null==l&&(l=s=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=a=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:u+1,v=f-c+(m-u)/1e4;if(v<0&&void 0===e.clockseq&&(h=h+1&16383),(v<0||f>c)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,u=m,a=h;var _=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;d[o++]=_>>>24&255,d[o++]=_>>>16&255,d[o++]=_>>>8&255,d[o++]=255&_;var g=f/4294967296*1e4&268435455;d[o++]=g>>>8&255,d[o++]=255&g,d[o++]=g>>>24&15|16,d[o++]=g>>>16&255,d[o++]=h>>>8|128,d[o++]=255&h;for(var y=0;y<6;++y)d[o+y]=l[y];return t||(0,i.default)(d)}},89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(6929)),i=o(n(2862));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("v3",48,i.default);t.default=s},6929:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){function r(e,r,o,s){var a=o&&s||0;if("string"==typeof e&&(e=(function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t})(e)),"string"==typeof r&&(r=(function(e){var t=[];return r.replace(/[a-fA-F0-9]{2}/g,function(e){t.push(parseInt(e,16))}),t})()),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=n(r.concat(e));if(c[6]=15&c[6]|t,c[8]=63&c[8]|128,o)for(var u=0;u<16;++u)o[a+u]=c[u];return o||(0,i.default)(c)}try{r.name=e}catch(e){}return r.DNS=o,r.URL=s,r},t.URL=t.DNS=void 0;var r,i=(r=n(8144))&&r.__esModule?r:{default:r},o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=o;var s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},7600:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(294)),i=o(n(8144));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){for(var s=n||0,a=0;a<16;++a)t[s+a]=o[a];return t}return(0,i.default)(o)}},9400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(6929)),i=o(n(7585));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("v5",80,i.default);t.default=s},7733:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ae}});var r={};n.r(r),n.d(r,{fixNegotiationNeeded:function(){return D},shimAddTrackRemoveTrack:function(){return P},shimAddTrackRemoveTrackWithNative:function(){return k},shimGetDisplayMedia:function(){return C},shimGetSendersWithDtmf:function(){return R},shimGetStats:function(){return A},shimGetUserMedia:function(){return E},shimMediaStream:function(){return T},shimOnTrack:function(){return b},shimPeerConnection:function(){return O},shimSenderReceiverGetStats:function(){return I}});var i={};n.r(i),n.d(i,{shimAddTransceiver:function(){return j},shimCreateAnswer:function(){return J},shimCreateOffer:function(){return B},shimGetDisplayMedia:function(){return M},shimGetParameters:function(){return H},shimGetUserMedia:function(){return N},shimOnTrack:function(){return w},shimPeerConnection:function(){return L},shimRTCDataChannel:function(){return V},shimReceiverGetStats:function(){return F},shimRemoveStream:function(){return U},shimSenderGetStats:function(){return x}});var o={};n.r(o),n.d(o,{shimAudioContext:function(){return Y},shimCallbacksAPI:function(){return q},shimConstraints:function(){return W},shimCreateOfferLegacy:function(){return Q},shimGetUserMedia:function(){return z},shimLocalStreamsAPI:function(){return G},shimRTCIceServerUrls:function(){return X},shimRemoteStreamsAPI:function(){return K},shimTrackEventTransceiver:function(){return $}});var s={};n.r(s),n.d(s,{removeExtmapAllowMixed:function(){return oe},shimAddIceCandidateNullOrEmpty:function(){return se},shimConnectionState:function(){return ie},shimMaxMessageSize:function(){return ne},shimRTCIceCandidate:function(){return te},shimSendThrowTypeError:function(){return re}});var a=!0,c=!0;function u(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function d(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);var r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function l(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(a=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function h(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function p(){if("object"==typeof window){if(a)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function f(e,t){c&&console.warn(e+" is deprecated, please use "+t+" instead.")}function m(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=u(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=u(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=u(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function _(e){return v(e)?Object.keys(e).reduce(function(t,n){var r=v(e[n]),i=r?_(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:_extends(t,_defineProperty({},n,i))},{}):e}function g(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach(function(r){r.endsWith("Id")?g(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(function(t){g(e,e.get(t),n)})}))}function y(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(function(t){e.forEach(function(n){n.type===r&&n.trackId===t.id&&g(e,n,i)})}),i}var S=p;function E(e,t){var n=e&&e.navigator;if(n.mediaDevices){var r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach(function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};o((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){var s=e.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});var a,c=t.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?a=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(a=["front"]),a)return n.mediaDevices.enumerateDevices().then(function(t){var n=(t=t.filter(function(e){return"videoinput"===e.kind})).find(function(e){return a.some(function(t){return e.label.toLowerCase().includes(t)})});return!n&&t.length&&a.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=s.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=r(e.video),S("chrome: "+JSON.stringify(e)),i(e)});e.video=r(e.video)}return S("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,function(e){n.webkitGetUserMedia(e,t,function(e){r&&r(o(e))})})}.bind(n),n.mediaDevices.getUserMedia){var s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return i(e,function(e){return s(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(o(e))})})}}}}function C(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function T(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function b(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)d(e,"track",function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e});else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track&&e.track.id===r.track.id}):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}),t.stream.getTracks().forEach(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track&&e.track.id===r.id}):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function R(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(function(e){n._senders.push(t(n,e))})};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach(function(e){var n=t._senders.find(function(t){return t.track===e});n&&t._senders.splice(t._senders.indexOf(n),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var s=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=s.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function A(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(arguments.length>0&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var s=function(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},a=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){return t.apply(this,[function(e){i(a(s(e)))},r])}return new Promise(function(n,r){t.apply(e,[function(e){n(a(s(e)))},r])}).then(i,o)}}}function I(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach(function(t){return t._pc=e}),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return y(t,e.track,!0)})}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t}),d(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return y(t,e.track,!1)})}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,o=arguments[0];return this.getSenders().forEach(function(e){e.track===o&&(t?r=!0:t=e)}),this.getReceivers().forEach(function(e){return e.track===o&&(n?r=!0:n=e),e.track===o}),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function k(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(t){return e._shimmedLocalStreams[t][0]})};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(t.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")});var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter(function(e){return-1===r.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]}),i.apply(this,arguments)}}function P(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return k(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(function(e){if(n.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then(function(){r.dispatchEvent(new Event("negotiationneeded"))});else{var s=new e.MediaStream([t]);this._streams[n.id]=s,this._reverseStreams[s.id]=n,this.addStream(s)}return this.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],r=_defineProperty({},t,function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(n){var r=a(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then(function(t){return a(e,t)})});e.RTCPeerConnection.prototype[t]=r[t]});var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(e=this,t=arguments[0],n=t.sdp,Object.keys(e._reverseStreams||[]).forEach(function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n})),o.apply(this,arguments)):o.apply(this,arguments);var e,t,n};var s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(r){n._streams[r].getTracks().find(function(t){return e.track===t})&&(t=n._streams[r])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function a(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}}function O(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],r=_defineProperty({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});e.RTCPeerConnection.prototype[t]=r[t]})}function D(e,t){d(e,"negotiationneeded",function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e})}function N(e,t){var n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){f("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var i=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),o(e)},r&&r.prototype.getSettings){var s=r.prototype.getSettings;r.prototype.getSettings=function(){var e=s.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(r&&r.prototype.applyConstraints){var a=r.prototype.applyConstraints;r.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[e])}}}}function M(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function w(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function L(e,t){if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],r=_defineProperty({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});e.RTCPeerConnection.prototype[t]=r[t]});var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),i=e[0],o=e[1],s=e[2];return r.apply(this,[i||null]).then(function(e){if(t.version<53&&!o)try{e.forEach(function(e){e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,r){e.set(r,_extends({},t,{type:n[t.type]||t.type}))})}return e}).then(o,s)}}}function x(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach(function(t){return t._pc=e}),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function F(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach(function(t){return t._pc=e}),n}),d(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function U(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;f("removeStream","removeTrack"),this.getSenders().forEach(function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)})})}function V(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function j(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach(function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var r=t.apply(this,arguments);if(n){var i=r.sender,o=i.getParameters();(!("encodings"in o)||1===o.encodings.length&&0===Object.keys(o.encodings[0]).length)&&(o.encodings=e.sendEncodings,i.sendEncodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).then(function(){delete i.sendEncodings}).catch(function(){delete i.sendEncodings})))}return r})}}function H(e){if("object"==typeof e&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function B(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(n,e)}).finally(function(){n.setParametersPromises=[]}):t.apply(this,arguments)}}}function J(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(n,e)}).finally(function(){n.setParametersPromises=[]}):t.apply(this,arguments)}}}function G(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(function(r){return t.call(n,r,e)}),e.getVideoTracks().forEach(function(r){return t.call(n,r,e)})},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i&&i.forEach(function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach(function(e){r.includes(e.track)&&t.removeTrack(e)})}})}}function K(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}})}),t.apply(e,arguments)}}}function q(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var a=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=a,a=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=a,a=function(e,t,n){var r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=a}}function z(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(W(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function W(e){return e&&void 0!==e.video?_extends({},e,{video:_(e.video)}):e}function X(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(f("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,r.push(o)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function $(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Q(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find(function(e){return"audio"===e.receiver.track.kind});!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find(function(e){return"video"===e.receiver.track.kind});!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function Y(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Z=n(5483),ee=n.n(Z);function te(e){if(e.RTCIceCandidate&&!(e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),r=ee().parseCandidate(e.candidate),i=_extends(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,d(e,"icecandidate",function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t})}}function ne(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=ee().splitSections(e.sdp);return t.shift(),t.some(function(e){var t=ee().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n},i=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},o=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=ee().matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){(this._sctp=null,"chrome"===t.browser&&t.version>=76)&&("plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}));if(n(arguments[0])){var e,a=r(arguments[0]),c=i(a),u=o(arguments[0],a);e=0===c&&0===u?Number.POSITIVE_INFINITY:0===c||0===u?Math.max(c,u):Math.min(c,u);var d={};Object.defineProperty(d,"maxMessageSize",{get:function(){return e}}),this._sctp=d}return s.apply(this,arguments)}}}function re(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},d(e,"datachannel",function(e){return n(e.channel,e.target),e})}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function ie(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}}function oe(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var r=t.sdp.split("\n").filter(function(e){return"a=extmap-allow-mixed"!==e.trim()}).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return n.apply(this,arguments)}}}function se(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}var ae=(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},n=p,a=m(e),c={browserDetails:a,commonShim:s,extractVersion:u,disableLog:l,disableWarnings:h,sdp:Z};switch(a.browser){case"chrome":if(!O||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),c;if(null===a.version)return n("Chrome shim can not determine version, not shimming."),c;n("adapter.js shimming chrome."),c.browserShim=r,se(e,a),E(e,a),T(e),O(e,a),b(e),P(e,a),R(e),A(e),I(e),D(e,a),te(e),ie(e),ne(e,a),re(e),oe(e,a);break;case"firefox":if(!L||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),c;n("adapter.js shimming firefox."),c.browserShim=i,se(e,a),N(e,a),L(e,a),w(e),U(e),x(e),F(e),V(e),j(e),H(e),B(e),J(e),te(e),ie(e),ne(e,a),re(e);break;case"safari":if(!t.shimSafari)return n("Safari shim is not included in this adapter release."),c;n("adapter.js shimming safari."),c.browserShim=o,se(e,a),X(e),Q(e),q(e),G(e),K(e),$(e),z(e),Y(e),te(e),ne(e,a),re(e),oe(e,a);break;default:n("Unsupported browser!")}return c})({window:"undefined"==typeof window?void 0:window})},7318:function(e){e.exports={CAMERA:"camera",DESKTOP:"desktop",DESKTOP_HIGH_FPS:"desktop_high_fps",NONE:"none"}},4940:function(e){e.exports={ENVIRONMENT:"environment",USER:"user"}},4391:function(e){e.exports={H264:"h264",OPUS:"opus",ULPFEC:"ulpfec",VP8:"vp8",VP9:"vp9"}},9987:function(e,t,n){"use strict";var r;n.r(t),n.d(t,{RTCEvents:function(){return r},CREATE_ANSWER_FAILED:function(){return i},CREATE_OFFER_FAILED:function(){return o},DATA_CHANNEL_OPEN:function(){return s},ENDPOINT_CONN_STATUS_CHANGED:function(){return a},DOMINANT_SPEAKER_CHANGED:function(){return c},LASTN_ENDPOINT_CHANGED:function(){return u},FORWARDED_SOURCES_CHANGED:function(){return d},PERMISSIONS_CHANGED:function(){return l},SENDER_VIDEO_CONSTRAINTS_CHANGED:function(){return h},LASTN_VALUE_CHANGED:function(){return p},LOCAL_TRACK_SSRC_UPDATED:function(){return f},LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED:function(){return m},TRACK_ATTACHED:function(){return v},REMOTE_TRACK_ADDED:function(){return _},REMOTE_TRACK_MUTE:function(){return g},REMOTE_TRACK_REMOVED:function(){return y},REMOTE_TRACK_UNMUTE:function(){return S},SET_LOCAL_DESCRIPTION_FAILED:function(){return E},SET_REMOTE_DESCRIPTION_FAILED:function(){return C},AUDIO_OUTPUT_DEVICE_CHANGED:function(){return T},DEVICE_LIST_CHANGED:function(){return b},DEVICE_LIST_WILL_CHANGE:function(){return R},DEVICE_LIST_AVAILABLE:function(){return A},ENDPOINT_MESSAGE_RECEIVED:function(){return I},ENDPOINT_STATS_RECEIVED:function(){return k},LOCAL_UFRAG_CHANGED:function(){return P},REMOTE_UFRAG_CHANGED:function(){return O},default:function(){return D}}),(function(e){e.CREATE_ANSWER_FAILED="rtc.create_answer_failed",e.CREATE_OFFER_FAILED="rtc.create_offer_failed",e.DATA_CHANNEL_OPEN="rtc.data_channel_open",e.ENDPOINT_CONN_STATUS_CHANGED="rtc.endpoint_conn_status_changed",e.DOMINANT_SPEAKER_CHANGED="rtc.dominant_speaker_changed",e.LASTN_ENDPOINT_CHANGED="rtc.lastn_endpoint_changed",e.FORWARDED_SOURCES_CHANGED="rtc.forwarded_sources_changed",e.PERMISSIONS_CHANGED="rtc.permissions_changed",e.SENDER_VIDEO_CONSTRAINTS_CHANGED="rtc.sender_video_constraints_changed",e.LASTN_VALUE_CHANGED="rtc.lastn_value_changed",e.LOCAL_TRACK_SSRC_UPDATED="rtc.local_track_ssrc_updated",e.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED="rtc.local_track_max_enabled_resolution_changed",e.TRACK_ATTACHED="rtc.track_attached",e.REMOTE_TRACK_ADDED="rtc.remote_track_added",e.REMOTE_TRACK_MUTE="rtc.remote_track_mute",e.REMOTE_TRACK_REMOVED="rtc.remote_track_removed",e.REMOTE_TRACK_UNMUTE="rtc.remote_track_unmute",e.SET_LOCAL_DESCRIPTION_FAILED="rtc.set_local_description_failed",e.SET_REMOTE_DESCRIPTION_FAILED="rtc.set_remote_description_failed",e.AUDIO_OUTPUT_DEVICE_CHANGED="rtc.audio_output_device_changed",e.DEVICE_LIST_CHANGED="rtc.device_list_changed",e.DEVICE_LIST_WILL_CHANGE="rtc.device_list_will_change",e.DEVICE_LIST_AVAILABLE="rtc.device_list_available",e.ENDPOINT_MESSAGE_RECEIVED="rtc.endpoint_message_received",e.ENDPOINT_STATS_RECEIVED="rtc.endpoint_stats_received",e.LOCAL_UFRAG_CHANGED="rtc.local_ufrag_changed",e.REMOTE_UFRAG_CHANGED="rtc.remote_ufrag_changed"})(r||(r={}));var i=r.CREATE_ANSWER_FAILED,o=r.CREATE_OFFER_FAILED,s=r.DATA_CHANNEL_OPEN,a=r.ENDPOINT_CONN_STATUS_CHANGED,c=r.DOMINANT_SPEAKER_CHANGED,u=r.LASTN_ENDPOINT_CHANGED,d=r.FORWARDED_SOURCES_CHANGED,l=r.PERMISSIONS_CHANGED,h=r.SENDER_VIDEO_CONSTRAINTS_CHANGED,p=r.LASTN_VALUE_CHANGED,f=r.LOCAL_TRACK_SSRC_UPDATED,m=r.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,v=r.TRACK_ATTACHED,_=r.REMOTE_TRACK_ADDED,g=r.REMOTE_TRACK_MUTE,y=r.REMOTE_TRACK_REMOVED,S=r.REMOTE_TRACK_UNMUTE,E=r.SET_LOCAL_DESCRIPTION_FAILED,C=r.SET_REMOTE_DESCRIPTION_FAILED,T=r.AUDIO_OUTPUT_DEVICE_CHANGED,b=r.DEVICE_LIST_CHANGED,R=r.DEVICE_LIST_WILL_CHANGE,A=r.DEVICE_LIST_AVAILABLE,I=r.ENDPOINT_MESSAGE_RECEIVED,k=r.ENDPOINT_STATS_RECEIVED,P=r.LOCAL_UFRAG_CHANGED,O=r.REMOTE_UFRAG_CHANGED,D=r},6125:function(e){e.exports={2160:{width:3840,height:2160},"4k":{width:3840,height:2160},1080:{width:1920,height:1080},fullhd:{width:1920,height:1080},720:{width:1280,height:720},hd:{width:1280,height:720},540:{width:960,height:540},qhd:{width:960,height:540},480:{width:640,height:480},vga:{width:640,height:480},360:{width:640,height:360},240:{width:320,height:240},180:{width:320,height:180}}},3408:function(e,t,n){"use strict";var r;n.r(t),n.d(t,{VideoType:function(){return r}}),(function(e){e.CAMERA="camera",e.DESKTOP="desktop"})(r||(r={}))},3514:function(e){e.exports={IDENTITY_UPDATED:"authentication.identity_updated"}},7680:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});var r="local"},609:function(e,t,n){"use strict";var r;n.r(t),n.d(t,{XMPPEvents:function(){return r}}),(function(e){e.ADD_ICE_CANDIDATE_FAILED="xmpp.add_ice_candidate_failed",e.AUDIO_MUTED_BY_FOCUS="xmpp.audio_muted_by_focus",e.VIDEO_MUTED_BY_FOCUS="xmpp.video_muted_by_focus",e.AUTHENTICATION_REQUIRED="xmpp.authentication_required",e.BRIDGE_DOWN="xmpp.bridge_down",e.CALL_ACCEPTED="xmpp.callaccepted.jingle",e.CALL_INCOMING="xmpp.callincoming.jingle",e.CALL_ENDED="xmpp.callended.jingle",e.CHAT_ERROR_RECEIVED="xmpp.chat_error_received",e.SETTINGS_ERROR_RECEIVED="xmpp.settings_error_received",e.CONFERENCE_PROPERTIES_CHANGED="xmpp.conference_properties_changed",e.CONNECTION_ESTABLISHED="xmpp.connection.connected",e.CONNECTION_FAILED="xmpp.connection.failed",e.CONNECTION_INTERRUPTED="xmpp.connection.interrupted",e.CONNECTION_RESTORED="xmpp.connection.restored",e.CONNECTION_ICE_FAILED="xmpp.connection.ice.failed",e.CONNECTION_RESTARTED="xmpp.connection.restart",e.CONNECTION_STATUS_CHANGED="xmpp.connection.status.changed",e.DISPLAY_NAME_CHANGED="xmpp.display_name_changed",e.EMUC_ROOM_ADDED="xmpp.emuc_room_added",e.EMUC_ROOM_REMOVED="xmpp.emuc_room_removed",e.ETHERPAD="xmpp.etherpad",e.FOCUS_DISCONNECTED="xmpp.focus_disconnected",e.FOCUS_LEFT="xmpp.focus_left",e.GRACEFUL_SHUTDOWN="xmpp.graceful_shutdown",e.ICE_RESTARTING="rtc.ice_restarting",e.ICE_RESTART_SUCCESS="rtc.ice_restart_success",e.KICKED="xmpp.kicked",e.LOCAL_ROLE_CHANGED="xmpp.localrole_changed",e.MEETING_ID_SET="xmpp.meeting_id_set",e.MESSAGE_RECEIVED="xmpp.message_received",e.INVITE_MESSAGE_RECEIVED="xmpp.invite_message_received",e.PRIVATE_MESSAGE_RECEIVED="xmpp.private_message_received",e.MUC_MEMBER_BOT_TYPE_CHANGED="xmpp.muc_member_bot_type_changed",e.MUC_DESTROYED="xmpp.muc_destroyed",e.MUC_JOIN_IN_PROGRESS="xmpp.muc_join_in_progress",e.MUC_JOINED="xmpp.muc_joined",e.MUC_MEMBER_JOINED="xmpp.muc_member_joined",e.MUC_MEMBER_LEFT="xmpp.muc_member_left",e.MUC_LOBBY_MEMBER_JOINED="xmpp.muc_lobby_member_joined",e.MUC_LOBBY_MEMBER_UPDATED="xmpp.muc_lobby_member_updated",e.MUC_LOBBY_MEMBER_LEFT="xmpp.muc_lobby_member_left",e.MUC_DENIED_ACCESS="xmpp.muc_denied access",e.MUC_LEFT="xmpp.muc_left",e.MUC_ROLE_CHANGED="xmpp.muc_role_changed",e.MUC_LOCK_CHANGED="xmpp.muc_lock_changed",e.MUC_MEMBERS_ONLY_CHANGED="xmpp.muc_members_only_changed",e.PARTICIPANT_AUDIO_MUTED="xmpp.audio_muted",e.PARTICIPANT_VIDEO_MUTED="xmpp.video_muted",e.PARTICIPANT_VIDEO_TYPE_CHANGED="xmpp.video_type",e.PARTICIPANT_FEATURES_CHANGED="xmpp.participant_features_changed",e.PASSWORD_REQUIRED="xmpp.password_required",e.PHONE_NUMBER_CHANGED="conference.phoneNumberChanged",e.PRESENCE_RECEIVED="xmpp.presence_received",e.PRESENCE_STATUS="xmpp.presence_status",e.PROMPT_FOR_LOGIN="xmpp.prompt_for_login",e.READY_TO_JOIN="xmpp.ready_to_join",e.RECORDER_STATE_CHANGED="xmpp.recorderStateChanged",e.REMOTE_STATS="xmpp.remote_stats",e.RENEGOTIATION_FAILED="xmpp.renegotiation_failed",e.RESERVATION_ERROR="xmpp.room_reservation_error",e.ROOM_CONNECT_ERROR="xmpp.room_connect_error",e.ROOM_CONNECT_NOT_ALLOWED_ERROR="xmpp.room_connect_error.not_allowed",e.ROOM_JOIN_ERROR="xmpp.room_join_error",e.ROOM_CONNECT_MEMBERS_ONLY_ERROR="xmpp.room_connect_error.members_only",e.ROOM_MAX_USERS_ERROR="xmpp.room_max_users_error",e.SENDING_CHAT_MESSAGE="xmpp.sending_chat_message",e.SENDING_PRIVATE_CHAT_MESSAGE="xmpp.sending_private_chat_message",e.SESSION_ACCEPT="xmpp.session_accept",e.SESSION_ACCEPT_ERROR="xmpp.session_accept_error",e.SESSION_ACCEPT_TIMEOUT="xmpp.session_accept_timeout",e.SOURCE_ADD="xmpp.source_add",e.SOURCE_ADD_ERROR="xmpp.source_add_error",e.SOURCE_REMOVE="xmpp.source_remove",e.SOURCE_REMOVE_ERROR="xmpp.source_remove_error",e.SPEAKER_STATS_RECEIVED="xmpp.speaker_stats_received",e.CONFERENCE_TIMESTAMP_RECEIVED="xmpp.conference_timestamp_received",e.AV_MODERATION_APPROVED="xmpp.av_moderation.approved",e.AV_MODERATION_REJECTED="xmpp.av_moderation.rejected",e.AV_MODERATION_RECEIVED="xmpp.av_moderation.received",e.AV_MODERATION_CHANGED="xmpp.av_moderation.changed",e.AV_MODERATION_PARTICIPANT_APPROVED="xmpp.av_moderation.participant.approved",e.AV_MODERATION_PARTICIPANT_REJECTED="xmpp.av_moderation.participant.rejected",e.BREAKOUT_ROOMS_MOVE_TO_ROOM="xmpp.breakout-rooms.move-to-room",e.BREAKOUT_ROOMS_EVENT="xmpp.breakout-rooms.event",e.BREAKOUT_ROOMS_UPDATED="xmpp.breakout-rooms.updated",e.START_MUTED_FROM_FOCUS="xmpp.start_muted_from_focus",e.SUBJECT_CHANGED="xmpp.subject_changed",e.SUSPEND_DETECTED="xmpp.suspend_detected",e.TRANSCRIPTION_STATUS_CHANGED="xmpp.transcription_status_changed",e.TRANSPORT_INFO="xmpp.transportinfo.jingle",e.VIDEO_SIP_GW_AVAILABILITY_CHANGED="xmpp.videoSIPGWAvailabilityChanged",e.VIDEO_SIP_GW_SESSION_STATE_CHANGED="xmpp.videoSIPGWSessionStateChanged",e.ICE_CONNECTION_STATE_CHANGED="xmpp.ice_connection_state_changed",e.JSON_MESSAGE_RECEIVED="xmmp.json_message_received"})(r||(r={}))},3924:function(e,t,n){"use strict";n.d(t,{default:function(){return rd}});var r={};n.r(r),n.d(r,{AUTHENTICATION_REQUIRED:function(){return y},CHAT_ERROR:function(){return S},CONFERENCE_ACCESS_DENIED:function(){return k},CONFERENCE_DESTROYED:function(){return C},CONFERENCE_MAX_USERS:function(){return T},CONFERENCE_RESTARTED:function(){return R},CONNECTION_ERROR:function(){return b},FOCUS_DISCONNECTED:function(){return P},FOCUS_LEFT:function(){return O},GRACEFUL_SHUTDOWN:function(){return D},ICE_FAILED:function(){return N},INCOMPATIBLE_SERVER_VERSIONS:function(){return M},JitsiConferenceErrors:function(){return m},MEMBERS_ONLY_ERROR:function(){return I},NOT_ALLOWED_ERROR:function(){return A},OFFER_ANSWER_FAILED:function(){return w},PASSWORD_NOT_SUPPORTED:function(){return L},PASSWORD_REQUIRED:function(){return x},RESERVATION_ERROR:function(){return F},SETTINGS_ERROR:function(){return E},VIDEOBRIDGE_NOT_AVAILABLE:function(){return U}});var i={};n.r(i),n.d(i,{AUDIO_INPUT_STATE_CHANGE:function(){return j},AUDIO_UNMUTE_PERMISSIONS_CHANGED:function(){return H},AUTH_STATUS_CHANGED:function(){return B},AV_MODERATION_APPROVED:function(){return Qe},AV_MODERATION_CHANGED:function(){return Ze},AV_MODERATION_PARTICIPANT_APPROVED:function(){return et},AV_MODERATION_PARTICIPANT_REJECTED:function(){return tt},AV_MODERATION_REJECTED:function(){return Ye},BEFORE_STATISTICS_DISPOSED:function(){return J},BOT_TYPE_CHANGED:function(){return ze},BREAKOUT_ROOMS_MOVE_TO_ROOM:function(){return rt},BREAKOUT_ROOMS_UPDATED:function(){return it},CONFERENCE_CREATED_TIMESTAMP:function(){return re},CONFERENCE_ERROR:function(){return G},CONFERENCE_FAILED:function(){return K},CONFERENCE_JOINED:function(){return z},CONFERENCE_JOIN_IN_PROGRESS:function(){return q},CONFERENCE_LEFT:function(){return W},CONFERENCE_UNIQUE_ID_SET:function(){return X},CONNECTION_ESTABLISHED:function(){return Q},CONNECTION_INTERRUPTED:function(){return Y},CONNECTION_RESTORED:function(){return Z},DATA_CHANNEL_OPENED:function(){return ee},DISPLAY_NAME_CHANGED:function(){return te},DOMINANT_SPEAKER_CHANGED:function(){return ne},DTMF_SUPPORT_CHANGED:function(){return ie},ENDPOINT_MESSAGE_RECEIVED:function(){return oe},ENDPOINT_STATS_RECEIVED:function(){return se},FACIAL_EXPRESSION_ADDED:function(){return nt},FORWARDED_SOURCES_CHANGED:function(){return le},JVB121_STATUS:function(){return ae},JitsiConferenceEvents:function(){return g},KICKED:function(){return ce},LAST_N_ENDPOINTS_CHANGED:function(){return de},LOBBY_USER_JOINED:function(){return We},LOBBY_USER_LEFT:function(){return $e},LOBBY_USER_UPDATED:function(){return Xe},LOCK_STATE_CHANGED:function(){return he},MEMBERS_ONLY_CHANGED:function(){return ve},MESSAGE_RECEIVED:function(){return _e},NOISY_MIC:function(){return ye},NON_PARTICIPANT_MESSAGE_RECEIVED:function(){return Se},NO_AUDIO_INPUT:function(){return ge},P2P_STATUS:function(){return Re},PARTCIPANT_FEATURES_CHANGED:function(){return Te},PARTICIPANT_CONN_STATUS_CHANGED:function(){return Ce},PARTICIPANT_KICKED:function(){return ue},PARTICIPANT_PROPERTY_CHANGED:function(){return be},PHONE_NUMBER_CHANGED:function(){return Ae},PRIVATE_MESSAGE_RECEIVED:function(){return Ee},PROPERTIES_CHANGED:function(){return Ie},RECORDER_STATE_CHANGED:function(){return ke},SERVER_REGION_CHANGED:function(){return pe},STARTED_MUTED:function(){return Ne},START_MUTED_POLICY_CHANGED:function(){return De},SUBJECT_CHANGED:function(){return Me},SUSPEND_DETECTED:function(){return we},TALK_WHILE_MUTED:function(){return Le},TRACK_ADDED:function(){return xe},TRACK_AUDIO_LEVEL_CHANGED:function(){return Fe},TRACK_MUTE_CHANGED:function(){return Ue},TRACK_REMOVED:function(){return Ve},TRACK_UNMUTE_REJECTED:function(){return je},TRANSCRIPTION_STATUS_CHANGED:function(){return He},USER_JOINED:function(){return Be},USER_LEFT:function(){return Je},USER_ROLE_CHANGED:function(){return Ge},USER_STATUS_CHANGED:function(){return Ke},VIDEO_SIP_GW_AVAILABILITY_CHANGED:function(){return Pe},VIDEO_SIP_GW_SESSION_STATE_CHANGED:function(){return Oe},VIDEO_UNMUTE_PERMISSIONS_CHANGED:function(){return qe},_MEDIA_SESSION_ACTIVE_CHANGED:function(){return me},_MEDIA_SESSION_STARTED:function(){return fe}});var o={};n.r(o),n.d(o,{CONSTRAINT_FAILED:function(){return lt},ELECTRON_DESKTOP_PICKER_ERROR:function(){return ht},ELECTRON_DESKTOP_PICKER_NOT_FOUND:function(){return pt},GENERAL:function(){return ft},JitsiTrackErrors:function(){return V},NOT_FOUND:function(){return mt},PERMISSION_DENIED:function(){return vt},SCREENSHARING_GENERIC_ERROR:function(){return _t},SCREENSHARING_USER_CANCELED:function(){return gt},TIMEOUT:function(){return yt},TRACK_IS_DISPOSED:function(){return St},TRACK_NO_STREAM_FOUND:function(){return Et},UNSUPPORTED_RESOLUTION:function(){return Ct}});var s={};n.r(s),n.d(s,{JitsiTrackEvents:function(){return rr},LOCAL_TRACK_STOPPED:function(){return fr},NO_AUDIO_INPUT:function(){return Sr},NO_DATA_FROM_SOURCE:function(){return yr},TRACK_AUDIO_LEVEL_CHANGED:function(){return mr},TRACK_AUDIO_OUTPUT_CHANGED:function(){return vr},TRACK_MUTE_CHANGED:function(){return _r},TRACK_STREAMING_STATUS_CHANGED:function(){return Er},TRACK_VIDEOTYPE_CHANGED:function(){return gr}});var a={};n.r(a),n.d(a,{CONNECTION_DISCONNECTED:function(){return Ir},CONNECTION_ESTABLISHED:function(){return kr},CONNECTION_FAILED:function(){return Pr},DISPLAY_NAME_REQUIRED:function(){return Dr},JitsiConnectionEvents:function(){return pr},WRONG_STATE:function(){return Or}});var c={};n.r(c),n.d(c,{CONNECTION_DROPPED_ERROR:function(){return Nr},JitsiConnectionErrors:function(){return Ar},OTHER_ERROR:function(){return Mr},PASSWORD_REQUIRED:function(){return wr},SERVER_ERROR:function(){return Lr}});var u={};n.r(u),n.d(u,{JitsiTranscriptionStatus:function(){return bi},OFF:function(){return wi},ON:function(){return Mi}});var d={};n.r(d),n.d(d,{ConnectionQualityEvents:function(){return xa},LOCAL_STATS_UPDATED:function(){return Ja},REMOTE_STATS_UPDATED:function(){return Ga}});var l={};n.r(l),n.d(l,{AUDIO_INPUT_STATE_CHANGE:function(){return tc},DETECTOR_STATE_CHANGE:function(){return ec},DetectionEvents:function(){return Ba},NO_AUDIO_INPUT:function(){return nc},VAD_NOISY_DEVICE:function(){return rc},VAD_REPORT_PUBLISHED:function(){return ic},VAD_SCORE_PUBLISHED:function(){return oc},VAD_TALK_WHILE_MUTED:function(){return sc}});var h={};n.r(h),n.d(h,{E2E_RTT_CHANGED:function(){return vc},E2ePingEvents:function(){return dc}});var p={};n.r(p),n.d(p,{ERROR_NO_CONNECTION:function(){return Su},ERROR_SESSION_EXISTS:function(){return Eu},STATE_FAILED:function(){return yu},STATE_OFF:function(){return vu},STATE_ON:function(){return mu},STATE_PENDING:function(){return _u},STATE_RETRYING:function(){return gu},STATUS_AVAILABLE:function(){return hu},STATUS_BUSY:function(){return fu},STATUS_UNDEFINED:function(){return pu},VideoSIPGWErrorConstants:function(){return au},VideoSIPGWStateConstants:function(){return su},VideoSIPGWStatusConstants:function(){return ou}});var f={};n.r(f),n.d(f,{DEVICE_LIST_CHANGED:function(){return wu},JitsiMediaDevicesEvents:function(){return lu},PERMISSIONS_CHANGED:function(){return Lu},PERMISSION_PROMPT_IS_SHOWN:function(){return xu},SLOW_GET_USER_MEDIA:function(){return Fu}});var m,v=n(5810),_=n.n(v);!(function(e){e.AUTHENTICATION_REQUIRED="conference.authenticationRequired",e.CHAT_ERROR="conference.chatError",e.SETTINGS_ERROR="conference.settingsError",e.CONFERENCE_DESTROYED="conference.destroyed",e.CONFERENCE_MAX_USERS="conference.max_users",e.CONNECTION_ERROR="conference.connectionError",e.CONFERENCE_RESTARTED="conference.restarted",e.NOT_ALLOWED_ERROR="conference.connectionError.notAllowed",e.MEMBERS_ONLY_ERROR="conference.connectionError.membersOnly",e.CONFERENCE_ACCESS_DENIED="conference.connectionError.accessDenied",e.FOCUS_DISCONNECTED="conference.focusDisconnected",e.FOCUS_LEFT="conference.focusLeft",e.GRACEFUL_SHUTDOWN="conference.gracefulShutdown",e.ICE_FAILED="conference.iceFailed",e.INCOMPATIBLE_SERVER_VERSIONS="conference.incompatible_server_versions",e.OFFER_ANSWER_FAILED="conference.offerAnswerFailed",e.PASSWORD_NOT_SUPPORTED="conference.passwordNotSupported",e.PASSWORD_REQUIRED="conference.passwordRequired",e.RESERVATION_ERROR="conference.reservationError",e.VIDEOBRIDGE_NOT_AVAILABLE="conference.videobridgeNotAvailable"})(m||(m={}));var g,y=m.AUTHENTICATION_REQUIRED,S=m.CHAT_ERROR,E=m.SETTINGS_ERROR,C=m.CONFERENCE_DESTROYED,T=m.CONFERENCE_MAX_USERS,b=m.CONNECTION_ERROR,R=m.CONFERENCE_RESTARTED,A=m.NOT_ALLOWED_ERROR,I=m.MEMBERS_ONLY_ERROR,k=m.CONFERENCE_ACCESS_DENIED,P=m.FOCUS_DISCONNECTED,O=m.FOCUS_LEFT,D=m.GRACEFUL_SHUTDOWN,N=m.ICE_FAILED,M=m.INCOMPATIBLE_SERVER_VERSIONS,w=m.OFFER_ANSWER_FAILED,L=m.PASSWORD_NOT_SUPPORTED,x=m.PASSWORD_REQUIRED,F=m.RESERVATION_ERROR,U=m.VIDEOBRIDGE_NOT_AVAILABLE;!(function(e){e.AUDIO_INPUT_STATE_CHANGE="conference.audio_input_state_changed",e.AUDIO_UNMUTE_PERMISSIONS_CHANGED="conference.audio_unmute_permissions_changed",e.AUTH_STATUS_CHANGED="conference.auth_status_changed",e.BEFORE_STATISTICS_DISPOSED="conference.beforeStatisticsDisposed",e.CONFERENCE_ERROR="conference.error",e.CONFERENCE_FAILED="conference.failed",e.CONFERENCE_JOIN_IN_PROGRESS="conference.join_in_progress",e.CONFERENCE_JOINED="conference.joined",e.CONFERENCE_LEFT="conference.left",e.CONFERENCE_UNIQUE_ID_SET="conference.unique_id_set",e.CONNECTION_ESTABLISHED="conference.connectionEstablished",e.CONNECTION_INTERRUPTED="conference.connectionInterrupted",e.CONNECTION_RESTORED="conference.connectionRestored",e.DATA_CHANNEL_OPENED="conference.dataChannelOpened",e.DISPLAY_NAME_CHANGED="conference.displayNameChanged",e.DOMINANT_SPEAKER_CHANGED="conference.dominantSpeaker",e.CONFERENCE_CREATED_TIMESTAMP="conference.createdTimestamp",e.DTMF_SUPPORT_CHANGED="conference.dtmfSupportChanged",e.ENDPOINT_MESSAGE_RECEIVED="conference.endpoint_message_received",e.ENDPOINT_STATS_RECEIVED="conference.endpoint_stats_received",e.JVB121_STATUS="conference.jvb121Status",e.KICKED="conference.kicked",e.PARTICIPANT_KICKED="conference.participant_kicked",e.LAST_N_ENDPOINTS_CHANGED="conference.lastNEndpointsChanged",e.FORWARDED_SOURCES_CHANGED="conference.forwardedSourcesChanged",e.LOCK_STATE_CHANGED="conference.lock_state_changed",e.SERVER_REGION_CHANGED="conference.server_region_changed",e._MEDIA_SESSION_STARTED="conference.media_session.started",e._MEDIA_SESSION_ACTIVE_CHANGED="conference.media_session.active_changed",e.MEMBERS_ONLY_CHANGED="conference.membersOnlyChanged",e.MESSAGE_RECEIVED="conference.messageReceived",e.NO_AUDIO_INPUT="conference.no_audio_input",e.NOISY_MIC="conference.noisy_mic",e.NON_PARTICIPANT_MESSAGE_RECEIVED="conference.non_participant_message_received",e.PRIVATE_MESSAGE_RECEIVED="conference.privateMessageReceived",e.PARTICIPANT_CONN_STATUS_CHANGED="conference.participant_conn_status_changed",e.PARTCIPANT_FEATURES_CHANGED="conference.partcipant_features_changed",e.PARTICIPANT_PROPERTY_CHANGED="conference.participant_property_changed",e.P2P_STATUS="conference.p2pStatus",e.PHONE_NUMBER_CHANGED="conference.phoneNumberChanged",e.PROPERTIES_CHANGED="conference.propertiesChanged",e.RECORDER_STATE_CHANGED="conference.recorderStateChanged",e.VIDEO_SIP_GW_AVAILABILITY_CHANGED="conference.videoSIPGWAvailabilityChanged",e.VIDEO_SIP_GW_SESSION_STATE_CHANGED="conference.videoSIPGWSessionStateChanged",e.START_MUTED_POLICY_CHANGED="conference.start_muted_policy_changed",e.STARTED_MUTED="conference.started_muted",e.SUBJECT_CHANGED="conference.subjectChanged",e.SUSPEND_DETECTED="conference.suspendDetected",e.TALK_WHILE_MUTED="conference.talk_while_muted",e.TRACK_ADDED="conference.trackAdded",e.TRACK_AUDIO_LEVEL_CHANGED="conference.audioLevelsChanged",e.TRACK_MUTE_CHANGED="conference.trackMuteChanged",e.TRACK_REMOVED="conference.trackRemoved",e.TRACK_UNMUTE_REJECTED="conference.trackUnmuteRejected",e.TRANSCRIPTION_STATUS_CHANGED="conference.transcriptionStatusChanged",e.USER_JOINED="conference.userJoined",e.USER_LEFT="conference.userLeft",e.USER_ROLE_CHANGED="conference.roleChanged",e.USER_STATUS_CHANGED="conference.statusChanged",e.VIDEO_UNMUTE_PERMISSIONS_CHANGED="conference.video_unmute_permissions_changed",e.BOT_TYPE_CHANGED="conference.bot_type_changed",e.LOBBY_USER_JOINED="conference.lobby.userJoined",e.LOBBY_USER_UPDATED="conference.lobby.userUpdated",e.LOBBY_USER_LEFT="conference.lobby.userLeft",e.AV_MODERATION_APPROVED="conference.av_moderation.approved",e.AV_MODERATION_REJECTED="conference.av_moderation.rejected",e.AV_MODERATION_CHANGED="conference.av_moderation.changed",e.AV_MODERATION_PARTICIPANT_APPROVED="conference.av_moderation.participant.approved",e.AV_MODERATION_PARTICIPANT_REJECTED="conference.av_moderation.participant.rejected",e.FACIAL_EXPRESSION_ADDED="conference.facial_expression.added",e.BREAKOUT_ROOMS_MOVE_TO_ROOM="conference.breakout-rooms.move-to-room",e.BREAKOUT_ROOMS_UPDATED="conference.breakout-rooms.updated"})(g||(g={}));var V,j=g.AUDIO_INPUT_STATE_CHANGE,H=g.AUDIO_UNMUTE_PERMISSIONS_CHANGED,B=g.AUTH_STATUS_CHANGED,J=g.BEFORE_STATISTICS_DISPOSED,G=g.CONFERENCE_ERROR,K=g.CONFERENCE_FAILED,q=g.CONFERENCE_JOIN_IN_PROGRESS,z=g.CONFERENCE_JOINED,W=g.CONFERENCE_LEFT,X=g.CONFERENCE_UNIQUE_ID_SET,Q=g.CONNECTION_ESTABLISHED,Y=g.CONNECTION_INTERRUPTED,Z=g.CONNECTION_RESTORED,ee=g.DATA_CHANNEL_OPENED,te=g.DISPLAY_NAME_CHANGED,ne=g.DOMINANT_SPEAKER_CHANGED,re=g.CONFERENCE_CREATED_TIMESTAMP,ie=g.DTMF_SUPPORT_CHANGED,oe=g.ENDPOINT_MESSAGE_RECEIVED,se=g.ENDPOINT_STATS_RECEIVED,ae=g.JVB121_STATUS,ce=g.KICKED,ue=g.PARTICIPANT_KICKED,de=g.LAST_N_ENDPOINTS_CHANGED,le=g.FORWARDED_SOURCES_CHANGED,he=g.LOCK_STATE_CHANGED,pe=g.SERVER_REGION_CHANGED,fe=g._MEDIA_SESSION_STARTED,me=g._MEDIA_SESSION_ACTIVE_CHANGED,ve=g.MEMBERS_ONLY_CHANGED,_e=g.MESSAGE_RECEIVED,ge=g.NO_AUDIO_INPUT,ye=g.NOISY_MIC,Se=g.NON_PARTICIPANT_MESSAGE_RECEIVED,Ee=g.PRIVATE_MESSAGE_RECEIVED,Ce=g.PARTICIPANT_CONN_STATUS_CHANGED,Te=g.PARTCIPANT_FEATURES_CHANGED,be=g.PARTICIPANT_PROPERTY_CHANGED,Re=g.P2P_STATUS,Ae=g.PHONE_NUMBER_CHANGED,Ie=g.PROPERTIES_CHANGED,ke=g.RECORDER_STATE_CHANGED,Pe=g.VIDEO_SIP_GW_AVAILABILITY_CHANGED,Oe=g.VIDEO_SIP_GW_SESSION_STATE_CHANGED,De=g.START_MUTED_POLICY_CHANGED,Ne=g.STARTED_MUTED,Me=g.SUBJECT_CHANGED,we=g.SUSPEND_DETECTED,Le=g.TALK_WHILE_MUTED,xe=g.TRACK_ADDED,Fe=g.TRACK_AUDIO_LEVEL_CHANGED,Ue=g.TRACK_MUTE_CHANGED,Ve=g.TRACK_REMOVED,je=g.TRACK_UNMUTE_REJECTED,He=g.TRANSCRIPTION_STATUS_CHANGED,Be=g.USER_JOINED,Je=g.USER_LEFT,Ge=g.USER_ROLE_CHANGED,Ke=g.USER_STATUS_CHANGED,qe=g.VIDEO_UNMUTE_PERMISSIONS_CHANGED,ze=g.BOT_TYPE_CHANGED,We=g.LOBBY_USER_JOINED,Xe=g.LOBBY_USER_UPDATED,$e=g.LOBBY_USER_LEFT,Qe=g.AV_MODERATION_APPROVED,Ye=g.AV_MODERATION_REJECTED,Ze=g.AV_MODERATION_CHANGED,et=g.AV_MODERATION_PARTICIPANT_APPROVED,tt=g.AV_MODERATION_PARTICIPANT_REJECTED,nt=g.FACIAL_EXPRESSION_ADDED,rt=g.BREAKOUT_ROOMS_MOVE_TO_ROOM,it=g.BREAKOUT_ROOMS_UPDATED,ot=n(6857),st=n.n(ot),at=n(7047),ct=n.n(at),ut=n(6033),dt="https://api.callstats.io/static/callstats-ws.min.js";!(function(e){e.CONSTRAINT_FAILED="gum.constraint_failed",e.ELECTRON_DESKTOP_PICKER_ERROR="gum.electron_desktop_picker_error",e.ELECTRON_DESKTOP_PICKER_NOT_FOUND="gum.electron_desktop_picker_not_found",e.GENERAL="gum.general",e.NOT_FOUND="gum.not_found",e.PERMISSION_DENIED="gum.permission_denied",e.SCREENSHARING_GENERIC_ERROR="gum.screensharing_generic_error",e.SCREENSHARING_USER_CANCELED="gum.screensharing_user_canceled",e.TIMEOUT="gum.timeout",e.TRACK_IS_DISPOSED="track.track_is_disposed",e.TRACK_NO_STREAM_FOUND="track.no_stream_found",e.UNSUPPORTED_RESOLUTION="gum.unsupported_resolution"})(V||(V={}));var lt=V.CONSTRAINT_FAILED,ht=V.ELECTRON_DESKTOP_PICKER_ERROR,pt=V.ELECTRON_DESKTOP_PICKER_NOT_FOUND,ft=V.GENERAL,mt=V.NOT_FOUND,vt=V.PERMISSION_DENIED,_t=V.SCREENSHARING_GENERIC_ERROR,gt=V.SCREENSHARING_USER_CANCELED,yt=V.TIMEOUT,St=V.TRACK_IS_DISPOSED,Et=V.TRACK_NO_STREAM_FOUND,Ct=V.UNSUPPORTED_RESOLUTION,Tt={};function bt(e,t,n){if("object"==typeof e&&void 0!==e.name)switch(this.gum={error:e,constraints:t,devices:n&&Array.isArray(n)?n.slice(0):void 0},e.name){case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":this.name=vt,this.message=Tt[this.name]+(this.gum.devices||[]).join(", ");break;case"DevicesNotFoundError":case"NotFoundError":this.name=mt,this.message=Tt[this.name]+(this.gum.devices||[]).join(", ");break;case"ConstraintNotSatisfiedError":case"OverconstrainedError":var r=e.constraintName||e.constraint;t&&t.video&&(!n||n.indexOf("video")>-1)&&("minWidth"===r||"maxWidth"===r||"minHeight"===r||"maxHeight"===r||"width"===r||"height"===r||"deviceId"===r)?(this.name=Ct,this.message=Tt[this.name]+(function(e,t){if(t&&t.video&&t.video.mandatory)switch(e){case"width":return t.video.mandatory.minWidth;case"height":return t.video.mandatory.minHeight;default:return t.video.mandatory[e]||""}return""})(r,t)):(this.name=lt,this.message=Tt[this.name]+e.constraintName);break;default:this.name=ft,this.message=e.message||Tt[this.name]}else{if("string"!=typeof e)throw new Error("Invalid arguments");Tt[e]?(this.name=e,this.message=t||Tt[e]):this.message=e}this.stack=e.stack||(new Error).stack}Tt[Ct]="Video resolution is not supported: ",Tt[gt]="User canceled screen sharing prompt",Tt[_t]="Unknown error from screensharing",Tt[ht]="Unkown error from desktop picker",Tt[pt]="Failed to detect desktop picker",Tt[ft]="Generic getUserMedia error",Tt[vt]="User denied permission to use device(s): ",Tt[mt]="Requested device(s) was/were not found: ",Tt[lt]="Constraint could not be satisfied: ",Tt[yt]="Could not start media source. Timeout occured!",Tt[St]="Track has been already disposed",Tt[Et]="Track does not have an associated Media Stream",bt.prototype=Object.create(Error.prototype),bt.prototype.constructor=bt;var Rt,At=bt;!(function(e){e.TYPE_OPERATIONAL="operational",e.TYPE_PAGE="page",e.TYPE_TRACK="track",e.TYPE_UI="ui",e.ACTION_JINGLE_RESTART="restart",e.ACTION_JINGLE_SA_TIMEOUT="session-accept.timeout",e.ACTION_JINGLE_SI_RECEIVED="session-initiate.received",e.ACTION_JINGLE_SI_TIMEOUT="session-initiate.timeout",e.ACTION_JINGLE_TERMINATE="terminate",e.ACTION_JINGLE_TR_RECEIVED="transport-replace.received",e.ACTION_JINGLE_TR_SUCCESS="transport-replace.success",e.ACTION_P2P_DECLINED="decline",e.ACTION_P2P_ESTABLISHED="established",e.ACTION_P2P_FAILED="failed",e.ACTION_P2P_SWITCH_TO_JVB="switch.to.jvb",e.AVAILABLE_DEVICE="available.device",e.CONNECTION_DISCONNECTED="connection.disconnected",e.FEEDBACK="feedback",e.ICE_DURATION="ice.duration",e.ICE_ESTABLISHMENT_DURATION_DIFF="ice.establishment.duration.diff",e.ICE_STATE_CHANGED="ice.state.changed",e.NO_BYTES_SENT="track.no-bytes-sent",e.TRACK_UNMUTED="track.unmuted"})(Rt||(Rt={}));var It,kt=Rt.TYPE_OPERATIONAL,Pt=Rt.TYPE_PAGE,Ot=Rt.TYPE_TRACK,Dt=Rt.TYPE_UI,Nt=Rt.ACTION_JINGLE_RESTART,Mt=Rt.ACTION_JINGLE_SA_TIMEOUT,wt=Rt.ACTION_JINGLE_SI_RECEIVED,Lt=Rt.ACTION_JINGLE_SI_TIMEOUT,xt=Rt.ACTION_JINGLE_TERMINATE,Ft=Rt.ACTION_JINGLE_TR_RECEIVED,Ut=Rt.ACTION_JINGLE_TR_SUCCESS,Vt=Rt.ACTION_P2P_DECLINED,jt=Rt.ACTION_P2P_ESTABLISHED,Ht=Rt.ACTION_P2P_FAILED,Bt=Rt.ACTION_P2P_SWITCH_TO_JVB,Jt=Rt.AVAILABLE_DEVICE,Gt=Rt.CONNECTION_DISCONNECTED,Kt=Rt.FEEDBACK,qt=Rt.ICE_DURATION,zt=Rt.ICE_ESTABLISHMENT_DURATION_DIFF,Wt=Rt.ICE_STATE_CHANGED,Xt=Rt.NO_BYTES_SENT,$t=Rt.TRACK_UNMUTED,Qt=function(e,t){return{action:e,attributes:t,source:"conference",type:Rt.TYPE_OPERATIONAL}},Yt=function(e,t){return{action:"connection.stage.reached",actionSubject:e,attributes:t,source:"connection.stage.reached",type:Rt.TYPE_OPERATIONAL}},Zt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:Rt.TYPE_OPERATIONAL,source:"get.user.media",action:e,attributes:t}},en=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:Rt.TYPE_OPERATIONAL,action:e,source:"jingle",attributes:t}},tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:Rt.TYPE_OPERATIONAL,action:e,source:"p2p",attributes:t}},nn=function(e){return{type:Rt.TYPE_OPERATIONAL,action:"remotely.muted",mediaType:e}},rn=function(e){return{type:Rt.TYPE_OPERATIONAL,action:"rtp.stats",attributes:e}};!(function(e){e.AUDIO_LEVEL="statistics.audioLevel",e.BEFORE_DISPOSED="statistics.before_disposed",e.BYTE_SENT_STATS="statistics.byte_sent_stats",e.CONNECTION_STATS="statistics.connectionstats",e.LONG_TASKS_STATS="statistics.long_tasks_stats"})(It||(It={}));var on=It.AUDIO_LEVEL,sn=It.BEFORE_DISPOSED,an=It.BYTE_SENT_STATS,cn=It.CONNECTION_STATS,un=It.LONG_TASKS_STATS;n(3478);var dn=n(7032),ln="chrome",hn="firefox",pn="iexplorer",fn="nwjs",mn="electron",vn="react-native",_n="unknown",gn={Chrome:ln,Chromium:ln,Opera:"opera",Firefox:hn,"Internet Explorer":pn,Safari:"safari"};function yn(){var e=navigator.userAgent;if(e.match(/Electron/)){var t=e.match(/Electron(?:\s|\/)([\d.]+)/)[1];return{name:mn,version:t}}if(void 0!==window.JitsiMeetElectron)return{name:mn,version:void 0}}function Sn(){var e=navigator.userAgent;if(e.match(/JitsiMeetNW/)){var t=e.match(/JitsiMeetNW\/([\d.]+)/)[1];return{name:fn,version:t}}}function En(){var e,t,n=navigator.userAgent.match(/\b(react[ \t_-]*native)(?:\/(\S+))?/i);if(n||"ReactNative"===navigator.product)return n&&n.length>2&&(t=n[1],e=n[2]),t||(t="react-native"),e||(e="unknown"),{name:vn,version:e}}var Cn,Tn=(function(e){_inherits(n,ot);var t=_createSuper(n);function n(){var e,r,i;return _classCallCheck(this,n),e=t.apply(this,arguments),i={},(r="_storage")in _assertThisInitialized(e)?Object.defineProperty(_assertThisInitialized(e),r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}return _createClass(n,[{key:"clear",value:function(){this._storage={}}},{key:"length",get:function(){return Object.keys(this._storage).length}},{key:"getItem",value:function(e){return this._storage[e]}},{key:"setItem",value:function(e,t){this._storage[e]=t}},{key:"removeItem",value:function(e){delete this._storage[e]}},{key:"key",value:function(e){var t=Object.keys(this._storage);if(!(t.length<=e))return t[e]}},{key:"serialize",value:function(){return JSON.stringify(this._storage)}}]),n})(),bn=new((function(e){_inherits(n,ot);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n),e=t.call(this);try{e._storage=window.localStorage,e._localStorageDisabled=!1}catch(e){}return e._storage||(console.warn("Local storage is disabled."),e._storage=new Tn,e._localStorageDisabled=!0),e}return _createClass(n,[{key:"isLocalStorageDisabled",value:function(){return this._localStorageDisabled}},{key:"clear",value:function(){this._storage.clear(),this.emit("changed")}},{key:"length",get:function(){return this._storage.length}},{key:"getItem",value:function(e){return this._storage.getItem(e)}},{key:"setItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._storage.setItem(e,t),n||this.emit("changed")}},{key:"removeItem",value:function(e){this._storage.removeItem(e),this.emit("changed")}},{key:"key",value:function(e){return this._storage.key(e)}},{key:"serialize",value:function(){if(this.isLocalStorageDisabled())return this._storage.serialize();for(var e=this._storage.length,t={},n=0;n<e;n++){var r=this._storage.key(n);t[r]=this._storage.getItem(r)}return JSON.stringify(t)}}]),n})()),Rn=(0,v.getLogger)("modules/browser/BrowserCapabilities.js"),An=new((function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.call(this),Rn.info("This appears to be "+e.getName()+", ver: "+e.getVersion()),e}return _createClass(n,[{key:"doesVideoMuteByStreamRemove",value:function(){return this.isChromiumBased()||this.isWebKitBased()||this.isFirefox()}},{key:"isChromiumBased",value:function(){return(this.isChrome()||this.isElectron()||this.isNWJS()||this.isOpera())&&!this.isWebKitBased()}},{key:"isIosBrowser",value:function(){var e=navigator,t=e.userAgent,n=e.maxTouchPoints,r=e.platform;return Boolean(t.match(/iP(ad|hone|od)/i))||n&&n>2&&/MacIntel/.test(r)}},{key:"isWebKitBased",value:function(){return this._bowser.isEngine("webkit")&&void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia&&void 0!==window.RTCRtpTransceiver&&Object.keys(RTCRtpTransceiver.prototype).indexOf("currentDirection")>-1}},{key:"isTwa",value:function(){return"matchMedia"in window&&window.matchMedia("(display-mode:standalone)").matches}},{key:"isSupported",value:function(){return!(this.isSafari()&&this._getSafariVersion()<14)&&(this.isChromiumBased()&&this._getChromiumBasedVersion()>=72||this.isFirefox()||this.isReactNative()||this.isWebKitBased())}},{key:"isSupportedAndroidBrowser",value:function(){return this.isChromiumBased()||this.isFirefox()}},{key:"isSupportedIOSBrowser",value:function(){return this._getIOSVersion()>=14}},{key:"isUserInteractionRequiredForUnmute",value:function(){return this.isFirefox()&&this.isVersionLessThan("68")}},{key:"supportsVideoMuteOnConnInterrupted",value:function(){return this.isChromiumBased()||this.isReactNative()}},{key:"supportsBandwidthStatistics",value:function(){return!this.isFirefox()&&!this.isWebKitBased()}},{key:"supportsCodecPreferences",value:function(){return Boolean(window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype&&window.RTCRtpReceiver&&void 0!==window.RTCRtpReceiver.getCapabilities)&&!this.isWebKitBased()}},{key:"supportsDeviceChangeEvent",value:function(){return navigator.mediaDevices&&void 0!==navigator.mediaDevices.ondevicechange&&void 0!==navigator.mediaDevices.addEventListener}},{key:"supportsLocalCandidateRttStatistics",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isWebKitBased()}},{key:"supportsPerformanceObserver",value:function(){return void 0!==window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes.indexOf("longtask")>-1}},{key:"supportsReceiverStats",value:function(){return void 0!==window.RTCRtpReceiver&&Object.keys(RTCRtpReceiver.prototype).indexOf("getSynchronizationSources")>-1&&!this.isWebKitBased()}},{key:"supportsRTTStatistics",value:function(){return!this.isFirefox()}},{key:"supportsVP9",value:function(){return this.isChromiumBased()||this.isReactNative()}},{key:"usesSdpMungingForSimulcast",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isWebKitBased()}},{key:"usesAdapter",value:function(){return!this.isReactNative()}},{key:"usesRidsForSimulcast",value:function(){return!1}},{key:"supportsGetDisplayMedia",value:function(){return void 0!==navigator.getDisplayMedia||void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getDisplayMedia}},{key:"supportsEncodedTransform",value:function(){return Boolean(window.RTCRtpScriptTransform)}},{key:"supportsInsertableStreams",value:function(){if(void 0===window.RTCRtpSender||!window.RTCRtpSender.prototype.createEncodedStreams)return!1;var e=new ReadableStream;try{return window.postMessage(e,"*",[e]),!0}catch(e){return!1}}},{key:"supportsAudioRed",value:function(){return Boolean(window.RTCRtpSender&&window.RTCRtpSender.getCapabilities&&window.RTCRtpSender.getCapabilities("audio").codecs.some(function(e){return"audio/red"===e.mimeType})&&window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities("audio").codecs.some(function(e){return"audio/red"===e.mimeType}))}},{key:"supportsUnifiedPlan",value:function(){return!this.isReactNative()}},{key:"supportsVADDetection",value:function(){return this.isChromiumBased()}},{key:"supportsRTX",value:function(){return!(this.isFirefox()&&this.isVersionLessThan("96"))}},{key:"_getChromiumBasedVersion",value:function(){if(this.isChromiumBased()){if(this.isNWJS())return Number.parseInt(process.versions.chromium,10);var e=navigator.userAgent;if(e.match(/Chrome/))return Number.parseInt(e.match(/Chrome\/([\d.]+)/)[1],10)}return-1}},{key:"_getSafariVersion",value:function(){return this.isSafari()?Number.parseInt(this.getVersion(),10):-1}},{key:"_getIOSVersion",value:function(){return this.isWebKitBased()?Number.parseInt(this.getVersion(),10):-1}}]),n})((function(){function e(t){var n,r;if(_classCallCheck(this,e),this._bowser=dn.getParser(navigator.userAgent),void 0===t){var i=(function(e){for(var t,n=[En,yn,Sn],r=0;r<n.length;r++)if(t=n[r]())return t;var i=e.getBrowserName();return i in gn?{name:gn[i],version:e.getBrowserVersion()}:(t=(function(){var e=navigator.userAgent,t={name:_n,version:void 0};if(e.match(/Chrome/)&&!e.match(/Edge/))if(e.match(/Edg(A?)/)){var n=e.match(/Chrome\/([\d.]+)/)[1];Number.parseInt(n,10)>72&&(t.name=ln,t.version=n)}else t.name=ln,t.version=e.match(/Chrome\/([\d.]+)/)[1];return t})())||{name:_n,version:void 0}})(this._bowser);n=i.name,r=i.version}else t.name in gn?(n=gn[t.name],r=t.version):(n=_n,r=void 0);this._name=n,this._version=r}return _createClass(e,[{key:"getName",value:function(){return this._name}},{key:"isChrome",value:function(){return this._name===ln}},{key:"isOpera",value:function(){return"opera"===this._name}},{key:"isFirefox",value:function(){return this._name===hn}},{key:"isIExplorer",value:function(){return this._name===pn}},{key:"isSafari",value:function(){return"safari"===this._name}},{key:"isNWJS",value:function(){return this._name===fn}},{key:"isElectron",value:function(){return this._name===mn}},{key:"isReactNative",value:function(){return this._name===vn}},{key:"getVersion",value:function(){return this._version}},{key:"_checkCondition",value:function(e){if(this._version)return this._bowser.satisfies(e)}},{key:"isVersionGreaterThan",value:function(e){return this._checkCondition(_defineProperty({},this._name,">"+e))}},{key:"isVersionLessThan",value:function(e){return this._checkCondition(_defineProperty({},this._name,"<"+e))}},{key:"isVersionEqualTo",value:function(e){return this._checkCondition(_defineProperty({},this._name,"~"+e))}}]),e})())),In=n(549),kn=n.n(In),Pn=(0,v.getLogger)("modules/statistics/AnalyticsAdapter.js"),On=new((function(){function e(){_classCallCheck(this,e),this.reset()}return _createClass(e,[{key:"reset",value:function(){this.disposed=!1,this.analyticsHandlers=new Set,this.cache=[],this.permanentProperties={},this.conferenceName="",this.addPermanentProperties({user_agent:navigator.userAgent,browser_name:An.getName()})}},{key:"dispose",value:function(){Pn.warn("Disposing of analytics adapter."),this.analyticsHandlers&&this.analyticsHandlers.size>0&&this.analyticsHandlers.forEach(function(e){"function"==typeof e.dispose&&e.dispose()}),this.setAnalyticsHandlers([]),this.disposed=!0}},{key:"setAnalyticsHandlers",value:function(e){var t=this;if(!this.disposed){this.analyticsHandlers=new Set(e),this._setUserProperties();var n=this.cache;this.cache=null,n&&n.forEach(function(e){return t._sendEvent(e)})}}},{key:"_setUserProperties",value:function(){var e=this;this.analyticsHandlers.forEach(function(t){try{t.setUserProperties(e.permanentProperties)}catch(t){Pn.warn("Error in setUserProperties method of one of the analytics handlers: "+t)}})}},{key:"addPermanentProperties",value:function(e){this.permanentProperties=_objectSpread(_objectSpread({},this.permanentProperties),e),this._setUserProperties()}},{key:"setConferenceName",value:function(e){this.conferenceName=e,this.addPermanentProperties({conference_name:e})}},{key:"sendEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.disposed){var n=null;"string"==typeof e?n={type:kt,action:e,actionSubject:e,source:e,attributes:t}:"object"==typeof e&&(n=e),this._verifyRequiredFields(n)?this._sendEvent(n):Pn.error("Dropping a mis-formatted event: "+JSON.stringify(n))}}},{key:"_verifyRequiredFields",value:function(e){if(!e)return!1;e.type||(e.type=kt);var t=e.type;return t!==kt&&t!==Pt&&t!==Dt&&t!==Ot?(Pn.error("Unknown event type: "+t),!1):t===Pt?Boolean(e.name):(e.action=e.action||e.name||e.actionSubject,e.actionSubject=e.actionSubject||e.name||e.action,e.source=e.source||e.name||e.action||e.actionSubject,e.action&&e.actionSubject&&e.source?!!(t!==Ot||(e.objectType=e.objectType||"generic-object-type",e.containerType=e.containerType||"conference","conference"!==e.containerType||e.containerId||(e.containerId=this.conferenceName),e.objectType&&e.objectId&&e.containerType&&e.containerId))||(Pn.error("Required field missing (containerId, containerType, objectId or objectType)"),!1):(Pn.error("Required field missing (action, actionSubject or source)"),!1))}},{key:"_maybeCacheEvent",value:function(e){return!!this.cache&&(this.cache.push(e),this.cache.length>100&&this.cache.splice(0,1),!0)}},{key:"_sendEvent",value:function(e){this._maybeCacheEvent(e)||this.analyticsHandlers.forEach(function(t){try{t.sendEvent(e)}catch(e){Pn.warn("Error sending analytics event: "+e)}})}}]),e})()),Dn=n(1023),Nn=n.n(Dn),Mn=n(5810).getLogger("modules/statistics/CallStats.js"),wn="applicationLog",Ln="mstWithUserID",xn=(function(){function e(t,n){_classCallCheck(this,e),this.confID=n.confID,this.tpc=t,this.peerconnection=t.peerconnection,this.remoteUserID=n.remoteUserID||"jitsi",this.hasFabric=!1,e.fabrics.add(this),e.backendInitialized&&(this._addNewFabric(),1===e.fabrics.size&&e._emptyReportQueue(this))}return _createClass(e,[{key:"_addNewFabric",value:function(){Mn.info("addNewFabric",this.remoteUserID);try{var t={remoteEndpointType:this.tpc.isP2P?e.backend.endpointType.peer:e.backend.endpointType.server},n=e.backend.addNewFabric(this.peerconnection,this.remoteUserID,e.backend.fabricUsage.multiplex,this.confID,t,e._addNewFabricCallback);this.hasFabric=!0;var r="success"===n.status;return r||Mn.error("callstats fabric not initilized",n.message),r}catch(e){return Nn().callErrorHandler(e),!1}}},{key:"associateStreamWithVideoTag",value:function(t,n,r,i,o){if(e.backend){var s=n?e.userID:r;e.backendInitialized?e.backend.associateMstWithUserID(this.peerconnection,s,this.confID,t,i,o):e.reportsQueue.push({type:Ln,pc:this.peerconnection,data:{callStatsId:s,containerId:o,ssrc:t,usageLabel:i}})}}},{key:"sendDominantSpeakerEvent",value:function(){e._reportEvent(this,"dominantSpeaker")}},{key:"sendTerminateEvent",value:function(){e.backendInitialized&&e.backend.sendFabricEvent(this.peerconnection,e.backend.fabricEvent.fabricTerminated,this.confID),e.fabrics.delete(this)}},{key:"sendIceConnectionFailedEvent",value:function(){e._reportError(this,"iceConnectionFailure",null,this.peerconnection)}},{key:"sendCreateOfferFailed",value:function(t){e._reportError(this,"createOffer",t,this.peerconnection)}},{key:"sendCreateAnswerFailed",value:function(t){e._reportError(this,"createAnswer",t,this.peerconnection)}},{key:"sendResumeOrHoldEvent",value:function(t){e._reportEvent(this,t?"fabricResume":"fabricHold")}},{key:"sendScreenSharingEvent",value:function(t,n){var r;n&&(r={ssrc:n}),e._reportEvent(this,t?"screenShareStart":"screenShareStop",r)}},{key:"sendSetLocalDescFailed",value:function(t){e._reportError(this,"setLocalDescription",t,this.peerconnection)}},{key:"sendSetRemoteDescFailed",value:function(t){e._reportError(this,"setRemoteDescription",t,this.peerconnection)}},{key:"sendAddIceCandidateFailed",value:function(t){e._reportError(this,"addIceCandidate",t,this.peerconnection)}}],[{key:"_addNewFabricCallback",value:function(t,n){e.backend&&"success"!==t&&Mn.error("Monitoring status: "+t+" msg: "+n)}},{key:"_initCallback",value:function(t,n){if(Mn.log("CallStats Status: err="+t+" msg="+n),"success"===t){e.backendInitialized=!0;for(var r,i=!1,o=null,s=_createForOfIteratorHelperLoose(e.fabrics.values());!(r=s()).done;){var a=r.value;a.hasFabric||(Mn.debug("addNewFabric - initCallback"),a._addNewFabric()&&(i=!0,o||(o=a)))}i&&e._emptyReportQueue(o)}}},{key:"_emptyReportQueue",value:function(t){for(var n,r=t.confID,i=t.peerconnection,o=_createForOfIteratorHelperLoose(e.reportsQueue);!(n=o()).done;){var s=n.value;if("error"===s.type){var a=s.data;e._reportError(t,a.type,a.error,a.pc||i)}else if("event"===s.type){var c=s.data;e.backend.sendFabricEvent(s.pc||i,c.event,r,c.eventData)}else if(s.type===Ln){var u=s.data;e.backend.associateMstWithUserID(s.pc||i,u.callStatsId,r,u.ssrc,u.usageLabel,u.containerId)}}e.reportsQueue.length=0}},{key:"_reportError",value:function(t,n,r,i){var o=r;o||(Mn.warn("No error is passed!"),o=new Error("Unknown error")),e.backendInitialized&&t?e.backend.reportError(i,t.confID,n,o):e.reportsQueue.push({type:"error",data:{error:o,pc:i,type:n}})}},{key:"_reportEvent",value:function(t,n,r){var i=t&&t.peerconnection,o=t&&t.confID;e.backendInitialized&&t?e.backend.sendFabricEvent(i,n,o,r):e.reportsQueue.push({confID:o,pc:i,type:"event",data:{event:n,eventData:r}})}},{key:"_traceAndCatchBackendCalls",value:function(e){for(var t=function(t){var n=e[t];e[t]=function(){try{for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.apply(e,r)}catch(e){Nn().callErrorHandler(e)}}},n=0,r=["associateMstWithUserID","sendFabricEvent","sendUserFeedback"];n<r.length;n++){t(r[n])}for(var i=function(t){var n=e[t];e[t]=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];Mn.debug(t,i),n.apply(e,i)}},o=0,s=["associateMstWithUserID","sendFabricEvent","sendUserFeedback"];o<s.length;o++){i(s[o])}var a=e.reportError;e.reportError=function(t,n,r){for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];r===wn?An.isReactNative()||console&&console.debug("reportError",t,n,r):Mn.debug.apply(Mn,["reportError",t,n,r].concat(o));try{a.call.apply(a,[e,t,n,r].concat(o))}catch(e){r===wn?console&&console.error("reportError",e):Nn().callErrorHandler(e)}}}},{key:"fabrics",get:function(){return Cn||(Cn=new Set),Cn}},{key:"initBackend",value:function(t){if(e.backend)throw new Error("CallStats backend has been initialized already!");try{var n=callstats;e.backend=new n,e._traceAndCatchBackendCalls(e.backend),e.userID={aliasName:t.aliasName,userName:t.userName},e.callStatsID=t.callStatsID,e.callStatsSecret=t.callStatsSecret;var r=_objectSpread({},t.configParams);if(t.applicationName&&(r.applicationVersion=t.applicationName+" ("+An.getName()+")"),t.confID){var i=t.confID.match(/.*\/(.*)\/.*/);r.siteID=t.siteID||i&&i[1]||"/"}e.backend.initialize(e.callStatsID,e.callStatsSecret,e.userID,e._initCallback,void 0,r);var o=t.getWiFiStatsMethod;return o&&(e.backend.attachWifiStatsHandler(o),o().then(function(e){e&&Mn.info("Reported wifi addresses:",JSON.parse(e).addresses)}).catch(function(){})),!0}catch(t){return Nn().callErrorHandler(t),e.backend=null,Mn.error(t),!1}}},{key:"isBackendInitialized",value:function(){return Boolean(e.backend)}},{key:"sendActiveDeviceListEvent",value:function(t,n){e._reportEvent(n,"activeDeviceList",t)}},{key:"sendApplicationLog",value:function(t,n){try{e._reportError(n,wn,t,n&&n.peerconnection)}catch(t){console&&"function"==typeof console.error&&console.error("sendApplicationLog failed",t)}}},{key:"sendFeedback",value:function(t,n,r){return new Promise(function(i,o){if(e.backend)e.backend.sendUserFeedback(t,{userID:e.userID,overall:n,comment:r},function(e,t){"success"===e?i(t):o(t)});else{var s="Failed to submit feedback to CallStats - no backend";Mn.error(s),o(s)}})}},{key:"sendGetUserMediaFailed",value:function(t,n){e._reportError(n,"getUserMedia",t,null)}},{key:"sendMuteEvent",value:function(t,n,r){var i;i="video"===n?t?"videoPause":"videoResume":t?"audioMute":"audioUnmute",e._reportEvent(r,i)}}]),e})();xn.backend=null,xn.reportsQueue=[],xn.backendInitialized=!1,xn.callStatsID=null,xn.callStatsSecret=null,xn.userID=null,window.AudioContext=window.AudioContext||window.webkitAudioContext;var Fn=null;function Un(e,t,n){this.stream=e,this.intervalId=null,this.intervalMilis=t,this.audioLevel=0,this.callback=n}function Vn(e){var t=e;return e>=Number.MAX_SAFE_INTEGER&&(t=0),t+1}function jn(e){return e.length>0?e.reduce(function(e,t){return e+t})/e.length:0}function Hn(e){return e.filter(function(e){return e>=0})}window.AudioContext&&((Fn=new AudioContext).suspend&&Fn.suspend()),Un.prototype.start=function(){var e=this;if(Un.isLocalStatsSupported()){Fn.resume();var t=Fn.createAnalyser();t.smoothingTimeConstant=.8,t.fftSize=2048,Fn.createMediaStreamSource(this.stream).connect(t),this.intervalId=setInterval(function(){var n=new Uint8Array(t.frequencyBinCount);t.getByteTimeDomainData(n);var r=(function(e){for(var t=0,n=e.length,r=0;r<n;r++)t<e[r]&&(t=e[r]);return parseFloat(((t-127)/128).toFixed(3))})(n);e.audioLevel=(function(e,t){var n=t-e;return parseFloat((n>.2?t-.2:n<-.4?t+.4:e).toFixed(3))})(r,e.audioLevel),e.callback(e.audioLevel)},this.intervalMilis)}},Un.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},Un.isLocalStatsSupported=function(){return Boolean(Fn)};var Bn,Jn=(function(){function e(){_classCallCheck(this,e),this.average=0,this.n=0}return _createClass(e,[{key:"addNext",value:function(e){"number"==typeof e&&(this.n+=1,this.average=this.average+(e-this.average)/this.n)}},{key:"getAverage",value:function(){return this.average}}]),e})(),Gn=(0,v.getLogger)("modules/statistics/PerformanceObserverStats.js"),Kn=(function(){function e(t,n){_classCallCheck(this,e),this.eventEmitter=t,this.longTasks=0,this.maxDuration=0,this.performanceStatsInterval=n,this.stats=new Jn}return _createClass(e,[{key:"getLongTasksStats",value:function(){return{avgRatePerMinute:(60*this.stats.getAverage()).toFixed(2),maxDurationMs:this.maxDuration}}},{key:"startObserver",value:function(){var e=this;this.longTaskEventHandler=function(t){for(var n,r=_createForOfIteratorHelperLoose(t.getEntries());!(n=r()).done;){var i=n.value;e.longTasks++,e.maxDuration=Math.max(e.maxDuration,i.duration).toFixed(3)}},Gn.info("Creating a Performance Observer for monitoring Long Tasks"),this.observer=new PerformanceObserver(this.longTaskEventHandler),this.observer.observe({type:"longtask",buffered:!0});var t=Date.now();this.longTasksIntervalId=setInterval(function(){var n=Date.now(),r=e._lastTimeStamp?(n-e._lastTimeStamp)/1e3:(n-t)/1e3,i=e.longTasks/r;e.stats.addNext(i),e.eventEmitter.emit(un,e.getLongTasksStats()),e.longTasks=0,e._lastTimeStamp=Date.now()},this.performanceStatsInterval)}},{key:"stopObserver",value:function(){this.observer&&this.observer.disconnect(),this.longTaskEventHandler=null,this.longTasksIntervalId&&(clearInterval(this.longTasksIntervalId),this.longTasksIntervalId=null)}}]),e})();!(function(e){e.AUDIO="audio",e.PRESENTER="presenter",e.VIDEO="video"})(Bn||(Bn={}));var qn=n(1023),zn=(0,v.getLogger)("modules/statistics/RTPStatsCollector.js");function Wn(e,t){return!t||t<=0||!e||e<=0?0:Math.round(e/t*100)}function Xn(){this.loss={},this.bitrate={download:0,upload:0},this.resolution={},this.framerate=0,this.codec=""}function $n(){this.bandwidth={},this.bitrate={},this.packetLoss=null,this.transport=[]}function Qn(e,t,n,r){this.peerconnection=e,this.baselineAudioLevelsReport=null,this.currentAudioLevelsReport=null,this.currentStatsReport=null,this.previousStatsReport=null,this.audioLevelReportHistory={},this.audioLevelsIntervalId=null,this.eventEmitter=r,this.conferenceStats=new $n,this.audioLevelsIntervalMilis=t,this.speakerList=[],this.statsIntervalId=null,this.statsIntervalMilis=n,this.ssrc2stats=new Map}Xn.prototype.setLoss=function(e){this.loss=e||{}},Xn.prototype.setResolution=function(e){this.resolution=e||{}},Xn.prototype.addBitrate=function(e){this.bitrate.download+=e.download,this.bitrate.upload+=e.upload},Xn.prototype.resetBitrate=function(){this.bitrate.download=0,this.bitrate.upload=0},Xn.prototype.setFramerate=function(e){this.framerate=e||0},Xn.prototype.setCodec=function(e){this.codec=e||""},Qn.prototype.setSpeakerList=function(e){this.speakerList=e},Qn.prototype.stop=function(){this.audioLevelsIntervalId&&(clearInterval(this.audioLevelsIntervalId),this.audioLevelsIntervalId=null),this.statsIntervalId&&(clearInterval(this.statsIntervalId),this.statsIntervalId=null)},Qn.prototype.errorCallback=function(e){qn.callErrorHandler(e),zn.error("Get stats error",e),this.stop()},Qn.prototype.start=function(e){var t=this;e&&(An.supportsReceiverStats()&&zn.info("Using RTCRtpSynchronizationSource for remote audio levels"),this.audioLevelsIntervalId=setInterval(function(){if(An.supportsReceiverStats()){var e=t.peerconnection.getAudioLevels(t.speakerList);for(var n in e)if(e.hasOwnProperty(n)){var r=2.5*e[n];t.eventEmitter.emit(on,t.peerconnection,Number.parseInt(n,10),r,!1)}}else t.peerconnection.getStats().then(function(e){t.currentAudioLevelsReport="function"==typeof(null==e?void 0:e.result)?e.result():e,t.processAudioLevelReport(),t.baselineAudioLevelsReport=t.currentAudioLevelsReport}).catch(function(e){return t.errorCallback(e)})},this.audioLevelsIntervalMilis));var n=function(){t.peerconnection.getStats().then(function(e){t.currentStatsReport="function"==typeof(null==e?void 0:e.result)?e.result():e;try{t.processStatsReport()}catch(e){qn.callErrorHandler(e),zn.error("Processing of RTP stats failed:",e)}t.previousStatsReport=t.currentStatsReport}).catch(function(e){return t.errorCallback(e)})};n(),this.statsIntervalId=setInterval(n,this.statsIntervalMilis)},Qn.prototype._processAndEmitReport=function(){for(var e,t,n,r=this,i={download:0,upload:0},o={download:0,upload:0},s=0,a=0,c={},u={},d={},l=0,h=0,p=0,f=0,m=_createForOfIteratorHelperLoose(this.ssrc2stats);!(n=m()).done;){var v=n.value,_=_slicedToArray(v,2),g=_[0],y=_[1],S=y.loss,E=S.isDownloadStream?"download":"upload";i[E]+=S.packetsTotal,o[E]+=S.packetsLost,s+=y.bitrate.download,a+=y.bitrate.upload;var C=this.peerconnection.getTrackBySSRC(g);if(C){C.isAudioTrack()?(l+=y.bitrate.download,h+=y.bitrate.upload,e=y.codec):(p+=y.bitrate.download,f+=y.bitrate.upload,t=y.codec);var T=C.getParticipantId();if(T){var b=y.resolution;if(b.width&&b.height&&-1!==b.width&&-1!==b.height){var R=c[T]||{};R[g]=b,c[T]=R}if(0!==y.framerate){var A=u[T]||{};A[g]=y.framerate,u[T]=A}if(e&&t){var I={audio:e,video:t},k=d[T]||{};k[g]=I,d[T]=k}}else zn.error("No participant ID returned by "+C)}y.resetBitrate()}this.conferenceStats.bitrate={upload:a,download:s},this.conferenceStats.bitrate.audio={upload:h,download:l},this.conferenceStats.bitrate.video={upload:f,download:p},this.conferenceStats.packetLoss={total:Wn(o.download+o.upload,i.download+i.upload),download:Wn(o.download,i.download),upload:Wn(o.upload,i.upload)};var P,O={};Object.keys(this.audioLevelReportHistory).forEach(function(e){var t=r.audioLevelReportHistory[e],n=t.data,i=t.isLocal,o=n.reduce(function(e,t){return e+t})/n.length;if(i)P=o;else{var s=r.peerconnection.getTrackBySSRC(Number(e));if(s){var a=s.getParticipantId();a&&(O[a]=o)}}}),this.audioLevelReportHistory={},this.eventEmitter.emit(cn,this.peerconnection,{bandwidth:this.conferenceStats.bandwidth,bitrate:this.conferenceStats.bitrate,packetLoss:this.conferenceStats.packetLoss,resolution:c,framerate:u,codec:d,transport:this.conferenceStats.transport,localAvgAudioLevels:P,avgAudioLevels:O}),this.conferenceStats.transport=[]},Qn.prototype.getNonNegativeValue=function(e){var t=e;return"number"!=typeof t&&(t=Number(t)),isNaN(t)?0:Math.max(0,t)},Qn.prototype._calculateBitrate=function(e,t,n){var r=this.getNonNegativeValue(e[n]),i=this.getNonNegativeValue(t[n]),o=Math.max(0,r-i),s=e.timestamp-t.timestamp,a=0;return s>0&&(a=Math.round(8*o/s)),a},Qn.prototype.processStatsReport=function(){var e=this;if(this.previousStatsReport){var t={};this.currentStatsReport.forEach(function(n){if("candidate-pair"===n.type&&n.nominated&&"succeeded"===n.state){var r=n.availableIncomingBitrate,i=n.availableOutgoingBitrate;(r||i)&&(e.conferenceStats.bandwidth={download:Math.round(r/1e3),upload:Math.round(i/1e3)});var o=e.currentStatsReport.get(n.remoteCandidateId),s=e.currentStatsReport.get(n.localCandidateId);if(o&&s){var a=(An.isChromiumBased()?o.ip:o.address)+":"+o.port,c=(An.isChromiumBased()?s.ip:s.address)+":"+s.port,u=o.protocol,d=e.conferenceStats.transport;d.some(function(e){return e.ip===a&&e.type===u&&e.localip===c})||d.push({ip:a,type:u,localip:c,p2p:e.peerconnection.isP2P,localCandidateType:s.candidateType,remoteCandidateType:o.candidateType,networkType:s.networkType,rtt:1e3*n.currentRoundTripTime})}}else if("inbound-rtp"===n.type||"outbound-rtp"===n.type){var l=e.previousStatsReport.get(n.id),h=e.getNonNegativeValue(n.ssrc);if(!l||!h)return;var p=e.ssrc2stats.get(h);p||(p=new Xn,e.ssrc2stats.set(h,p));var f=!0,m="packetsReceived";"outbound-rtp"===n.type&&(f=!1,m="packetsSent");var v=n[m];(!v||v<0)&&(v=0);var _=e.getNonNegativeValue(l[m]),g=Math.max(0,v-_),y=e.getNonNegativeValue(n.packetsLost),S=e.getNonNegativeValue(l.packetsLost),E=Math.max(0,y-S);if(p.setLoss({packetsTotal:g+E,packetsLost:E,isDownloadStream:f}),"inbound-rtp"===n.type){var C={height:n.frameHeight,width:n.frameWidth},T=n.framesPerSecond;C.height&&C.width&&p.setResolution(C),p.setFramerate(Math.round(T||0)),p.addBitrate({download:e._calculateBitrate(n,l,"bytesReceived"),upload:0})}else t[h]=e.getNonNegativeValue(n.bytesSent),p.addBitrate({download:0,upload:e._calculateBitrate(n,l,"bytesSent")});var b=e.currentStatsReport.get(n.codecId);if(b){var R=b.mimeType.split("/")[1];R&&p.setCodec(R)}}else if("track"===n.type&&n.kind===Bn.VIDEO&&!n.remoteSource){var A={height:n.frameHeight,width:n.frameWidth},I=e.peerconnection.getLocalTracks(Bn.VIDEO);if(null==I||!I.length)return;var k=e.peerconnection.getLocalSSRC(I[0]);if(!k)return;var P=e.ssrc2stats.get(k);P||(P=new Xn,e.ssrc2stats.set(k,P)),A.height&&A.width&&P.setResolution(A);var O=n.framesPerSecond;if(!O){var D=e.previousStatsReport.get(n.id);if(D){var N=n.timestamp-D.timestamp;N>0&&n.framesSent&&(O=(n.framesSent-D.framesSent)/N*1e3)}if(!O)return}var M=e.peerconnection.getActiveSimulcastStreams();O=M?Math.round(O/M):0,P.setFramerate(O)}}),this.eventEmitter.emit(an,this.peerconnection,t),this._processAndEmitReport()}},Qn.prototype.processAudioLevelReport=function(){var e=this;this.baselineAudioLevelsReport&&this.currentAudioLevelsReport.forEach(function(t){if("track"===t.type){var n=t.audioLevel;if(n){var r=t.trackIdentifier,i=e.peerconnection.getSsrcByTrackId(r);if(i){var o=i===e.peerconnection.getLocalSSRC(e.peerconnection.getLocalTracks(Bn.AUDIO));e.eventEmitter.emit(on,e.peerconnection,i,n,o)}}}})};var Yn,Zn=n(5810).getLogger("modules/statistics/statistics.js"),er=!1;function tr(e){xn.isBackendInitialized()||xn.initBackend({callStatsID:e.callStatsID,callStatsSecret:e.callStatsSecret,userName:e.userName,aliasName:e.aliasName,applicationName:e.applicationName,getWiFiStatsMethod:e.getWiFiStatsMethod,confID:e.confID,siteID:e.siteID,configParams:e.configParams})||Zn.error("CallStats Backend initialization failed bad")}function nr(e,t){this.rtpStatsMap=new Map,this.eventEmitter=new(st()),this.xmpp=e,this.options=t||{},this.callStatsIntegrationEnabled=this.options.callStatsID&&this.options.callStatsSecret&&this.options.enableCallStats&&!0!==nr.disableThirdPartyRequests,this.callStatsIntegrationEnabled&&(this.callStatsApplicationLogsDisabled=this.options.callStatsApplicationLogsDisabled,An.isReactNative()?tr(this.options):(function(e){er||(kn().loadScript(e.customScriptUrl||dt,!0,!0,void 0,function(){return tr(e)}),er=!0)})(this.options),this.options.confID||Zn.warn('"confID" is not defined')),this.callsStatsInstances=new Map,nr.instances.add(this)}nr.init=function(e){nr.audioLevelsEnabled=!e.disableAudioLevels,"number"==typeof e.pcStatsInterval&&(nr.pcStatsInterval=e.pcStatsInterval),"number"==typeof e.audioLevelsInterval&&(nr.audioLevelsInterval=e.audioLevelsInterval),"number"==typeof e.longTasksStatsInterval&&(nr.longTasksStatsInterval=e.longTasksStatsInterval),nr.disableThirdPartyRequests=e.disableThirdPartyRequests},nr.audioLevelsEnabled=!1,nr.audioLevelsInterval=200,nr.pcStatsInterval=1e4,nr.disableThirdPartyRequests=!1,nr.analytics=On,Object.defineProperty(nr,"instances",{get:function(){return Yn||(Yn=new Set),Yn}}),nr.prototype.startRemoteStats=function(e){this.stopRemoteStats(e);try{var t=new Qn(e,nr.audioLevelsInterval,nr.pcStatsInterval,this.eventEmitter);t.start(nr.audioLevelsEnabled),this.rtpStatsMap.set(e.id,t)}catch(e){Zn.error("Failed to start collecting remote statistics: "+e)}},nr.localStats=[],nr.startLocalStats=function(e,t){if(nr.audioLevelsEnabled){var n=new Un(e,nr.audioLevelsInterval,t);this.localStats.push(n),n.start()}},nr.prototype.addAudioLevelListener=function(e){nr.audioLevelsEnabled&&this.eventEmitter.on(on,e)},nr.prototype.removeAudioLevelListener=function(e){nr.audioLevelsEnabled&&this.eventEmitter.removeListener(on,e)},nr.prototype.addBeforeDisposedListener=function(e){this.eventEmitter.on(sn,e)},nr.prototype.removeBeforeDisposedListener=function(e){this.eventEmitter.removeListener(sn,e)},nr.prototype.addConnectionStatsListener=function(e){this.eventEmitter.on(cn,e)},nr.prototype.removeConnectionStatsListener=function(e){this.eventEmitter.removeListener(cn,e)},nr.prototype.addByteSentStatsListener=function(e){this.eventEmitter.on(an,e)},nr.prototype.removeByteSentStatsListener=function(e){this.eventEmitter.removeListener(an,e)},nr.prototype.addLongTasksStatsListener=function(e){this.eventEmitter.on(un,e)},nr.prototype.attachLongTasksStats=function(e){var t=this;An.supportsPerformanceObserver()?(this.performanceObserverStats=new Kn(this.eventEmitter,nr.longTasksStatsInterval),e.on(z,function(){return t.performanceObserverStats.startObserver()}),e.on(W,function(){return t.performanceObserverStats.stopObserver()})):Zn.warn("Performance observer for long tasks not supported by browser!")},nr.prototype.getLongTasksStats=function(){return this.performanceObserverStats?this.performanceObserverStats.getLongTasksStats():null},nr.prototype.removeLongTasksStatsListener=function(e){this.eventEmitter.removeListener(un,e)},nr.prototype.setSpeakerList=function(e){for(var t=0,n=Array.from(this.rtpStatsMap.values());t<n.length;t++){var r=n[t];r.peerconnection.isP2P||r.setSpeakerList(e)}},nr.prototype.dispose=function(){try{this.callsStatsInstances.size||this.eventEmitter.emit(sn);for(var e,t=_createForOfIteratorHelperLoose(this.callsStatsInstances.values());!(e=t()).done;){var n=e.value;this.stopCallStats(n.tpc)}for(var r,i=_createForOfIteratorHelperLoose(this.rtpStatsMap.keys());!(r=i()).done;){var o=r.value;this._stopRemoteStats(o)}this.eventEmitter&&this.eventEmitter.removeAllListeners()}finally{nr.instances.delete(this)}},nr.stopLocalStats=function(e){if(nr.audioLevelsEnabled)for(var t=0;t<nr.localStats.length;t++)if(nr.localStats[t].stream===e){nr.localStats.splice(t,1)[0].stop();break}},nr.prototype._stopRemoteStats=function(e){var t=this.rtpStatsMap.get(e);t&&(t.stop(),this.rtpStatsMap.delete(e))},nr.prototype.stopRemoteStats=function(e){this._stopRemoteStats(e.id)},nr.prototype.startCallStats=function(e,t){if(this.callStatsIntegrationEnabled)if(this.callsStatsInstances.has(e.id))Zn.error("CallStats instance for ${tpc} exists already");else{Zn.info("Starting CallStats for "+e+"...");var n=new xn(e,{confID:this.options.confID,remoteUserID:t});this.callsStatsInstances.set(e.id,n)}},nr._getAllCallStatsInstances=function(){for(var e,t=new Set,n=_createForOfIteratorHelperLoose(nr.instances);!(e=n()).done;)for(var r,i=_createForOfIteratorHelperLoose(e.value.callsStatsInstances.values());!(r=i()).done;){var o=r.value;t.add(o)}return t},nr.prototype.stopCallStats=function(e){var t=this.callsStatsInstances.get(e.id);t&&(1===this.callsStatsInstances.size&&this.eventEmitter.emit(sn),this.callsStatsInstances.delete(e.id),t.sendTerminateEvent())},nr.prototype.isCallstatsEnabled=function(){return this.callStatsIntegrationEnabled},nr.prototype.sendConnectionResumeOrHoldEvent=function(e,t){var n=this.callsStatsInstances.get(e.id);n&&n.sendResumeOrHoldEvent(t)},nr.prototype.sendIceConnectionFailedEvent=function(e){var t=this.callsStatsInstances.get(e.id);t&&t.sendIceConnectionFailedEvent()},nr.prototype.sendMuteEvent=function(e,t,n){var r=e&&this.callsStatsInstances.get(e.id);xn.sendMuteEvent(t,n,r)},nr.prototype.sendScreenSharingEvent=function(e,t){for(var n,r=_createForOfIteratorHelperLoose(this.callsStatsInstances.values());!(n=r()).done;){n.value.sendScreenSharingEvent(e,t)}},nr.prototype.sendDominantSpeakerEvent=function(e){for(var t,n=_createForOfIteratorHelperLoose(this.callsStatsInstances.values());!(t=n()).done;){t.value.sendDominantSpeakerEvent()}this.xmpp.sendDominantSpeakerEvent(e)},nr.sendActiveDeviceListEvent=function(e){var t=nr._getAllCallStatsInstances();if(t.size)for(var n,r=_createForOfIteratorHelperLoose(t);!(n=r()).done;){var i=n.value;xn.sendActiveDeviceListEvent(e,i)}else xn.sendActiveDeviceListEvent(e,null)},nr.prototype.associateStreamWithVideoTag=function(e,t,n,r,i,o){var s=this.callsStatsInstances.get(e.id);s&&s.associateStreamWithVideoTag(t,n,r,i,o)},nr.sendGetUserMediaFailed=function(e){var t=e instanceof At?(function(e){var t=new Error;return t.stack=e.stack,t.name=(e.name||"Unknown error")+(e.gum&&e.gum.error&&e.gum.error.name?" - "+e.gum.error.name:""),t.constraintName=e.gum&&e.gum.constraints?JSON.stringify(e.gum.constraints):"",t.message=e.message,t})(e):e,n=nr._getAllCallStatsInstances();if(n.size)for(var r,i=_createForOfIteratorHelperLoose(n);!(r=i()).done;){var o=r.value;xn.sendGetUserMediaFailed(t,o)}else xn.sendGetUserMediaFailed(t,null)},nr.prototype.sendCreateOfferFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendCreateOfferFailed(e)},nr.prototype.sendCreateAnswerFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendCreateAnswerFailed(e)},nr.prototype.sendSetLocalDescFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendSetLocalDescFailed(e)},nr.prototype.sendSetRemoteDescFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendSetRemoteDescFailed(e)},nr.prototype.sendAddIceCandidateFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendAddIceCandidateFailed(e)},nr.sendLog=function(e){for(var t,n=new Set,r=_createForOfIteratorHelperLoose(nr.instances);!(t=r()).done;){var i=t.value;if(i.callStatsApplicationLogsDisabled)return;i.callsStatsInstances.size&&n.add(i.callsStatsInstances.values().next().value)}if(n.size)for(var o,s=_createForOfIteratorHelperLoose(n);!(o=s()).done;){var a=o.value;xn.sendApplicationLog(e,a)}else xn.sendApplicationLog(e,null)},nr.prototype.sendFeedback=function(e,t){return nr.analytics.sendEvent(Kt,{rating:e,comment:t}),xn.sendFeedback(this.options.confID,e,t)},nr.LOCAL_JID=n(7680).D,nr.reportGlobalError=function(e){e instanceof At&&e.gum?nr.sendGetUserMediaFailed(e):nr.sendLog(e)},nr.sendAnalyticsAndLog=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?(t="object"==typeof e?e:{name:e,properties:n},Zn.log(JSON.stringify(t)),this.analytics.sendEvent(e,n)):Zn.warn("No event or event name given.")},nr.sendAnalytics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.analytics.sendEvent(e,t)};var rr,ir=n(4832),or=n.n(ir),sr=n(9987),ar=n(3408),cr=n(3514),ur=n.n(cr),dr=n(609),lr=(0,v.getLogger)("JitsiConferenceEventManager.js");function hr(e){this.conference=e,this.xmppListeners={},e.on(Ue,function(t){if(t.isLocal()&&e.statistics){var n=t.isP2P?e.p2pJingleSession:e.jvbJingleSession,r=n&&n.peerconnection||null;e.statistics.sendMuteEvent(r,t.isMuted(),t.getType())}})}hr.prototype.setupChatRoomListeners=function(){var e=this,t=this.conference,n=t.room;this.chatRoomForwarder=new(or())(n,this.conference.eventEmitter),n.addListener(dr.XMPPEvents.ICE_RESTARTING,function(e){e.isP2P||t.rtc.closeBridgeChannel()}),n.addListener(dr.XMPPEvents.PARTICIPANT_FEATURES_CHANGED,function(e,n){var r=t.getParticipantById(ut.Strophe.getResourceFromJid(e));r&&(r.setFeatures(n),t.eventEmitter.emit(Te,r))}),n.addListener(dr.XMPPEvents.ICE_RESTART_SUCCESS,function(e,n){!e.isP2P&&t._setBridgeChannel(n,e.peerconnection)}),n.addListener(dr.XMPPEvents.AUDIO_MUTED_BY_FOCUS,function(e){nr.sendAnalytics(nn(Bn.AUDIO)),t.mutedByFocusActor=e,t.rtc.setAudioMute(!0).then(function(){t.isMutedByFocus=!0,t.mutedByFocusActor=null}).catch(function(e){t.mutedByFocusActor=null,lr.warn("Error while audio muting due to focus request",e)})}),n.addListener(dr.XMPPEvents.VIDEO_MUTED_BY_FOCUS,function(e){nr.sendAnalytics(nn(Bn.VIDEO)),t.mutedVideoByFocusActor=e,t.rtc.setVideoMute(!0).then(function(){t.isVideoMutedByFocus=!0,t.mutedVideoByFocusActor=null}).catch(function(e){t.mutedVideoByFocusActor=null,lr.warn("Error while video muting due to focus request",e)})}),this.chatRoomForwarder.forward(dr.XMPPEvents.SUBJECT_CHANGED,Me),this.chatRoomForwarder.forward(dr.XMPPEvents.MUC_JOINED,z),this.chatRoomForwarder.forward(dr.XMPPEvents.MUC_JOIN_IN_PROGRESS,q),this.chatRoomForwarder.forward(dr.XMPPEvents.MEETING_ID_SET,X),n.addListener(dr.XMPPEvents.MUC_JOINED,function(){e.conference._onMucJoined(),e.conference.isJvbConnectionInterrupted=!1,Object.keys(n.connectionTimes).forEach(function(e){var t=Yt("conference_"+e,{value:n.connectionTimes[e]});nr.sendAnalytics(t)}),Object.keys(n.xmpp.connectionTimes).forEach(function(e){var t=Yt("xmpp_"+e,{value:n.xmpp.connectionTimes[e]});nr.sendAnalytics(t)})}),n.addListener(dr.XMPPEvents.RENEGOTIATION_FAILED,function(e,n){n.isP2P||t.eventEmitter.emit(K,w,e)}),this.chatRoomForwarder.forward(dr.XMPPEvents.ROOM_JOIN_ERROR,K,b),this.chatRoomForwarder.forward(dr.XMPPEvents.ROOM_CONNECT_ERROR,K,b),this.chatRoomForwarder.forward(dr.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR,K,A),this.chatRoomForwarder.forward(dr.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,K,I),this.chatRoomForwarder.forward(dr.XMPPEvents.ROOM_MAX_USERS_ERROR,K,T),this.chatRoomForwarder.forward(dr.XMPPEvents.PASSWORD_REQUIRED,K,x),this.chatRoomForwarder.forward(dr.XMPPEvents.AUTHENTICATION_REQUIRED,K,y),this.chatRoomForwarder.forward(dr.XMPPEvents.BRIDGE_DOWN,K,U),n.addListener(dr.XMPPEvents.BRIDGE_DOWN,function(){return nr.sendAnalytics({action:"bridge.down",actionSubject:"bridge.down",type:kt})}),n.addListener(dr.XMPPEvents.CONNECTION_RESTARTED,function(e){t._onConferenceRestarted(e)}),this.chatRoomForwarder.forward(dr.XMPPEvents.RESERVATION_ERROR,K,F),n.addListener(dr.XMPPEvents.RESERVATION_ERROR,function(){t.xmpp.connection.emuc.doLeave(t.room.roomjid)}),this.chatRoomForwarder.forward(dr.XMPPEvents.GRACEFUL_SHUTDOWN,K,D),n.addListener(dr.XMPPEvents.CONNECTION_ICE_FAILED,function(e){t._onIceConnectionFailed(e)}),this.chatRoomForwarder.forward(dr.XMPPEvents.MUC_DESTROYED,K,C),this.chatRoomForwarder.forward(dr.XMPPEvents.CHAT_ERROR_RECEIVED,G,S),this.chatRoomForwarder.forward(dr.XMPPEvents.SETTINGS_ERROR_RECEIVED,G,E),this.chatRoomForwarder.forward(dr.XMPPEvents.FOCUS_DISCONNECTED,K,P),n.addListener(dr.XMPPEvents.FOCUS_LEFT,function(){nr.sendAnalytics({action:"focus.left",actionSubject:"focus.left",type:Rt.TYPE_OPERATIONAL}),t.eventEmitter.emit(K,O)}),n.addListener(dr.XMPPEvents.SESSION_ACCEPT_TIMEOUT,function(e){nr.sendAnalyticsAndLog(en(Mt,{p2p:e.isP2P}))}),n.addListener(dr.XMPPEvents.RECORDER_STATE_CHANGED,function(e,n){if(n){var r=ut.Strophe.getResourceFromJid(n),i=t.getParticipantById(r)||r;"off"===e.getStatus()?e.setTerminator(i):"on"===e.getStatus()&&e.setInitiator(i)}t.eventEmitter.emit(ke,e)}),this.chatRoomForwarder.forward(dr.XMPPEvents.TRANSCRIPTION_STATUS_CHANGED,He),this.chatRoomForwarder.forward(dr.XMPPEvents.VIDEO_SIP_GW_AVAILABILITY_CHANGED,Pe),this.chatRoomForwarder.forward(dr.XMPPEvents.VIDEO_SIP_GW_SESSION_STATE_CHANGED,Oe),this.chatRoomForwarder.forward(dr.XMPPEvents.PHONE_NUMBER_CHANGED,Ae),n.setParticipantPropertyListener(function(e,n){var r=t.getParticipantById(n);r&&r.setProperty(e.tagName.substring("jitsi_participant_".length),e.value)}),n.addListener(dr.XMPPEvents.KICKED,t.onMemberKicked.bind(t)),n.addListener(dr.XMPPEvents.SUSPEND_DETECTED,t.onSuspendDetected.bind(t)),this.chatRoomForwarder.forward(dr.XMPPEvents.MUC_LOCK_CHANGED,he),this.chatRoomForwarder.forward(dr.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,ve),n.addListener(dr.XMPPEvents.MUC_MEMBER_JOINED,t.onMemberJoined.bind(t)),this.chatRoomForwarder.forward(dr.XMPPEvents.MUC_LOBBY_MEMBER_JOINED,We),this.chatRoomForwarder.forward(dr.XMPPEvents.MUC_LOBBY_MEMBER_UPDATED,Xe),this.chatRoomForwarder.forward(dr.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,$e),n.addListener(dr.XMPPEvents.MUC_MEMBER_BOT_TYPE_CHANGED,t._onMemberBotTypeChanged.bind(t)),n.addListener(dr.XMPPEvents.MUC_MEMBER_LEFT,t.onMemberLeft.bind(t)),this.chatRoomForwarder.forward(dr.XMPPEvents.MUC_LEFT,W),this.chatRoomForwarder.forward(dr.XMPPEvents.MUC_DENIED_ACCESS,K,k),n.addListener(dr.XMPPEvents.DISPLAY_NAME_CHANGED,t.onDisplayNameChanged.bind(t)),n.addListener(dr.XMPPEvents.LOCAL_ROLE_CHANGED,function(e){t.onLocalRoleChanged(e),t.statistics&&t.isModerator()&&t.on(ke,function(e){var t={error:e.getError(),id:"recorder_status",status:e.getStatus()};nr.sendLog(JSON.stringify(t))})}),n.addListener(dr.XMPPEvents.MUC_ROLE_CHANGED,t.onUserRoleChanged.bind(t)),n.addListener(ur().IDENTITY_UPDATED,function(e,n){t.authEnabled=e,t.authIdentity=n,t.eventEmitter.emit(B,e,n)}),n.addListener(dr.XMPPEvents.MESSAGE_RECEIVED,function(e,n,r,i){var o=ut.Strophe.getResourceFromJid(e);t.eventEmitter.emit(_e,o,n,i)}),n.addListener(dr.XMPPEvents.PRIVATE_MESSAGE_RECEIVED,function(e,n,r,i){var o=ut.Strophe.getResourceFromJid(e);t.eventEmitter.emit(Ee,o,n,i)}),n.addListener(dr.XMPPEvents.PRESENCE_STATUS,function(e,n){var r=ut.Strophe.getResourceFromJid(e),i=t.getParticipantById(r);i&&i._status!==n&&(i._status=n,t.eventEmitter.emit(Ke,r,n))}),n.addListener(dr.XMPPEvents.JSON_MESSAGE_RECEIVED,function(e,n){var r=ut.Strophe.getResourceFromJid(e),i=t.getParticipantById(r);i?t.eventEmitter.emit(oe,i,n):t.eventEmitter.emit(Se,r,n)}),n.addPresenceListener("startmuted",function(e,n){var r=!1;if(t.myUserId()===n&&t.isModerator())r=!0;else{var i=t.getParticipantById(n);i&&i.isModerator()&&(r=!0)}if(r){var o="true"===e.attributes.audio,s="true"===e.attributes.video,a=!1;o!==t.startMutedPolicy.audio&&(t.startMutedPolicy.audio=o,a=!0),s!==t.startMutedPolicy.video&&(t.startMutedPolicy.video=s,a=!0),a&&t.eventEmitter.emit(De,t.startMutedPolicy)}}),t.statistics&&(n.addListener(dr.XMPPEvents.CONNECTION_ICE_FAILED,function(e){t.statistics.sendIceConnectionFailedEvent(e.peerconnection)}),n.addListener(dr.XMPPEvents.ADD_ICE_CANDIDATE_FAILED,function(e,n){t.statistics.sendAddIceCandidateFailed(e,n)})),this.chatRoomForwarder.forward(dr.XMPPEvents.BREAKOUT_ROOMS_MOVE_TO_ROOM,rt),this.chatRoomForwarder.forward(dr.XMPPEvents.BREAKOUT_ROOMS_UPDATED,it)},hr.prototype.setupRTCListeners=function(){var e=this.conference,t=e.rtc;t.addListener(sr.default.REMOTE_TRACK_ADDED,e.onRemoteTrackAdded.bind(e)),t.addListener(sr.default.REMOTE_TRACK_REMOVED,e.onRemoteTrackRemoved.bind(e)),t.addListener(sr.default.DOMINANT_SPEAKER_CHANGED,function(t,n){if(e.lastDominantSpeaker!==t&&e.room){if(e.lastDominantSpeaker=t,e.eventEmitter.emit(ne,t,n),n&&n.length){var r=n.slice(0);e.myUserId!==t&&r.splice(0,0,t),r.length>5&&r.splice(5,r.length-5),e.statistics&&e.statistics.setSpeakerList(r)}e.statistics&&e.myUserId()===t&&e.statistics.sendDominantSpeakerEvent(e.room.roomjid)}}),t.addListener(sr.default.DATA_CHANNEL_OPEN,function(){var t=window.performance.now(),n="data.channel.opened";lr.log("(TIME) data.channel.opened:\t",t),e.room.connectionTimes[n]=t,nr.sendAnalytics(Yt(n,{value:t})),e.eventEmitter.emit(ee)}),t.addListener(sr.default.ENDPOINT_MESSAGE_RECEIVED,function(t,n){var r=e.getParticipantById(t);r?e.eventEmitter.emit(oe,r,n):lr.warn("Ignored ENDPOINT_MESSAGE_RECEIVED for not existing participant: "+t,n)}),t.addListener(sr.default.ENDPOINT_STATS_RECEIVED,function(t,n){var r=e.getParticipantById(t);r?e.eventEmitter.emit(se,r,n):lr.warn("Ignoring ENDPOINT_STATS_RECEIVED for a non-existant participant: "+t)}),t.addListener(sr.default.LOCAL_UFRAG_CHANGED,function(e,t){e.isP2P||nr.sendLog(JSON.stringify({id:"local_ufrag",value:t}))}),t.addListener(sr.default.REMOTE_UFRAG_CHANGED,function(e,t){e.isP2P||nr.sendLog(JSON.stringify({id:"remote_ufrag",value:t}))}),t.addListener(sr.default.CREATE_ANSWER_FAILED,function(t,n){e.statistics.sendCreateAnswerFailed(t,n),n.isP2P||e.eventEmitter.emit(K,w,t)}),t.addListener(sr.default.CREATE_OFFER_FAILED,function(t,n){e.statistics.sendCreateOfferFailed(t,n),n.isP2P||e.eventEmitter.emit(K,w,t)}),t.addListener(sr.default.SET_LOCAL_DESCRIPTION_FAILED,function(t,n){e.statistics.sendSetLocalDescFailed(t,n),n.isP2P||e.eventEmitter.emit(K,w,t)}),t.addListener(sr.default.SET_REMOTE_DESCRIPTION_FAILED,function(t,n){e.statistics.sendSetRemoteDescFailed(t,n),n.isP2P||e.eventEmitter.emit(K,w,t)}),t.addListener(sr.default.LOCAL_TRACK_SSRC_UPDATED,function(t,n){t.isVideoTrack()&&t.videoType===ar.VideoType.DESKTOP&&e.statistics.sendScreenSharingEvent(!0,n)})},hr.prototype.removeXMPPListeners=function(){var e=this,t=this.conference;Object.keys(this.xmppListeners).forEach(function(n){t.xmpp.removeListener(n,e.xmppListeners[n])}),this.xmppListeners={}},hr.prototype.setupXMPPListeners=function(){var e=this.conference;this._addConferenceXMPPListener(dr.XMPPEvents.CALL_INCOMING,e.onIncomingCall.bind(e)),this._addConferenceXMPPListener(dr.XMPPEvents.CALL_ACCEPTED,e.onCallAccepted.bind(e)),this._addConferenceXMPPListener(dr.XMPPEvents.TRANSPORT_INFO,e.onTransportInfo.bind(e)),this._addConferenceXMPPListener(dr.XMPPEvents.CALL_ENDED,e.onCallEnded.bind(e)),this._addConferenceXMPPListener(dr.XMPPEvents.START_MUTED_FROM_FOCUS,function(t,n){e.options.config.ignoreStartMuted||(e.startAudioMuted=t,e.startVideoMuted=n,e.getLocalTracks().forEach(function(t){switch(t.getType()){case Bn.AUDIO:e.startAudioMuted&&t.mute();break;case Bn.VIDEO:e.startVideoMuted&&t.mute()}}),e.eventEmitter.emit(Ne))}),this._addConferenceXMPPListener(dr.XMPPEvents.CONFERENCE_TIMESTAMP_RECEIVED,function(t){e.eventEmitter.emit(re,t)}),this._addConferenceXMPPListener(dr.XMPPEvents.AV_MODERATION_CHANGED,function(t,n,r){var i=e.getParticipants().find(function(e){return e.getJid()===r});e.eventEmitter.emit(Ze,{enabled:t,mediaType:n,actor:i})}),this._addConferenceXMPPListener(dr.XMPPEvents.AV_MODERATION_PARTICIPANT_APPROVED,function(t,n){var r=e.getParticipantById(ut.Strophe.getResourceFromJid(n));r&&e.eventEmitter.emit(et,{participant:r,mediaType:t})}),this._addConferenceXMPPListener(dr.XMPPEvents.AV_MODERATION_PARTICIPANT_REJECTED,function(t,n){var r=e.getParticipantById(ut.Strophe.getResourceFromJid(n));r&&e.eventEmitter.emit(tt,{participant:r,mediaType:t})}),this._addConferenceXMPPListener(dr.XMPPEvents.AV_MODERATION_APPROVED,function(t){return e.eventEmitter.emit(Qe,{mediaType:t})}),this._addConferenceXMPPListener(dr.XMPPEvents.AV_MODERATION_REJECTED,function(t){e.eventEmitter.emit(Ye,{mediaType:t})})},hr.prototype._addConferenceXMPPListener=function(e,t){this.xmppListeners[e]=t,this.conference.xmpp.addListener(e,t)},hr.prototype.setupStatisticsListeners=function(){var e=this.conference;e.statistics&&(e.statistics.addAudioLevelListener(function(t,n,r,i){e.rtc.setAudioLevel(t,n,r,i)}),e.statistics.addBeforeDisposedListener(function(){e.eventEmitter.emit(J)}),e.options.config.startSilent||e.statistics.addByteSentStatsListener(function(t,n){e.getLocalTracks(Bn.AUDIO).forEach(function(e){var r=t.getLocalSSRC(e);r&&n.hasOwnProperty(r)&&e.onByteSentStatsReceived(t,n[r])})}))},(function(e){e.LOCAL_TRACK_STOPPED="track.stopped",e.TRACK_AUDIO_LEVEL_CHANGED="track.audioLevelsChanged",e.TRACK_AUDIO_OUTPUT_CHANGED="track.audioOutputChanged",e.TRACK_MUTE_CHANGED="track.trackMuteChanged",e.TRACK_VIDEOTYPE_CHANGED="track.videoTypeChanged",e.NO_DATA_FROM_SOURCE="track.no_data_from_source",e.NO_AUDIO_INPUT="track.no_audio_input",e.TRACK_STREAMING_STATUS_CHANGED="track.streaming_status_changed"})(rr||(rr={}));var pr,fr=rr.LOCAL_TRACK_STOPPED,mr=rr.TRACK_AUDIO_LEVEL_CHANGED,vr=rr.TRACK_AUDIO_OUTPUT_CHANGED,_r=rr.TRACK_MUTE_CHANGED,gr=rr.TRACK_VIDEOTYPE_CHANGED,yr=rr.NO_DATA_FROM_SOURCE,Sr=rr.NO_AUDIO_INPUT,Er=rr.TRACK_STREAMING_STATUS_CHANGED,Cr=(0,v.getLogger)("modules/connectivity/ParticipantConnectionStatus.js"),Tr={ACTIVE:"active",INACTIVE:"inactive",INTERRUPTED:"interrupted",RESTORING:"restoring"},br=(function(){function e(t,n,r){_classCallCheck(this,e),this.rtc=t,this.conference=n,this.trackTimers={},this.connStatusFromJvb={},this.outOfLastNTimeout="number"==typeof r.outOfLastNTimeout?r.outOfLastNTimeout:500,this.p2pRtcMuteTimeout="number"==typeof r.p2pRtcMuteTimeout?r.p2pRtcMuteTimeout:2500,this.rtcMuteTimeout="number"==typeof r.rtcMuteTimeout?r.rtcMuteTimeout:1e4,this.rtcMutedTimestamp={},Cr.info("RtcMuteTimeout set to: "+this.rtcMuteTimeout),this.enteredLastNTimestamp=new Map,this.restoringTimers=new Map,this.connectionStatusMap=new Map}return _createClass(e,[{key:"_getVideoFrozenTimeout",value:function(e){return this.rtc.isInLastN(e)?this.rtcMuteTimeout:this.conference.isP2PActive()?this.p2pRtcMuteTimeout:this.outOfLastNTimeout}},{key:"init",value:function(){this._onEndpointConnStatusChanged=this.onEndpointConnStatusChanged.bind(this),this.rtc.addListener(sr.default.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),this._onP2PStatus=this.refreshConnectionStatusForAll.bind(this),this.conference.on(Re,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on(Je,this._onUserLeft),An.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(sr.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(sr.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onRemoteTrackAdded=this.onRemoteTrackAdded.bind(this),this.conference.on(xe,this._onRemoteTrackAdded),this._onRemoteTrackRemoved=this.onRemoteTrackRemoved.bind(this),this.conference.on(Ve,this._onRemoteTrackRemoved),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this)),this._onLastNChanged=this._onLastNChanged.bind(this),this.conference.on(de,this._onLastNChanged),this._onLastNValueChanged=this.refreshConnectionStatusForAll.bind(this),this.rtc.on(sr.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged)}},{key:"dispose",value:function(){this.rtc.removeListener(sr.default.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),An.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(sr.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(sr.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.conference.off(xe,this._onRemoteTrackAdded),this.conference.off(Ve,this._onRemoteTrackRemoved)),this.conference.off(de,this._onLastNChanged),this.rtc.removeListener(sr.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.conference.off(Re,this._onP2PStatus),this.conference.off(Je,this._onUserLeft);for(var e=0,t=Object.keys(this.trackTimers);e<t.length;e++){var n=t[e];this.clearTimeout(n),this.clearRtcMutedTimestamp(n)}for(var r in this.connectionStatusMap)this.connectionStatusMap.hasOwnProperty(r)&&this.onUserLeft(r);this.connStatusFromJvb={}}},{key:"onEndpointConnStatusChanged",value:function(e,t){Cr.debug("Detector RTCEvents.ENDPOINT_CONN_STATUS_CHANGED("+Date.now()+"): "+e+": "+t),e!==this.conference.myUserId()&&(this.connStatusFromJvb[e]=t,this.figureOutConnectionStatus(e))}},{key:"_changeConnectionStatus",value:function(e,t){if(e.getConnectionStatus()!==t){var n=e.getId();e._setConnectionStatus(t),Cr.debug("Emit endpoint conn status("+Date.now()+") "+n+": "+t),nr.sendLog(JSON.stringify({id:"peer.conn.status",participant:n,status:t})),this.conference.eventEmitter.emit(Ce,n,t)}}},{key:"clearTimeout",value:function(e){this.trackTimers[e]&&(window.clearTimeout(this.trackTimers[e]),this.trackTimers[e]=null)}},{key:"clearRtcMutedTimestamp",value:function(e){this.rtcMutedTimestamp[e]=null}},{key:"onRemoteTrackAdded",value:function(e){var t=this;e.isLocal()||e.getType()!==Bn.VIDEO||(Cr.debug("Detector on remote track added for: "+e.getParticipantId()),e.on(_r,this._onSignallingMuteChanged),e.on(gr,function(n){return t._onTrackVideoTypeChanged(e,n)}))}},{key:"onRemoteTrackRemoved",value:function(e){if(!e.isLocal()&&e.getType()===Bn.VIDEO){var t=e.getParticipantId();Cr.debug("Detector on remote track removed: "+t),e.off(_r,this._onSignallingMuteChanged),this.clearTimeout(t),this.clearRtcMutedTimestamp(t),this.figureOutConnectionStatus(t)}}},{key:"isVideoTrackFrozen",value:function(e){if(!An.supportsVideoMuteOnConnInterrupted())return!1;var t=e.getId(),n=e.hasAnyVideoTrackWebRTCMuted(),r=this.rtcMutedTimestamp[t],i=this._getVideoFrozenTimeout(t);return n&&"number"==typeof r&&Date.now()-r>=i}},{key:"refreshConnectionStatusForAll",value:function(){for(var e,t=_createForOfIteratorHelperLoose(this.conference.getParticipants());!(e=t()).done;){var n=e.value;this.figureOutConnectionStatus(n.getId())}}},{key:"figureOutConnectionStatus",value:function(t){var n=this.conference.getParticipantById(t);if(n){var r=this.conference.isP2PActive(),i=this._isRestoringTimedout(t),o=0===this.conference.getLastN(),s=n.isVideoMuted()||o,a=this.isVideoTrackFrozen(n),c=this.rtc.isInLastN(t),u=this.connStatusFromJvb[t];"boolean"!=typeof u&&(u=!0);var d=r?e._getNewStateForP2PMode(s,a):e._getNewStateForJvbMode(u,c,i,s,a);d!==Tr.RESTORING&&this._clearRestoringTimer(t),Cr.debug("Figure out conn status for "+t+", is video muted: "+s+" is active(jvb): "+u+" video track frozen: "+a+" p2p mode: "+r+" is in last N: "+c+" currentStatus => newStatus: "+n.getConnectionStatus()+" => "+d);var l=this.connectionStatusMap[t]||{};if(!("p2p"in l&&"connectionStatus"in l&&l.p2p===r&&l.connectionStatus===d)){var h=Date.now();if(this.maybeSendParticipantConnectionStatusEvent(t,h),this.connectionStatusMap[t]=_objectSpread(_objectSpread({},l),{},{connectionStatus:d,p2p:r,startedMs:h}),!("videoType"in this.connectionStatusMap[t])){var p=n.getTracksByMediaType(Bn.VIDEO);Array.isArray(p)&&0!==p.length&&(this.connectionStatusMap[t].videoType=p[0].videoType)}}this._changeConnectionStatus(n,d)}else Cr.debug("figure out conn status - no participant for: "+t)}},{key:"maybeSendParticipantConnectionStatusEvent",value:function(e,t){var n=this.connectionStatusMap[e];n&&"startedMs"in n&&"videoType"in n&&"connectionStatus"in n&&"p2p"in n&&(n.value=t-n.startedMs,nr.sendAnalytics((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Rt.TYPE_OPERATIONAL,source:"peer.conn.status",action:"duration",attributes:e}})(n)))}},{key:"_onLastNChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Date.now();Cr.debug("LastN endpoints changed leaving="+e+", entering="+t+" at "+n),An.supportsVideoMuteOnConnInterrupted()||this.refreshConnectionStatusForAll();for(var r,i=_createForOfIteratorHelperLoose(e);!(r=i()).done;){var o=r.value;this.enteredLastNTimestamp.delete(o),this._clearRestoringTimer(o),An.supportsVideoMuteOnConnInterrupted()&&this.figureOutConnectionStatus(o)}for(var s,a=_createForOfIteratorHelperLoose(t);!(s=a()).done;){var c=s.value;this.enteredLastNTimestamp.set(c,n),An.supportsVideoMuteOnConnInterrupted()&&this.figureOutConnectionStatus(c)}}},{key:"_clearRestoringTimer",value:function(e){var t=this.restoringTimers.get(e);t&&(clearTimeout(t),this.restoringTimers.delete(e))}},{key:"_isRestoringTimedout",value:function(e){var t=this,n=this.enteredLastNTimestamp.get(e);return!!(n&&Date.now()-n>=1e4)||(this.restoringTimers.get(e)||this.restoringTimers.set(e,setTimeout(function(){return t.figureOutConnectionStatus(e)},1e4)),!1)}},{key:"onUserLeft",value:function(e){this.maybeSendParticipantConnectionStatusEvent(e,Date.now()),delete this.connectionStatusMap[e]}},{key:"onTrackRtcMuted",value:function(e){var t=this,n=e.getParticipantId(),r=this.conference.getParticipantById(n);if(Cr.debug("Detector track RTC muted: "+n,Date.now()),r){if(this.rtcMutedTimestamp[n]=Date.now(),!r.isVideoMuted()){this.clearTimeout(n);var i=this._getVideoFrozenTimeout(n);this.trackTimers[n]=window.setTimeout(function(){Cr.debug("Set RTC mute timeout for: "+n+"                     of "+i+" ms"),t.clearTimeout(n),t.figureOutConnectionStatus(n)},i)}}else Cr.error("No participant for id: "+n)}},{key:"onTrackRtcUnmuted",value:function(e){var t=e.getParticipantId();Cr.debug("Detector track RTC unmuted: "+t,Date.now()),this.clearTimeout(t),this.clearRtcMutedTimestamp(t),this.figureOutConnectionStatus(t)}},{key:"onSignallingMuteChanged",value:function(e){var t=e.getParticipantId();Cr.debug("Detector on track signalling mute changed: "+t,e.isMuted()),this.figureOutConnectionStatus(t)}},{key:"onTrackVideoTypeChanged",value:function(e,t){var n=e.getParticipantId(),r=Date.now();this.maybeSendParticipantConnectionStatusEvent(n,r),this.connectionStatusMap[n]=_objectSpread(_objectSpread({},this.connectionStatusMap[n]||{}),{},{videoType:t,startedMs:r})}}],[{key:"_getNewStateForJvbMode",value:function(e,t,n,r,i){return e?r?Tr.ACTIVE:An.supportsVideoMuteOnConnInterrupted()?i?t?n?Tr.INTERRUPTED:Tr.RESTORING:Tr.INACTIVE:Tr.ACTIVE:t?Tr.ACTIVE:Tr.INACTIVE:Tr.INTERRUPTED}},{key:"_getNewStateForP2PMode",value:function(e,t){return An.supportsVideoMuteOnConnInterrupted()?e||!t?Tr.ACTIVE:Tr.INTERRUPTED:Tr.ACTIVE}}]),e})(),Rr=(function(){function e(t,n,r,i,o,s,a,c,u){_classCallCheck(this,e),this._jid=t,this._id=ut.Strophe.getResourceFromJid(t),this._conference=n,this._displayName=r,this._supportsDTMF=!1,this._tracks=[],this._role="none",this._status=s,this._hidden=i,this._statsID=o,this._connectionStatus=Tr.ACTIVE,this._properties={},this._identity=a,this._isReplacing=c,this._isReplaced=u,this._features=new Set}return _createClass(e,[{key:"getConference",value:function(){return this._conference}},{key:"getProperty",value:function(e){return this._properties[e]}},{key:"hasAnyVideoTrackWebRTCMuted",value:function(){return this.getTracks().some(function(e){return e.getType()===Bn.VIDEO&&e.isWebRTCTrackMuted()})}},{key:"_setConnectionStatus",value:function(e){this._connectionStatus=e}},{key:"getConnectionStatus",value:function(){return this._connectionStatus}},{key:"setProperty",value:function(e,t){var n=this._properties[e];t!==n&&(this._properties[e]=t,this._conference.eventEmitter.emit(be,this,e,n,t))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTracksByMediaType",value:function(e){return this.getTracks().filter(function(t){return t.getType()===e})}},{key:"getId",value:function(){return this._id}},{key:"getJid",value:function(){return this._jid}},{key:"getDisplayName",value:function(){return this._displayName}},{key:"getStatsID",value:function(){return this._statsID}},{key:"getStatus",value:function(){return this._status}},{key:"isModerator",value:function(){return"moderator"===this._role}},{key:"isHidden",value:function(){return this._hidden}},{key:"isHiddenFromRecorder",value:function(){var e,t;return Boolean(null===(e=this._identity)||void 0===e||null===(t=e.user)||void 0===t?void 0:t["hidden-from-recorder"])}},{key:"isReplacing",value:function(){return this._isReplacing}},{key:"isReplaced",value:function(){return this._isReplaced}},{key:"isAudioMuted",value:function(){return this._isMediaTypeMuted(Bn.AUDIO)}},{key:"_isMediaTypeMuted",value:function(e){return this.getTracks().reduce(function(t,n){return t&&(n.getType()!==e||n.isMuted())},!0)}},{key:"isVideoMuted",value:function(){return this._isMediaTypeMuted(Bn.VIDEO)}},{key:"getRole",value:function(){return this._role}},{key:"setRole",value:function(e){this._role=e}},{key:"setIsReplacing",value:function(e){this._isReplacing=e}},{key:"setIsReplaced",value:function(e){this._isReplaced=e}},{key:"supportsDTMF",value:function(){return this._supportsDTMF}},{key:"getFeatures",value:function(){return Promise.resolve(this._features)}},{key:"hasFeature",value:function(e){return this._features.has(e)}},{key:"setFeatures",value:function(e){this._features=e||new Set}},{key:"getBotType",value:function(){return this._botType}},{key:"setBotType",value:function(e){this._botType=e}}]),e})();!(function(e){e.CONNECTION_DISCONNECTED="connection.connectionDisconnected",e.CONNECTION_ESTABLISHED="connection.connectionEstablished",e.CONNECTION_FAILED="connection.connectionFailed",e.WRONG_STATE="connection.wrongState",e.DISPLAY_NAME_REQUIRED="connection.display_name_required"})(pr||(pr={}));var Ar,Ir=pr.CONNECTION_DISCONNECTED,kr=pr.CONNECTION_ESTABLISHED,Pr=pr.CONNECTION_FAILED,Or=pr.WRONG_STATE,Dr=pr.DISPLAY_NAME_REQUIRED;n(1352),(function(e){e.CONNECTION_DROPPED_ERROR="connection.droppedError",e.OTHER_ERROR="connection.otherError",e.PASSWORD_REQUIRED="connection.passwordRequired",e.SERVER_ERROR="connection.serverError"})(Ar||(Ar={}));var Nr=Ar.CONNECTION_DROPPED_ERROR,Mr=Ar.OTHER_ERROR,wr=Ar.PASSWORD_REQUIRED,Lr=Ar.SERVER_ERROR,xr=(function(){function e(){var t=this;_classCallCheck(this,e);var n=this;this.promise=new Promise(function(e,r){t.resolve=function(){n.clearRejectTimeout(),e.apply(void 0,arguments)},t.reject=function(){n.clearRejectTimeout(),r.apply(void 0,arguments)}}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return _createClass(e,[{key:"clearRejectTimeout",value:function(){clearTimeout(this._timeout)}},{key:"setRejectTimeout",value:function(e){var t=this;this._timeout=setTimeout(function(){t.reject(new Error("timeout"))},e)}}]),e})(),Fr=(function(){function e(){_classCallCheck(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new(st());this.eventEmitter=t,this.addEventListener=this.on=this.addListener,this.removeEventListener=this.off=this.removeListener}return _createClass(e,[{key:"addListener",value:function(e,t){var n=this;return this.eventEmitter.addListener(e,t),function(){return n.removeEventListener(e,t)}}},{key:"removeListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}}]),e})(),Ur=(0,v.getLogger)("modules/e2ee/E2EEContext.js"),Vr=Symbol("kJitsiE2EE"),jr=(function(){function e(){_classCallCheck(this,e);var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sharedKey,n="",r=document.querySelector('script[src*="lib-jitsi-meet"]');if(r){var i=r.src.lastIndexOf("/");n=r.src.substring(0,i)+"/"}var o=n+"lib-jitsi-meet.e2ee-worker.js";if(n&&"/"!==n){var s=new Blob(["importScripts(\""+o+"\");"],{type:"application/javascript"});o=window.URL.createObjectURL(s)}this._worker=new Worker(o,{name:"E2EE Worker"}),this._worker.onerror=function(e){return Ur.error(e)},this._worker.postMessage({operation:"initialize",sharedKey:t})}return _createClass(e,[{key:"cleanup",value:function(e){this._worker.postMessage({operation:"cleanup",participantId:e})}},{key:"cleanupAll",value:function(){this._worker.postMessage({operation:"cleanupAll"})}},{key:"handleReceiver",value:function(e,t,n){if(!e[Vr])if(e[Vr]=!0,window.RTCRtpScriptTransform){var r={operation:"decode",participantId:n};e.transform=new RTCRtpScriptTransform(this._worker,r)}else{var i=e.createEncodedStreams();this._worker.postMessage({operation:"decode",readableStream:i.readable,writableStream:i.writable,participantId:n},[i.readable,i.writable])}}},{key:"handleSender",value:function(e,t,n){if(!e[Vr])if(e[Vr]=!0,window.RTCRtpScriptTransform){var r={operation:"encode",participantId:n};e.transform=new RTCRtpScriptTransform(this._worker,r)}else{var i=e.createEncodedStreams();this._worker.postMessage({operation:"encode",readableStream:i.readable,writableStream:i.writable,participantId:n},[i.readable,i.writable])}}},{key:"setKey",value:function(e,t,n){this._worker.postMessage({operation:"setKey",key:t,keyIndex:n,participantId:e})}}]),e})(),Hr=(0,v.getLogger)("modules/e2ee/KeyHandler.js"),Br=(function(e){_inherits(n,Fr);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r=t.call(this)).conference=e,r.e2eeCtx=new jr(i),r.enabled=!1,r._enabling=void 0,r.conference.on(fe,r._onMediaSessionStarted.bind(_assertThisInitialized(r))),r.conference.on(xe,function(e){return e.isLocal()&&r._onLocalTrackAdded(e)}),r.conference.rtc.on(sr.default.REMOTE_TRACK_ADDED,function(e,t){return r._setupReceiverE2EEForTrack(t,e)}),r.conference.on(Ue,r._trackMuteChanged.bind(_assertThisInitialized(r))),r}return _createClass(n,[{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){return _regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e!==this.enabled,!t.t0){t.next=16;break}if(t.t1=this._enabling,!t.t1){t.next=6;break}return t.next=6,_regeneratorRuntime.awrap(this._enabling);case 6:if(this._enabling=new xr,this.enabled=e,e||this.e2eeCtx.cleanupAll(),t.t2=this._setEnabled,!t.t2){t.next=13;break}return t.next=13,_regeneratorRuntime.awrap(this._setEnabled(e));case 13:this.conference.setLocalParticipantProperty("e2ee.enabled",e),this.conference._restartMediaSessions(),this._enabling.resolve();case 16:case"end":return t.stop()}},null,this,null,Promise)}},{key:"setEncryptionKey",value:function(){throw new Error("Not implemented by subclass")}},{key:"_onLocalTrackAdded",value:function(e){for(var t,n=_createForOfIteratorHelperLoose(this.conference.getMediaSessions());!(t=n()).done;){var r=t.value;this._setupSenderE2EEForTrack(r,e)}}},{key:"_onMediaSessionStarted",value:function(e){for(var t,n=_createForOfIteratorHelperLoose(this.conference.getLocalTracks());!(t=n()).done;){var r=t.value;this._setupSenderE2EEForTrack(e,r)}}},{key:"_setupReceiverE2EEForTrack",value:function(e,t){if(this.enabled){var n=e.findReceiverForTrack(t.track);n?this.e2eeCtx.handleReceiver(n,t.getType(),t.getParticipantId()):Hr.warn("Could not handle E2EE for "+t+": receiver not found in: "+e)}}},{key:"_setupSenderE2EEForTrack",value:function(e,t){if(this.enabled){var n=e.peerconnection,r=n&&n.findSenderForTrack(t.track);r?this.e2eeCtx.handleSender(r,t.getType(),t.getParticipantId()):Hr.warn("Could not handle E2EE for "+t+": sender not found in "+n)}}},{key:"_trackMuteChanged",value:function(e){if(An.doesVideoMuteByStreamRemove()&&e.isLocal()&&e.isVideoTrack()&&!e.isMuted())for(var t,n=_createForOfIteratorHelperLoose(this.conference.getMediaSessions());!(t=n()).done;){var r=t.value;this._setupSenderE2EEForTrack(r,e)}}}]),n})(),Jr=(function(e){_inherits(n,Br);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,{sharedKey:!0})}return _createClass(n,[{key:"setKey",value:function(e){this.e2eeCtx.setKey(void 0,{encryptionKey:e.encryptionKey},e.index)}}]),n})(),Gr=n(9509),Kr=n.n(Gr),qr=n(3577),zr=n(4433);zr.v1,zr.v3;var Wr=zr.v4;zr.v5;var Xr=(0,v.getLogger)("modules/e2ee/OlmAdapter.js"),$r="olm",Qr="key-info",Yr="key-info-ack",Zr="session-ack",ei="session-init",ti=Symbol("OlmData"),ni={OLM_ID_KEY_READY:"olm.id_key_ready",PARTICIPANT_E2EE_CHANNEL_READY:"olm.participant_e2ee_channel_ready",PARTICIPANT_KEY_UPDATED:"olm.partitipant_key_updated"},ri=(function(e){_inherits(n,Fr);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._conf=e,r._init=new xr,r._key=void 0,r._keyIndex=-1,r._reqs=new Map,r._sessionInitialization=void 0,n.isSupported()?(r._bootstrapOlm(),r._conf.on(oe,r._onEndpointMessageReceived.bind(_assertThisInitialized(r))),r._conf.on(W,r._onConferenceLeft.bind(_assertThisInitialized(r))),r._conf.on(Je,r._onParticipantLeft.bind(_assertThisInitialized(r))),r._conf.on(be,r._onParticipantPropertyChanged.bind(_assertThisInitialized(r)))):r._init.reject(new Error("Olm not supported")),r}return _createClass(n,[{key:"initSessions",value:function(){var e,t,n,r,i;return _regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this._sessionInitialization){o.next=2;break}throw new Error("OlmAdapter initSessions called multiple times");case 2:return this._sessionInitialization=new xr,o.next=5,_regeneratorRuntime.awrap(this._init);case 5:for(e=[],t=this._conf.myUserId(),n=_createForOfIteratorHelperLoose(this._conf.getParticipants());!(r=n()).done;)(i=r.value).hasFeature(ss)&&t<i.getId()&&e.push(this._sendSessionInit(i));return o.next=9,_regeneratorRuntime.awrap(Promise.allSettled(e));case 9:this._sessionInitialization.resolve(),this._sessionInitialization=void 0;case 11:case"end":return o.stop()}},null,this,null,Promise)}},{key:"updateKey",value:function(e){var t,n,r,i,o,s=this;return _regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:this._key=e,this._keyIndex++,t=[],n=function(e){var n,r=e.getId(),i=s._getParticipantOlmData(e);if(!i.session)return Xr.warn("Tried to send key to participant "+r+" but we have no session"),"continue";var o=Wr(),a=(_defineProperty(n={},is,$r),_defineProperty(n,"olm",{type:Qr,data:{ciphertext:s._encryptKeyInfo(i.session),uuid:o}}),n),c=new xr;c.setRejectTimeout(5e3),c.catch(function(){s._reqs.delete(o)}),s._reqs.set(o,c),t.push(c),s._sendMessage(a,r)},r=_createForOfIteratorHelperLoose(this._conf.getParticipants());case 4:if((i=r()).done){a.next=11;break}if(o=i.value,"continue"!==n(o)){a.next=9;break}return a.abrupt("continue",9);case 9:a.next=4;break;case 11:return a.next=13,_regeneratorRuntime.awrap(Promise.allSettled(t));case 13:return a.abrupt("return",this._keyIndex);case 14:case"end":return a.stop()}},null,this,null,Promise)}},{key:"updateCurrentKey",value:function(e){return this._key=e,this._keyIndex}},{key:"clearParticipantSession",value:function(e){var t=this._getParticipantOlmData(e);t.session&&(t.session.free(),t.session=void 0)}},{key:"clearAllParticipantsSessions",value:function(){for(var e,t=_createForOfIteratorHelperLoose(this._conf.getParticipants());!(e=t()).done;){var n=e.value;this.clearParticipantSession(n)}}},{key:"_bootstrapOlm",value:function(){var e;return _regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return Xr.debug("Initializing Olm..."),t.prev=1,t.next=4,_regeneratorRuntime.awrap(Olm.init());case 4:this._olmAccount=new Olm.Account,this._olmAccount.create(),e=JSON.parse(this._olmAccount.identity_keys()),this._idKey=e.curve25519,Xr.debug("Olm "+Olm.get_library_version().join(".")+" initialized"),this._init.resolve(),this._onIdKeyReady(this._idKey),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),Xr.error("Failed to initialize Olm",t.t0),this._init.reject(t.t0);case 13:case"end":return t.stop()}},null,this,[[1,10]],Promise)}},{key:"_onIdKeyReady",value:function(e){Xr.debug("Olm id key ready: "+e),this._conf.setLocalParticipantProperty("e2ee.idKey",e)}},{key:"_onParticipantE2EEChannelReady",value:function(e){Xr.debug("E2EE channel with participant "+e+" is ready")}},{key:"_encryptKeyInfo",value:function(e){var t={};return void 0!==this._key&&(t.key=!!this._key&&qr.fromByteArray(this._key),t.keyIndex=this._keyIndex),e.encrypt(JSON.stringify(t))}},{key:"_getParticipantOlmData",value:function(e){return e[ti]=e[ti]||{},e[ti]}},{key:"_onConferenceLeft",value:function(){var e,t,n;return _regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return Xr.debug("Conference left"),r.next=3,_regeneratorRuntime.awrap(this._init);case 3:for(e=_createForOfIteratorHelperLoose(this._conf.getParticipants());!(t=e()).done;)n=t.value,this._onParticipantLeft(n.getId(),n);this._olmAccount&&(this._olmAccount.free(),this._olmAccount=void 0);case 5:case"end":return r.stop()}},null,this,null,Promise)}},{key:"_onEndpointMessageReceived",value:function(e,t){var n,r,i,o,s,a,c,u,d,l,h,p,f,m,v,_,g,y,S,E,C,T,b,R;return _regeneratorRuntime.async(function(A){for(;;)switch(A.prev=A.next){case 0:if(t[is]===$r){A.next=2;break}return A.abrupt("return");case 2:if(t.olm){A.next=4;break}return A.abrupt("return",void Xr.warn("Incorrectly formatted message"));case 4:return A.next=6,_regeneratorRuntime.awrap(this._init);case 6:n=t.olm,r=e.getId(),i=this._getParticipantOlmData(e),A.t0=n.type,A.next=A.t0===ei?10:A.t0===Zr?12:"error"===A.t0?14:A.t0===Qr?16:A.t0===Yr?18:19;break;case 10:return i.session?(Xr.warn("Participant "+r+" already has a session"),this._sendError(e,"Session already established")):((s=new Olm.Session).create_outbound(this._olmAccount,n.data.idKey,n.data.otKey),i.session=s,_defineProperty(o={},is,$r),_defineProperty(o,"olm",{type:Zr,data:{ciphertext:this._encryptKeyInfo(s),uuid:n.data.uuid}}),a=o,this._sendMessage(a,r),this._onParticipantE2EEChannelReady(r)),A.abrupt("break",19);case 12:return i.session?(Xr.warn("Participant "+r+" already has a session"),this._sendError(e,"No session found")):n.data.uuid===i.pendingSessionUuid?(c=n.data.ciphertext,u=this._reqs.get(n.data.uuid),(d=new Olm.Session).create_inbound(this._olmAccount,c.body),this._olmAccount.remove_one_time_keys(d),l=d.decrypt(c.type,c.body),i.session=d,i.pendingSessionUuid=void 0,this._onParticipantE2EEChannelReady(r),this._reqs.delete(n.data.uuid),u.resolve(),(h=ii(l)).key&&(p=qr.toByteArray(h.key),f=h.keyIndex,i.lastKey=p,this.eventEmitter.emit(ni.PARTICIPANT_KEY_UPDATED,r,p,f))):(Xr.warn("Received ACK with the wrong UUID"),this._sendError(e,"Invalid UUID")),A.abrupt("break",19);case 14:return Xr.error(n.data.error),A.abrupt("break",19);case 16:return i.session?(m=n.data.ciphertext,void 0!==(v=ii(i.session.decrypt(m.type,m.body))).key&&void 0!==v.keyIndex&&(g=!!v.key&&qr.toByteArray(v.key),y=v.keyIndex,ct()(i.lastKey,g)||(i.lastKey=g,this.eventEmitter.emit(ni.PARTICIPANT_KEY_UPDATED,r,g,y)),_defineProperty(_={},is,$r),_defineProperty(_,"olm",{type:Yr,data:{ciphertext:this._encryptKeyInfo(i.session),uuid:n.data.uuid}}),S=_,this._sendMessage(S,r))):(Xr.debug("Received key info message from "+r+" but we have no session for them!"),this._sendError(e,"No session found while processing key-info")),A.abrupt("break",19);case 18:i.session?(E=n.data.ciphertext,void 0!==(C=ii(i.session.decrypt(E.type,E.body))).key&&void 0!==C.keyIndex&&(T=!!C.key&&qr.toByteArray(C.key),b=C.keyIndex,ct()(i.lastKey,T)||(i.lastKey=T,this.eventEmitter.emit(ni.PARTICIPANT_KEY_UPDATED,r,T,b))),R=this._reqs.get(n.data.uuid),this._reqs.delete(n.data.uuid),R.resolve()):(Xr.debug("Received key info ack message from "+r+" but we have no session for them!"),this._sendError(e,"No session found while processing key-info-ack"));case 19:case"end":return A.stop()}},null,this,null,Promise)}},{key:"_onParticipantLeft",value:function(e,t){Xr.debug("Participant "+e+" left"),this.clearParticipantSession(t)}},{key:"_onParticipantPropertyChanged",value:function(e,t,n,r){var i,o,s,a,c,u;return _regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:if("e2ee.enabled"!==t||!r||!this._conf.isE2EEEnabled()){n.next=16;break}return i=this._conf.myUserId(),o=e.getId(),n.next=4,_regeneratorRuntime.awrap(e.getFeatures());case 4:if(n.t0=n.sent.has(ss),!n.t0){n.next=7;break}n.t0=i<o;case 7:if(!n.t0){n.next=16;break}if(n.t1=this._sessionInitialization,!n.t1){n.next=12;break}return n.next=12,_regeneratorRuntime.awrap(this._sessionInitialization);case 12:return n.next=14,_regeneratorRuntime.awrap(this._sendSessionInit(e));case 14:a=this._getParticipantOlmData(e),c=Wr(),_defineProperty(s={},is,$r),_defineProperty(s,"olm",{type:Qr,data:{ciphertext:this._encryptKeyInfo(a.session),uuid:c}}),u=s,this._sendMessage(u,o);case 16:case"end":return n.stop()}},null,this,null,Promise)}},{key:"_sendError",value:function(e,t){var n,r=e.getId(),i=(_defineProperty(n={},is,$r),_defineProperty(n,"olm",{type:"error",data:{error:t}}),n);this._sendMessage(i,r)}},{key:"_sendMessage",value:function(e,t){this._conf.sendMessage(e,t)}},{key:"_sendSessionInit",value:function(e){var t,n=this,r=e.getId(),i=this._getParticipantOlmData(e);if(i.session)return Xr.warn("Tried to send session-init to "+r+" but we already have a session"),Promise.reject();if(void 0!==i.pendingSessionUuid)return Xr.warn("Tried to send session-init to "+r+" but we already have a pending session"),Promise.reject();this._olmAccount.generate_one_time_keys(1);var o=JSON.parse(this._olmAccount.one_time_keys()),s=Object.values(o.curve25519)[0];if(!s)return Promise.reject(new Error("No one-time-keys generated"));this._olmAccount.mark_keys_as_published();var a=Wr(),c=(_defineProperty(t={},is,$r),_defineProperty(t,"olm",{type:ei,data:{idKey:this._idKey,otKey:s,uuid:a}}),t),u=new xr;return u.setRejectTimeout(5e3),u.catch(function(){n._reqs.delete(a),i.pendingSessionUuid=void 0}),this._reqs.set(a,u),this._sendMessage(c,r),i.pendingSessionUuid=a,u}}],[{key:"isSupported",value:function(){return void 0!==window.Olm}}]),n})();function ii(e){try{return JSON.parse(e)}catch(e){return{}}}ri.events=ni;var oi=(0,v.getLogger)("modules/e2ee/ManagedKeyHandler.js"),si=(function(e){_inherits(n,Br);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._key=void 0,r._conferenceJoined=!1,r._olmAdapter=new ri(e),r._rotateKey=Kr()(r._rotateKeyImpl,5e3),r._ratchetKey=Kr()(r._ratchetKeyImpl,5e3),r._olmAdapter.on(ri.events.PARTICIPANT_KEY_UPDATED,r._onParticipantKeyUpdated.bind(_assertThisInitialized(r))),r.conference.on(be,r._onParticipantPropertyChanged.bind(_assertThisInitialized(r))),r.conference.on(Be,r._onParticipantJoined.bind(_assertThisInitialized(r))),r.conference.on(Je,r._onParticipantLeft.bind(_assertThisInitialized(r))),r.conference.on(z,function(){r._conferenceJoined=!0}),r}return _createClass(n,[{key:"_setEnabled",value:function(e){var t;return _regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=5;break}return n.next=3,_regeneratorRuntime.awrap(this._olmAdapter.initSessions());case 3:n.next=6;break;case 5:this._olmAdapter.clearAllParticipantsSessions();case 6:return this._key=!!e&&this._generateKey(),n.next=9,_regeneratorRuntime.awrap(this._olmAdapter.updateKey(this._key));case 9:t=n.sent,this.e2eeCtx.setKey(this.conference.myUserId(),this._key,t);case 11:case"end":return n.stop()}},null,this,null,Promise)}},{key:"_onParticipantPropertyChanged",value:function(e,t,n,r){return _regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t,n.next="e2ee.idKey"===n.t0?3:"e2ee.enabled"===n.t0?5:6;break;case 3:return oi.debug("Participant "+e.getId()+" updated their id key: "+r),n.abrupt("break",6);case 5:!r&&this.enabled&&this._olmAdapter.clearParticipantSession(e);case 6:case"end":return n.stop()}},null,this,null,Promise)}},{key:"_onParticipantJoined",value:function(){this._conferenceJoined&&this.enabled&&this._ratchetKey()}},{key:"_onParticipantLeft",value:function(e){this.e2eeCtx.cleanup(e),this.enabled&&this._rotateKey()}},{key:"_rotateKeyImpl",value:function(){var e;return _regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return oi.debug("Rotating key"),this._key=this._generateKey(),t.next=3,_regeneratorRuntime.awrap(this._olmAdapter.updateKey(this._key));case 3:e=t.sent,this.e2eeCtx.setKey(this.conference.myUserId(),this._key,e);case 5:case"end":return t.stop()}},null,this,null,Promise)}},{key:"_ratchetKeyImpl",value:function(){var e,t,n;return _regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return oi.debug("Ratchetting key"),r.next=3,_regeneratorRuntime.awrap((function(e){return _regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",crypto.subtle.importKey("raw",e,"HKDF",!1,["deriveBits","deriveKey"]));case 1:case"end":return t.stop()}},null,null,null,Promise)})(this._key));case 3:return e=r.sent,r.next=6,_regeneratorRuntime.awrap((function(e){var t;return _regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t=new TextEncoder,n.abrupt("return",crypto.subtle.deriveBits({name:"HKDF",salt:t.encode("JFrameRatchetKey"),hash:"SHA-256",info:new ArrayBuffer},e,256));case 2:case"end":return n.stop()}},null,null,null,Promise)})(e));case 6:t=r.sent,this._key=new Uint8Array(t),n=this._olmAdapter.updateCurrentKey(this._key),this.e2eeCtx.setKey(this.conference.myUserId(),this._key,n);case 10:case"end":return r.stop()}},null,this,null,Promise)}},{key:"_onParticipantKeyUpdated",value:function(e,t,n){oi.debug("Participant "+e+" updated their key"),this.e2eeCtx.setKey(e,t,n)}},{key:"_generateKey",value:function(){return window.crypto.getRandomValues(new Uint8Array(32))}}]),n})(),ai=(function(){function e(t){_classCallCheck(this,e);var n=t.options.config.e2ee,r=void 0===n?{}:n;this._externallyManaged=r.externallyManagedKey,this._externallyManaged?this._keyHandler=new Jr(t):this._keyHandler=new si(t)}return _createClass(e,[{key:"isEnabled",value:function(){return this._keyHandler.isEnabled()}},{key:"setEnabled",value:function(e){return _regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_regeneratorRuntime.awrap(this._keyHandler.setEnabled(e));case 2:case"end":return t.stop()}},null,this,null,Promise)}},{key:"setEncryptionKey",value:function(e){this._keyHandler.setKey(e)}}],[{key:"isSupported",value:function(e){var t=e.e2ee;return!(!(void 0===t?{}:t).externallyManagedKey&&!ri.isSupported())&&!(e.testing&&e.testing.disableE2EE)&&(An.supportsInsertableStreams()||e.enableEncodedTransformSupport&&An.supportsEncodedTransform())}}]),e})(),ci=(0,v.getLogger)("FeatureFlags"),ui=new((function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(e){var t;this._sourceNameSignaling=Boolean(e.sourceNameSignaling),this._sendMultipleVideoStreams=Boolean(e.sendMultipleVideoStreams),this._usesUnifiedPlan=An.supportsUnifiedPlan()&&(!An.isChromiumBased()||null===(t=e.enableUnifiedOnChrome)||void 0===t||t),ci.info("Source name signaling: "+this._sourceNameSignaling+", Send multiple video streams: "+this._sendMultipleVideoStreams+", uses Unified plan: "+this._usesUnifiedPlan)}},{key:"isMultiStreamSupportEnabled",value:function(){return this._sourceNameSignaling&&this._sendMultipleVideoStreams&&this._usesUnifiedPlan}},{key:"isSourceNameSignalingEnabled",value:function(){return this._sourceNameSignaling}}]),e})()),di=n(5399),li=n.n(di),hi=["category","type","lang","name"],pi=["category","type","lang"];function fi(e,t){var n=0;return pi.some(function(r){return 0!==(n=e[r]>t[r]?1:e[r]<t[r]&&-1)}),n}function mi(e){var t=new Set,n=new Set;return $(e).find(">query>feature").each(function(e,n){return t.add(n.getAttribute("var"))}),$(e).find(">query>identity").each(function(e,t){return n.add({type:t.getAttribute("type"),name:t.getAttribute("name"),category:t.getAttribute("category")})}),{features:t,identities:n}}var vi=(function(e){_inherits(n,Fr);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://jitsi.org/jitsimeet";if((e=t.call(this)).node=i,e.disco=r.disco,!e.disco)throw new Error("Missing strophe-plugins (disco plugin is required)!");e.version="",e.rooms=new Set,e.externalFeatures=new Set;var o=r.emuc;return o.addListener(dr.XMPPEvents.EMUC_ROOM_ADDED,function(t){return e._addChatRoom(t)}),o.addListener(dr.XMPPEvents.EMUC_ROOM_REMOVED,function(t){return e._removeChatRoom(t)}),Object.keys(o.rooms).forEach(function(t){e._addChatRoom(o.rooms[t])}),ut.Strophe.addNamespace("CAPS","http://jabber.org/protocol/caps"),e.disco.addFeature(ut.Strophe.NS.CAPS),_possibleConstructorReturn(e)}return _createClass(n,[{key:"addFeature",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.addFeature(e),this._generateVersion(),r&&!this.externalFeatures.has(e)&&(this.externalFeatures.add(e),this.rooms.forEach(function(e){return t._updateRoomWithExternalFeatures(e)})),n&&this.submit()}},{key:"removeFeature",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.removeFeature(e),this._generateVersion(),r&&this.externalFeatures.has(e)&&(this.externalFeatures.delete(e),this.rooms.forEach(function(e){return t._updateRoomWithExternalFeatures(e)})),n&&this.submit()}},{key:"submit",value:function(){this.rooms.forEach(function(e){return e.sendPresence()})}},{key:"_updateRoomWithExternalFeatures",value:function(e){if(0===this.externalFeatures.size)e.removeFromPresence("features");else{var t=[];this.externalFeatures.forEach(function(e){t.push({tagName:"feature",attributes:{var:e}})}),e.addOrReplaceInPresence("features",{children:t})}}},{key:"getFeaturesAndIdentities",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return this._getDiscoInfo(e,t,n)}},{key:"_getDiscoInfo",value:function(e,t,n){var r=this;return new Promise(function(i,o){return r.disco.info(e,t,function(e){i(mi(e))},o,n)})}},{key:"_addChatRoom",value:function(e){this.rooms.add(e),this._fixChatRoomPresenceMap(e),this._updateRoomWithExternalFeatures(e)}},{key:"_removeChatRoom",value:function(e){this.rooms.delete(e)}},{key:"_fixChatRoomPresenceMap",value:function(e){e.addOrReplaceInPresence("c",{attributes:{xmlns:ut.Strophe.NS.CAPS,hash:"sha-1",node:this.node,ver:this.version}})}},{key:"_notifyVersionChanged",value:function(){var e=this;this.rooms.forEach(function(t){return e._fixChatRoomPresenceMap(t)})}},{key:"_generateVersion",value:function(){var e,t,n,r;this.version=(e=this.disco._identities,t=this.disco._features,n=e.sort(fi).reduce(function(e,t){return hi.reduce(function(e,n,r){return e+(0===r?"":"/")+(t[n]?t[n]:"")},"")+"<"},""),r=t.sort().reduce(function(e,t){return e+t+"<"},""),(0,ut.b64_sha1)(n+r)),this._notifyVersionChanged()}}]),n})();n(9617);var _i="NETWORK_INFO_CHANGED",gi=(0,v.getLogger)("modules/connectivity/NetworkInfo.js"),yi=new((function(e){_inherits(n,Fr);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._current={isOnline:!0},e}return _createClass(n,[{key:"updateNetworkInfo",value:function(e){var t=e.isOnline;gi.debug("updateNetworkInfo",{isOnline:t}),this._current={isOnline:!0===t},this.eventEmitter.emit(_i,this._current)}},{key:"isOnline",value:function(){return!0===this._current.isOnline}}]),n})()),Si=(0,v.getLogger)("modules/xmpp/ResumeTask.js"),Ei=(function(){function e(t){_classCallCheck(this,e),this._stropheConn=t,this._resumeRetryN=0,this._retryDelay=void 0}return _createClass(e,[{key:"retryDelay",get:function(){return this._retryDelay}},{key:"schedule",value:function(){var e=this;this._cancelResume(),this._resumeRetryN+=1,this._networkOnlineListener=yi.addEventListener(_i,function(t){t.isOnline?e._scheduleResume():e._cancelResume()}),yi.isOnline()&&this._scheduleResume()}},{key:"_scheduleResume",value:function(){var e=this;this._resumeTimeout||(this._resumeRetryN=Math.min(3,this._resumeRetryN),this._retryDelay=(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return Math.floor(Math.random()*(1e3*Math.pow(n,e)-t)+t)})(this._resumeRetryN,1500*this._resumeRetryN,3),Si.info("Will try to resume the XMPP connection in "+this.retryDelay+"ms"),this._resumeTimeout=setTimeout(function(){return e._resumeConnection()},this.retryDelay))}},{key:"_cancelResume",value:function(){this._resumeTimeout&&(Si.info("Canceling connection resume task"),clearTimeout(this._resumeTimeout),this._resumeTimeout=void 0,this._retryDelay=void 0)}},{key:"_resumeConnection",value:function(){var e=this._stropheConn.streamManagement,t=e.getResumeToken();if(t){Si.info("Trying to resume the XMPP connection");var n=new URL(this._stropheConn.service),r=n.search,i=/(previd=)([\w-]+)/,o=r.match(i);o&&-1===o.indexOf(t)?r=r.replace(i,"$1"+t):o||(r+=-1===r.indexOf("?")?"?previd="+t:"&previd="+t),n.search=r,this._stropheConn.service=n.toString(),e.resume()}}},{key:"cancel",value:function(){this._cancelResume(),this._resumeRetryN=0,this._networkOnlineListener&&(this._networkOnlineListener(),this._networkOnlineListener=null)}}]),e})(),Ci=(function(){function e(){_classCallCheck(this,e),this._lastSuccess=null,this._lastFailedMessage=null}return _createClass(e,[{key:"startTracking",value:function(e,t){var n=this,r=t.rawInput;t.rawInput=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=o[0];a.includes("failure")&&(n._lastFailedMessage=a),e.connected&&(n._lastSuccess=Date.now()),r.apply(t,o)}}},{key:"getLastFailedMessage",value:function(){return this._lastFailedMessage}},{key:"getTimeSinceLastSuccess",value:function(){return this._lastSuccess?Date.now()-this._lastSuccess:null}}]),e})();function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(function(){return _createClass(function e(){_classCallCheck(this,e)})})();return(function(t){_inherits(r,e);var n=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=n.apply(this,arguments)).connection=null,e}return _createClass(r,[{key:"init",value:function(e){this.connection=e}}]),r})()}var bi,Ri=Ti(),Ai=Ti(Fr),Ii=(0,v.getLogger)("modules/xmpp/strophe.ping.js"),ki=(function(e){_inherits(n,Ri);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=e.getTimeSinceLastServerResponse,o=e.onPingThresholdExceeded,s=e.pingOptions,a=void 0===s?{}:s;return(r=t.call(this)).failedPings=0,r._onPingThresholdExceeded=o,r._getTimeSinceLastServerResponse=i,r.pingInterval="number"==typeof a.interval?a.interval:1e4,r.pingTimeout="number"==typeof a.timeout?a.timeout:5e3,r.pingThreshold="number"==typeof a.threshold?a.threshold:2,r.pingTimestampsToKeep=Math.round(12e4/r.pingInterval),r.pingExecIntervals=new Array(r.pingTimestampsToKeep),r}return _createClass(n,[{key:"init",value:function(e){_get(_getPrototypeOf(n.prototype),"init",this).call(this,e),ut.Strophe.addNamespace("PING","urn:xmpp:ping")}},{key:"ping",value:function(e,t,n,r){this._addPingExecutionTimestamp();var i=(0,ut.$iq)({type:"get",to:e});i.c("ping",{xmlns:ut.Strophe.NS.PING}),this.connection.sendIQ2(i,{timeout:r}).then(t,n)}},{key:"startInterval",value:function(e){var t=this;clearInterval(this.intervalId),this.intervalId=window.setInterval(function(){var n=Date.now();if(t._getTimeSinceLastServerResponse()<n-t._lastServerCheck)return t._addPingExecutionTimestamp(),t._lastServerCheck=n,void(t.failedPings=0);t.ping(e,function(){t._lastServerCheck=t._getTimeSinceLastServerResponse()+Date.now(),t.failedPings=0},function(e){t.failedPings+=1;var n="Ping "+(e?"error":"timeout");t.failedPings>=t.pingThreshold?(Nn().callErrorHandler(new Error(n)),Ii.error(n,e),t._onPingThresholdExceeded&&t._onPingThresholdExceeded()):Ii.warn(n,e)},t.pingTimeout)},this.pingInterval),Ii.info("XMPP pings will be sent every "+this.pingInterval+" ms")}},{key:"stopInterval",value:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.failedPings=0,Ii.info("Ping interval cleared"))}},{key:"_addPingExecutionTimestamp",value:function(){this.pingExecIntervals.push((new Date).getTime()),this.pingExecIntervals.length>this.pingTimestampsToKeep&&this.pingExecIntervals.shift()}},{key:"getPingSuspendTime",value:function(){var e=this.pingExecIntervals.slice();e.push((new Date).getTime());var t=0,n=e[0];return e.forEach(function(e){var r=e-n;r>t&&(t=r),n=e}),t-=this.pingInterval,Math.max(t,0)}}]),n})(),Pi=(0,v.getLogger)("modules/xmpp/XmppConnection.js"),Oi=(function(e){_inherits(n,Fr);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=e.enableWebsocketResume,o=e.websocketKeepAlive,s=e.websocketKeepAliveUrl,a=e.serviceUrl,c=e.shard,u=e.xmppPing;return(r=t.call(this))._options={enableWebsocketResume:void 0===i||i,pingOptions:u,shard:c,websocketKeepAlive:void 0===o?6e4:Number(o),websocketKeepAliveUrl:s},r._stropheConn=new ut.Strophe.Connection(a),r._usesWebsocket=a.startsWith("ws:")||a.startsWith("wss:"),r._stropheConn.maxRetries=3,r._rawInputTracker=new Ci,r._rawInputTracker.startTracking(_assertThisInitialized(r),r._stropheConn),r._resumeTask=new Ei(r._stropheConn),r._deferredIQs=[],r.addConnectionPlugin("ping",new ki({getTimeSinceLastServerResponse:function(){return r.getTimeSinceLastSuccess()},onPingThresholdExceeded:function(){return r._onPingErrorThresholdExceeded()},pingOptions:u})),r._oneSuccessfulConnect=!1,r}return _createClass(n,[{key:"connected",get:function(){var e=this._stropheConn&&this._stropheConn._proto&&this._stropheConn._proto.socket;return(this._status===ut.Strophe.Status.CONNECTED||this._status===ut.Strophe.Status.ATTACHED)&&(!this.isUsingWebSocket||e&&e.readyState===WebSocket.OPEN)}},{key:"disco",get:function(){return this._stropheConn.disco}},{key:"disconnecting",get:function(){return!0===this._stropheConn.disconnecting}},{key:"domain",get:function(){return this._stropheConn.domain}},{key:"isUsingWebSocket",get:function(){return this._usesWebsocket}},{key:"jid",get:function(){return this._stropheConn.jid}},{key:"lastResponseHeaders",get:function(){return this._stropheConn._proto&&this._stropheConn._proto.lastResponseHeaders}},{key:"logger",get:function(){return this._stropheConn.logger}},{key:"options",get:function(){return this._stropheConn.options}},{key:"pingDomain",get:function(){var e;return(null===(e=this._options.pingOptions)||void 0===e?void 0:e.domain)||this.domain}},{key:"service",get:function(){return this._stropheConn.service}},{key:"shard",set:function(e){this._options.shard=e,this._oneSuccessfulConnect&&this._maybeStartWSKeepAlive()}},{key:"status",get:function(){return this._status}},{key:"addConnectionPlugin",value:function(e,t){this[e]=t,t.init(this)}},{key:"addHandler",value:function(){var e;(e=this._stropheConn).addHandler.apply(e,arguments)}},{key:"attach",value:function(e,t,n,r){for(var i,o=arguments.length,s=new Array(o>4?o-4:0),a=4;a<o;a++)s[a-4]=arguments[a];(i=this._stropheConn).attach.apply(i,[e,t,n,this._stropheConnectionCb.bind(this,r)].concat(s))}},{key:"connect",value:function(e,t,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];(r=this._stropheConn).connect.apply(r,[e,t,this._stropheConnectionCb.bind(this,n)].concat(o))}},{key:"_stropheConnectionCb",value:function(e,t){this._status=t;var r,i=!1;if(t===ut.Strophe.Status.CONNECTED||t===ut.Strophe.Status.ATTACHED?(this._maybeEnableStreamResume(),this._usesWebsocket&&this._oneSuccessfulConnect&&this._keepAliveAndCheckShard(),this._oneSuccessfulConnect=!0,this._maybeStartWSKeepAlive(),this._processDeferredIQs(),this._resumeTask.cancel(),this.ping.startInterval((null===(r=this._options.pingOptions)||void 0===r?void 0:r.domain)||this.domain)):t===ut.Strophe.Status.DISCONNECTED&&(this.ping.stopInterval(),(i=this._tryResumingConnection())||clearTimeout(this._wsKeepAlive)),!i){for(var o=arguments.length,s=new Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];e.apply(void 0,[t].concat(s)),this.eventEmitter.emit(n.Events.CONN_STATUS_CHANGED,t)}}},{key:"_clearDeferredIQs",value:function(){for(var e,t=_createForOfIteratorHelperLoose(this._deferredIQs);!(e=t()).done;){e.value.reject(new Error("disconnect"))}this._deferredIQs=[]}},{key:"closeWebsocket",value:function(){this._stropheConn&&this._stropheConn._proto&&(this._stropheConn._proto._closeSocket(),this._stropheConn._proto._onClose(null))}},{key:"disconnect",value:function(){var e;this._resumeTask.cancel(),clearTimeout(this._wsKeepAlive),this._clearDeferredIQs(),(e=this._stropheConn).disconnect.apply(e,arguments)}},{key:"flush",value:function(){var e;(e=this._stropheConn).flush.apply(e,arguments)}},{key:"getTimeSinceLastSuccess",value:function(){return this._rawInputTracker.getTimeSinceLastSuccess()}},{key:"getLastFailedMessage",value:function(){return this._rawInputTracker.getLastFailedMessage()}},{key:"_maybeEnableStreamResume",value:function(){if(this._options.enableWebsocketResume){var e=this._stropheConn.streamManagement;this.isUsingWebSocket?e?e.isSupported()?e.getResumeToken()||(Pi.info("Enabling XEP-0198 stream management"),e.enable(!0)):Pi.warn("Stream resume enabled, but XEP-0198 is not supported by the server"):Pi.warn("Stream resume enabled, but Strophe streamManagement plugin is not installed"):Pi.warn("Stream resume enabled, but WebSockets are not enabled")}}},{key:"_maybeStartWSKeepAlive",value:function(){var e=this,t=this._options.websocketKeepAlive;if(this._usesWebsocket&&t>0){this._wsKeepAlive||Pi.info("WebSocket keep alive interval: "+t+"ms"),clearTimeout(this._wsKeepAlive);var n=t+60*Math.random()*1e3;Pi.debug("Scheduling next WebSocket keep-alive in "+n+"ms"),this._wsKeepAlive=setTimeout(function(){return e._keepAliveAndCheckShard().then(function(){return e._maybeStartWSKeepAlive()})},n)}}},{key:"_keepAliveAndCheckShard",value:function(){var e=this,t=this._options,r=t.shard,i=t.websocketKeepAliveUrl||this.service.replace("wss://","https://").replace("ws://","http://");return fetch(i).then(function(t){if(r){var i=t.headers.get("x-jitsi-shard");i!==r&&(Pi.error("Detected that shard changed from "+r+" to "+i),e.eventEmitter.emit(n.Events.CONN_SHARD_CHANGED))}}).catch(function(e){Pi.error("Websocket Keep alive failed for url: "+i,{error:e})})}},{key:"_processDeferredIQs",value:function(){for(var e,t=this,n=function(e){if(e.iq){clearTimeout(e.timeout);var n=Date.now()-e.start;t.sendIQ(e.iq,function(t){return e.resolve(t)},function(t){return e.reject(t)},n)}},r=_createForOfIteratorHelperLoose(this._deferredIQs);!(e=r()).done;){n(e.value)}this._deferredIQs=[]}},{key:"send",value:function(e){if(!this.connected)throw new Error("Not connected");this._stropheConn.send(e)}},{key:"sendIQ",value:function(e,t,n,r){if(this.connected)return this._stropheConn.sendIQ(e,t,n,r);n("Not connected")}},{key:"sendIQ2",value:function(e,t){var n=this,r=t.timeout;return new Promise(function(t,i){if(n.connected)n.sendIQ(e,function(e){return t(e)},function(e){return i(e)},r);else{var o={iq:e,resolve:t,reject:i,start:Date.now(),timeout:setTimeout(function(){o.iq=void 0,i(void 0)},r)};n._deferredIQs.push(o)}})}},{key:"_onPingErrorThresholdExceeded",value:function(){this.isUsingWebSocket&&(Pi.warn("Ping error threshold exceeded - killing the WebSocket"),this.closeWebsocket())}},{key:"sendPresence",value:function(e,t,n,r){this.connected?this._stropheConn.sendPresence(e,t,n,r):n("Not connected")}},{key:"sendUnavailableBeacon",value:function(){if(!navigator.sendBeacon||this._stropheConn.disconnecting||!this._stropheConn.connected)return!1;this._stropheConn._changeConnectStatus(ut.Strophe.Status.DISCONNECTING),this._stropheConn.disconnecting=!0;var e=this._stropheConn._proto._buildBody().attrs({type:"terminate"}),t=(0,ut.$pres)({xmlns:ut.Strophe.NS.CLIENT,type:"unavailable"});e.cnode(t.tree());var n=navigator.sendBeacon(-1===this.service.indexOf("https://")?"https:"+this.service:this.service,ut.Strophe.serialize(e.tree()));return Pi.info("Successfully send unavailable beacon "+n),this._stropheConn._proto._abortAllRequests(),this._stropheConn._doDisconnect(),!0}},{key:"_tryResumingConnection",value:function(){var e=this._stropheConn.streamManagement;return!(!e||!e.getResumeToken()||(this._resumeTask.schedule(),0))}}],[{key:"Events",get:function(){return{CONN_STATUS_CHANGED:"CONN_STATUS_CHANGED",CONN_SHARD_CHANGED:"CONN_SHARD_CHANGED"}}},{key:"Status",get:function(){return ut.Strophe.Status}}]),n})();!(function(e){e.ON="on",e.OFF="off"})(bi||(bi={}));var Di,Ni,Mi=bi.ON,wi=bi.OFF,Li=(0,v.getLogger)("modules/xmpp/AVModeration.js"),xi=(function(){function e(t){var n;_classCallCheck(this,e),this._xmpp=t.xmpp,this._mainRoom=t,this._moderationEnabledByType=(_defineProperty(n={},Bn.AUDIO,!1),_defineProperty(n,Bn.VIDEO,!1),n),this._whitelistAudio=[],this._whitelistVideo=[],this._onMessage=this._onMessage.bind(this),this._xmpp.addListener(dr.XMPPEvents.AV_MODERATION_RECEIVED,this._onMessage)}return _createClass(e,[{key:"dispose",value:function(){this._xmpp.removeListener(dr.XMPPEvents.AV_MODERATION_RECEIVED,this._onMessage)}},{key:"isSupported",value:function(){return Boolean(this._xmpp.avModerationComponentAddress)}},{key:"enable",value:function(e,t){if(this.isSupported()&&this._mainRoom.isModerator())if(e!==this._moderationEnabledByType[t]){var n=(0,ut.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{enable:e,mediaType:t}).up(),this._xmpp.connection.send(n)}else Li.warn("Moderation already in state:"+e+" for mediaType:"+t);else Li.error("Cannot enable:"+e+" AV moderation supported:"+this.isSupported()+",\n                moderator:"+this._mainRoom.isModerator())}},{key:"approve",value:function(e,t){if(this.isSupported()&&this._mainRoom.isModerator()){var n=(0,ut.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{mediaType:e,jidToWhitelist:t}).up(),this._xmpp.connection.send(n)}else Li.error("Cannot approve in AV moderation supported:"+this.isSupported()+",\n                moderator:"+this._mainRoom.isModerator())}},{key:"reject",value:function(e,t){if(this.isSupported()&&this._mainRoom.isModerator()){var n=(0,ut.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{mediaType:e,jidToBlacklist:t}).up(),this._xmpp.connection.send(n)}else Li.error("Cannot reject in AV moderation supported:"+this.isSupported()+",\n                moderator:"+this._mainRoom.isModerator())}},{key:"_onMessage",value:function(e){var t=this,n=e.removed,r=e.mediaType,i=e.enabled,o=e.approved,s=e.actor,a=e.whitelists;if(a){var c=r===Bn.AUDIO?this._whitelistAudio:this._whitelistVideo,u=Array.isArray(a[r])?a[r]:[];n?c.filter(function(e){return!u.includes(e)}).forEach(function(e){return t._xmpp.eventEmitter.emit(dr.XMPPEvents.AV_MODERATION_PARTICIPANT_REJECTED,r,e)}):u.filter(function(e){return!c.includes(e)}).forEach(function(e){return t._xmpp.eventEmitter.emit(dr.XMPPEvents.AV_MODERATION_PARTICIPANT_APPROVED,r,e)}),r===Bn.AUDIO?this._whitelistAudio=u:this._whitelistVideo=u}else void 0!==i&&this._moderationEnabledByType[r]!==i?(this._moderationEnabledByType[r]=i,this._xmpp.eventEmitter.emit(dr.XMPPEvents.AV_MODERATION_CHANGED,i,r,s)):n?this._xmpp.eventEmitter.emit(dr.XMPPEvents.AV_MODERATION_REJECTED,r):o&&this._xmpp.eventEmitter.emit(dr.XMPPEvents.AV_MODERATION_APPROVED,r)}}]),e})(),Fi="features/breakout-rooms/add",Ui="features/breakout-rooms/remove",Vi="features/breakout-rooms/move-to-room",ji=(0,v.getLogger)("modules/xmpp/BreakoutRooms.js"),Hi=(function(){function e(t){_classCallCheck(this,e),this.room=t,this._handleMessages=this._handleMessages.bind(this),this.room.xmpp.addListener(dr.XMPPEvents.BREAKOUT_ROOMS_EVENT,this._handleMessages),this._rooms={}}return _createClass(e,[{key:"dispose",value:function(){this.room.xmpp.removeListener(dr.XMPPEvents.BREAKOUT_ROOMS_EVENT,this._handleMessages)}},{key:"createBreakoutRoom",value:function(e){if(this.isSupported()&&this.room.isModerator()){var t={type:Fi,subject:e};this._sendMessage(t)}else ji.error("Cannot create breakout room - supported:"+this.isSupported()+",\n                moderator:"+this.room.isModerator())}},{key:"removeBreakoutRoom",value:function(e){if(this.isSupported()&&this.room.isModerator()){var t={type:Ui,breakoutRoomJid:e};this._sendMessage(t)}else ji.error("Cannot remove breakout room - supported:"+this.isSupported()+",\n                moderator:"+this.room.isModerator())}},{key:"sendParticipantToRoom",value:function(e,t){if(this.isSupported()&&this.room.isModerator()){var n={type:Vi,participantJid:e,roomJid:t};this._sendMessage(n)}else ji.error("Cannot send participant to room - supported:"+this.isSupported()+",\n                moderator:"+this.room.isModerator())}},{key:"isSupported",value:function(){return Boolean(this.getComponentAddress())}},{key:"getComponentAddress",value:function(){return this.room.xmpp.breakoutRoomsComponentAddress}},{key:"_setIsBreakoutRoom",value:function(e){this._isBreakoutRoom=e}},{key:"isBreakoutRoom",value:function(){return this._isBreakoutRoom}},{key:"_setMainRoomJid",value:function(e){this._mainRoomJid=e}},{key:"getMainRoomJid",value:function(){return this._mainRoomJid}},{key:"_handleMessages",value:function(e){switch(e.event){case"features/breakout-rooms/move-to-room":this.room.eventEmitter.emit(dr.XMPPEvents.BREAKOUT_ROOMS_MOVE_TO_ROOM,e.roomJid);break;case"features/breakout-rooms/update":this._rooms=e.rooms,this.room.eventEmitter.emit(dr.XMPPEvents.BREAKOUT_ROOMS_UPDATED,e)}}},{key:"_sendMessage",value:function(e){var t=(0,ut.$msg)({to:this.getComponentAddress()});t.c("breakout_rooms",e).up(),this.room.xmpp.connection.send(t)}}]),e})(),Bi=(0,v.getLogger)("modules/xmpp/Lobby.js"),Ji=(function(){function e(t){var n=this;_classCallCheck(this,e),this.xmpp=t.xmpp,this.mainRoom=t;var r=this._maybeJoinLobbyRoom.bind(this);this.mainRoom.addEventListener(dr.XMPPEvents.LOCAL_ROLE_CHANGED,r),this.mainRoom.addEventListener(dr.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,r),this.mainRoom.addEventListener(dr.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,function(e){n.lobbyRoomJid=e})}return _createClass(e,[{key:"isSupported",value:function(){return this.xmpp.lobbySupported}},{key:"enable",value:function(){var e=this;return this.isSupported()?new Promise(function(t,n){e.mainRoom.setMembersOnly(!0,t,n)}):Promise.reject(new Error("Lobby not supported!"))}},{key:"disable",value:function(){this.isSupported()&&this.mainRoom.isModerator()&&this.lobbyRoom&&this.mainRoom.membersOnlyEnabled&&this.mainRoom.setMembersOnly(!1)}},{key:"sendMessage",value:function(e){this.lobbyRoom&&this.lobbyRoom.sendMessage(JSON.stringify(e),"json-message")}},{key:"sendPrivateMessage",value:function(e,t){this.lobbyRoom&&this.lobbyRoom.sendPrivateMessage(e,JSON.stringify(t),"json-message")}},{key:"getLocalId",value:function(){if(this.lobbyRoom)return ut.Strophe.getResourceFromJid(this.lobbyRoom.myroomjid)}},{key:"addMessageListener",value:function(e){if(this.lobbyRoom){var t=function(t,n){e(n,ut.Strophe.getResourceFromJid(t))};return this.lobbyRoom.on(dr.XMPPEvents.JSON_MESSAGE_RECEIVED,t),t}}},{key:"removeMessageHandler",value:function(e){this.lobbyRoom&&this.lobbyRoom.off(dr.XMPPEvents.JSON_MESSAGE_RECEIVED,e)}},{key:"leave",value:function(){var e=this;return this.lobbyRoom?this.lobbyRoom.leave().then(function(){e.lobbyRoom=void 0,Bi.info("Lobby room left!")}).catch(function(){}):Promise.reject(new Error("The lobby has already been left"))}},{key:"setLobbyRoomJid",value:function(e){this.lobbyRoomJid=e}},{key:"_maybeJoinLobbyRoom",value:function(){this.isSupported()&&this.mainRoom.joined&&this.mainRoom.isModerator()&&this.mainRoom.membersOnlyEnabled&&!this.lobbyRoom&&this.join().then(function(){return Bi.info("Joined lobby room")}).catch(function(e){return Bi.error("Failed joining lobby",e)})}},{key:"join",value:function(e,t){var n=this,r=this.mainRoom.joined&&this.mainRoom.isModerator();if(!this.lobbyRoomJid)return Promise.reject(new Error("Missing lobbyRoomJid, cannot join lobby room."));var i=ut.Strophe.getNodeFromJid(this.lobbyRoomJid),o=ut.Strophe.getDomainFromJid(this.lobbyRoomJid);return this.lobbyRoom=this.xmpp.createRoom(i,{customDomain:o,disableDiscoInfo:!0,disableFocus:!0,enableLobby:!1}),e&&this.lobbyRoom.addOrReplaceInPresence("nick",{attributes:{xmlns:"http://jabber.org/protocol/nick"},value:e}),r?(this.lobbyRoom.addPresenceListener("email",function(e,t){n.mainRoom.eventEmitter.emit(dr.XMPPEvents.MUC_LOBBY_MEMBER_UPDATED,t,{email:e.value})}),this.lobbyRoom.addEventListener(dr.XMPPEvents.MUC_MEMBER_JOINED,function(e,t,r,i,o,s,a,c,u){if(!Object.values(n.mainRoom.members).find(function(e){return e.jid===u})){for(var d=0,l=Object.values(n.mainRoom.getBreakoutRooms()._rooms);d<l.length;d++){var h=l[d];if(Object.values(h.participants).find(function(e){return e.jid===u}))return}n.mainRoom.eventEmitter.emit(dr.XMPPEvents.MUC_LOBBY_MEMBER_JOINED,ut.Strophe.getResourceFromJid(e),t,a?a.avatar:void 0)}}),this.lobbyRoom.addEventListener(dr.XMPPEvents.MUC_MEMBER_LEFT,function(e){n.mainRoom.eventEmitter.emit(dr.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,ut.Strophe.getResourceFromJid(e))}),this.lobbyRoom.addEventListener(dr.XMPPEvents.MUC_DESTROYED,function(){Object.keys(n.lobbyRoom.members).forEach(function(e){return n.mainRoom.eventEmitter.emit(dr.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,ut.Strophe.getResourceFromJid(e))}),n.lobbyRoom.clean(),n.lobbyRoom=void 0,Bi.info("Lobby room left(destroyed)!")})):(this.lobbyRoom.addEventListener(dr.XMPPEvents.KICKED,function(e){if(e)return n.mainRoom.eventEmitter.emit(dr.XMPPEvents.MUC_DENIED_ACCESS),void n.lobbyRoom.clean()}),this.mainRoom.addEventListener(dr.XMPPEvents.INVITE_MESSAGE_RECEIVED,function(e,t,r,i){Bi.debug("Received approval to join "+e+" "+t+" "+r),e===n.mainRoom.roomjid&&n.mainRoom.join(i)}),this.lobbyRoom.addEventListener(dr.XMPPEvents.MUC_DESTROYED,function(e,t){t?n.mainRoom.join():(n.lobbyRoom.clean(),n.mainRoom.eventEmitter.emit(dr.XMPPEvents.MUC_DESTROYED,e))}),this.mainRoom.addEventListener(dr.XMPPEvents.MUC_JOINED,function(){n.leave()})),new Promise(function(e,i){n.lobbyRoom.addEventListener(dr.XMPPEvents.MUC_JOINED,function(){e(),t&&!r&&n.lobbyRoom.addOrReplaceInPresence("email",{value:t})&&n.lobbyRoom.sendPresence()}),n.lobbyRoom.addEventListener(dr.XMPPEvents.ROOM_JOIN_ERROR,i),n.lobbyRoom.addEventListener(dr.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR,i),n.lobbyRoom.addEventListener(dr.XMPPEvents.ROOM_CONNECT_ERROR,i),n.lobbyRoom.join()})}},{key:"denyAccess",value:function(e){if(this.isSupported()&&this.mainRoom.isModerator()){var t=Object.keys(this.lobbyRoom.members).find(function(t){return ut.Strophe.getResourceFromJid(t)===e});t?this.lobbyRoom.kick(t):Bi.error("Not found member for "+e+" in lobby room.")}}},{key:"approveAccess",value:function(e){if(this.isSupported()&&this.mainRoom.isModerator()){var t=this.mainRoom.roomjid;this.mainRoom.getBreakoutRooms().isBreakoutRoom()&&(t=this.mainRoom.getBreakoutRooms().getMainRoomJid());var n=Object.keys(this.lobbyRoom.members).find(function(t){return ut.Strophe.getResourceFromJid(t)===e});if(n){var r=this.lobbyRoom.members[n].jid,i=(0,ut.$msg)({to:t}).c("x",{xmlns:"http://jabber.org/protocol/muc#user"}).c("invite",{to:r});this.xmpp.connection.sendIQ(i,function(){},function(e){Bi.error("Error sending invite for "+r,e)})}else Bi.error("Not found member for "+n+" in lobby room.")}}}]),e})(),Gi=n(6667),Ki=n.n(Gi),qi=(0,v.getLogger)("modules/settings/Settings.js"),zi={_storage:bn,init:function(e){this._storage=e||bn},get callStatsUserName(){return Di||((Di=this._storage.getItem("callStatsUserName"))||(e=Ki().generateUsername(),qi.log("generated callstats uid",e),Di=e,this._storage.setItem("callStatsUserName",Di))),Di;var e},get machineId(){if(!Ni){var e=this._storage.getItem("billingId");Ni=e||this._storage.getItem("jitsiMeetId"),e?this._storage.setItem("jitsiMeetId",e):Ni||(t=Wi()+Wi()+Wi()+Wi(),qi.log("generated id",t),Ni=t,this._storage.setItem("jitsiMeetId",Ni))}var t;return Ni},get sessionId(){return this._storage.getItem("sessionId")},set sessionId(e){e?this._storage.setItem("sessionId",e):this._storage.removeItem("sessionId")}};function Wi(){return(Math.random().toString(16)+"000000000").substr(2,8)}var Xi=n(3514),$i=n(609).XMPPEvents,Qi=n(1023),Yi=(0,v.getLogger)("modules/xmpp/moderator.js");function Zi(e){var t=1;return function(n){if(!n){var r=Math.pow(2,t-1);return t+=1,r*e}t=1}}function eo(e,t,n,r){function i(e){if(e.data&&e.data.sessionId){if(e.origin!==window.location.origin)return void Yi.warn("Ignoring sessionId from different origin: "+e.origin);zi.sessionId=e.data.sessionId}}this.roomName=e,this.xmppService=t,this.getNextTimeout=Zi(1e3),this.getNextErrorTimeout=Zi(1e3),this.externalAuthEnabled=!1,this.options=r,this.sipGatewayEnabled=!1,this.eventEmitter=n,this.connection=this.xmppService.connection,window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i)}eo.prototype.isExternalAuthEnabled=function(){return this.externalAuthEnabled},eo.prototype.isSipGatewayEnabled=function(){return this.sipGatewayEnabled},eo.prototype.onMucMemberLeft=function(e){"focus"===ut.Strophe.getResourceFromJid(e)&&(Yi.info("Focus has left the room - leaving conference"),this.eventEmitter.emit($i.FOCUS_LEFT))},eo.prototype.setFocusUserJid=function(e){this.focusUserJid||(this.focusUserJid=e,Yi.info("Focus jid set to:  "+this.focusUserJid))},eo.prototype.getFocusUserJid=function(){return this.focusUserJid},eo.prototype.getFocusComponent=function(){var e=this.options.connection.hosts.focus;return e||(e="focus."+this.options.connection.hosts.domain),e},eo.prototype.createConferenceIq=function(){var e,t,n,r=(0,ut.$iq)({to:this.getFocusComponent(),type:"set"}),i=zi.sessionId,o=zi.machineId,s=this.options.conference;Yi.info("Session ID: "+i+" machine UID: "+o),r.c("conference",{xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":o}),i&&r.attrs({"session-id":i}),r.c("property",{name:"disableRtx",value:Boolean(s.disableRtx)}).up(),void 0!==s.audioPacketDelay&&r.c("property",{name:"audioPacketDelay",value:s.audioPacketDelay}).up(),s.startBitrate&&r.c("property",{name:"startBitrate",value:s.startBitrate}).up(),s.minBitrate&&r.c("property",{name:"minBitrate",value:s.minBitrate}).up(),void 0!==this.options.conference.startAudioMuted&&r.c("property",{name:"startAudioMuted",value:this.options.conference.startAudioMuted}).up(),void 0!==this.options.conference.startVideoMuted&&r.c("property",{name:"startVideoMuted",value:this.options.conference.startVideoMuted}).up();var a=null!==(e=null===(t=this.options.conference)||void 0===t||null===(n=t.analytics)||void 0===n?void 0:n.rtcstatsEnabled)&&void 0!==e&&e;a||r.c("property",{name:"rtcstatsEnabled",value:a}).up();var c=this.options.conference,u=c.callStatsID,d=c.callStatsSecret,l=c.disableThirdPartyRequests,h=c.enableCallStats,p=!u||!d||!h||!0===l;return p&&r.c("property",{name:"callstatsEnabled",value:!p}).up(),r.up(),r},eo.prototype.parseSessionId=function(e){var t=$(e).find("conference").attr("session-id");t&&(Yi.info("Received sessionId:  "+t),zi.sessionId=t)},eo.prototype.parseConfigOptions=function(e){this.setFocusUserJid($(e).find("conference").attr("focusjid"));var t=$(e).find(">conference>property[name='authentication'][value='true']").length>0;Yi.info("Authentication enabled: "+t),this.externalAuthEnabled=$(e).find(">conference>property[name='externalAuth'][value='true']").length>0,Yi.info("External authentication enabled: "+this.externalAuthEnabled),this.externalAuthEnabled||this.parseSessionId(e);var n=$(e).find(">conference").attr("identity");this.eventEmitter.emit(Xi.IDENTITY_UPDATED,t,n),$(e).find(">conference>property[name='sipGatewayEnabled'][value='true']").length&&(this.sipGatewayEnabled=!0),Yi.info("Sip gateway enabled:  "+this.sipGatewayEnabled)},eo.prototype.allocateConferenceFocus=function(){var e=this;return new Promise(function(t){e.setFocusUserJid(e.options.connection.focusUserJid),e.connection.sendIQ(e.createConferenceIq(),function(n){return e._allocateConferenceFocusSuccess(n,t)},function(n){return e._allocateConferenceFocusError(n,t)}),e.connection.flush()})},eo.prototype._allocateConferenceFocusError=function(e,t){var n=this,r=$(e).find(">error>session-invalid").length||$(e).find(">error>not-acceptable").length;if(r&&(Yi.info("Session expired! - removing"),zi.sessionId=void 0),$(e).find(">error>graceful-shutdown").length)this.eventEmitter.emit($i.GRACEFUL_SHUTDOWN);else{var i=$(e).find(">error>reservation-error");if(i.length){var o,s=i.attr("error-code"),a=$(e).find(">error>text");return a&&(o=a.text()),void this.eventEmitter.emit($i.RESERVATION_ERROR,s,o)}if($(e).find(">error>not-authorized").length)return Yi.warn("Unauthorized to start the conference",e),ut.Strophe.getDomainFromJid(e.getAttribute("to"))!==this.options.connection.hosts.anonymousdomain&&(this.externalAuthEnabled=!0),void this.eventEmitter.emit($i.AUTHENTICATION_REQUIRED);var c=this.getNextErrorTimeout(),u="Focus error, retry after "+c;Qi.callErrorHandler(new Error(u)),Yi.error(u,e);var d=this.getFocusComponent(),l=c/1e3;r||this.eventEmitter.emit($i.FOCUS_DISCONNECTED,d,l),this.getNextTimeout(!0),window.setTimeout(function(){return n.allocateConferenceFocus().then(t)},c)}},eo.prototype._allocateConferenceFocusSuccess=function(e,t){var n=this;if(this.parseConfigOptions(e),this.getNextErrorTimeout(!0),"true"===$(e).find("conference").attr("ready"))this.getNextTimeout(!0),t();else{var r=this.getNextTimeout();Yi.info("Waiting for the focus... "+r),window.setTimeout(function(){return n.allocateConferenceFocus().then(t)},r)}},eo.prototype.authenticate=function(){var e=this;return new Promise(function(t,n){e.connection.sendIQ(e.createConferenceIq(),function(n){e.parseSessionId(n),t()},function(e){return n({error:$(e).find("iq>error :first").prop("tagName"),message:$(e).find("iq>error>text").text()})})})},eo.prototype.getLoginUrl=function(e,t){this._getLoginUrl(!1,e,t)},eo.prototype._getLoginUrl=function(e,t,n){var r=(0,ut.$iq)({to:this.getFocusComponent(),type:"get"}),i={xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":zi.machineId},o="auth url";function s(e,t){Qi.callErrorHandler(new Error(e)),Yi.error(e,t),n(t)}e&&(i.popup=!0,o="POPUP "+o),r.c("login-url",i),this.connection.sendIQ(r,function(e){var n=$(e).find("login-url").attr("url");(n=decodeURIComponent(n))?(Yi.info("Got "+o+": "+n),t(n)):s("Failed to get "+o+" from the focus",e)},s.bind(void 0,"Get "+o+" error"))},eo.prototype.getPopupLoginUrl=function(e,t){this._getLoginUrl(!0,e,t)},eo.prototype.logout=function(e){var t=(0,ut.$iq)({to:this.getFocusComponent(),type:"set"}),n=zi.sessionId;n?(t.c("logout",{xmlns:"http://jitsi.org/protocol/focus","session-id":n}),this.connection.sendIQ(t,function(t){var n=$(t).find("logout").attr("logout-url");n&&(n=decodeURIComponent(n)),Yi.info("Log out OK, url: "+n,t),zi.sessionId=void 0,e(n)},function(e){var t="Logout error";Qi.callErrorHandler(new Error(t)),Yi.error(t,e)})):e()};var to=(0,v.getLogger)("modules/xmpp/ChatRoom.js"),no={packet2JSON:function(e,t){for(var n=0,r=Array.from(e.children);n<r.length;n++){for(var i=r[n],o={attributes:{},children:[],tagName:i.tagName},s=0,a=Array.from(i.attributes);s<a.length;s++){var c=a[s];o.attributes[c.name]=c.value}var u=ut.Strophe.getText(i);u&&(o.value=ut.Strophe.xmlunescape(u)),t.push(o),this.packet2JSON(i,o.children)}},json2packet:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];r&&(t.c(r.tagName,r.attributes),r.value&&t.t(r.value),r.children&&this.json2packet(r.children,t),t.up())}}};function ro(e,t){for(var n=[],r=0;r<e.length;r++)e[r].tagName===t&&n.push(e[r]);return n}var io=["owner","admin","member"],oo=(function(e){_inherits(n,Fr);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this)).xmpp=o,a.connection=e,a.roomjid=ut.Strophe.getBareJidFromJid(r),a.myroomjid=r,a.password=i,a.replaceParticipant=!1,to.info("Joined MUC as "+a.myroomjid),a.members={},a.presMap={},a.presHandlers={},a._removeConnListeners=[],a.joined=!1,a.inProgressEmitted=!1,a.role=null,a.focusMucJid=null,a.noBridgeAvailable=!1,a.options=s||{},a.moderator=new eo(a.roomjid,a.xmpp,a.eventEmitter,{connection:a.xmpp.options,conference:a.options}),(void 0===a.options.enableLobby||a.options.enableLobby)&&(a.lobby=new Ji(_assertThisInitialized(a))),a.avModeration=new xi(_assertThisInitialized(a)),a.breakoutRooms=new Hi(_assertThisInitialized(a)),a.initPresenceMap(s),a.lastPresences={},a.phoneNumber=null,a.phonePin=null,a.connectionTimes={},a.participantPropertyListener=null,a.locked=!1,a.transcriptionStatus=wi,a}return _createClass(n,[{key:"initPresenceMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.presMap.to=this.myroomjid,this.presMap.xns="http://jabber.org/protocol/muc",this.presMap.nodes=[],e.statsId&&this.presMap.nodes.push({tagName:"stats-id",value:e.statsId}),this.presenceUpdateTime=Date.now()}},{key:"join",value:function(e,t){var n=this;return this.password=e,this.replaceParticipant=t,new Promise(function(e){n.options.disableFocus&&to.info("Conference focus disabled for "+n.roomjid),(n.options.disableFocus?Promise.resolve():n.moderator.allocateConferenceFocus()).then(function(){n.sendPresence(!0),n._removeConnListeners.push(n.connection.addEventListener(Oi.Events.CONN_STATUS_CHANGED,n.onConnStatusChanged.bind(n))),e()})})}},{key:"sendPresence",value:function(e){var t=this.presMap.to;if(this.connection&&this.connection.connected&&t&&(this.joined||e)){var n=(0,ut.$pres)({to:t});e&&(this.replaceParticipant&&n.c("flip_device").up(),n.c("x",{xmlns:this.presMap.xns}),this.password&&n.c("password").t(this.password).up(),this.options.billingId&&n.c("billingid").t(this.options.billingId).up(),n.up()),no.json2packet(this.presMap.nodes,n),this.presenceSyncTime=Date.now(),this.connection.send(n),e&&this.connection.flush()}}},{key:"doLeave",value:function(){to.log("do leave",this.myroomjid);var e=(0,ut.$pres)({to:this.myroomjid,type:"unavailable"});this.presMap.length=0,!this.connection.isUsingWebSocket&&this.connection.flush(),this.connection.send(e),this.connection.flush()}},{key:"discoRoomInfo",value:function(){var e=this,t=(0,ut.$iq)({type:"get",to:this.roomjid}).c("query",{xmlns:ut.Strophe.NS.DISCO_INFO});this.connection.sendIQ(t,function(t){var n=1===$(t).find('>query>feature[var="muc_passwordprotected"]').length;n!==e.locked&&(e.eventEmitter.emit(dr.XMPPEvents.MUC_LOCK_CHANGED,n),e.locked=n);var r=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_meetingId"]>value');r.length?e.setMeetingId(r.text()):to.warn("No meeting ID from backend");var i=1===$(t).find('>query>feature[var="muc_membersonly"]').length,o=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_lobbyroom"]>value');e.lobby&&e.lobby.setLobbyRoomJid(o&&o.length?o.text():void 0);var s=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_isbreakout"]>value'),a=Boolean(null==s?void 0:s.text());e.breakoutRooms._setIsBreakoutRoom(a);var c=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_breakout_main_room"]>value');null!=c&&c.length&&e.breakoutRooms._setMainRoomJid(c.text()),i!==e.membersOnlyEnabled&&(e.membersOnlyEnabled=i,e.eventEmitter.emit(dr.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,i))},function(e){Nn().callErrorHandler(e),to.error("Error getting room info: ",e)})}},{key:"setMeetingId",value:function(e){this.meetingId!==e&&(this.meetingId&&to.warn("Meeting Id changed from:"+this.meetingId+" to:"+e),this.meetingId=e,this.eventEmitter.emit(dr.XMPPEvents.MEETING_ID_SET,e))}},{key:"createNonAnonymousRoom",value:function(){var e=this;if(!this.options.disableDiscoInfo){var t=(0,ut.$iq)({type:"get",to:this.roomjid}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}).c("x",{xmlns:"jabber:x:data",type:"submit"});this.connection.sendIQ(t,function(t){if(!$(t).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_whois"]').length){var n="non-anonymous rooms not supported";return Nn().callErrorHandler(new Error(n)),void to.error(n)}var r=(0,ut.$iq)({to:e.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});r.c("x",{xmlns:"jabber:x:data",type:"submit"}),r.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),r.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),e.connection.sendIQ(r)},function(e){Nn().callErrorHandler(e),to.error("Error getting room configuration form: ",e)})}}},{key:"onConnStatusChanged",value:function(e){e===Oi.Status.CONNECTED&&this.sendPresence()}},{key:"onPresence",value:function(e){var t=this,n=e.getAttribute("from"),r={},i=e.getElementsByTagName("status")[0];i&&(r.status=i.textContent||"");var o=!1,s=!1,a=e.getElementsByTagNameNS("http://jabber.org/protocol/muc#user","x")[0],c=a&&a.getElementsByTagName("item")[0];r.isReplaceParticipant=e.getElementsByTagName("flip_device").length,r.affiliation=c&&c.getAttribute("affiliation"),r.role=c&&c.getAttribute("role");var u=c&&c.getAttribute("jid");r.jid=u,r.isFocus=u&&0===u.indexOf(this.moderator.getFocusUserJid()+"/"),r.isHiddenDomain=u&&u.indexOf("@")>0&&this.options.hiddenDomain===u.substring(u.indexOf("@")+1,u.indexOf("/")),this.eventEmitter.emit(dr.XMPPEvents.PRESENCE_RECEIVED,{fromHiddenDomain:r.isHiddenDomain,presence:e});var d=e.querySelector("x");d&&d.remove();var l=[];no.packet2JSON(e,l),this.lastPresences[n]=l;for(var h=function(e){var n={},r=e.children.find(function(e){return"user"===e.tagName});if(r){n.user={};var i=["id","name","avatar"];t.options.hiddenFromRecorderFeatureEnabled&&i.push("hidden-from-recorder");for(var o=function(e){var t=r.children.find(function(t){return t.tagName===e});t&&(n.user[e]=t.value)},s=0,a=i;s<a.length;s++){o(a[s])}}var c=e.children.find(function(e){return"group"===e.tagName});return c&&(n.group=c.value),n},p=0;p<l.length;p++){var f=l[p];switch(f.tagName){case"bot":var m=f.attributes;if(!m)break;var v=m.type;r.botType=v;break;case"nick":r.nick=f.value;break;case"userId":r.id=f.value;break;case"stats-id":r.statsID=f.value;break;case"identity":r.identity=h(f);break;case"features":r.features=this._extractFeatures(f);break;case"stat":var _=f.attributes;if(!_)break;"version"===_.name&&(r.version=_.value)}}if(!this.joined&&!this.inProgressEmitted){var g=this.connectionTimes["muc.join.started"]=window.performance.now();to.log("(TIME) MUC join started:\t",g),this.eventEmitter.emit(dr.XMPPEvents.MUC_JOIN_IN_PROGRESS),this.inProgressEmitted=!0}if(n===this.myroomjid){var y="owner"===r.affiliation?r.role:"none";if(this.role!==y&&(this.role=y,this.eventEmitter.emit(dr.XMPPEvents.LOCAL_ROLE_CHANGED,this.role)),!this.joined){this.joined=!0;var S=this.connectionTimes["muc.joined"]=window.performance.now();to.log("(TIME) MUC joined:\t",S),this.password&&(this.locked=!0),this.presenceUpdateTime>=this.presenceSyncTime&&this.sendPresence(),this.eventEmitter.emit(dr.XMPPEvents.MUC_JOINED),!this.options.disableDiscoInfo&&this.discoRoomInfo()}}else if(void 0===u)to.info("Ignoring member with undefined JID");else if(void 0===this.members[n])this.members[n]=r,to.log("entered",n,r),o=void 0!==r.status,s=void 0!==r.version,r.isFocus?this._initFocus(n,r.features):(this.eventEmitter.emit(dr.XMPPEvents.MUC_MEMBER_JOINED,n,r.nick,r.role,r.isHiddenDomain,r.statsID,r.status,r.identity,r.botType,r.jid,r.features,r.isReplaceParticipant),o=!1);else{var E=this.members[n];E.role!==r.role&&(E.role=r.role,this.eventEmitter.emit(dr.XMPPEvents.MUC_ROLE_CHANGED,n,r.role)),E.affiliation!==r.affiliation&&(E.affiliation=r.affiliation),E.botType!==r.botType&&(E.botType=r.botType,this.eventEmitter.emit(dr.XMPPEvents.MUC_MEMBER_BOT_TYPE_CHANGED,n,r.botType)),r.isFocus&&(E.isFocus=!0,this._initFocus(n,r.features)),r.displayName&&(E.displayName=r.displayName),E.status!==r.status&&(o=!0,E.status=r.status),E.version!==r.version&&(s=!0,E.version=r.version),ct()(E.features,r.features)||(E.features=r.features,this.eventEmitter.emit(dr.XMPPEvents.PARTICIPANT_FEATURES_CHANGED,n,r.features))}for(var C=0;C<l.length;C++){var T=l[C];switch(T.tagName){case"nick":if(!r.isFocus){var b=this.xmpp.options.displayJids?ut.Strophe.getResourceFromJid(n):r.nick;this.eventEmitter.emit(dr.XMPPEvents.DISPLAY_NAME_CHANGED,n,b)}break;case"bridgeNotAvailable":r.isFocus&&!this.noBridgeAvailable&&(this.noBridgeAvailable=!0,this.eventEmitter.emit(dr.XMPPEvents.BRIDGE_DOWN));break;case"conference-properties":if(r.isFocus){for(var R={},A=0;A<T.children.length;A++){var I=T.children[A].attributes;I&&I.key&&(R[I.key]=I.value)}this.eventEmitter.emit(dr.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,R),void 0===this.restartByTerminateSupported&&(this.restartByTerminateSupported="true"===R["support-terminate-restart"],to.info("Jicofo supports restart by terminate: "+this.supportsRestartByTerminate()))}break;case"transcription-status":var k=T.attributes;if(!k)break;var P=k.status;P&&P!==this.transcriptionStatus&&(this.transcriptionStatus=P,this.eventEmitter.emit(dr.XMPPEvents.TRANSCRIPTION_STATUS_CHANGED,P));break;case"call-control":var O=T.attributes;if(!O)break;this.phoneNumber=O.phone||null,this.phonePin=O.pin||null,this.eventEmitter.emit(dr.XMPPEvents.PHONE_NUMBER_CHANGED);break;default:this.processNode(T,n)}}o&&this.eventEmitter.emit(dr.XMPPEvents.PRESENCE_STATUS,n,r.status),s&&to.info("Received version for "+u+": "+r.version)}},{key:"_extractFeatures",value:function(e){for(var t=new Set,n=0;n<e.children.length;n++){var r=e.children[n].attributes;r&&r.var&&t.add(r.var)}return t}},{key:"_initFocus",value:function(e,t){this.focusMucJid=e,this.focusFeatures=t}},{key:"setParticipantPropertyListener",value:function(e){this.participantPropertyListener=e}},{key:"supportsRestartByTerminate",value:function(){return this.restartByTerminateSupported}},{key:"processNode",value:function(e,t){try{var n=this.presHandlers[e.tagName];e.tagName.startsWith("jitsi_participant_")&&(n=[this.participantPropertyListener]),n&&n.forEach(function(n){n(e,ut.Strophe.getResourceFromJid(t),t)})}catch(t){Nn().callErrorHandler(t),to.error("Error processing:"+e.tagName+" node.",t)}}},{key:"sendMessage",value:function(e,t){var n=(0,ut.$msg)({to:this.roomjid,type:"groupchat"});"body"===t?n.c(t,{},e):n.c(t,{xmlns:"http://jitsi.org/jitmeet"},e),this.connection.send(n),this.eventEmitter.emit(dr.XMPPEvents.SENDING_CHAT_MESSAGE,e)}},{key:"sendPrivateMessage",value:function(e,t,n){var r=(0,ut.$msg)({to:this.roomjid+"/"+e,type:"chat"});"body"===n?r.c(n,t).up():r.c(n,{xmlns:"http://jitsi.org/jitmeet"},t).up(),this.connection.send(r),this.eventEmitter.emit(dr.XMPPEvents.SENDING_PRIVATE_CHAT_MESSAGE,t)}},{key:"setSubject",value:function(e){var t=(0,ut.$msg)({to:this.roomjid,type:"groupchat"});t.c("subject",e),this.connection.send(t)}},{key:"onParticipantLeft",value:function(e,t){delete this.lastPresences[e],t||(this.eventEmitter.emit(dr.XMPPEvents.MUC_MEMBER_LEFT,e),this.moderator.onMucMemberLeft(e))}},{key:"onPresenceUnavailable",value:function(e,t){var n=this;if($(e).find('>ignore[xmlns="http://jitsi.org/jitmeet/"]').length)return!0;var r=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy');if(r.length){var i,o=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy>reason');return o.length&&(i=o.text()),this.eventEmitter.emit(dr.XMPPEvents.MUC_DESTROYED,i,r.attr("jid")),this.connection.emuc.doLeave(this.roomjid),!0}var s=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="110"]').length,a=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="307"]').length,c=Object.keys(this.members),u=$(e).find("flip_device").length;if(a){var d,l,h=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>item>actor');h.length&&(d=h.attr("nick"));var p=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>item>reason');p.length&&(l=p.text()),this.eventEmitter.emit(dr.XMPPEvents.KICKED,s,d,ut.Strophe.getResourceFromJid(t),l,u)}s?(c.forEach(function(e){var t=n.members[e];delete n.members[e],n.onParticipantLeft(e,t.isFocus)}),this.connection.emuc.doLeave(this.roomjid),a||this.eventEmitter.emit(dr.XMPPEvents.MUC_LEFT)):(delete this.members[t],this.onParticipantLeft(t,!1))}},{key:"onMessage",value:function(e,t){var n=e.getAttribute("type");if("error"===n){var r=$(e).find(">settings-error>text").text();if(r.length)return this.eventEmitter.emit(dr.XMPPEvents.SETTINGS_ERROR_RECEIVED,r),!0;var i=$(e).find(">error>text").text();return this.eventEmitter.emit(dr.XMPPEvents.CHAT_ERROR_RECEIVED,i),!0}var o=$(e).find(">body").text(),s=$(e).find(">subject");if(s.length){var a=s.text();(a||""===a)&&(this.eventEmitter.emit(dr.XMPPEvents.SUBJECT_CHANGED,a),to.log("Subject is changed to "+a))}var c,u=$(e).find(">delay").attr("stamp");if(!u&&(u=$(e).find('>[xmlns="jabber:x:delay"]').attr("stamp"))){var d=u.match(/(\d{4})(\d{2})(\d{2}T\d{2}:\d{2}:\d{2})/);u=d[1]+"-"+d[2]+"-"+d[3]+"Z"}if(t===this.roomjid)if($(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="104"]').length)this.discoRoomInfo();else if((c=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>invite'))&&c.length){var l,h=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>password');h&&h.length&&(l=h.text()),this.eventEmitter.emit(dr.XMPPEvents.INVITE_MESSAGE_RECEIVED,t,c.attr("from"),o,l)}var p=$(e).find(">json-message").text();if(p){var f=this.xmpp.tryParseJSONAndVerify(p);if(f&&void 0===u)return void this.eventEmitter.emit(dr.XMPPEvents.JSON_MESSAGE_RECEIVED,t,f)}o&&("chat"===n?this.eventEmitter.emit(dr.XMPPEvents.PRIVATE_MESSAGE_RECEIVED,t,o,this.myroomjid,u):"groupchat"===n&&this.eventEmitter.emit(dr.XMPPEvents.MESSAGE_RECEIVED,t,o,this.myroomjid,u))}},{key:"onPresenceError",value:function(e,t){if($(e).find('>error[type="auth"]>not-authorized[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length)to.log("on password required",t),this.eventEmitter.emit(dr.XMPPEvents.PASSWORD_REQUIRED);else if($(e).find('>error[type="cancel"]>not-allowed[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length)ut.Strophe.getDomainFromJid(e.getAttribute("to"))===this.xmpp.options.hosts.anonymousdomain?this.eventEmitter.emit(dr.XMPPEvents.ROOM_JOIN_ERROR):(to.warn("onPresError ",e),this.eventEmitter.emit(dr.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR));else if($(e).find(">error>service-unavailable").length)to.warn("Maximum users limit for the room has been reached",e),this.eventEmitter.emit(dr.XMPPEvents.ROOM_MAX_USERS_ERROR),this.connection.emuc.doLeave(this.roomjid);else if($(e).find('>error[type="auth"]>registration-required[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length){var n,r=$(e).find('>error[type="auth"]>lobbyroom');if(r.length)n=r.text();else{var i=$(e).find(">lobbyroom");i.length&&(n=i.text())}this.eventEmitter.emit(dr.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,n)}else to.warn("onPresError ",e),this.eventEmitter.emit(dr.XMPPEvents.ROOM_CONNECT_ERROR)}},{key:"setAffiliation",value:function(e,t){var n=(0,ut.$iq)({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:t,nick:ut.Strophe.getResourceFromJid(e)}).c("reason").t("Your affiliation has been changed to '"+t+"'.").up().up().up();this.connection.sendIQ(n,function(n){return to.log("Set affiliation of participant with jid: ",e,"to",t,n)},function(e){return to.log("Set affiliation of participant error: ",e)})}},{key:"kick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"You have been kicked.",n=(0,ut.$iq)({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{nick:ut.Strophe.getResourceFromJid(e),role:"none"}).c("reason").t(t).up().up().up();this.connection.sendIQ(n,function(t){return to.log("Kick participant with jid: ",e,t)},function(e){return to.log("Kick participant error: ",e)})}},{key:"lockRoom",value:function(e,t,n,r){var i=this;this.connection.sendIQ((0,ut.$iq)({to:this.roomjid,type:"get"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}),function(o){if($(o).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_roomsecret"]').length){var s=(0,ut.$iq)({to:i.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});s.c("x",{xmlns:"jabber:x:data",type:"submit"}),s.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),s.c("field",{var:"muc#roomconfig_roomsecret"}).c("value").t(e).up().up(),s.c("field",{var:"muc#roomconfig_passwordprotectedroom"}).c("value").t(null===e||0===e.length?"0":"1").up().up(),i.membersOnlyEnabled&&s.c("field",{var:"muc#roomconfig_membersonly"}).c("value").t("true").up().up(),s.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),i.connection.sendIQ(s,function(){i.password=e,t()},n)}else r()},n)}},{key:"setMembersOnly",value:function(e,t,n){var r=this;e&&Object.values(this.members).filter(function(e){return!e.isFocus}).length&&Object.values(this.members).forEach(function(e){e.jid&&!io.includes(e.affiliation)&&r.xmpp.connection.sendIQ((0,ut.$iq)({to:r.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:"member",jid:e.jid}).up().up())});var i=n||function(){};this.xmpp.connection.sendIQ((0,ut.$iq)({to:this.roomjid,type:"get"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}),function(n){if($(n).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_membersonly"]').length){var o=(0,ut.$iq)({to:r.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});o.c("x",{xmlns:"jabber:x:data",type:"submit"}),o.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),o.c("field",{var:"muc#roomconfig_membersonly"}).c("value").t(e?"true":"false").up().up(),r.locked&&o.c("field",{var:"muc#roomconfig_passwordprotectedroom"}).c("value").t("1").up().up(),r.xmpp.connection.sendIQ(o,t,i)}else i(new Error("Setting members only room not supported!"))},i)}},{key:"addToPresence",value:function(e,t){return this.addOrReplaceInPresence(e,t)}},{key:"addOrReplaceInPresence",value:function(e,t){t.tagName=e;var n=this.presMap.nodes.filter(function(t){return e===t.tagName});return!(1===n.length&&ct()(n[0],t)||(this.removeFromPresence(e),this.presMap.nodes.push(t),this.presenceUpdateTime=Date.now(),0))}},{key:"getFromPresence",value:function(e){return this.presMap.nodes.find(function(t){return e===t.tagName})}},{key:"removeFromPresence",value:function(e){var t=this.presMap.nodes.filter(function(t){return e!==t.tagName});this.presMap.nodes=t,this.presenceUpdateTime=Date.now()}},{key:"addPresenceListener",value:function(e,t){if("function"!=typeof t)throw new Error('"handler" is not a function');var n=this.presHandlers[e];n||(this.presHandlers[e]=n=[]),-1===n.indexOf(t)?n.push(t):to.warn("Trying to add the same handler more than once for: "+e)}},{key:"removePresenceListener",value:function(e,t){var n=this.presHandlers[e],r=n?n.indexOf(t):-1;-1!==r?n.splice(r,1):to.warn("Handler for: "+e+" was not registered")}},{key:"isFocus",value:function(e){var t=this.members[e];return t?t.isFocus:null}},{key:"isModerator",value:function(){return"moderator"===this.role}},{key:"getMemberRole",value:function(e){return this.members[e]?this.members[e].role:null}},{key:"addAudioInfoToPresence",value:function(e){var t="audiomuted";return!(e&&!this.getFromPresence(t))&&this.addOrReplaceInPresence(t,{value:e.toString()})}},{key:"addVideoInfoToPresence",value:function(e){var t="videomuted";return!(e&&!this.getFromPresence(t))&&this.addOrReplaceInPresence(t,{value:e.toString()})}},{key:"getMediaPresenceInfo",value:function(e,t){var n=this.lastPresences[this.roomjid+"/"+e];if(!n)return null;var r={muted:!0,videoType:ar.VideoType.CAMERA},i=null;if(t===Bn.AUDIO)i=ro(n,"audiomuted");else{if(t!==Bn.VIDEO)return to.error("Unsupported media type: "+t),null;i=ro(n,"videomuted");var o=ro(n,"jitsi_participant_codecType"),s=ro(n,"videoType");s.length>0&&(r.videoType=s[0].value),o.length>0&&(r.codecType=o[0].value)}return i.length>0&&(r.muted="true"===i[0].value),r}},{key:"getLastPresence",value:function(e){return this.lastPresences[this.roomjid+"/"+e]}},{key:"isSIPCallingSupported",value:function(){return!!this.moderator&&this.moderator.isSipGatewayEnabled()}},{key:"dial",value:function(e){return this.connection.rayo.dial(e,"fromnumber",ut.Strophe.getBareJidFromJid(this.myroomjid),this.password,this.focusMucJid)}},{key:"hangup",value:function(){return this.connection.rayo.hangup()}},{key:"getLobby",value:function(){return this.lobby}},{key:"getAVModeration",value:function(){return this.avModeration}},{key:"getBreakoutRooms",value:function(){return this.breakoutRooms}},{key:"getPhoneNumber",value:function(){return this.phoneNumber}},{key:"getPhonePin",value:function(){return this.phonePin}},{key:"getMeetingId",value:function(){return this.meetingId}},{key:"muteParticipant",value:function(e,t,n){to.info("set mute",t,e);var r=(0,ut.$iq)({to:this.focusMucJid,type:"set"}).c("mute",{xmlns:"http://jitsi.org/jitmeet/"+n,jid:e}).t(t.toString()).up();this.connection.sendIQ(r,function(e){return to.log("set mute",e)},function(e){return to.log("set mute error",e)})}},{key:"onMute",value:function(e){if(e.getAttribute("from")===this.focusMucJid){var t=$(e).find("mute");t.length&&"true"===t.text()?this.eventEmitter.emit(dr.XMPPEvents.AUDIO_MUTED_BY_FOCUS,t.attr("actor")):to.warn("Ignoring a mute request which does not explicitly specify a positive mute command.")}else to.warn("Ignored mute from non focus peer")}},{key:"onMuteVideo",value:function(e){if(e.getAttribute("from")===this.focusMucJid){var t=$(e).find("mute");t.length&&"true"===t.text()?this.eventEmitter.emit(dr.XMPPEvents.VIDEO_MUTED_BY_FOCUS,t.attr("actor")):to.warn("Ignoring a mute request which does not explicitly specify a positive mute command.")}else to.warn("Ignored mute from non focus peer")}},{key:"clean",value:function(){this._removeConnListeners.forEach(function(e){return e()}),this._removeConnListeners=[],this.joined=!1,this.inProgressEmitted=!1}},{key:"leave",value:function(){var e,t=this,n=this;this.avModeration.dispose(),this.breakoutRooms.dispose();var r=[];return(null===(e=this.lobby)||void 0===e?void 0:e.lobbyRoom)&&r.push(this.lobby.leave()),r.push(new Promise(function(e,r){var i=-1,o=function t(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.eventEmitter.removeListener(dr.XMPPEvents.MUC_LEFT,t),clearTimeout(i),o?(n.connection.emuc.doLeave(n.roomjid),r(new Error("The timeout for the confirmation about leaving the room expired."))):e()};i=setTimeout(function(){return o(!0)},5e3),t.clean(),t.eventEmitter.on(dr.XMPPEvents.MUC_LEFT,o),t.doLeave()})),Promise.allSettled(r)}}]),n})(),so=(0,v.getLogger)("modules/xmpp/strophe.emuc.js"),ao=(function(e){_inherits(n,Ai);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).xmpp=e,r.rooms={},r}return _createClass(n,[{key:"init",value:function(e){_get(_getPrototypeOf(n.prototype),"init",this).call(this,e),this.connection.addHandler(this.onPresence.bind(this),null,"presence",null,null,null,null),this.connection.addHandler(this.onPresenceUnavailable.bind(this),null,"presence","unavailable",null),this.connection.addHandler(this.onPresenceError.bind(this),null,"presence","error",null),this.connection.addHandler(this.onMessage.bind(this),null,"message",null,null),this.connection.addHandler(this.onMute.bind(this),"http://jitsi.org/jitmeet/audio","iq","set",null,null),this.connection.addHandler(this.onMuteVideo.bind(this),"http://jitsi.org/jitmeet/video","iq","set",null,null)}},{key:"createRoom",value:function(e,t,n){var r=ut.Strophe.getBareJidFromJid(e);if(this.isRoomCreated(r)){var i="You are already in the room!";throw so.error(i),new Error(i)}return this.rooms[r]=new oo(this.connection,e,t,this.xmpp,n),this.eventEmitter.emit(dr.XMPPEvents.EMUC_ROOM_ADDED,this.rooms[r]),this.rooms[r]}},{key:"isRoomCreated",value:function(e){return e in this.rooms}},{key:"doLeave",value:function(e){this.eventEmitter.emit(dr.XMPPEvents.EMUC_ROOM_REMOVED,this.rooms[e]),delete this.rooms[e]}},{key:"onPresence",value:function(e){var t=e.getAttribute("from");if(e.getAttribute("type"))return!0;var n=this.rooms[ut.Strophe.getBareJidFromJid(t)];return!n||($(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="201"]').length&&n.createNonAnonymousRoom(),n.onPresence(e),!0)}},{key:"onPresenceUnavailable",value:function(e){var t=e.getAttribute("from"),n=this.rooms[ut.Strophe.getBareJidFromJid(t)];return!n||(n.onPresenceUnavailable(e,t),!0)}},{key:"onPresenceError",value:function(e){var t=e.getAttribute("from"),n=this.rooms[ut.Strophe.getBareJidFromJid(t)];return!n||(n.onPresenceError(e,t),!0)}},{key:"onMessage",value:function(e){var t=e.getAttribute("from"),n=this.rooms[ut.Strophe.getBareJidFromJid(t)];return!n||(n.onMessage(e,t),!0)}},{key:"onMute",value:function(e){var t=e.getAttribute("from"),n=this.rooms[ut.Strophe.getBareJidFromJid(t)];return!n||(n.onMute(e),!0)}},{key:"onMuteVideo",value:function(e){var t=e.getAttribute("from"),n=this.rooms[ut.Strophe.getBareJidFromJid(t)];return!n||(n.onMuteVideo(e),!0)}}]),n})(),co=(0,v.getLogger)("modules/xmpp/JingleHelperFunctions.js");function uo(e,t){var n=(0,ut.$build)("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",ssrc:t.s,name:ui.isSourceNameSignalingEnabled()?t.n:void 0});return t.m&&n.c("parameter",{name:"msid",value:t.m}).up(),n.c("ssrc-info",{xmlns:"http://jitsi.org/jitmeet",owner:e}).up(),n.node}function lo(e){for(var t,n=(0,ut.$build)("ssrc-group",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",semantics:(t=e[0],"f"===t?"FID":"s"===t?"SIM":null)}),r=1;r<e.length;r++)n.c("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",ssrc:e[r]}).up();return n.node}function ho(e,t){var n,r=$(e).find("jingle")[0],i=$(r).find("content[name=\""+t+"\"]");return i.length?i=i[0]:(i=(0,ut.$build)("content",{name:t}).node,r.appendChild(i)),(n=$(i).find("description")).length?n=n[0]:(n=(0,ut.$build)("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:t}).node,i.appendChild(n)),n}function po(e,t){var n,r;try{r=JSON.parse(t.textContent)}catch(e){return co.error("json-message XML contained invalid JSON, ignoring: "+t.textContent),null}if(null===(n=r)||void 0===n||!n.sources)return null;var i=ho(e,Bn.AUDIO),o=ho(e,Bn.VIDEO),s=new Map;for(var a in r.sources)if(r.sources.hasOwnProperty(a)){var c=[],u=r.sources[a],d=(null==u?void 0:u.length)&&u[0],l=(null==u?void 0:u.length)>1&&u[1],h=(null==u?void 0:u.length)>2&&u[2],p=(null==u?void 0:u.length)>3&&u[3];if(null!=d&&d.length)for(var f=0;f<d.length;f++){var m;o.appendChild(uo(a,d[f])),c.push(null===(m=d[f])||void 0===m?void 0:m.s)}if(null!=l&&l.length)for(var v=0;v<l.length;v++)o.appendChild(lo(l[v]));if(null!=h&&h.length)for(var _=0;_<h.length;_++){var g;i.appendChild(uo(a,h[_])),c.push(null===(g=h[_])||void 0===g?void 0:g.s)}if(null!=p&&p.length)for(var y=0;y<p.length;y++)i.appendChild(lo(p[y]));s.set(a,c)}return s}var fo,mo=n(4391),vo=n.n(mo);!(function(e){e.INACTIVE="inactive",e.RECVONLY="recvonly",e.SENDONLY="sendonly",e.SENDRECV="sendrecv"})(fo||(fo={}));var _o=n(5810).getLogger("modules/RTC/ScreenObtainer.js"),go={obtainStream:null,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.obtainStream=this._createObtainStreamMethod(),this.obtainStream||_o.info("Desktop sharing disabled")},_createObtainStreamMethod:function(){return An.isNWJS()?function(e,t){window.JitsiMeetNW.obtainDesktopStream(e,function(e,n){var r;r=e&&"InvalidStateError"===e.name?new At(gt):new At(e,n,["desktop"]),"function"==typeof t&&t(r)})}:An.isElectron()?this.obtainScreenOnElectron:An.isReactNative()&&An.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMediaRN:An.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMedia:(_o.log("Screen sharing not supported on ",An.getName()),null)},_getAudioConstraints:function(){var e=this.options.audioQuality;return null==e||!e.stereo||{autoGainControl:!1,channelCount:2,echoCancellation:!1,noiseSuppression:!1}},isSupported:function(){return null!==this.obtainStream},obtainScreenOnElectron:function(e,t){var n=this;if(window.JitsiMeetScreenObtainer&&window.JitsiMeetScreenObtainer.openDesktopPicker){var r=this.options,i=r.desktopSharingFrameRate,o=r.desktopSharingSources;window.JitsiMeetScreenObtainer.openDesktopPicker({desktopSharingSources:o||["screen","window"]},function(r,o){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r){var a,c,u=!1;if(s){u={};var d=n._getAudioConstraints();"boolean"!=typeof d&&(u={optional:d}),"screen"===o&&(u.mandatory={chromeMediaSource:"desktop"})}var l={audio:u,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:r,minFrameRate:null!==(a=null==i?void 0:i.min)&&void 0!==a?a:5,maxFrameRate:null!==(c=null==i?void 0:i.max)&&void 0!==c?c:5,maxWidth:window.screen.width,maxHeight:window.screen.height}}};navigator.mediaDevices.getUserMedia(l).then(function(t){return e({stream:t,sourceId:r,sourceType:o})},t)}else t(new At(gt))},function(e){return t(new At(ht,e))})}else t(new At(pt))},obtainScreenFromGetDisplayMedia:function(e,t){var n;n=navigator.getDisplayMedia?navigator.getDisplayMedia.bind(navigator):navigator.mediaDevices.getDisplayMedia.bind(navigator.mediaDevices);var r=this.options.desktopSharingFrameRate,i="object"!=typeof r||{frameRate:r},o=this._getAudioConstraints();i.frameRate&&delete i.frameRate.min;var s={video:i,audio:o,cursor:"always"};_o.info("Using getDisplayMedia for screen sharing",s),n(s).then(function(t){e({stream:t,sourceId:t.id})}).catch(function(e){var n={errorName:e&&e.name,errorMsg:e&&e.message,errorStack:e&&e.stack};_o.error("getDisplayMedia error",s,n),n.errorMsg&&-1!==n.errorMsg.indexOf("denied by system")?t(new At(vt)):t(new At(gt))})},obtainScreenFromGetDisplayMediaRN:function(e,t){_o.info("Using getDisplayMedia for screen sharing"),navigator.mediaDevices.getDisplayMedia({video:!0}).then(function(t){e({stream:t,sourceId:t.id})}).catch(function(){t(new At(gt))})},setDesktopSharingFrameRate:function(e){_o.info("Setting the desktop capture rate to "+e),this.options.desktopSharingFrameRate={min:5,max:e}}},yo=n(2138),So=n.n(yo),Eo=n(8310),Co=(0,v.getLogger)("modules/sdp/SDPUtil.js"),To={filterSpecialChars:function(e){return e?e.replace(/[\\\/\{,\}\+]/g,""):e},iceparams:function(e,t){var n,r,i=null;return(r=To.findLine(e,"a=ice-ufrag:",t))&&(n=To.findLine(e,"a=ice-pwd:",t))&&(i={ufrag:To.parseICEUfrag(r),pwd:To.parseICEPwd(n)}),i},parseICEUfrag:function(e){return e.substring(12)},buildICEUfrag:function(e){return"a=ice-ufrag:"+e},parseICEPwd:function(e){return e.substring(10)},buildICEPwd:function(e){return"a=ice-pwd:"+e},parseMID:function(e){return e.substring(6)},parseMSIDAttribute:function(e){var t=e.find(function(e){return e.indexOf(" msid:")>0});if(t){var n=t.substring(t.indexOf(" msid:")+6);return To.filterSpecialChars(n)}},parseMLine:function(e){var t={},n=e.substring(2).split(" ");return t.media=n.shift(),t.port=n.shift(),t.proto=n.shift(),""===n[n.length-1]&&n.pop(),t.fmt=n,t},buildMLine:function(e){return"m="+e.media+" "+e.port+" "+e.proto+" "+e.fmt.join(" ")},parseRTPMap:function(e){var t={},n=e.substring(9).split(" ");return t.id=n.shift(),n=n[0].split("/"),t.name=n.shift(),t.clockrate=n.shift(),t.channels=n.length?n.shift():"1",t},parseSCTPMap:function(e){var t=e.substring(10).split(" ");return[t[0],t[1],t.length>2?t[2]:null]},parseSCTPPort:function(e){return e.substring(12)},buildRTPMap:function(e){var t="a=rtpmap:"+e.getAttribute("id")+" "+e.getAttribute("name")+"/"+e.getAttribute("clockrate");return e.getAttribute("channels")&&"1"!==e.getAttribute("channels")&&(t+="/"+e.getAttribute("channels")),t},parseCrypto:function(e){var t={},n=e.substring(9).split(" ");return t.tag=n.shift(),t["crypto-suite"]=n.shift(),t["key-params"]=n.shift(),n.length&&(t["session-params"]=n.join(" ")),t},parseFingerprint:function(e){var t={},n=e.substring(14).split(" ");return t.hash=n.shift(),t.fingerprint=n.shift(),t},parseFmtp:function(e){var t=[],n=e.split(" ");n.shift(),n=n.join(" ").split(";");for(var r=0;r<n.length;r++){for(var i=n[r].split("=")[0];i.length&&" "===i[0];)i=i.substring(1);var o=n[r].split("=")[1];i&&o?t.push({name:i,value:o}):i&&t.push({name:"",value:i})}return t},parseICECandidate:function(e){var t={},n=e.split(" ");t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation=0;for(var r=8;r<n.length;r+=2)switch(n[r]){case"raddr":t["rel-addr"]=n[r+1];break;case"rport":t["rel-port"]=n[r+1];break;case"generation":t.generation=n[r+1];break;case"tcptype":t.tcptype=n[r+1];break;default:Co.debug("parseICECandidate not translating \""+n[r]+"\" = \""+n[r+1]+"\"")}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t},buildICECandidate:function(e){var t=["a=candidate:"+e.foundation,e.component,e.protocol,e.priority,e.ip,e.port,"typ",e.type].join(" ");switch(t+=" ",e.type){case"srflx":case"prflx":case"relay":e.hasOwnAttribute("rel-addr")&&e.hasOwnAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e["rel-addr"],t+=" ",t+="rport",t+=" ",t+=e["rel-port"],t+=" ")}return e.hasOwnAttribute("tcptype")&&(t+="tcptype",t+=" ",t+=e.tcptype,t+=" "),t+="generation",t+=" ",t+=e.hasOwnAttribute("generation")?e.generation:"0"},parseSSRC:function(e){for(var t=new Map,n=e.split("\r\n"),r=0;r<n.length;r++)if("a=ssrc:"===n[r].substring(0,7)){var i=n[r].split("a=ssrc:")[1].split(" ")[0];t.get(i)||t.set(i,[]),t.get(i).push(n[r])}return t},parseSourceNameLine:function(e){var t=e.find(function(e){return e.indexOf(" name:")>0});return null==t?void 0:t.substring(t.indexOf(" name:")+6)},parseRTCPFB:function(e){var t=e.substr(10).split(" "),n={};return n.pt=t.shift(),n.type=t.shift(),n.params=t,n},parseExtmap:function(e){var t=e.substr(9).split(" "),n={};return n.value=t.shift(),-1===n.value.indexOf("/")?n.direction="both":(n.direction=n.value.substr(n.value.indexOf("/")+1),n.value=n.value.substr(0,n.value.indexOf("/"))),n.uri=t.shift(),n.params=t,n},findLine:function(e,t,n){for(var r=e.split("\r\n"),i=0;i<r.length;i++)if(r[i].substring(0,t.length)===t)return r[i];if(!n)return!1;r=n.split("\r\n");for(var o=0;o<r.length;o++)if(r[o].substring(0,t.length)===t)return r[o];return!1},findLines:function(e,t,n){for(var r=e.split("\r\n"),i=[],o=0;o<r.length;o++)r[o].substring(0,t.length)===t&&i.push(r[o]);if(i.length||!n)return i;r=n.split("\r\n");for(var s=0;s<r.length;s++)r[s].substring(0,t.length)===t&&i.push(r[s]);return i},candidateToJingle:function(e){if(0===e.indexOf("candidate:"))e="a="+e;else if("a=candidate:"!==e.substring(0,12))return Co.warn("parseCandidate called with a line that is not a candidate line"),Co.warn(e),null;"\r\n"===e.substring(e.length-2)&&(e=e.substring(0,e.length-2));var t={},n=e.split(" ");if("typ"!==n[6])return Co.warn("did not find typ in the right place"),Co.warn(e),null;t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation="0";for(var r=8;r<n.length;r+=2)switch(n[r]){case"raddr":t["rel-addr"]=n[r+1];break;case"rport":t["rel-port"]=n[r+1];break;case"generation":t.generation=n[r+1];break;case"tcptype":t.tcptype=n[r+1];break;default:Co.debug("not translating \""+n[r]+"\" = \""+n[r+1]+"\"")}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t},candidateFromJingle:function(e){var t="a=candidate:";t+=e.getAttribute("foundation"),t+=" ",t+=e.getAttribute("component"),t+=" ";var n=e.getAttribute("protocol");switch(An.isFirefox()&&"ssltcp"===n.toLowerCase()&&(n="tcp"),t+=n,t+=" ",t+=e.getAttribute("priority"),t+=" ",t+=e.getAttribute("ip"),t+=" ",t+=e.getAttribute("port"),t+=" ",t+="typ",t+=" "+e.getAttribute("type"),t+=" ",e.getAttribute("type")){case"srflx":case"prflx":case"relay":e.getAttribute("rel-addr")&&e.getAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e.getAttribute("rel-addr"),t+=" ",t+="rport",t+=" ",t+=e.getAttribute("rel-port"),t+=" ")}return"tcp"===n.toLowerCase()&&(t+="tcptype",t+=" ",t+=e.getAttribute("tcptype"),t+=" "),t+="generation",t+=" ",(t+=e.getAttribute("generation")||"0")+"\r\n"},parsePrimaryVideoSsrc:function(e){var t=e.ssrcs.map(function(e){return e.id}).filter(function(e,t,n){return n.indexOf(e)===t}).length,n=e.ssrcGroups&&e.ssrcGroups.length||0;if(!(t>1&&0===n)){var r=null;if(1===t)r=e.ssrcs[0].id;else if(2===t){var i=e.ssrcGroups.find(function(e){return"FID"===e.semantics});i&&(r=i.ssrcs.split(" ")[0])}else if(t>=3){var o=e.ssrcGroups.find(function(e){return"SIM"===e.semantics});o&&(r=o.ssrcs.split(" ")[0])}return r}},generateSsrc:function(){return li().randomInt(1,4294967295)},getSsrcAttribute:function(e,t,n){for(var r=0;r<e.ssrcs.length;++r){var i=e.ssrcs[r];if(i.id===t&&i.attribute===n)return i.value}},parseGroupSsrcs:function(e){return e.ssrcs.split(" ").map(function(e){return parseInt(e,10)})},getMedia:function(e,t){return e.media.find(function(e){return e.type===t})},getUfrag:function(e){var t=e.split("\n").filter(function(e){return e.startsWith("a=ice-ufrag:")});if(t.length>0)return t[0].substr("a=ice-ufrag:".length)},preferCodec:function(e,t){if(e&&t){var n=e.rtp.filter(function(e){return e.codec&&e.codec.toLowerCase()===t.toLowerCase()}).map(function(e){return e.payload});if(n){for(var r,i=e.payloads.toString().split(" ").map(function(e){return parseInt(e,10)}),o=_createForOfIteratorHelperLoose(n.reverse());!(r=o()).done;){var s=r.value,a=i.indexOf(s);i.splice(a,1),i.unshift(s)}e.payloads=i.join(" ")}}},stripCodec:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t){for(var r,i=[],o=[],s=t.toLowerCase()===vo().H264&&n,a=_createForOfIteratorHelperLoose(e.rtp);!(r=a()).done;){var c=r.value;c.codec&&c.codec.toLowerCase()===t.toLowerCase()&&(s?i.push(c.payload):o.push(c.payload))}if(s&&(o=e.fmtp.filter(function(e){return i.indexOf(e.payload)>-1&&e.config.includes("profile-level-id=64")}).map(function(e){return e.payload})),o.length>0){var u,d=o.map(function(e){return"apt="+e}),l=e.fmtp.filter(function(e){return-1!==d.indexOf(e.config)});(u=o).push.apply(u,_toConsumableArray(l.map(function(e){return e.payload})));var h=e.payloads.toString().split(" ").map(Number).filter(function(e){return-1===o.indexOf(e)});0===h.length?(e.port=0,e.direction=fo.INACTIVE,e.payloads="*"):e.payloads=h.join(" "),e.rtp=e.rtp.filter(function(e){return-1!==h.indexOf(e.payload)}),e.fmtp=e.fmtp.filter(function(e){return-1!==h.indexOf(e.payload)}),e.rtcpFb&&(e.rtcpFb=e.rtcpFb.filter(function(e){return-1!==h.indexOf(e.payload)}))}}}},bo=To;function Ro(e){for(var t=e.split("\r\nm="),n=1,r=t.length;n<r;n++){var i="m="+t[n];n!==r-1&&(i+="\r\n"),t[n]=i}var o=t.shift()+"\r\n";this.media=t,this.raw=o+t.join(""),this.session=o}function Ao(e,t){if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!e[n].equals(t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function Io(e,t){if(this.mySDP=e,this.otherSDP=t,!e)throw new Error('"mySDP" is undefined!');if(!t)throw new Error('"otherSDP" is undefined!')}Ro.prototype.failICE=!1,Ro.prototype.removeTcpCandidates=!1,Ro.prototype.removeUdpCandidates=!1,Ro.prototype.addMlineForNewLocalSource=function(e){var t=this.media.length,n=Eo.parse(this.raw),r=So()(n.media.find(function(t){return t.type===e}));r.mid=t,r.direction=fo.RECVONLY,r.msid=void 0,r.ssrcs=void 0,r.ssrcGroups=void 0,n.media=n.media.concat(r),n.groups.forEach(function(e){if("BUNDLE"===e.type){var n=e.mids.split(" ");n.push(t),e.mids=n.join(" ")}}),this.raw=Eo.write(n)},Ro.prototype.getMediaSsrcMap=function(){for(var e=this,t={},n=function(n){var r={mediaindex:n,mid:bo.parseMID(bo.findLine(e.media[n],"a=mid:")),ssrcs:{},ssrcGroups:[]};t[n]=r,bo.findLines(e.media[n],"a=ssrc:").forEach(function(e){var t=e.substring(7).split(" ")[0];r.ssrcs[t]||(r.ssrcs[t]={ssrc:t,lines:[]}),r.ssrcs[t].lines.push(e)}),bo.findLines(e.media[n],"a=ssrc-group:").forEach(function(e){var t=e.indexOf(" "),n=e.substr(0,t).substr(13),i=e.substr(14+n.length).split(" ");i.length&&r.ssrcGroups.push({semantics:n,ssrcs:i})})},r=0;r<this.media.length;r++)n(r);return t},Ro.prototype.containsSSRC=function(e){var t=this.getMediaSsrcMap(),n=!1;return Object.keys(t).forEach(function(r){n||t[r].ssrcs[e]&&(n=!0)}),n},Ro.prototype.toJingle=function(e,t){bo.findLines(this.session,"a=group:").forEach(function(t){var n=t.split(" "),r=n.shift().substr(8);e.c("group",{xmlns:"urn:xmpp:jingle:apps:grouping:0",semantics:r});for(var i=0;i<n.length;i++)e.c("content",{name:n[i]}).up();e.up()});for(var n=0;n<this.media.length;n++){var r=bo.parseMLine(this.media[n].split("\r\n")[0]);if("audio"===r.media||"video"===r.media||"application"===r.media){var i,o=bo.findLine(this.media[n],"a=ssrc:");i=!!o&&o.substring(7).split(" ")[0],e.c("content",{creator:t,name:r.media});var s=bo.findLine(this.media[n],"a=mid:");if(s){var a=bo.parseMID(s);e.attrs({name:a})}if("audio"===r.media||"video"===r.media){e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:r.media}),i&&e.attrs({ssrc:i});for(var c=0;c<r.fmt.length;c++){var u=bo.findLine(this.media[n],"a=rtpmap:"+r.fmt[c]);e.c("payload-type",bo.parseRTPMap(u));var d=bo.findLine(this.media[n],"a=fmtp:"+r.fmt[c]);if(d)for(var l=bo.parseFmtp(d),h=0;h<l.length;h++)e.c("parameter",l[h]).up();this.rtcpFbToJingle(n,e,r.fmt[c]),e.up()}if(i){for(var p,f=_createForOfIteratorHelperLoose(bo.parseSSRC(this.media[n]));!(p=f()).done;){var m=p.value,v=_slicedToArray(m,2),_=v[0],g=v[1],y=bo.parseSourceNameLine(g);e.c("source",{ssrc:_,name:ui.isSourceNameSignalingEnabled()?y:void 0,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"});var S=bo.parseMSIDAttribute(g);S&&(e.c("parameter"),e.attrs({name:"msid"}),e.attrs({value:S}),e.up()),e.up()}bo.findLines(this.media[n],"a=ssrc-group:").forEach(function(t){var n=t.indexOf(" "),r=t.substr(0,n).substr(13),i=t.substr(14+r.length).split(" ");i.length&&(e.c("ssrc-group",{semantics:r,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),i.forEach(function(t){return e.c("source",{ssrc:t}).up()}),e.up())})}var E=bo.findLines(this.media[n],"a=rid:");if(E.length&&An.usesRidsForSimulcast()){var C=E.map(function(e){return e.split(":")[1]}).map(function(e){return e.split(" ")[0]});C.forEach(function(t){e.c("source",{rid:t,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.up()}),bo.findLine(this.media[n],"a=simulcast:")&&(e.c("rid-group",{semantics:"SIM",xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),C.forEach(function(t){e.c("source",{rid:t}).up()}),e.up())}bo.findLine(this.media[n],"a=rtcp-mux")&&e.c("rtcp-mux").up(),this.rtcpFbToJingle(n,e,"*");for(var T=bo.findLines(this.media[n],"a=extmap:"),b=0;b<T.length;b++){var R=bo.parseExtmap(T[b]);if(e.c("rtp-hdrext",{xmlns:"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",uri:R.uri,id:R.value}),R.hasOwnProperty("direction"))switch(R.direction){case fo.SENDONLY:e.attrs({senders:"responder"});break;case fo.RECVONLY:e.attrs({senders:"initiator"});break;case fo.SENDRECV:e.attrs({senders:"both"});break;case fo.INACTIVE:e.attrs({senders:"none"})}e.up()}e.up()}this.transportToJingle(n,e);var A=this.media[n];bo.findLine(A,"a="+fo.SENDRECV,this.session)?e.attrs({senders:"both"}):bo.findLine(A,"a="+fo.SENDONLY,this.session)?e.attrs({senders:"initiator"}):bo.findLine(A,"a="+fo.RECVONLY,this.session)?e.attrs({senders:"responder"}):bo.findLine(A,"a="+fo.INACTIVE,this.session)&&e.attrs({senders:"none"}),"0"!==r.port||bo.findLine(A,"a=bundle-only",this.session)||e.attrs({senders:"rejected"}),e.up()}}return e.up(),e},Ro.prototype.transportToJingle=function(e,t){var n=this;t.c("transport");var r=bo.findLine(this.media[e],"a=sctp-port:",this.session),i=bo.findLine(this.media[e],"a=sctpmap:",this.session);if(r){var o=bo.parseSCTPPort(r);t.c("sctpmap",{xmlns:"urn:xmpp:jingle:transports:dtls-sctp:1",number:o,protocol:"webrtc-datachannel"}),t.attrs({streams:0}),t.up()}else if(i){var s=bo.parseSCTPMap(i);t.c("sctpmap",{xmlns:"urn:xmpp:jingle:transports:dtls-sctp:1",number:s[0],protocol:s[1]}),s.length>2?t.attrs({streams:s[2]}):t.attrs({streams:0}),t.up()}bo.findLines(this.media[e],"a=fingerprint:",this.session).forEach(function(r){var i=bo.parseFingerprint(r);i.xmlns="urn:xmpp:jingle:apps:dtls:0",t.c("fingerprint").t(i.fingerprint),delete i.fingerprint;var o=bo.findLine(n.media[e],"a=setup:",n.session);o&&(i.setup=o.substr(8)),t.attrs(i),t.up()});var a=bo.iceparams(this.media[e],this.session);a&&(a.xmlns="urn:xmpp:jingle:transports:ice-udp:1",t.attrs(a),bo.findLines(this.media[e],"a=candidate:",this.session).forEach(function(e){var r=bo.candidateToJingle(e);n.failICE&&(r.ip="1.1.1.1");var i=r&&"string"==typeof r.protocol?r.protocol.toLowerCase():"";n.removeTcpCandidates&&("tcp"===i||"ssltcp"===i)||n.removeUdpCandidates&&"udp"===i||t.c("candidate",r).up()})),t.up()},Ro.prototype.rtcpFbToJingle=function(e,t,n){bo.findLines(this.media[e],"a=rtcp-fb:"+n).forEach(function(e){var n=bo.parseRTCPFB(e);"trr-int"===n.type?(t.c("rtcp-fb-trr-int",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",value:n.params[0]}),t.up()):(t.c("rtcp-fb",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",type:n.type}),n.params.length>0&&t.attrs({subtype:n.params[0]}),t.up())})},Ro.prototype.rtcpFbFromJingle=function(e,t){var n="",r=e.find('>rtcp-fb-trr-int[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]');return r.length&&(n+="a=rtcp-fb:* trr-int ",r.attr("value")?n+=r.attr("value"):n+="0",n+="\r\n"),e.find('>rtcp-fb[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]').each(function(e,r){n+="a=rtcp-fb:"+t+" "+r.getAttribute("type"),r.hasAttribute("subtype")&&(n+=" "+r.getAttribute("subtype")),n+="\r\n"}),n},Ro.prototype.fromJingle=function(e){var t=this,n=Date.now();this.raw="v=0\r\no=- "+n+" 2 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\n";var r=$(e).find('>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]');r.length&&r.each(function(e,n){var r=$(n).find(">content").map(function(e,t){return t.getAttribute("name")}).get();r.length>0&&(t.raw+="a=group:"+(n.getAttribute("semantics")||n.getAttribute("type"))+" "+r.join(" ")+"\r\n")}),this.session=this.raw,e.find(">content").each(function(e,n){var r=t.jingle2media($(n));t.media.push(r)}),this.raw=this.session+this.media.join("")},Ro.prototype.jingle2media=function(e){var t=this,n=e.find(">description"),r=e.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]'),i="",o=r.find('>sctpmap[xmlns="urn:xmpp:jingle:transports:dtls-sctp:1"]'),s={media:n.attr("media"),port:"9"};switch("rejected"===e.attr("senders")&&(s.port="0"),r.find('>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]').length?s.proto=o.length?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF":s.proto="UDP/TLS/RTP/SAVPF",o.length?(i+="m=application "+s.port+" UDP/DTLS/SCTP webrtc-datachannel\r\n",i+="a=sctp-port:"+o.attr("number")+"\r\n",i+="a=max-message-size:262144\r\n"):(s.fmt=n.find(">payload-type").map(function(e,t){return t.getAttribute("id")}).get(),i+=bo.buildMLine(s)+"\r\n"),i+="c=IN IP4 0.0.0.0\r\n",o.length||(i+="a=rtcp:1 IN IP4 0.0.0.0\r\n"),r.length&&(r.attr("ufrag")&&(i+=bo.buildICEUfrag(r.attr("ufrag"))+"\r\n"),r.attr("pwd")&&(i+=bo.buildICEPwd(r.attr("pwd"))+"\r\n"),r.find('>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]').each(function(e,t){i+="a=fingerprint:"+t.getAttribute("hash"),i+=" "+$(t).text(),i+="\r\n",t.hasAttribute("setup")&&(i+="a=setup:"+t.getAttribute("setup")+"\r\n")})),r.find(">candidate").each(function(e,n){var r=n.getAttribute("protocol");r="string"==typeof r?r.toLowerCase():"",t.removeTcpCandidates&&("tcp"===r||"ssltcp"===r)||t.removeUdpCandidates&&"udp"===r||(t.failICE&&n.setAttribute("ip","1.1.1.1"),i+=bo.candidateFromJingle(n))}),e.attr("senders")){case"initiator":i+="a="+fo.SENDONLY+"\r\n";break;case"responder":i+="a="+fo.RECVONLY+"\r\n";break;case"none":i+="a="+fo.INACTIVE+"\r\n";break;case"both":i+="a="+fo.SENDRECV+"\r\n"}i+="a=mid:"+e.attr("name")+"\r\n",n.find(">rtcp-mux").length&&(i+="a=rtcp-mux\r\n"),n.find(">payload-type").each(function(e,n){i+=bo.buildRTPMap(n)+"\r\n",$(n).find(">parameter").length&&(i+="a=fmtp:"+n.getAttribute("id")+" ",i+=$(n).find(">parameter").map(function(e,t){var n=t.getAttribute("name");return(n?n+"=":"")+t.getAttribute("value")}).get().join("; "),i+="\r\n"),i+=t.rtcpFbFromJingle($(n),n.getAttribute("id"))}),i+=this.rtcpFbFromJingle(n,"*"),n.find('>rtp-hdrext[xmlns="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0"]').each(function(e,t){i+="a=extmap:"+t.getAttribute("id")+" "+t.getAttribute("uri")+"\r\n"}),n.find('>ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(e,t){var n=t.getAttribute("semantics"),r=$(t).find(">source").map(function(e,t){return t.getAttribute("ssrc")}).get();r.length&&(i+="a=ssrc-group:"+n+" "+r.join(" ")+"\r\n")});var a="",c="";return n.find('>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(e,t){var n=t.getAttribute("ssrc"),r=!0,i="";$(t).find(">parameter").each(function(e,t){var o,s=t.getAttribute("name"),a=t.getAttribute("value");a=bo.filterSpecialChars(a),i+="a=ssrc:"+n+" "+s,a&&a.length&&(i+=":"+a),i+="\r\n",null!==(o=a)&&void 0!==o&&o.includes("mixedmslabel")&&(r=!1)}),r?a+=i:c+=i}),i+=c+a},Io.prototype.getNewMedia=function(){var e=this.mySDP.getMediaSsrcMap(),t=this.otherSDP.getMediaSsrcMap(),n={};return Object.keys(t).forEach(function(r){var i=e[r],o=t[r];i||!o?(Object.keys(o.ssrcs).forEach(function(e){(-1===Object.keys(i.ssrcs).indexOf(e)||o.ssrcs[e].lines&&i.ssrcs[e].lines&&void 0!==i.ssrcs[e].lines.find(function(e){return-1!==e.indexOf("msid")})!=(void 0!==o.ssrcs[e].lines.find(function(e){return-1!==e.indexOf("msid")})))&&(n[r]||(n[r]={mediaindex:o.mediaindex,mid:o.mid,ssrcs:{},ssrcGroups:[]}),n[r].ssrcs[e]=o.ssrcs[e])}),o.ssrcGroups.forEach(function(e){for(var t=!1,s=0;s<i.ssrcGroups.length;s++){var a=i.ssrcGroups[s];if(e.semantics===a.semantics&&Ao(e.ssrcs,a.ssrcs)){t=!0;break}}t||(n[r]||(n[r]={mediaindex:o.mediaindex,mid:o.mid,ssrcs:{},ssrcGroups:[]}),n[r].ssrcGroups.push(e))})):n[r]=o}),n},Io.prototype.toJingle=function(e){var t=this.getNewMedia(),n=!1;return Object.keys(t).forEach(function(r){n=!0;var i=t[r];e.c("content",{name:i.mid}),e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:i.mid}),Object.keys(i.ssrcs).forEach(function(t){var n=i.ssrcs[t],r=n.lines,o=bo.parseSourceNameLine(r);e.c("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.attrs({name:ui.isSourceNameSignalingEnabled()?o:void 0,ssrc:n.ssrc});var s=bo.parseMSIDAttribute(r);s&&(e.c("parameter"),e.attrs({name:"msid"}),e.attrs({value:s}),e.up()),e.up()}),i.ssrcGroups.forEach(function(t){t.ssrcs.length&&(e.c("ssrc-group",{semantics:t.semantics,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),t.ssrcs.forEach(function(t){e.c("source",{ssrc:t}).up()}),e.up())}),e.up(),e.up()}),n};var ko,Po=n(266),Oo=n.n(Po),Do=(0,v.getLogger)("modules/util/AsyncQueue.js"),No=(function(){function e(){_classCallCheck(this,e),this._queue=Oo().queue(this._processQueueTasks.bind(this),1),this._stopped=!1}return _createClass(e,[{key:"clear",value:function(){this._queue.kill()}},{key:"_processQueueTasks",value:function(e,t){try{e(t)}catch(e){Do.error("Task failed: "+(null==e?void 0:e.stack)),t(e)}}},{key:"push",value:function(e,t){this._stopped?t&&t(new Error("The queue has been stopped")):this._queue.push(e,t)}},{key:"shutdown",value:function(){this._stopped=!0}}]),e})(),Mo=n(2593);!(function(e){e.PENDING="pending",e.ACTIVE="active",e.ENDED="ended"})(ko||(ko={}));var wo,Lo=ko.PENDING,xo=ko.ACTIVE,Fo=ko.ENDED,Uo=(0,v.getLogger)("modules/xmpp/JingleSession.js"),Vo=(function(e){_inherits(n,Fr);var t=_createSuper(n);function n(e,r,i,o,s,a,c){var u;return _classCallCheck(this,n),(u=t.call(this)).sid=e,u.localJid=r,u.remoteJid=i,u.connection=o,u.mediaConstraints=s,u.pcConfig=a,u.isInitiator=c,u.usedrip=!0,u.dripContainer=[],u.room=null,u._signalingLayer=null,u.state=null,u.rtc=null,u}return _createClass(n,[{key:"initiatorJid",get:function(){return this.isInitiator?this.localJid:this.remoteJid}},{key:"responderJid",get:function(){return this.isInitiator?this.remoteJid:this.localJid}},{key:"initialize",value:function(e,t,n,r){if(null!==this.state){var i="attempt to initiate on session "+this.sid+"\n                   in state "+this.state;throw Uo.error(i),new Error(i)}this.room=e,this.rtc=t,this._signalingLayer=n,this.state=Lo,this.doInitialize(r)}},{key:"doInitialize",value:function(e){}},{key:"addIceCandidates",value:function(e){}},{key:"getState",value:function(){return this.state}},{key:"addSources",value:function(e){}},{key:"removeSources",value:function(e){}},{key:"terminate",value:function(e,t,n){}},{key:"acceptOffer",value:function(e,t,n){}},{key:"_getInitiatorJid",value:function(){return this.isInitiator?this.localJid:this.remoteJid}}]),n})();(wo||(wo={})).REMOTE_VIDEO_CONSTRAINTS_CHANGED="media_session.REMOTE_VIDEO_CONSTRAINTS_CHANGED";var jo=wo,Ho=(0,v.getLogger)("modules/xmpp/JingleSessionPC.js"),Bo=1e4,Jo=(function(e){_inherits(n,Vo);var t=_createSuper(n);function n(e,r,i,o,s,a,c,u){var d;return _classCallCheck(this,n),(d=t.call(this,e,r,i,o,s,a,u))._bridgeSessionId=null,d._cachedOldLocalSdp=void 0,d._cachedNewLocalSdp=void 0,d._iceCheckingStartedTimestamp=null,d._gatheringStartedTimestamp=null,d.localRecvMaxFrameHeight=void 0,d._localVideoActive=!0,d._remoteVideoActive=!0,d._gatheringReported=!1,d.lasticecandidate=!1,d.closed=!1,d.isP2P=c,d.remoteRecvMaxFrameHeight=void 0,d.modificationQueue=new No,d.wasConnected=!1,d.establishmentDuration=void 0,d._xmppListeners=[],d._xmppListeners.push(o.addEventListener(Oi.Events.CONN_STATUS_CHANGED,d.onXmppStatusChanged.bind(_assertThisInitialized(d)))),d._removeSenderVideoConstraintsChangeListener=void 0,d}return _createClass(n,[{key:"_assertNotEnded",value:function(){return this.state!==Fo}},{key:"doInitialize",value:function(e){var t,n,r,i=this;this.failICE=Boolean(e.failICE),this.lasticecandidate=!1,this.options=e,this.isReconnect=!1,this.wasstable=!1,this.webrtcIceUdpDisable=Boolean(e.webrtcIceUdpDisable),this.webrtcIceTcpDisable=Boolean(e.webrtcIceTcpDisable);var o={disableRtx:e.disableRtx};if(e.gatherStats&&(o.maxstats=300),o.capScreenshareBitrate=!1,o.enableInsertableStreams=e.enableInsertableStreams,o.videoQuality=e.videoQuality,o.forceTurnRelay=e.forceTurnRelay,o.audioQuality=e.audioQuality,o.usesUnifiedPlan=this.usesUnifiedPlan=An.supportsUnifiedPlan()&&(An.isFirefox()||An.isWebKitBased()||(An.isChromiumBased()&&this.isP2P?null===(t=null===(n=e.p2p)||void 0===n?void 0:n.enableUnifiedOnChrome)||void 0===t||t:null===(r=e.enableUnifiedOnChrome)||void 0===r||r)),this.isP2P){o.disableSimulcast=!0;var s=this._abtestSuspendVideoEnabled(e);void 0!==s&&(o.abtestSuspendVideo=s)}else{var a,c;o.disableSimulcast=e.disableSimulcast||e.preferH264&&!e.disableH264||e.videoQuality&&e.videoQuality.preferredCodec===mo.H264,o.capScreenshareBitrate=o.disableSimulcast||!("number"==typeof(null===(a=e.desktopSharingFrameRate)||void 0===a?void 0:a.max)&&(null===(c=e.desktopSharingFrameRate)||void 0===c?void 0:c.max)>5),nr.analytics.addPermanentProperties({capScreenshareBitrate:o.capScreenshareBitrate})}e.startSilent&&(o.startSilent=!0),this.peerconnection=this.rtc.createPeerConnection(this._signalingLayer,this.pcConfig,this.isP2P,o),this.peerconnection.onicecandidate=function(e){if(e){var t=e.candidate,n=window.performance.now();if(t){null===i._gatheringStartedTimestamp&&(i._gatheringStartedTimestamp=n);var r=t.protocol;if("string"==typeof r)if("tcp"===(r=r.toLowerCase())||"ssltcp"===r){if(i.webrtcIceTcpDisable)return}else if("udp"===r&&i.webrtcIceUdpDisable)return}else i._gatheringReported||(nr.sendAnalytics(qt,{phase:"gathering",value:n-i._gatheringStartedTimestamp,p2p:i.isP2P,initiator:i.isInitiator}),i._gatheringReported=!0);i.sendIceCandidate(t)}},this.peerconnection.onsignalingstatechange=function(){"stable"===i.peerconnection.signalingState?i.wasstable=!0:"closed"!==i.peerconnection.signalingState&&"closed"!==i.peerconnection.connectionState||i.room.eventEmitter.emit(dr.XMPPEvents.SUSPEND_DETECTED,i)},this.peerconnection.oniceconnectionstatechange=function(){var e=window.performance.now(),t=!1;switch(i.isP2P||(i.room.connectionTimes["ice.state."+i.peerconnection.iceConnectionState]=e),Ho.log("(TIME) ICE "+i.peerconnection.iceConnectionState+" "+(i.isP2P?"P2P":"JVB")+":\t",e),nr.sendAnalytics(Wt,{p2p:i.isP2P,state:i.peerconnection.iceConnectionState,signaling_state:i.peerconnection.signalingState,reconnect:i.isReconnect,value:e}),i.room.eventEmitter.emit(dr.XMPPEvents.ICE_CONNECTION_STATE_CHANGED,i,i.peerconnection.iceConnectionState),i.peerconnection.iceConnectionState){case"checking":i._iceCheckingStartedTimestamp=e;break;case"connected":if("stable"===i.peerconnection.signalingState){t=!0;var n=!i.options.enableIceRestart&&i.room.supportsRestartByTerminate();(i.isReconnect||n)&&i.room.eventEmitter.emit(dr.XMPPEvents.CONNECTION_RESTORED,i)}if(!i.wasConnected&&(i.wasstable||t||i.usesUnifiedPlan&&i.isInitiator&&An.isChromiumBased())){nr.sendAnalytics(qt,{phase:"checking",value:e-i._iceCheckingStartedTimestamp,p2p:i.isP2P,initiator:i.isInitiator});var r=Math.min(i._iceCheckingStartedTimestamp,i._gatheringStartedTimestamp);i.establishmentDuration=e-r,nr.sendAnalytics(qt,{phase:"establishment",value:i.establishmentDuration,p2p:i.isP2P,initiator:i.isInitiator}),i.wasConnected=!0,i.room.eventEmitter.emit(dr.XMPPEvents.CONNECTION_ESTABLISHED,i)}i.isReconnect=!1;break;case"disconnected":i.isReconnect=!0,i.wasstable&&i.room.eventEmitter.emit(dr.XMPPEvents.CONNECTION_INTERRUPTED,i);break;case"failed":i.room.eventEmitter.emit(dr.XMPPEvents.CONNECTION_ICE_FAILED,i)}},this.peerconnection.onconnectionstatechange=function(){var e=i.peerconnection.iceConnectionState;"failed"===i.peerconnection.connectionState&&"disconnected"===e&&i.room.eventEmitter.emit(dr.XMPPEvents.CONNECTION_ICE_FAILED,i)},this.peerconnection.onnegotiationneeded=function(){var e=i.peerconnection.signalingState,t=i.peerconnection.remoteDescription;if(i.usesUnifiedPlan&&!i.isP2P&&"stable"===e&&t&&"string"==typeof t.sdp){Ho.info(i+" onnegotiationneeded fired on "+i.peerconnection);i.modificationQueue.push(function(e){var t=new Ro(i.peerconnection.localDescription.sdp);i._renegotiate().then(function(){return i.peerconnection.configureSenderVideoEncodings()}).then(function(){var e=new Ro(i.peerconnection.localDescription.sdp);i.notifyMySSRCUpdate(t,e)}).then(function(){return e()},function(t){return e(t)})},function(e){e?Ho.error(i+" onnegotiationneeded error",e):Ho.debug(i+" onnegotiationneeded executed - OK")})}}}},{key:"getRemoteRecvMaxFrameHeight",value:function(){if(this.isP2P)return this.remoteRecvMaxFrameHeight}},{key:"sendIceCandidate",value:function(e){var t=this,n=new Ro(this.peerconnection.localDescription.sdp);if(e&&e.candidate.length&&!this.lasticecandidate){var r=bo.iceparams(n.media[e.sdpMLineIndex],n.session),i=bo.candidateToJingle(e.candidate);if(!r||!i){var o="failed to get ice && jcand";return Nn().callErrorHandler(new Error(o)),void Ho.error(o)}r.xmlns="urn:xmpp:jingle:transports:ice-udp:1",this.usedrip?(0===this.dripContainer.length&&setTimeout(function(){0!==t.dripContainer.length&&(t.sendIceCandidates(t.dripContainer),t.dripContainer=[])},150),this.dripContainer.push(e)):this.sendIceCandidates([e])}else Ho.log(this+" sendIceCandidate: last candidate"),this.lasticecandidate=!0}},{key:"sendIceCandidates",value:function(e){var t=this;if(this._assertNotEnded("sendIceCandidates")){Ho.log(this+" sendIceCandidates "+JSON.stringify(e));for(var n=(0,ut.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-info",initiator:this.initiatorJid,sid:this.sid}),r=new Ro(this.peerconnection.localDescription.sdp),i=function(i){var o=e.filter(function(e){return e.sdpMLineIndex===i}),s=bo.parseMLine(r.media[i].split("\r\n")[0]);if(o.length>0){var a=bo.iceparams(r.media[i],r.session);a.xmlns="urn:xmpp:jingle:transports:ice-udp:1",n.c("content",{creator:t.initiatorJid===t.localJid?"initiator":"responder",name:o[0].sdpMid?o[0].sdpMid:s.media}).c("transport",a);for(var c=0;c<o.length;c++){var u=bo.candidateToJingle(o[c].candidate);t.failICE&&(u.ip="1.1.1.1"),n.c("candidate",u).up()}var d=bo.findLine(r.media[i],"a=fingerprint:",r.session);if(d){var l=bo.parseFingerprint(d);l.required=!0,n.c("fingerprint",{xmlns:"urn:xmpp:jingle:apps:dtls:0"}).t(l.fingerprint),delete l.fingerprint,n.attrs(l),n.up()}n.up(),n.up()}},o=0;o<r.media.length;o++)i(o);this.connection.sendIQ(n,null,this.newJingleErrorHandler(n),Bo)}}},{key:"sendIceFailedNotification",value:function(){var e=(0,ut.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-info",initiator:this.initiatorJid,sid:this.sid}).c("ice-state",{xmlns:"http://jitsi.org/protocol/focus"}).t("failed").up();this._bridgeSessionId&&e.c("bridge-session",{xmlns:"http://jitsi.org/protocol/focus",id:this._bridgeSessionId}),this.connection.sendIQ2(e,{timeout:65}).catch(this.newJingleErrorHandler(e))}},{key:"addIceCandidates",value:function(e){var t=this;if("closed"!==this.peerconnection.signalingState){var n=[];e.find(">content>transport>candidate").each(function(e,t){var r=bo.candidateFromJingle(t);r=r.replace("\r\n","").replace("a=","");var i=new RTCIceCandidate({sdpMLineIndex:0,sdpMid:"",candidate:r});n.push(i)}),n.length?(Ho.debug(this+" Queued add ("+n.length+") ICE candidates task"),this.modificationQueue.push(function(e){for(var r,i=_createForOfIteratorHelperLoose(n);!(r=i()).done;){var o=r.value;t.peerconnection.addIceCandidate(o).then(function(){return Ho.debug(t+" addIceCandidate ok!")},function(e){return Ho.error(t+" addIceCandidate failed!",e)})}e(),Ho.debug(t+" ICE candidates task finished")})):Ho.error(this+" No ICE candidates to add ?",e[0]&&e[0].outerHTML)}else Ho.warn(this+" Ignored add ICE candidate when in closed state")}},{key:"readSsrcInfo",value:function(e){var t=this;$(e).find('>description>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(e,n){var r=Number(n.getAttribute("ssrc"));if(t.isP2P)t._signalingLayer.setSSRCOwner(r,ut.Strophe.getResourceFromJid(t.remoteJid));else{if(ui.isSourceNameSignalingEnabled()&&n.hasAttribute("name")){var i=n.getAttribute("name");t._signalingLayer.setTrackSourceName(r,i)}$(n).find('>ssrc-info[xmlns="http://jitsi.org/jitmeet"]').each(function(e,n){var i,o=n.getAttribute("owner");o&&o.length&&(isNaN(r)||r<0?Ho.warn(t+" Invalid SSRC "+r+" value received for "+o):t._signalingLayer.setSSRCOwner(r,(i=o,ut.Strophe.getResourceFromJid(i)||i)))})}})}},{key:"generateRecvonlySsrc",value:function(){this.peerconnection?this.peerconnection.generateRecvonlySsrc():Ho.error(this+" Unable to generate recvonly SSRC - no peerconnection")}},{key:"getConfiguredVideoCodec",value:function(){return this.peerconnection.getConfiguredVideoCodec()}},{key:"acceptOffer",value:function(e,t,n,r){var i=this;this.setOfferAnswerCycle(e,function(){i.sendSessionAccept(function(){t(),i.room.eventEmitter.emit(dr.XMPPEvents.SESSION_ACCEPT,i)},function(e){n(e),i.room.eventEmitter.emit(dr.XMPPEvents.SESSION_ACCEPT_ERROR,i,e)})},n,r)}},{key:"invite",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.isInitiator)throw new Error("Trying to invite from the responder session");Ho.debug(this+" Queued invite task"),this.modificationQueue.push(function(n){for(var r,i=[],o=_createForOfIteratorHelperLoose(t);!(r=o()).done;){var s=r.value;i.push(e.peerconnection.addTrack(s,e.isInitiator))}Promise.all(i).then(function(){return e.peerconnection.createOffer(e.mediaConstraints)}).then(function(t){return e.peerconnection.setLocalDescription(t)}).then(function(){e.sendSessionInitiate(e.peerconnection.localDescription.sdp)}).then(function(){return n()},function(e){return n(e)})},function(t){t?Ho.error(e+" invite error",t):Ho.debug(e+" invite executed - OK")})}},{key:"sendSessionInitiate",value:function(e){var t=this,n=(0,ut.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-initiate",initiator:this.initiatorJid,sid:this.sid});new Ro(e).toJingle(n,this.isInitiator?"initiator":"responder"),n=n.tree(),Ho.debug(this+" Session-initiate: ",n),this.connection.sendIQ(n,function(){Ho.info(t+" Got RESULT for \"session-initiate\"")},function(e){Ho.error(t+" \"session-initiate\" error",e)},Bo)}},{key:"setAnswer",value:function(e){var t=this;if(!this.isInitiator)throw new Error("Trying to set an answer on the responder session");this.setOfferAnswerCycle(e,function(){if(Ho.info(t+" setAnswer - succeeded"),t.usesUnifiedPlan&&An.isChromiumBased()){Ho.debug(t+" Queued responderRenegotiate task"),t.modificationQueue.push(function(e){var n=t.peerconnection.remoteDescription.sdp,r=new RTCSessionDescription({type:"offer",sdp:n});return t._responderRenegotiate(r).then(function(){return e()},function(t){return e(t)})},function(e){e?Ho.error(t+" failed to renegotiate a decoder for muted endpoint "+e):Ho.debug(t+" renegotiate a decoder for muted endpoint")})}},function(e){Ho.error(t+" setAnswer failed: ",e)})}},{key:"setOfferAnswerCycle",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];Ho.debug(this+" Queued setOfferAnswerCycle task"),this.modificationQueue.push(function(t){for(var n,o=[],s=_createForOfIteratorHelperLoose(i);!(n=s()).done;){var a=n.value;o.push(r.peerconnection.addTrack(a,r.isInitiator))}var c=r._processNewJingleOfferIq(e),u=r.peerconnection.localDescription.sdp,d=$(e).find('>bridge-session[xmlns="http://jitsi.org/protocol/focus"]').attr("id");d!==r._bridgeSessionId&&(r._bridgeSessionId=d),Promise.all(o).then(function(){return r._renegotiate(c.raw)}).then(function(){if(r.state===Lo&&(r.state=xo,!r.isP2P||r._localVideoActive&&!r.localRecvMaxFrameHeight||r.sendContentModify()),u){var e=new Ro(r.peerconnection.localDescription.sdp);r.notifyMySSRCUpdate(new Ro(u),e)}}).then(function(){return t()},function(e){return t(e)})},function(e){e?(Ho.error(r+" setOfferAnswerCycle task failed: "+e),n(e)):(Ho.debug(r+" setOfferAnswerCycle task done"),t())})}},{key:"setVideoCodecs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.peerconnection.getConfiguredVideoCodec();if(this._assertNotEnded()&&t!==r){Ho.info(this+" Switching video codec from "+r+" to "+t),this.peerconnection.setVideoCodecs(t,n);Ho.debug(this+" Queued setVideoCodecs task"),this.modificationQueue.push(function(t){e._renegotiate().then(function(){return Ho.debug(e+" setVideoCodecs task is done"),t()},function(n){return Ho.error(e+" setVideoCodecs task failed: "+n),t(n)})})}}},{key:"replaceTransport",value:function(e,t,n){var r=this;if(this.options.enableForcedReload){var i=new Ro(this.peerconnection.localDescription.sdp);return this.sendTransportAccept(i,t,n),void this.room.eventEmitter.emit(dr.XMPPEvents.CONNECTION_RESTARTED,this)}this.room.eventEmitter.emit(dr.XMPPEvents.ICE_RESTARTING,this);var o=e.clone();e.find(">content[name='data']").attr("senders","rejected"),e.find(">content>description>source").remove(),e.find(">content>description>ssrc-group").remove();var s=e.find(">content>transport>fingerprint");s.attr("hash","sha-1"),s.text("00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00"),this.setOfferAnswerCycle(e,function(){r.setOfferAnswerCycle(o,function(){var e=new Ro(r.peerconnection.localDescription.sdp);r.sendTransportAccept(e,t,n),r.room.eventEmitter.emit(dr.XMPPEvents.ICE_RESTART_SUCCESS,r,o)},n)},n)}},{key:"sendSessionAccept",value:function(e,t){var n=this,r=new Ro(this.peerconnection.localDescription.sdp),i=(0,ut.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-accept",initiator:this.initiatorJid,responder:this.responderJid,sid:this.sid});this.webrtcIceTcpDisable&&(r.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(r.removeUdpCandidates=!0),this.failICE&&(r.failICE=!0),r.toJingle(i,this.initiatorJid===this.localJid?"initiator":"responder"),Ho.info(this+" Sending session-accept"),Ho.debug(i.tree()),this.connection.sendIQ(i,e,this.newJingleErrorHandler(i,function(e){t(e),n.room.eventEmitter.emit(dr.XMPPEvents.SESSION_ACCEPT_TIMEOUT,n)}),Bo)}},{key:"sendContentModify",value:function(){var e=this.localRecvMaxFrameHeight,t=this._localVideoActive?"both":"none",n=(0,ut.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"content-modify",initiator:this.initiatorJid,sid:this.sid}).c("content",{name:Bn.VIDEO,senders:t});void 0!==e&&(n=n.c("max-frame-height",{xmlns:"http://jitsi.org/jitmeet/video"}).t(e)),Ho.info(this+" sending content-modify, video senders: "+t+", max frame height: "+e),Ho.debug(n.tree()),this.connection.sendIQ(n,null,this.newJingleErrorHandler(n),Bo)}},{key:"setReceiverVideoConstraint",value:function(e){Ho.info(this+" setReceiverVideoConstraint - max frame height: "+e),this.localRecvMaxFrameHeight=e,this.isP2P?this.state===xo&&this.sendContentModify():this.rtc.setReceiverVideoConstraint(e)}},{key:"sendTransportAccept",value:function(e,t,n){var r=this,i=(0,ut.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-accept",initiator:this.initiatorJid,sid:this.sid});e.media.forEach(function(t,n){var o=bo.parseMLine(t.split("\r\n")[0]);i.c("content",{creator:r.initiatorJid===r.localJid?"initiator":"responder",name:o.media}),e.transportToJingle(n,i),i.up()}),Ho.info(this+" Sending transport-accept"),Ho.debug(i.tree()),this.connection.sendIQ(i,t,this.newJingleErrorHandler(i,n),Bo)}},{key:"sendTransportReject",value:function(e,t){var n=(0,ut.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-reject",initiator:this.initiatorJid,sid:this.sid});Ho.info(this+" Sending 'transport-reject'"),Ho.debug(n.tree()),this.connection.sendIQ(n,e,this.newJingleErrorHandler(n,t),Bo)}},{key:"setSenderVideoConstraint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._assertNotEnded()){Ho.info(this+" setSenderVideoConstraint: "+e+", sourceName: "+t);var n=t?this.rtc.getLocalVideoTracks().find(function(e){return e.getSourceName()===t}):this.rtc.getLocalVideoTrack();return this.peerconnection.setSenderVideoConstraints(e,n)}return Promise.resolve()}},{key:"terminate",value:function(e,t,n){if(this.state!==Fo){if(!n||Boolean(n.sendSessionTerminate)){var r=(0,ut.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-terminate",initiator:this.initiatorJid,sid:this.sid}).c("reason").c(n&&n.reason||"success").up();n&&n.reasonDescription?r.c("text").t(n.reasonDescription).up().up():r.up(),this._bridgeSessionId&&r.c("bridge-session",{xmlns:"http://jitsi.org/protocol/focus",id:this._bridgeSessionId,restart:n&&!0===n.requestRestart}).up(),Ho.info(this+" Sending session-terminate"),Ho.debug(r.tree()),this.connection.sendIQ(r,e,this.newJingleErrorHandler(r,t),Bo)}else Ho.info(this+" Skipped sending session-terminate");this.connection.jingle.terminate(this.sid)}}},{key:"onTerminated",value:function(e,t){Ho.info(this+" Session terminated",e,t),this._xmppListeners.forEach(function(e){return e()}),this._xmppListeners=[],this._removeSenderVideoConstraintsChangeListener&&this._removeSenderVideoConstraintsChangeListener(),this.close()}},{key:"onXmppStatusChanged",value:function(e){e===Oi.Status.CONNECTED&&this._cachedOldLocalSdp&&(Ho.info(this+" Sending SSRC update on reconnect"),this.notifyMySSRCUpdate(this._cachedOldLocalSdp,this._cachedNewLocalSdp))}},{key:"_parseSsrcInfoFromSourceAdd",value:function(e,t){var n=[],r=this;return $(e).each(function(e,i){var o=$(i).attr("name"),s="";$(i).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map(function(){return this.getAttribute("ssrc")}).get();t.length&&(s+="a=ssrc-group:"+e+" "+t.join(" ")+"\r\n")}),$(i).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=$(this).attr("ssrc");t.containsSSRC(e)?(!r.usesUnifiedPlan||!r.isP2P)&&Ho.warn(r+" Source-add request for existing SSRC: "+e):$(this).find(">parameter").each(function(){s+="a=ssrc:"+e+" "+$(this).attr("name"),$(this).attr("value")&&$(this).attr("value").length&&(s+=":"+$(this).attr("value")),s+="\r\n"})}),t.media.forEach(function(e,t){bo.findLine(e,"a=mid:"+o)&&(n[t]||(n[t]=""),n[t]+=s)})}),n}},{key:"addRemoteStream",value:function(e){this._addOrRemoveRemoteStream(!0,e)}},{key:"removeRemoteStream",value:function(e){this._addOrRemoveRemoteStream(!1,e)}},{key:"removeRemoteStreamsOnLeave",value:function(e){var t=this;Ho.debug(this+" Queued removeRemoteStreamsOnLeave task for participant "+e),this.modificationQueue.push(function(n){var r=t.peerconnection.getRemoteSourceInfoByParticipant(e);if(r.length){var i=new Ro(t.peerconnection.localDescription.sdp),o=t._processRemoteRemoveSource(r);t._renegotiate(o.raw).then(function(){var e=new Ro(t.peerconnection.localDescription.sdp);t.notifyMySSRCUpdate(i,e),n()}).catch(function(e){return n(e)})}else n()},function(e){e?Ho.error(t+" removeRemoteStreamsOnLeave error:",e):Ho.info(t+" removeRemoteStreamsOnLeave done!")})}},{key:"_addOrRemoveRemoteStream",value:function(e,t){var n=this,r=e?"addRemoteStream":"removeRemoteStream";e&&this.readSsrcInfo(t),Ho.debug(this+" Queued "+r+" task"),this.modificationQueue.push(function(i){if(!n.peerconnection.localDescription||!n.peerconnection.localDescription.sdp){var o=r+" - localDescription not ready yet";return Ho.error(o),void i(o)}Ho.log(n+" Processing "+r);var s=new Ro(n.peerconnection.localDescription.sdp),a=new Ro(n.peerconnection.remoteDescription.sdp),c=e?n._parseSsrcInfoFromSourceAdd(t,a):n._parseSsrcInfoFromSourceRemove(t,a),u=e?n._processRemoteAddSource(c):n._processRemoteRemoveSource(c),d=new RTCSessionDescription({type:"offer",sdp:u.raw});(e&&n.usesUnifiedPlan&&n.isP2P&&An.isChromiumBased()?n._responderRenegotiate(d):n._renegotiate(u.raw)).then(function(){var e=new Ro(n.peerconnection.localDescription.sdp);Ho.log(n+" "+r+" - OK"),n.notifyMySSRCUpdate(s,e),i()},function(e){Ho.error(n+" "+r+" failed:",e),i(e)})})}},{key:"_processNewJingleOfferIq",value:function(e){var t=new Ro("");return this.webrtcIceTcpDisable&&(t.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(t.removeUdpCandidates=!0),this.failICE&&(t.failICE=!0),t.fromJingle(e),this.readSsrcInfo($(e).find(">content")),t}},{key:"_processRemoteRemoveSource",value:function(e){var t=this,n=this.usesUnifiedPlan?new Ro(this.peerconnection.peerconnection.remoteDescription.sdp):new Ro(this.peerconnection.remoteDescription.sdp);return e.forEach(function(e,r){(e=e.split("\r\n")).pop(),t.usesUnifiedPlan?e.forEach(function(e){var r=n.media.findIndex(function(t){return t.includes(e)});if(r>-1)if(n.media[r]=n.media[r].replace(e+"\r\n",""),t.isP2P){var i,o=null===(i=bo.parseMLine(n.media[r].split("\r\n")[0]))||void 0===i?void 0:i.media,s=t.peerconnection.getDesiredMediaDirection(o,!1);[fo.SENDRECV,fo.SENDONLY].forEach(function(e){n.media[r]=n.media[r].replace("a="+e,"a="+s)})}else n.media[r]=n.media[r].replace("a="+fo.SENDONLY,"a="+fo.INACTIVE)}):e.forEach(function(e){n.media[r]=n.media[r].replace(e+"\r\n","")})}),n.raw=n.session+n.media.join(""),n}},{key:"_processRemoteAddSource",value:function(e){var t=this,n=new Ro(this.peerconnection.remoteDescription.sdp);return e.forEach(function(e,r){if(n.media[r]+=e,t.isP2P&&t.usesUnifiedPlan){var i,o=null===(i=bo.parseMLine(n.media[r].split("\r\n")[0]))||void 0===i?void 0:i.media,s=t.peerconnection.getDesiredMediaDirection(o,!0);[fo.RECVONLY,fo.INACTIVE].forEach(function(e){n.media[r]=n.media[r].replace("a="+e,"a="+s)})}}),n.raw=n.session+n.media.join(""),n}},{key:"_renegotiate",value:function(e){if("closed"===this.peerconnection.signalingState){var t=new Error("Attempted to renegotiate in state closed");return this.room.eventEmitter.emit(dr.XMPPEvents.RENEGOTIATION_FAILED,t,this),Promise.reject(t)}var n=e||this.peerconnection.remoteDescription.sdp;if(!n){var r=new Error("Can not renegotiate without remote description, current state: "+this.state);return this.room.eventEmitter.emit(dr.XMPPEvents.RENEGOTIATION_FAILED,r,this),Promise.reject(r)}var i=new RTCSessionDescription({type:this.isInitiator?"answer":"offer",sdp:n});return this.isInitiator?this._initiatorRenegotiate(i):this._responderRenegotiate(i)}},{key:"_responderRenegotiate",value:function(e){var t=this;return Ho.debug(this+" Renegotiate: setting remote description"),this.peerconnection.setRemoteDescription(e).then(function(){return Ho.debug(t+" Renegotiate: creating answer"),t.peerconnection.createAnswer(t.mediaConstraints).then(function(e){return Ho.debug(t+" Renegotiate: setting local description"),t.peerconnection.setLocalDescription(e)})})}},{key:"_initiatorRenegotiate",value:function(e){var t=this;return Ho.debug(this+" Renegotiate: creating offer"),this.peerconnection.createOffer(this.mediaConstraints).then(function(n){return Ho.debug(t+" Renegotiate: setting local description"),t.peerconnection.setLocalDescription(n).then(function(){return Ho.debug(t+" Renegotiate: setting remote description"),t.peerconnection.setRemoteDescription(e)})})}},{key:"addTrack",value:function(e){var t=this;if(!ui.isMultiStreamSupportEnabled()||e.type!==Bn.VIDEO)return Promise.reject(new Error("Multiple tracks of a given media type are not supported"));var n=function(e){var n=new Ro(t.peerconnection.peerconnection.remoteDescription.sdp);n.addMlineForNewLocalSource(Bn.VIDEO);var r=new RTCSessionDescription({type:"offer",sdp:n.raw});t._responderRenegotiate(r).then(function(){return e()},function(t){return e(t)})};return new Promise(function(r,i){Ho.debug(t+" Queued renegotiation after addTrack"),t.modificationQueue.push(n,function(n){if(!n)return Ho.debug(t+" renegotiation after addTrack executed - OK"),t.replaceTrack(null,e).then(function(){return r()}).catch(function(){return i()});Ho.error(t+" renegotiation after addTrack error",n),i(n)})})}},{key:"replaceTrack",value:function(e,t){var n=this,r=function(r){Ho.debug(n+" replaceTrack worker started. oldTrack = "+e+", newTrack = "+t);var i=n.peerconnection.localDescription.sdp;n.usesUnifiedPlan||(n.peerconnection.options.capScreenshareBitrate&&e&&t&&t.isVideoTrack()&&n.peerconnection.clearRecvonlySsrc(),!e&&t&&t.isVideoTrack()?n.peerconnection.clearRecvonlySsrc():e&&e.isVideoTrack()&&!t&&(n.peerconnection.clearRecvonlySsrc(),n.peerconnection.generateRecvonlySsrc())),n.peerconnection.replaceTrack(e,t).then(function(r){var o=Promise.resolve();return Ho.debug(n+" TPC.replaceTrack finished. shouldRenegotiate = "+r+", JingleSessionState = "+n.state),r&&(e||t)&&n.state===xo&&(o=n._renegotiate().then(function(){var e=new Ro(n.peerconnection.localDescription.sdp);n.notifyMySSRCUpdate(new Ro(i),e)})),o.then(function(){if(null!=t&&t.isVideoTrack())return Ho.debug(n+" replaceTrack worker: configuring video stream"),n.peerconnection.configureSenderVideoEncodings(t)})}).then(function(){return r()},function(e){return r(e)})};return new Promise(function(i,o){Ho.debug(n+" Queued replaceTrack task. Old track = "+e+", new track = "+t),n.modificationQueue.push(r,function(e){e?(Ho.error(n+" Replace track error:",e),o(e)):(Ho.info(n+"  Replace track done!"),i())})})}},{key:"_parseSsrcInfoFromSourceRemove",value:function(e,t){var n=[];return $(e).each(function(e,r){var i=$(r).attr("name"),o="";$(r).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map(function(){return this.getAttribute("ssrc")}).get();t.length&&(o+="a=ssrc-group:"+e+" "+t.join(" ")+"\r\n")});var s=[];$(r).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=$(this).attr("ssrc");s.push(e)}),t.media.forEach(function(e,t){bo.findLine(e,"a=mid:"+i)&&(n[t]||(n[t]=""),s.forEach(function(r){var i=bo.findLines(e,"a=ssrc:"+r);i.length&&(n[t]+=i.join("\r\n")+"\r\n")}),n[t]+=o)})}),n}},{key:"_verifyNoSSRCChanged",value:function(e,t){var n=new Ro(this.peerconnection.localDescription.sdp),r=new Io(t,n),i=r.getNewMedia();if(Object.keys(i).length)return Ho.error(this+" - some SSRC were added on "+e,i),!1;var o=(r=new Io(n,t)).getNewMedia();return!Object.keys(o).length||(Ho.error(this+" - some SSRCs were removed on "+e,o),!1)}},{key:"addTrackAsUnmute",value:function(e){var t=this;return this._addRemoveTrackAsMuteUnmute(!1,e).then(function(){if(e.isVideoTrack())return t.peerconnection.configureSenderVideoEncodings(e)})}},{key:"removeTrackAsMute",value:function(e){return this._addRemoveTrackAsMuteUnmute(!0,e)}},{key:"_addRemoveTrackAsMuteUnmute",value:function(e,t){var n=this;if(!t)return Promise.reject('invalid "track" argument value');var r=e?"removeTrackMute":"addTrackUnmute",i=function(i){var o=n.peerconnection;if(o){var s=o.localDescription.sdp;(e?o.removeTrackMute(t):o.addTrackUnmute(t)).then(function(e){e&&s&&o.remoteDescription.sdp?n._renegotiate().then(function(){!n.usesUnifiedPlan&&n._verifyNoSSRCChanged(r,new Ro(s));var e=o.localDescription.sdp;n.notifyMySSRCUpdate(new Ro(s),new Ro(e)),i()}):i()},i)}else i("Error:  tried "+r+" track with no active peerconnection")};return Ho.debug(this+" Queued "+r+" task"),new Promise(function(e,t){n.modificationQueue.push(i,function(i){i?(Ho.error(n+" "+r+" failed"),t(i)):(Ho.debug(n+" "+r+" done"),e())})})}},{key:"setMediaTransferActive",value:function(e,t){var n=this;if(!this.peerconnection)return Promise.reject('Can not modify transfer active state, before "initialize" is called');var r=e?"audio active":"audio inactive",i=t?"video active":"video inactive";Ho.info(this+" Queued make "+i+", "+r+" task");var o=function(r){var i=n.state===xo,o=n.peerconnection.setAudioTransferActive(e);n._localVideoActive!==t&&(n._localVideoActive=t,n.isP2P&&i&&n.sendContentModify());var s=n.peerconnection.setVideoTransferActive(n._localVideoActive&&n._remoteVideoActive);i&&(o||s)?n._renegotiate().then(r,r):r()};return new Promise(function(e,t){n.modificationQueue.push(o,function(o){o?(Ho.error(n+" Make "+i+", "+r+" task failed!"),t(o)):(Ho.debug(n+" Make "+i+", "+r+" task done!"),e())})})}},{key:"modifyContents",value:function(e){var t=this,r=n.parseVideoSenders(e),i=n.parseMaxFrameHeight(e);i&&(Ho.info(this+" received remote max frame height: "+i),this.remoteRecvMaxFrameHeight=i,this.eventEmitter.emit(jo.REMOTE_VIDEO_CONSTRAINTS_CHANGED,this)),null!==r?(Ho.debug(this+" queued \"content-modify\" task(video senders=\""+r+"\")"),this.modificationQueue.push(function(e){t._assertNotEnded("content-modify")&&t._modifyRemoteVideoActive(r)?t._renegotiate().then(e,e):e()},function(e){e?Ho.error(t+" \"content-modify\" failed",e):Ho.debug(t+" \"content-modify\" task(video senders=\""+r+"\") done")})):Ho.error(this+" - failed to parse video \"senders\" attribute in\"content-modify\" action")}},{key:"_modifyRemoteVideoActive",value:function(e){var t="both"===e||"initiator"===e&&this.isInitiator||"responder"===e&&!this.isInitiator;return t!==this._remoteVideoActive&&(Ho.debug(this+" new remote video active: "+t),this._remoteVideoActive=t),this.peerconnection.setVideoTransferActive(this._localVideoActive&&this._remoteVideoActive)}},{key:"notifyMySSRCUpdate",value:function(e,t){var n=this;if(this.state===xo){if(!this.connection.connected)return this._cachedOldLocalSdp||(this._cachedOldLocalSdp=e),this._cachedNewLocalSdp=t,void Ho.warn(this+" Not sending SSRC update while the signaling is disconnected");this._cachedOldLocalSdp=void 0,this._cachedNewLocalSdp=void 0;var r=function(e){var t=e.getNewMedia(),n=[],r=null;return Object.keys(t).forEach(function(e){var i=Object.keys(t[e].ssrcs);r=t[e].mid,null!=i&&i.length&&(n=n.concat(i))}),{mediaType:r,ssrcs:n}},i=new Io(t,e),o=(0,ut.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-remove",initiator:this.initiatorJid,sid:this.sid}),s={};if(i.toJingle(o)){var a=r(i);Ho.info(this+" Sending source-remove for "+a.mediaType+" ssrcs="+a.ssrcs),this.connection.sendIQ(o,function(){n.room.eventEmitter.emit(dr.XMPPEvents.SOURCE_REMOVE,n,s)},this.newJingleErrorHandler(o,function(e){n.room.eventEmitter.emit(dr.XMPPEvents.SOURCE_REMOVE_ERROR,n,e,s)}),Bo)}i=new Io(e,t);var c=(0,ut.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-add",initiator:this.initiatorJid,sid:this.sid});if(i.toJingle(c)){var u=r(i);Ho.info(this+" Sending source-add for "+u.mediaType+" ssrcs="+u.ssrcs),this.connection.sendIQ(c,function(){n.room.eventEmitter.emit(dr.XMPPEvents.SOURCE_ADD,n,s)},this.newJingleErrorHandler(c,function(e){n.room.eventEmitter.emit(dr.XMPPEvents.SOURCE_ADD_ERROR,n,e,u.mediaType,s)}),Bo)}}else Ho.warn(this+" Skipping SSRC update in '"+this.state+" ' state.")}},{key:"newJingleErrorHandler",value:function(e,t){var n=this;return function(e){var r={},i=$(e).find("error");if(i.length){r.code=i.attr("code");var o=$(e).find("error :first");o.length&&(r.reason=o[0].tagName);var s=i.find(">text");s.length&&(r.msg=s.text())}e||(r.reason="timeout"),r.session=n.toString(),t?t(r):n.state===Fo&&"item-not-found"===r.reason?Ho.debug(n+" Jingle error: "+JSON.stringify(r)):Nn().callErrorHandler(new Error("Jingle error: "+JSON.stringify(r)))}}},{key:"getIceConnectionState",value:function(){return this.peerconnection.getConnectionState()}},{key:"close",value:function(){var e=this;this.state=Fo,this.establishmentDuration=void 0,this.peerconnection&&(this.peerconnection.onicecandidate=null,this.peerconnection.oniceconnectionstatechange=null,this.peerconnection.onnegotiationneeded=null,this.peerconnection.onsignalingstatechange=null),Ho.debug(this+" Clearing modificationQueue"),this.modificationQueue.clear(),Ho.debug(this+" Queued PC close task"),this.modificationQueue.push(function(t){e.peerconnection&&e.peerconnection.close(),t(),Ho.debug(e+" PC close task done!")}),Ho.debug(this+" Shutdown modificationQueue!"),this.modificationQueue.shutdown()}},{key:"toString",value:function(){return"JingleSessionPC[session="+(this.isP2P?"P2P":"JVB")+",initiator="+this.isInitiator+",sid="+this.sid+"]"}},{key:"_abtestSuspendVideoEnabled",value:function(e){var t=e.abTesting;if(t&&t.enableSuspendVideoTest){var n=this._getInitiatorJid();return(0,Mo.integerHash)(n)%2==0}}}],[{key:"parseVideoSenders",value:function(e){var t=e.find('>content[name="video"]');if(t.length){var n=t[0].getAttribute("senders");if("both"===n||"initiator"===n||"responder"===n||"none"===n)return n}return null}},{key:"parseMaxFrameHeight",value:function(e){var t=e.find('>content[name="video"]>max-frame-height');return t.length?Number(t.text()):null}}]),n})(),Go=(0,v.getLogger)("modules/xmpp/strophe.jingle.js");function Ko(e){var t=[];return $(e).find(">candidate").each(function(e,n){for(var r=n.attributes,i=[],o=0;o<r.length;o++){var s=r[o];i.push(s.name+": "+s.value)}t.push(i.join(" "))}),t}var qo=(function(e){_inherits(n,Ri);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).xmpp=e,o.eventEmitter=r,o.sessions={},o.jvbIceConfig=i.jvb,o.p2pIceConfig=i.p2p,o.mediaConstraints={offerToReceiveAudio:!0,offerToReceiveVideo:!0},o}return _createClass(n,[{key:"init",value:function(e){_get(_getPrototypeOf(n.prototype),"init",this).call(this,e),this.connection.addHandler(this.onJingle.bind(this),"urn:xmpp:jingle:1","iq","set",null,null)}},{key:"onJingle",value:function(e){var t=$(e).find("jingle").attr("sid"),n=$(e).find("jingle").attr("action"),r=e.getAttribute("from"),i=(0,ut.$iq)({type:"result",to:r,id:e.getAttribute("id")}),o=this.sessions[t];if("session-initiate"!==n){if(!o)return i.attrs({type:"error"}),i.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),Go.warn("invalid session id: "+t),Go.debug(e),this.connection.send(i),!0;if(r!==o.remoteJid)return Go.warn("jid mismatch for session id",t,o.remoteJid,e),i.attrs({type:"error"}),i.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),this.connection.send(i),!0}else if(void 0!==o)return i.attrs({type:"error"}),i.c("error",{type:"cancel"}).c("service-unavailable",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up(),Go.warn("duplicate session id",t,e),this.connection.send(i),!0;var s=window.performance.now(),a="focus"!==ut.Strophe.getResourceFromJid(r),c=$(e).find("jingle>json-message");if(null!=c&&c.length){var u,d;Go.info("Found a JSON-encoded element in "+n+", translating to standard Jingle.");for(var l=0;l<c.length;l++)d=po(e,c[l]);if(null!==(u=d)&&void 0!==u&&u.size){for(var h,p=[],f=_createForOfIteratorHelperLoose(d.keys());!(h=f()).done;){var m=h.value;p.push(m+":["+d.get(m)+"]")}Go.debug("Received "+n+" from "+r+" with sources="+p.join(", "))}}switch(n){case"session-initiate":Go.log("(TIME) received session-initiate:\t",s);var v=$(e).find("jingle>startmuted");if(a&&Go.debug("Received "+n+" from "+r),null!=v&&v.length){var _=v.attr(Bn.AUDIO),g=v.attr(Bn.VIDEO);this.eventEmitter.emit(dr.XMPPEvents.START_MUTED_FROM_FOCUS,"true"===_,"true"===g)}var y=a?this.p2pIceConfig:this.jvbIceConfig;o=new Jo($(e).find("jingle").attr("sid"),$(e).attr("to"),r,this.connection,this.mediaConstraints,JSON.parse(JSON.stringify(y)),a,!1),this.sessions[o.sid]=o,this.eventEmitter.emit(dr.XMPPEvents.CALL_INCOMING,o,$(e).find(">jingle"),s);break;case"session-accept":for(var S,E=[],C=_createForOfIteratorHelperLoose($(e).find("jingle>content"));!(S=C()).done;){var T=S.value,b=$(T).find("description").attr("ssrc");b&&E.push(b)}Go.debug("Received "+n+" from "+r+" with ssrcs="+E),this.eventEmitter.emit(dr.XMPPEvents.CALL_ACCEPTED,o,$(e).find(">jingle"));break;case"content-modify":var R=$(e).find('jingle>content[name="video"]>max-frame-height');Go.debug("Received "+n+" from "+r+" with a max-frame-height="+(null==R?void 0:R.text())),o.modifyContents($(e).find(">jingle"));break;case"transport-info":var A=Ko($(e).find("jingle>content>transport"));Go.debug("Received "+n+" from "+r+" for candidates="+A.join(", ")),this.eventEmitter.emit(dr.XMPPEvents.TRANSPORT_INFO,o,$(e).find(">jingle"));break;case"session-terminate":Go.log("terminating...",o.sid);var I=null,k=null;$(e).find(">jingle>reason").length&&(I=$(e).find(">jingle>reason>:first")[0].tagName,k=$(e).find(">jingle>reason>text").text()),Go.debug("Received "+n+" from "+r+" disconnect reason="+k),this.terminate(o.sid,I,k),this.eventEmitter.emit(dr.XMPPEvents.CALL_ENDED,o,I,k);break;case"transport-replace":var P;Go.info("(TIME) Start transport replace:\t",s);var O=$(e).find("jingle>content>transport"),D=Ko(O),N=$(O).attr("ufrag"),M=$(O).attr("pwd"),w=null===(P=$(O).find(">fingerprint"))||void 0===P?void 0:P.text();Go.debug("Received "+n+" from "+r+" with iceUfrag="+N+", icePwd="+M+", DTLS fingerprint="+w+", candidates="+D.join(", ")),nr.sendAnalytics(en(Ft,{p2p:a,value:s})),o.replaceTransport($(e).find(">jingle"),function(){var e=window.performance.now();Go.info("(TIME) Transport replace success:\t",e),nr.sendAnalytics(en(Ut,{p2p:a,value:e}))},function(e){Nn().callErrorHandler(e),Go.error("Transport replace failed",e),o.sendTransportReject()});break;case"source-add":o.addRemoteStream($(e).find(">jingle>content"));break;case"source-remove":o.removeRemoteStream($(e).find(">jingle>content"));break;default:Go.warn("jingle action not implemented",n),i.attrs({type:"error"}),i.c("error",{type:"cancel"}).c("bad-request",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up()}return this.connection.send(i),!0}},{key:"newP2PJingleSession",value:function(e,t){var n=new Jo(li().randomHexString(12),e,t,this.connection,this.mediaConstraints,this.p2pIceConfig,!0,!0);return this.sessions[n.sid]=n,n}},{key:"terminate",value:function(e,t,n){this.sessions.hasOwnProperty(e)&&("ended"!==this.sessions[e].state&&this.sessions[e].onTerminated(t,n),delete this.sessions[e])}},{key:"getStunAndTurnCredentials",value:function(){var e=this;this.connection.sendIQ((0,ut.$iq)({type:"get",to:this.xmpp.options.hosts.domain}).c("services",{xmlns:"urn:xmpp:extdisco:2"}),function(t){return e.onReceiveStunAndTurnCredentials(t)},function(){Go.warn("getting turn credentials with extdisco:2 failed, trying extdisco:1"),e.connection.sendIQ((0,ut.$iq)({type:"get",to:e.xmpp.options.hosts.domain}).c("services",{xmlns:"urn:xmpp:extdisco:1"}),function(t){return e.onReceiveStunAndTurnCredentials(t)},function(){Go.warn("getting turn credentials failed"),Go.warn("is mod_turncredentials or similar installed and configured?")})})}},{key:"onReceiveStunAndTurnCredentials",value:function(e){var t=[];$(e).find(">services>service").each(function(e,n){var r={},i=(n=$(n)).attr("type");switch(i){case"stun":r.urls="stun:"+n.attr("host"),n.attr("port")&&(r.urls+=":"+n.attr("port")),t.push(r);break;case"turn":case"turns":r.urls=i+":",r.username=n.attr("username"),r.urls+=n.attr("host"),n.attr("port")&&(r.urls+=":"+n.attr("port"));var o=n.attr("transport");o&&"udp"!==o&&(r.urls+="?transport="+o),r.credential=n.attr("password")||r.credential,t.push(r)}});for(var n,r=this.xmpp.options,i=t.length-1;i>0;i--){var o=Math.floor(Math.random()*(i+1)),s=t[i];t[i]=t[o],t[o]=s}return n=r.useTurnUdp?function(e){return e.urls.startsWith("turn")}:function(e){return e.urls.startsWith("turn")&&e.urls.indexOf("transport=tcp")>=0},this.jvbIceConfig.iceServers=t.filter(n),this.p2pIceConfig.iceServers=t,t.length>0}},{key:"getLog",value:function(){var e=this,t={};return Object.keys(this.sessions).forEach(function(n){var r=e.sessions[n].peerconnection;r&&r.updateLog&&(t["jingle_"+n]={updateLog:r.updateLog,stats:r.stats,url:window.location.href})}),t}}]),n})(),zo=(function(e){_inherits(n,Ri);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).log=[],e}return _createClass(n,[{key:"init",value:function(e){_get(_getPrototypeOf(n.prototype),"init",this).call(this,e),this.connection.rawInput=this.logIncoming.bind(this),this.connection.rawOutput=this.logOutgoing.bind(this)}},{key:"logIncoming",value:function(e){this.log.push([(new Date).getTime(),"incoming",e])}},{key:"logOutgoing",value:function(e){this.log.push([(new Date).getTime(),"outgoing",e])}}]),n})(),Wo=(0,v.getLogger)("modules/xmpp/strophe.rayo.js"),Xo="urn:xmpp:rayo:1",$o=(function(e){_inherits(n,Ri);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(e){_get(_getPrototypeOf(n.prototype),"init",this).call(this,e),this.connection.addHandler(this.onRayo.bind(this),Xo,"iq","set",null,null)}},{key:"onRayo",value:function(e){Wo.info("Rayo IQ",e)}},{key:"dial",value:function(e,t,n,r,i){var o=this;return new Promise(function(s,a){if(i){var c=(0,ut.$iq)({type:"set",to:i});c.c("dial",{xmlns:Xo,to:e,from:t}),c.c("header",{name:"JvbRoomName",value:n}).up(),r&&r.length&&c.c("header",{name:"JvbRoomPassword",value:r}).up(),o.connection.sendIQ(c,function(e){Wo.info("Dial result ",e);var t=$(e).find("ref").attr("uri");o.callResource=t.substr("xmpp:".length),Wo.info("Received call resource: "+o.callResource),s()},function(e){Wo.info("Dial error ",e),a(e)})}else a(new Error("Internal error!"))})}},{key:"hangup",value:function(){var e=this;return new Promise(function(t,n){if(!e.callResource)return n(new Error("No call in progress")),void Wo.warn("No call in progress");var r=(0,ut.$iq)({type:"set",to:e.callResource});r.c("hangup",{xmlns:Xo}),e.connection.sendIQ(r,function(n){Wo.info("Hangup result ",n),e.callResource=null,t()},function(t){Wo.info("Hangup error ",t),e.callResource=null,n(new Error("Hangup error "))})})}}]),n})(),Qo=(0,v.getLogger)("modules/xmpp/strophe.util.js"),Yo=-1,Zo=/request id \d+.\d+ got 200/,es=/request errored, status: (\d+), number of errors: \d+/,ts=(0,v.getLogger)("modules/xmpp/xmpp.js"),ns=/<failure.*><not-allowed\/><text>(.*)<\/text><\/failure>/gi,rs=[{urls:"stun:meet-jit-si-turnrelay.jitsi.net:443"}],is="type",os="http://jitsi.org/protocol/jigasi",ss="https://jitsi.org/meet/e2ee",as=(function(e){_inherits(n,Fr);var t=_createSuper(n);function n(e,r){var i,o;_classCallCheck(this,n),(i=t.call(this)).connection=null,i.disconnectInProgress=!1,i.connectionTimes={},i.options=e,i.token=r,i.authenticatedUser=!1,ut.Strophe.log=function(e,t){switch(Qo.trace("Strophe",e,t),"string"==typeof t&&-1!==t.indexOf("Request ")&&-1!==t.indexOf("timed out (secondary), restarting")&&(ut.Strophe.LogLevel.WARN,_readOnlyError("e")),e){case ut.Strophe.LogLevel.DEBUG:-1!==Yo&&Zo.test(t)&&(Qo.debug("Reset lastErrorStatus"),Yo=-1);break;case ut.Strophe.LogLevel.WARN:Qo.warn("Strophe: "+t);var n=es.exec(t);n&&2===n.length&&(Yo=parseInt(n[1],10),Qo.debug("lastErrorStatus set to: "+Yo));break;case ut.Strophe.LogLevel.ERROR:case ut.Strophe.LogLevel.FATAL:t="Strophe: "+t,Nn().callErrorHandler(new Error(t)),Qo.error(t)}},ut.Strophe.getLastErrorStatus=function(){return Yo},ut.Strophe.getStatusString=function(e){switch(e){case ut.Strophe.Status.BINDREQUIRED:return"BINDREQUIRED";case ut.Strophe.Status.ERROR:return"ERROR";case ut.Strophe.Status.CONNECTING:return"CONNECTING";case ut.Strophe.Status.CONNFAIL:return"CONNFAIL";case ut.Strophe.Status.AUTHENTICATING:return"AUTHENTICATING";case ut.Strophe.Status.AUTHFAIL:return"AUTHFAIL";case ut.Strophe.Status.CONNECTED:return"CONNECTED";case ut.Strophe.Status.DISCONNECTED:return"DISCONNECTED";case ut.Strophe.Status.DISCONNECTING:return"DISCONNECTING";case ut.Strophe.Status.ATTACHED:return"ATTACHED";default:return"unknown"}},ut.Strophe.addConnectionPlugin("logger",new zo);var s=e.xmppPing||{};return s.domain=e.hosts.domain,i.connection=(function(e){var t=e.enableWebsocketResume,n=e.serviceUrl,r=void 0===n?"/http-bind":n,i=e.shard,o=e.token,s=e.websocketKeepAlive,a=e.websocketKeepAliveUrl,c=e.xmppPing;return o&&(r+=(-1===r.indexOf("?")?"?":"&")+"token="+o),new Oi({enableWebsocketResume:t,serviceUrl:r,websocketKeepAlive:s,websocketKeepAliveUrl:a,xmppPing:c,shard:i})})({enableWebsocketResume:e.enableWebsocketResume,serviceUrl:e.serviceUrl||e.bosh,token:r,websocketKeepAlive:e.websocketKeepAlive,websocketKeepAliveUrl:e.websocketKeepAliveUrl,xmppPing:s,shard:null===(o=e.deploymentInfo)||void 0===o?void 0:o.shard}),i.connection.on(Oi.Events.CONN_SHARD_CHANGED,function(){var e={shard_changed:!0,suspend_time:i.connection.ping.getPingSuspendTime(),time_since_last_success:i.connection.getTimeSinceLastSuccess()};i.eventEmitter.emit(Pr,Mr,void 0,void 0,e)}),i._initStrophePlugins(),i.caps=new vi(i.connection,"https://jitsi.org/jitsi-meet"),i.initFeaturesList(),$(window).on((i.options.disableBeforeUnloadHandlers?"":"beforeunload ")+"unload",function(e){i.disconnect(e).catch(function(){})}),i}return _createClass(n,[{key:"initFeaturesList",value:function(){this.caps.addFeature("urn:xmpp:jingle:1"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:1"),this.caps.addFeature("urn:xmpp:jingle:transports:ice-udp:1"),this.caps.addFeature("urn:xmpp:jingle:apps:dtls:0"),this.caps.addFeature("urn:xmpp:jingle:transports:dtls-sctp:1"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:audio"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:video"),this.caps.addFeature("http://jitsi.org/json-encoded-sources"),!this.options.disableRtx&&An.supportsRTX()&&this.caps.addFeature("urn:ietf:rfc:4588"),!0===this.options.enableOpusRed&&An.supportsAudioRed()&&this.caps.addFeature("http://jitsi.org/opus-red"),(void 0===this.options.enableRemb||this.options.enableRemb)&&this.caps.addFeature("http://jitsi.org/remb"),An.isFirefox()||void 0!==this.options.enableTcc&&!this.options.enableTcc||this.caps.addFeature("http://jitsi.org/tcc"),this.caps.addFeature("urn:ietf:rfc:5761"),this.caps.addFeature("urn:ietf:rfc:5888"),An.isChromiumBased()&&!0===this.options.enableLipSync&&(ts.info("Lip-sync enabled !"),this.caps.addFeature("http://jitsi.org/meet/lipsync")),this.connection.rayo&&this.caps.addFeature("urn:xmpp:rayo:client:1"),ai.isSupported(this.options)&&this.caps.addFeature(ss,!1,!0),ui.isSourceNameSignalingEnabled()&&(ts.info("Source-name signaling is enabled"),this.caps.addFeature("http://jitsi.org/source-name"))}},{key:"getConnection",value:function(){return this.connection}},{key:"connectionHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=window.performance.now(),o=ut.Strophe.getStatusString(n).toLowerCase();if(this.connectionTimes[o]=i,ts.log("(TIME) Strophe "+o+(r?"["+r+"]":"")+":\t",i),this.eventEmitter.emit(dr.XMPPEvents.CONNECTION_STATUS_CHANGED,t,n,r),this._maybeSendDeploymentInfoStat(),n===ut.Strophe.Status.CONNECTED||n===ut.Strophe.Status.ATTACHED)this._sysMessageHandler&&(this.connection._stropheConn.deleteHandler(this._sysMessageHandler),this._sysMessageHandler=null),this.sendDiscoInfo&&this.connection.jingle.getStunAndTurnCredentials(),ts.info("My Jabber ID: "+this.connection.jid),this._resetState(),this.sendDeploymentInfo=!1,this.sendDiscoInfo&&this.caps.getFeaturesAndIdentities(this.options.hosts.domain).then(function(t){var n=t.features,r=t.identities;n.has(ut.Strophe.NS.PING)||ts.error("Ping NOT supported by "+e.options.hosts.domain+" - please enable ping in your XMPP server config"),e._processDiscoInfoIdentities(r,void 0)}).catch(function(t){Nn().callErrorHandler(new Error("Feature discovery error: "+t)),ts.error("Feature discovery error",t),e._maybeSendDeploymentInfoStat(!0)}),this.sendDiscoInfo=!1,t.password&&(this.authenticatedUser=!0),this.connection&&this.connection.connected&&ut.Strophe.getResourceFromJid(this.connection.jid)&&this.eventEmitter.emit(kr,ut.Strophe.getResourceFromJid(this.connection.jid));else if(n===ut.Strophe.Status.CONNFAIL)"x-strophe-bad-non-anon-jid"===r?this.anonymousConnectionFailed=!0:this.connectionFailed=!0,this.lastErrorMsg=r,"giving-up"===r&&this.eventEmitter.emit(Pr,Mr,r);else if(n===ut.Strophe.Status.ERROR)this.lastErrorMsg=r;else if(n===ut.Strophe.Status.DISCONNECTED){this.connection.ping.stopInterval();var s=Boolean(this.disconnectInProgress),a=r||this.lastErrorMsg;if(this.anonymousConnectionFailed)this.eventEmitter.emit(Pr,wr);else if(this.connectionFailed)this.eventEmitter.emit(Pr,Mr,a,void 0,this._getConnectionFailedReasonDetails());else if(s)this.eventEmitter.emit(Ir,a);else{ts.error("XMPP connection dropped!");var c=ut.Strophe.getLastErrorStatus();c>=500&&c<600?this.eventEmitter.emit(Pr,Lr,a||"server-error",void 0,this._getConnectionFailedReasonDetails()):this.eventEmitter.emit(Pr,Nr,a||"connection-dropped-error",void 0,this._getConnectionFailedReasonDetails())}}else if(n===ut.Strophe.Status.AUTHFAIL){var u=this.getConnection().getLastFailedMessage();this.eventEmitter.emit(Pr,wr,r||this._parseConnectionFailedMessage(u),t)}}},{key:"_processDiscoInfoIdentities",value:function(e,t){var n=this;e.forEach(function(e){if("av_moderation"===e.type&&(n.avModerationComponentAddress=e.name),"speakerstats"===e.type&&(n.speakerStatsComponentAddress=e.name),"conference_duration"===e.type&&(n.conferenceDurationComponentAddress=e.name),"lobbyrooms"===e.type){n.lobbySupported=!0;var r=function(e){e.forEach(function(e){e.endsWith("#displayname_required")&&n.eventEmitter.emit(Dr)})};t?r(t):e.name&&n.caps.getFeaturesAndIdentities(e.name,e.type).then(function(e){var t=e.features;return r(t)}).catch(function(e){return ts.warn("Error getting features from lobby.",e&&e.message)})}"shard"===e.type&&(n.options.deploymentInfo.shard=n.connection.shard=e.name),"region"===e.type&&(n.options.deploymentInfo.region=n.connection.region=e.name),"breakout_rooms"===e.type&&(n.breakoutRoomsComponentAddress=e.name)}),this._maybeSendDeploymentInfoStat(!0),(this.avModerationComponentAddress||this.speakerStatsComponentAddress||this.conferenceDurationComponentAddress||this.breakoutRoomsComponentAddress)&&this.connection.addHandler(this._onPrivateMessage.bind(this),null,"message",null,null)}},{key:"_parseConnectionFailedMessage",value:function(e){if(!e)return null;var t=ns.exec(e);return t?t[1]:null}},{key:"_connect",value:function(e,t){this._resetState(),this.sendDiscoInfo=!0,this.sendDeploymentInfo=!0,this.connection._stropheConn&&this.connection._stropheConn._addSysHandler?this._sysMessageHandler=this.connection._stropheConn._addSysHandler(this._onSystemMessage.bind(this),null,"message"):ts.warn("Cannot attach strophe system handler, jiconop cannot operate"),this.connection.connect(e,t,this.connectionHandler.bind(this,{jid:e,password:t}))}},{key:"_onSystemMessage",value:function(e){if(0!==$(e).find(">services").length||0!==$(e).find(">query").length){this.sendDiscoInfo=!1;var t=this.connection.jingle.onReceiveStunAndTurnCredentials(e),n=mi(e),r=n.features,i=n.identities;this._processDiscoInfoIdentities(i,r),(t||i.size>0||r.size>0)&&(this.connection._stropheConn.deleteHandler(this._sysMessageHandler),this._sysMessageHandler=null)}}},{key:"attach",value:function(e){this._resetState(),this.sendDiscoInfo=!0;var t=this.connectionTimes.attaching=window.performance.now();ts.log("(TIME) Strophe Attaching:\t",t),this.connection.attach(e.jid,e.sid,parseInt(e.rid,10)+1,this.connectionHandler.bind(this,{jid:e.jid,password:e.password}))}},{key:"_resetState",value:function(){this.anonymousConnectionFailed=!1,this.connectionFailed=!1,this.lastErrorMsg=void 0,this.disconnectInProgress=void 0}},{key:"connect",value:function(e,t){if(!e){var n=this.options.hosts,r=n.anonymousdomain,i=n.domain,o=r||i,s=window.location;if(r){var a=s&&s.search;(a&&-1!==a.indexOf("login=true")||this.token)&&(o=i)}e=o||s&&s.hostname}return this._connect(e,t)}},{key:"createRoom",value:function(e,t,n){var r=e.domain||t.customDomain,i=this.getRoomJid(e,r)+"/",o=n?n(this.connection.jid,this.authenticatedUser):li().randomHexString(8).toLowerCase();return ts.info("JID "+this.connection.jid+" using MUC nickname "+o),i+=o,this.connection.emuc.createRoom(i,null,t)}},{key:"getRoomJid",value:function(e,t){return e+"@"+(t||this.options.hosts.muc.toLowerCase())}},{key:"isRoomCreated",value:function(e,t){return this.connection.emuc.isRoomCreated(this.getRoomJid(e,t))}},{key:"getJid",value:function(){return this.connection.jid}},{key:"getJingleLog",value:function(){var e=this.connection.jingle;return e?e.getLog():{}}},{key:"getXmppLog",value:function(){return(this.connection.logger||{}).log||null}},{key:"dial",value:function(){var e;(e=this.connection.rayo).dial.apply(e,arguments)}},{key:"ping",value:function(e){var t=this;return new Promise(function(n,r){t.connection.ping.ping(t.connection.pingDomain,n,r,e)})}},{key:"getSessions",value:function(){return this.connection.jingle.sessions}},{key:"disconnect",value:function(e){var t=this;return this.disconnectInProgress?this.disconnectInProgress:this.connection?(this.disconnectInProgress=new Promise(function(e){t.eventEmitter.on(dr.XMPPEvents.CONNECTION_STATUS_CHANGED,function n(r,i){i===ut.Strophe.Status.DISCONNECTED&&(e(),t.eventEmitter.removeListener(dr.XMPPEvents.CONNECTION_STATUS_CHANGED,n))})}),this._cleanupXmppConnection(e),this.disconnectInProgress):Promise.resolve()}},{key:"_cleanupXmppConnection",value:function(e){if(!this.connection.isUsingWebSocket&&this.connection.flush(),!this.connection.isUsingWebSocket&&null!=e){var t=e.type;if(("beforeunload"===t||"unload"===t)&&(this.connection.options.sync=!0,this.connection.sendUnavailableBeacon()))return}this.connection.disconnect(),!0!==this.connection.options.sync&&this.connection.flush()}},{key:"_initStrophePlugins",value:function(){var e={jvb:{iceServers:[]},p2p:{iceServers:[]}},t=this.options.p2p&&this.options.p2p.stunServers||rs;Array.isArray(t)&&(ts.info("P2P STUN servers: ",t),e.p2p.iceServers=t),this.options.p2p&&this.options.p2p.iceTransportPolicy&&(ts.info("P2P ICE transport policy: ",this.options.p2p.iceTransportPolicy),e.p2p.iceTransportPolicy=this.options.p2p.iceTransportPolicy),this.connection.addConnectionPlugin("emuc",new ao(this)),this.connection.addConnectionPlugin("jingle",new qo(this,this.eventEmitter,e)),this.connection.addConnectionPlugin("rayo",new $o)}},{key:"_getConnectionFailedReasonDetails",value:function(){var e={};if(this.options.deploymentInfo&&this.options.deploymentInfo.shard&&this.connection.lastResponseHeaders){var t={};this.connection.lastResponseHeaders.trim().split(/[\r\n]+/).forEach(function(e){var n=e.split(": "),r=n.shift(),i=n.join(": ");t[r]=i}),e.shard_changed=this.options.deploymentInfo.shard!==t["x-jitsi-shard"]}return e.suspend_time=this.connection.ping.getPingSuspendTime(),e.time_since_last_success=this.connection.getTimeSinceLastSuccess(),e}},{key:"sendDominantSpeakerEvent",value:function(e){if(this.speakerStatsComponentAddress&&e){var t=(0,ut.$msg)({to:this.speakerStatsComponentAddress});t.c("speakerstats",{xmlns:"http://jitsi.org/jitmeet",room:e}).up(),this.connection.send(t)}}},{key:"sendFacialExpressionEvent",value:function(e,t){if(this.speakerStatsComponentAddress&&e){var n=(0,ut.$msg)({to:this.speakerStatsComponentAddress});n.c("facialExpression",{xmlns:"http://jitsi.org/jitmeet",room:e,expression:t.facialExpression,duration:t.duration}).up(),this.connection.send(n)}}},{key:"tryParseJSONAndVerify",value:function(e){if(!e)return!1;try{var t=JSON.parse(e);if(t&&"object"==typeof t){var n=t[is];if(void 0!==n)return t;ts.debug("parsing valid json but does not have correct structure","topic: ",n)}}catch(t){return ts.error("Error parsing json "+e,t),!1}return!1}},{key:"_onPrivateMessage",value:function(e){var t=e.getAttribute("from");if(t!==this.speakerStatsComponentAddress&&t!==this.conferenceDurationComponentAddress&&t!==this.avModerationComponentAddress&&t!==this.breakoutRoomsComponentAddress)return!0;var n=$(e).find(">json-message").text(),r=this.tryParseJSONAndVerify(n);return!r||("speakerstats"===r[is]&&r.users?this.eventEmitter.emit(dr.XMPPEvents.SPEAKER_STATS_RECEIVED,r.users):"conference_duration"===r[is]&&r.created_timestamp?this.eventEmitter.emit(dr.XMPPEvents.CONFERENCE_TIMESTAMP_RECEIVED,r.created_timestamp):"av_moderation"===r[is]?this.eventEmitter.emit(dr.XMPPEvents.AV_MODERATION_RECEIVED,r):"breakout_rooms"===r[is]&&this.eventEmitter.emit(dr.XMPPEvents.BREAKOUT_ROOMS_EVENT,r),!0)}},{key:"_maybeSendDeploymentInfoStat",value:function(e){var t=[ut.Strophe.Status.ERROR,ut.Strophe.Status.CONNFAIL,ut.Strophe.Status.AUTHFAIL,ut.Strophe.Status.DISCONNECTED,ut.Strophe.Status.CONNTIMEOUT];if(e||t.includes(this.connection.status)&&this.sendDeploymentInfo){var n=this.options.deploymentInfo;if(n&&Object.keys(n).length>0){var r={id:"deployment_info"};for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);nr.sendLog(JSON.stringify(r))}this.sendDeploymentInfo=!1}}}]),n})();function cs(e){var t,n=this,r=e.id,i=e.password,o=e.onCreateResource,s=e.onLoginSuccessful,a=e.roomPassword,c=!1,u=new as(this.connection.options),d=new Promise(function(e,d){t=d,u.addListener(Ir,function(){u=void 0}),u.addListener(kr,function(){c||(s&&s(),u.createRoom(n.options.name,n.options.config,o).moderator.authenticate().then(function(){u&&u.disconnect(),c||(n.join(a),e())}).catch(function(e){var t=e.error,n=e.message;u.disconnect(),d({authenticationError:t,message:n})}))}),u.addListener(Pr,function(e,t,n){d({connectionError:e,credentials:n,message:t}),u=void 0}),c||u.connect(r,i)});return d.cancel=function(){c=!0,t({}),u&&u.disconnect()},d}var us=(0,v.getLogger)("modules/RTC/CodecSelection.js"),ds=(function(){function e(t,n){var r=this;_classCallCheck(this,e),this.conference=t,this.options=n,this.disabledCodec=n.disabledCodec===vo().VP8?void 0:this._getCodecMimeType(n.disabledCodec);var i=this._getCodecMimeType(n.jvbCodec),o=this._getCodecMimeType(n.p2pCodec);this.jvbPreferredCodec=i&&this._isCodecSupported(i)?i:vo().VP8,this.p2pPreferredCodec=o&&this._isCodecSupported(o)?o:vo().VP8,us.debug("Codec preferences for the conference are JVB: "+this.jvbPreferredCodec+",\n            P2P: "+this.p2pPreferredCodec),this.jvbPreferredCodec!==vo().VP9||An.supportsVP9()||(this.jvbPreferredCodec=vo().VP8),this.conference.on(Be,function(){return r._selectPreferredCodec()}),this.conference.on(Je,function(){return r._selectPreferredCodec()}),this.conference.on(fe,function(e){return r._onMediaSessionStarted(e)})}return _createClass(e,[{key:"_getCodecMimeType",value:function(e){return"string"==typeof e?Object.values(vo()).find(function(t){return t===e.toLowerCase()}):null}},{key:"_isCodecSupported",value:function(e){return!(!An.isFirefox()&&!An.isReactNative())||window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities("video").codecs.some(function(t){return t.mimeType.toLowerCase()==="video/"+e})}},{key:"_onMediaSessionStarted",value:function(e){var t=e.isP2P?this.p2pPreferredCodec:this.jvbPreferredCodec,n=this.disabledCodec&&this._isCodecSupported(this.disabledCodec)?this.disabledCodec:null;this._selectPreferredCodec(e,t,n)}},{key:"_selectPreferredCodec",value:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.conference.jvbJingleSession,r=e||this.jvbPreferredCodec,i=r;if(n&&!n.isP2P&&!this.options.enforcePreferredCodec)for(var o,s=_createForOfIteratorHelperLoose(this.conference.getParticipants().map(function(e){return e.getId()}));!(o=s()).done;){var a=o.value,c=n._signalingLayer.getPeerMediaInfo(a,Bn.VIDEO),u=null==c?void 0:c.codecType;u&&u!==r&&(u!==vo().VP9||An.supportsVP9())&&(i=u)}n&&n.setVideoCodecs(i,t)}},{key:"getPreferredCodec",value:function(){return this.jvbPreferredCodec}}]),e})(),ls=n(7318),hs=n.n(ls),ps=(0,v.getLogger)("modules/RTC/BridgeChannel.js"),fs=(function(){function e(t,n,r){if(_classCallCheck(this,e),!t&&!n)throw new TypeError("At least peerconnection or wsUrl must be given");if(t&&n)throw new TypeError("Just one of peerconnection or wsUrl must be given");if(t?ps.debug("constructor() with peerconnection"):ps.debug("constructor() with wsUrl:\""+n+"\""),this._channel=null,this._eventEmitter=r,this._mode=null,this._areRetriesEnabled=!1,this._closedFromClient=!1,t){var i=t.createDataChannel("JVB data channel",{protocol:"http://jitsi.org/protocols/colibri"});this._handleChannel(i),this._mode="datachannel"}else n&&(this._areRetriesEnabled=!0,this._wsUrl=n,this._initWebSocket())}return _createClass(e,[{key:"_initWebSocket",value:function(){var e=new WebSocket(this._wsUrl);this._handleChannel(e),this._mode="websocket"}},{key:"_startConnectionRetries",value:function(){var e=this,t=1;this._retryTimeout=setTimeout(function n(){e.isOpen()||(e._initWebSocket(e._wsUrl),t=Math.min(2*t,60),e._retryTimeout=setTimeout(n,1e3*t))},1e3*t)}},{key:"_stopConnectionRetries",value:function(){this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=void 0)}},{key:"_retryWebSocketConnection",value:function(e){var t=this;if(this._areRetriesEnabled){var n=e.code,r=e.reason;nr.sendAnalytics((function(e,t){return{type:Rt.TYPE_OPERATIONAL,action:"bridge-channel.error",attributes:{code:e,reason:t}}})(n,r)),this._areRetriesEnabled=!1,this._eventEmitter.once(sr.default.DATA_CHANNEL_OPEN,function(){t._stopConnectionRetries(),t._areRetriesEnabled=!0}),this._startConnectionRetries()}}},{key:"mode",get:function(){return this._mode}},{key:"close",value:function(){if(this._closedFromClient=!0,this._stopConnectionRetries(),this._areRetriesEnabled=!1,this._channel){try{this._channel.close()}catch(e){}this._channel=null}}},{key:"isOpen",value:function(){return this._channel&&("open"===this._channel.readyState||this._channel.readyState===WebSocket.OPEN)}},{key:"sendEndpointStatsMessage",value:function(e){this._send(_objectSpread({colibriClass:"EndpointStats"},e))}},{key:"sendMessage",value:function(e,t){this._send({colibriClass:"EndpointMessage",msgPayload:t,to:e})}},{key:"sendSetLastNMessage",value:function(e){ps.log("Sending lastN="+e+"."),this._send({colibriClass:"LastNChangedEvent",lastN:e})}},{key:"sendSelectedEndpointsMessage",value:function(e){ps.log("Sending selected endpoints: "+e+"."),this._send({colibriClass:"SelectedEndpointsChangedEvent",selectedEndpoints:e})}},{key:"sendReceiverVideoConstraintMessage",value:function(e){ps.log("Sending ReceiverVideoConstraint with maxFrameHeight="+e+"px"),this._send({colibriClass:"ReceiverVideoConstraint",maxFrameHeight:e})}},{key:"sendNewReceiverVideoConstraintsMessage",value:function(e){ps.log("Sending ReceiverVideoConstraints with "+JSON.stringify(e)),this._send(_objectSpread({colibriClass:"ReceiverVideoConstraints"},e))}},{key:"sendVideoTypeMessage",value:function(e){ps.debug("Sending VideoTypeMessage with video type as "+e),this._send({colibriClass:"VideoTypeMessage",videoType:e})}},{key:"sendSourceVideoTypeMessage",value:function(e,t){ps.info("Sending SourceVideoTypeMessage with video type "+e+": "+t),this._send({colibriClass:"SourceVideoTypeMessage",sourceName:e,videoType:t})}},{key:"_handleChannel",value:function(e){var t=this,n=this._eventEmitter;e.onopen=function(){ps.info(t._mode+" channel opened"),n.emit(sr.default.DATA_CHANNEL_OPEN)},e.onerror=function(e){"websocket"!==t._mode&&ps.error("Channel error: "+e.message)},e.onmessage=function(e){var t,r=e.data;try{t=JSON.parse(r)}catch(e){return Nn().callErrorHandler(e),void ps.error("Failed to parse channel message as JSON: ",r,e)}var i=t.colibriClass;switch(i){case"DominantSpeakerEndpointChangeEvent":var o=t,s=o.dominantSpeakerEndpoint,a=o.previousSpeakers,c=void 0===a?[]:a;ps.debug("Dominant speaker: "+s+", previous speakers: "+c),n.emit(sr.default.DOMINANT_SPEAKER_CHANGED,s,c);break;case"EndpointConnectivityStatusChangeEvent":var u=t.endpoint,d="true"===t.active;ps.info("Endpoint connection status changed: "+u+" active="+d),n.emit(sr.default.ENDPOINT_CONN_STATUS_CHANGED,u,d);break;case"EndpointMessage":n.emit(sr.default.ENDPOINT_MESSAGE_RECEIVED,t.from,t.msgPayload);break;case"EndpointStats":n.emit(sr.default.ENDPOINT_STATS_RECEIVED,t.from,t);break;case"LastNEndpointsChangeEvent":if(!ui.isSourceNameSignalingEnabled()){var l=t.lastNEndpoints;ps.info("New forwarded endpoints: "+l),n.emit(sr.default.LASTN_ENDPOINT_CHANGED,l)}break;case"ForwardedSources":if(ui.isSourceNameSignalingEnabled()){var h=t.forwardedSources;ps.info("New forwarded sources: "+h),n.emit(sr.default.FORWARDED_SOURCES_CHANGED,h)}break;case"SenderVideoConstraints":var p=t.videoConstraints;p&&(ps.info("SenderVideoConstraints: "+JSON.stringify(p)),n.emit(sr.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,p));break;case"SenderSourceConstraints":if(ui.isSourceNameSignalingEnabled()){var f=t,m=f.sourceName,v=f.maxHeight;"string"==typeof m&&"number"==typeof v?(ps.info("SenderSourceConstraints: "+JSON.stringify({sourceName:m,maxHeight:v})),n.emit(sr.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,{sourceName:m,maxHeight:v})):ps.error("Invalid SenderSourceConstraints: "+JSON.stringify(t))}break;case"ServerHello":ps.info("Received ServerHello, version="+t.version+".");break;default:ps.debug("Channel JSON-formatted message: ",t),n.emit("rtc.datachannel."+i,t)}},e.onclose=function(e){ps.info("Channel closed by "+(t._closedFromClient?"client":"server")),"websocket"===t._mode&&(t._closedFromClient||(ps.error("Channel closed: "+e.code+" "+e.reason),t._retryWebSocketConnection(e))),t._channel=null},this._channel=e}},{key:"_send",value:function(e){var t=this._channel;if(!this.isOpen())throw ps.error("Bridge Channel send: no opened channel."),new Error("No opened channel");t.send(JSON.stringify(e))}}]),e})(),ms=n(4940),vs=n.n(ms),_s=n(6125),gs=n.n(_s),ys=(0,v.getLogger)("modules/RTC/RTCUtils.js");An.usesAdapter()&&n(7733);var Ss,Es=new(st()),Cs={video:{height:{ideal:720,max:720,min:180},width:{ideal:1280,max:1280,min:320}}},Ts="default",bs=!1,Rs=!1,As=!1,Is=!1,ks=!1,Ps=null,Os=document.createElement("audio"),Ds=void 0!==Os.setSinkId,Ns=[];function Ms(){}function ws(e,t){var n=Boolean(t)&&t.getAudioTracks().length>0,r=Boolean(t)&&t.getVideoTracks().length>0,i={};-1!==e.indexOf("video")&&(i.video=r),-1!==e.indexOf("audio")&&(i.audio=n),Es.emit(sr.default.PERMISSIONS_CHANGED,i)}function Ls(e){var t=e.filter(function(e){return"audioinput"===e.kind}).length,n=e.filter(function(e){return"audiooutput"===e.kind}).length,r=e.filter(function(e){return"videoinput"===e.kind}).length,i=e.filter(function(e){return"videooutput"===e.kind}).length;e.forEach(function(e){var o={audio_input_device_count:t,audio_output_device_count:n,video_input_device_count:r,video_output_device_count:i,device_id:e.deviceId,device_group_id:e.groupId,device_kind:e.kind,device_label:e.label};nr.sendAnalytics(Jt,o)})}function xs(e){(function(e){return e.length!==Ns.length||e.map(t).sort().join("")!==Ns.map(t).sort().join("");function t(e){return JSON.stringify({kind:e.kind,deviceId:e.deviceId,groupId:e.groupId,label:e.label,facing:e.facing})}})(e)&&(Ns=e.slice(0),ys.info("list of media devices has changed:",Ns),Ls(Ns),Es.emit(sr.default.DEVICE_LIST_WILL_CHANGE,Ns),Es.emit(sr.default.DEVICE_LIST_CHANGED,Ns))}var Fs=new((function(e){_inherits(n,Fr);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,Es)}return _createClass(n,[{key:"init",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"==typeof r.disableAEC&&(As=r.disableAEC,ys.info("Disable AEC: "+As)),"boolean"==typeof r.disableNS&&(Is=r.disableNS,ys.info("Disable NS: "+Is)),"boolean"==typeof r.disableAP&&(Rs=r.disableAP,ys.info("Disable AP: "+Rs)),"boolean"==typeof r.disableAGC&&(ks=r.disableAGC,ys.info("Disable AGC: "+ks)),"boolean"==typeof(null===(e=r.audioQuality)||void 0===e?void 0:e.stereo)&&(Ps=r.audioQuality.stereo,ys.info("Stereo: "+Ps)),window.clearInterval(Ss),Ss=void 0,An.isReactNative()?(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=void 0,this.getStreamID=function(e){var t=e.id;return"number"==typeof t?t:bo.filterSpecialChars(t)},this.getTrackID=function(e){return e.id}):(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=(t=function(e,t){e&&(e.srcObject=t)},function(e,n){var r=t.apply(Fs,arguments);return n&&Fs.isDeviceChangeAvailable("output")&&n.getAudioTracks&&n.getAudioTracks().length&&bs&&e.setSinkId(Fs.getAudioOutputDevice()).catch(function(t){var n=new At(t,null,["audiooutput"]);Nn().callUnhandledRejectionHandler({promise:this,reason:n}),ys.warn("Failed to set audio output device for the element. Default audio output device will be used instead",e,n)}),r}),this.getStreamID=function(e){return e.id},this.getTrackID=function(e){return e.id}),this.pcConstraints=An.isChromiumBased()||An.isReactNative()?{optional:[{googScreencastMinBitrate:100},{googCpuOveruseDetection:!0}]}:{},go.init(r),this.isDeviceListAvailable()&&this.enumerateDevices(function(e){Ns=e.slice(0),ys.debug("Available devices: ",Ns),Ls(Ns),Es.emit(sr.default.DEVICE_LIST_AVAILABLE,Ns),An.supportsDeviceChangeEvent()?navigator.mediaDevices.addEventListener("devicechange",function(){return n.enumerateDevices(Ms)}):Ss=window.setInterval(function(){return n.enumerateDevices(Ms)},3e3)})}},{key:"enumerateDevices",value:function(e){navigator.mediaDevices.enumerateDevices().then(function(t){xs(t),e(t)}).catch(function(t){ys.warn("Failed to  enumerate devices. "+t),xs([]),e([])})}},{key:"_getUserMedia",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(r,i){var o,s=!1;"number"==typeof n&&!isNaN(n)&&n>0&&(o=setTimeout(function(){s=!0,o=void 0,i(new At(yt))},n)),navigator.mediaDevices.getUserMedia(t).then(function(t){ys.log("onUserMediaSuccess"),ws(e,t),s||(void 0!==o&&clearTimeout(o),r(t))}).catch(function(n){ys.warn("Failed to get access to local media. "+n+" "+JSON.stringify(t));var r=new At(n,t,e);s||(void 0!==o&&clearTimeout(o),i(r)),r.name===vt&&ws(e,void 0)})})}},{key:"_getDesktopMedia",value:function(){return go.isSupported()?new Promise(function(e,t){go.obtainStream(function(t){e(t)},function(e){t(e)})}):Promise.reject(new Error("Desktop sharing is not supported!"))}},{key:"_getMissingTracks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=e.includes("audio"),i=t&&t.getAudioTracks().length>0;r&&!i&&n.push("audio");var o=e.includes("video"),s=t&&t.getVideoTracks().length>0;return o&&!s&&n.push("video"),n}},{key:"obtainAudioAndVideoPermissions",value:function(e){var t=this,n=e.timeout,r=_objectWithoutProperties(e,_excluded),i=[],o=function(){if(-1===(r.devices||[]).indexOf("desktop"))return Promise.resolve();var e=r.desktopSharingSourceDevice;if(e){var t=Ns&&Ns.find(function(t){return"videoinput"===t.kind&&(t.deviceId===e||t.label===e)});if(!t)return Promise.reject(new At({name:"ConstraintNotSatisfiedError"},{},[e]));var i={video:{deviceId:t.deviceId}};return this._getUserMedia(["video"],i,n).then(function(e){return{sourceType:"device",stream:e}})}return this._getDesktopMedia()}.bind(this),s=function(){var e=(r.devices||["audio","video"]).filter(function(e){return"audio"===e||"video"===e});if(!e.length)return Promise.resolve();var t=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=So()(t.constraints||Cs);if(e.indexOf("video")>=0){if(gs()[t.resolution]){var r=gs()[t.resolution];n.video.height={ideal:r.height},n.video.width={ideal:r.width}}if(n.video||(n.video={}),An.isWebKitBased()&&(n.video.height&&n.video.height.ideal?n.video.height={ideal:n.video.height.ideal}:ys.warn("Ideal camera height missing, camera may not start properly"),n.video.width&&n.video.width.ideal?n.video.width={ideal:n.video.width.ideal}:ys.warn("Ideal camera width missing, camera may not start properly")),t.cameraDeviceId)n.video.deviceId=t.cameraDeviceId;else{var i=t.facingMode||vs().USER;n.video.facingMode=i}}else n.video=!1;return e.indexOf("audio")>=0?(n.audio&&"boolean"!=typeof n.audio||(n.audio={}),n.audio={autoGainControl:!ks&&!Rs,deviceId:t.micDeviceId,echoCancellation:!As&&!Rs,noiseSuppression:!Is&&!Rs},Ps&&_extends(n.audio,{channelCount:2})):n.audio=!1,n})(e,r);return ys.info("Got media constraints: ",JSON.stringify(t)),this._getUserMedia(e,t,n)}.bind(this);return o().then(function(e){if(e){var t=e.stream,n=e.sourceId,r=e.sourceType,o=t.getAudioTracks();if(o.length){var s=new MediaStream(o);i.push({stream:s,sourceId:n,sourceType:r,track:s.getAudioTracks()[0]})}var a=t.getVideoTracks();if(a.length){var c=new MediaStream(a);i.push({stream:c,sourceId:n,sourceType:r,track:c.getVideoTracks()[0],videoType:ar.VideoType.DESKTOP})}}}).then(s).then(function(e){if(e){var t=e.getAudioTracks();if(t.length){var n=new MediaStream(t);i.push({stream:n,track:n.getAudioTracks()[0],effects:r.effects})}var o=e.getVideoTracks();if(o.length){var s=new MediaStream(o);i.push({stream:s,track:s.getVideoTracks()[0],videoType:ar.VideoType.CAMERA,effects:r.effects})}}}).then(function(){return i}).catch(function(e){return i.forEach(function(e){var n=e.stream;t.stopMediaStream(n)}),Promise.reject(e)})}},{key:"isDeviceListAvailable",value:function(){return Boolean(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}},{key:"isDeviceChangeAvailable",value:function(e){return"output"===e||"audiooutput"===e?Ds:"audioinput"!==e&&"input"!==e||!An.isIosBrowser()}},{key:"stopMediaStream",value:function(e){e&&(e.getTracks().forEach(function(e){e.stop&&e.stop()}),e.stop&&e.stop(),e.release&&e.release())}},{key:"isDesktopSharingEnabled",value:function(){return go.isSupported()}},{key:"setAudioOutputDevice",value:function(e){return this.isDeviceChangeAvailable("output")?Os.setSinkId(e).then(function(){Ts=e,bs=!0,ys.log("Audio output device set to "+e),Es.emit(sr.default.AUDIO_OUTPUT_DEVICE_CHANGED,e)}):Promise.reject(new Error("Audio output device change is not supported"))}},{key:"setDesktopSharingFrameRate",value:function(e){go.setDesktopSharingFrameRate(e)}},{key:"getAudioOutputDevice",value:function(){return Ts}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return Ns}},{key:"arePermissionsGrantedForAvailableDevices",value:function(){return Ns.some(function(e){return Boolean(e.label)})}},{key:"getEventDataForActiveDevice",value:function(e){var t=[],n={deviceId:e.deviceId,kind:e.kind,label:e.label,groupId:e.groupId};return t.push(n),{deviceList:t}}},{key:"setSuspendVideo",value:function(e,t){e.optional||(e.optional=[]),e.optional=e.optional.filter(function(e){return!e.hasOwnProperty("googSuspendBelowMinBitrate")}),t&&e.optional.push({googSuspendBelowMinBitrate:"true"})}}]),n})()),Us=Fs,Vs=(0,v.getLogger)("modules/RTC/JitsiTrack.js"),js={track_mute:"onmute",track_unmute:"onunmute",track_ended:"onended"},Hs=(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a){var c;return _classCallCheck(this,n),(c=t.call(this)).addEventListener=c.addListener,c.removeEventListener=c.off=c.removeListener,c.containers=[],c.conference=e,c.audioLevel=-1,c.type=s,c.track=i,c.videoType=a,c.handlers=new Map,c.disposed=!1,c._streamInactiveHandler=o,c._setStream(r),c}return _createClass(n,[{key:"_addMediaStreamInactiveHandler",value:function(e){An.isFirefox()?this.track.onended=e:this.stream.oninactive=e}},{key:"_setHandler",value:function(e,t){if(js.hasOwnProperty(e)){if(t?this.handlers.set(e,t):this.handlers.delete(e),this.stream)for(var n,r=_createForOfIteratorHelperLoose(this.stream.getTracks());!(n=r()).done;){n.value[js[e]]=t}}else Vs.error("Invalid handler type "+e)}},{key:"_unregisterHandlers",value:function(){if(this.stream){for(var e,t=_createForOfIteratorHelperLoose(this.handlers.keys());!(e=t()).done;)for(var n,r=e.value,i=_createForOfIteratorHelperLoose(this.stream.getVideoTracks());!(n=i()).done;){n.value[js[r]]=void 0}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(void 0)}else Vs.warn(this+": unable to unregister handlers - no stream object")}},{key:"_setStream",value:function(e){if(this.stream!==e&&(this.stream=e,this.stream)){for(var t,n=_createForOfIteratorHelperLoose(this.handlers.keys());!(t=n()).done;){var r=t.value;this._setHandler(r,this.handlers.get(r))}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(this._streamInactiveHandler)}}},{key:"getVideoType",value:function(){return this.videoType}},{key:"getType",value:function(){return this.type}},{key:"isAudioTrack",value:function(){return this.getType()===Bn.AUDIO}},{key:"isWebRTCTrackMuted",value:function(){return this.track&&this.track.muted}},{key:"isVideoTrack",value:function(){return this.getType()===Bn.VIDEO}},{key:"isLocal",value:function(){throw new Error("Not implemented by subclass")}},{key:"isLocalAudioTrack",value:function(){return this.isAudioTrack()&&this.isLocal()}},{key:"getOriginalStream",value:function(){return this.stream}},{key:"getStreamId",value:function(){return this.stream?this.stream.id:null}},{key:"getTrack",value:function(){return this.track}},{key:"getTrackLabel",value:function(){return this.track.label}},{key:"getTrackId",value:function(){return this.track?this.track.id:null}},{key:"getUsageLabel",value:function(){return this.isAudioTrack()?"mic":this.videoType?this.videoType:"default"}},{key:"_maybeFireTrackAttached",value:function(e){this.conference&&e&&this.conference._onTrackAttach(this,e)}},{key:"attach",value:function(e){this.stream&&(this._onTrackAttach(e),Us.attachMediaStream(e,this.stream)),this.containers.push(e),this._maybeFireTrackAttached(e),this._attachTTFMTracker(e)}},{key:"detach",value:function(e){for(var t=this.containers,n=t.length-1;n>=0;--n){var r=t[n];e||(this._onTrackDetach(r),Us.attachMediaStream(r,null)),e&&r!==e||t.splice(n,1)}e&&(this._onTrackDetach(e),Us.attachMediaStream(e,null))}},{key:"_onTrackAttach",value:function(e){}},{key:"_onTrackDetach",value:function(e){}},{key:"_attachTTFMTracker",value:function(e){}},{key:"dispose",value:function(){return this.removeAllListeners(),this.disposed=!0,Promise.resolve()}},{key:"isScreenSharing",value:function(){}},{key:"getId",value:function(){return this.stream?Us.getStreamID(this.stream):null}},{key:"isActive",value:function(){return void 0===this.stream.active||this.stream.active}},{key:"setAudioLevel",value:function(e,t){var n=e;An.supportsReceiverStats()&&void 0!==t&&this.isMuted()&&(n=0),this.audioLevel!==n?(this.audioLevel=n,this.emit(mr,n,t)):0===this.audioLevel&&0===n&&this.isLocal()&&!this.isWebRTCTrackMuted()&&this.emit(Sr,n)}},{key:"getMSID",value:function(){var e=this.getStreamId(),t=this.getTrackId();return e&&t?e+" "+t:null}},{key:"setAudioOutput",value:function(e){var t=this;return Us.isDeviceChangeAvailable("output")?this.isVideoTrack()?Promise.resolve():Promise.all(this.containers.map(function(t){return t.setSinkId(e).catch(function(e){throw Vs.warn("Failed to change audio output device on element. Default or previously set audio output device will be used.",t,e),e})})).then(function(){t.emit(vr,e)}):Promise.reject(new Error("Audio output device change is not supported"))}}]),n})(st()),Bs=(0,v.getLogger)("modules/RTC/JitsiLocalTrack.js"),Js=(function(e){_inherits(n,Hs);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=e.deviceId,o=e.facingMode,s=e.mediaType,a=e.resolution,c=e.rtcId,u=e.sourceId,d=e.sourceType,l=e.stream,h=e.track,p=e.videoType,f=e.effects,m=void 0===f?[]:f;(r=t.call(this,null,l,h,function(){return r.emit(fr)},s,p))._setEffectInProgress=!1;var v=m.find(function(e){return e.isEnabled(_assertThisInitialized(r))});v&&r._startStreamEffect(v);var _=p===ar.VideoType.DESKTOP?h.getSettings().displaySurface:null;return r.metadata=_objectSpread({timestamp:Date.now()},_?{displaySurface:_}:{}),r.rtcId=c,r.sourceId=u,r.sourceType=d,r.resolution=h.getSettings().height,r.maxEnabledResolution=a,r._constraints=h.getConstraints(),Object.keys(r._constraints).length||p!==ar.VideoType.CAMERA||(r._constraints={height:h.getSettings().height,width:h.getSettings().width}),r.deviceId=i,r._prevSetMuted=Promise.resolve(),r._facingMode=o,r._trackEnded=!1,r._hasSentData=!1,r._testDataSent=!0,r._realDeviceId=""===r.deviceId?void 0:r.deviceId,r._sourceName=null,r._trackMutedTS=0,r._onDeviceListWillChange=function(e){var t=r._realDeviceId;r._setRealDeviceIdFromDeviceList(e),(void 0===r.getTrack().readyState&&void 0!==r._realDeviceId&&!e.find(function(e){return e.deviceId===r._realDeviceId})||void 0!==t&&void 0===r._realDeviceId)&&(r._trackEnded=!0)},r.isAudioTrack()&&Us.isDeviceChangeAvailable("output")&&(r._onAudioOutputDeviceChanged=r.setAudioOutput.bind(_assertThisInitialized(r)),Us.addListener(sr.default.AUDIO_OUTPUT_DEVICE_CHANGED,r._onAudioOutputDeviceChanged)),Us.addListener(sr.default.DEVICE_LIST_WILL_CHANGE,r._onDeviceListWillChange),r._initNoDataFromSourceHandlers(),r}return _createClass(n,[{key:"_addStreamToConferenceAsUnmute",value:function(){var e=this;return this.conference?new Promise(function(t,n){e.conference._addLocalTrackAsUnmute(e).then(t,function(e){return n(new Error(e))})}):Promise.resolve()}},{key:"_fireNoDataFromSourceEvent",value:function(){var e=!this.isReceivingData();this.emit(yr,e),nr.sendAnalytics((function(e,t){return{attributes:{media_type:e,value:t},action:"track.no.data.from.source",type:Rt.TYPE_OPERATIONAL}})(this.getType(),e)),nr.sendLog(JSON.stringify({name:yr,log:e}))}},{key:"_initNoDataFromSourceHandlers",value:function(){var e=this;this._isNoDataFromSourceEventsEnabled()&&(this._setHandler("track_mute",function(){e._trackMutedTS=window.performance.now(),e._fireNoDataFromSourceEvent()}),this._setHandler("track_unmute",function(){e._fireNoDataFromSourceEvent(),nr.sendAnalyticsAndLog($t,{media_type:e.getType(),track_type:"local",value:window.performance.now()-e._trackMutedTS})}),this.isVideoTrack()&&this.videoType===ar.VideoType.CAMERA&&this._setHandler("track_ended",function(){e.isReceivingData()||e._fireNoDataFromSourceEvent()}))}},{key:"_isNoDataFromSourceEventsEnabled",value:function(){return!this.isVideoTrack()||this.videoType!==ar.VideoType.DESKTOP}},{key:"_queueSetMuted",value:function(e){var t=this._setMuted.bind(this,e);return this._prevSetMuted=this._prevSetMuted.then(t,t),this._prevSetMuted}},{key:"_removeStreamFromConferenceAsMute",value:function(e,t){this.conference?this.conference._removeLocalTrackAsMute(this).then(e,function(e){return t(new Error(e))}):e()}},{key:"_sendMuteStatus",value:function(e){this.conference&&this.conference._setTrackMuteStatus(this.getType(),this,e)&&this.conference.room.sendPresence()}},{key:"_setMuted",value:function(e){var t=this;if(this.isMuted()===e&&(this.videoType!==ar.VideoType.DESKTOP||!ui.isMultiStreamSupportEnabled()))return Promise.resolve();if(this.disposed)return Promise.reject(new At(St));var n=Promise.resolve(),r=function(){return Bs.info("Mute "+t+": "+e)};if(this.isAudioTrack()||this.videoType===ar.VideoType.DESKTOP&&!ui.isMultiStreamSupportEnabled()||!An.doesVideoMuteByStreamRemove())r(),this._streamEffect&&this._streamEffect.setMuted?this._streamEffect.setMuted(e):this.track&&(this.track.enabled=!e);else if(e)n=new Promise(function(e,n){r(),t._removeStreamFromConferenceAsMute(function(){t._streamEffect&&t._stopStreamEffect(),t._unregisterHandlers(),t.stopStream(),t._setStream(null),e()},n)});else{r();var i={cameraDeviceId:this.getDeviceId(),devices:[Bn.VIDEO],effects:this._streamEffect?[this._streamEffect]:[],facingMode:this.getCameraFacingMode()};n=(n=Us.obtainAudioAndVideoPermissions(_extends({},i,{constraints:{video:this._constraints}}))).then(function(e){var n=t.getType()===Bn.PRESENTER?Bn.VIDEO:t.getType(),r=e.find(function(e){return e.track.kind===n});if(!r)throw new At(Et);return t._setStream(r.stream),t.track=r.track,t.videoType!==r.videoType&&(Bs.warn(t+": video type has changed after unmute!",t.videoType,r.videoType),t.videoType=r.videoType),t._streamEffect&&t._startStreamEffect(t._streamEffect),t.containers.map(function(e){return Us.attachMediaStream(e,t.stream)}),t._addStreamToConferenceAsUnmute()})}return n.then(function(){t._sendMuteStatus(e),t.isVideoTrack()&&t.conference&&t.conference._sendBridgeVideoTypeMessage(t),t.emit(_r,t)})}},{key:"_setRealDeviceIdFromDeviceList",value:function(e){var t=this,n=this.getTrack(),r=n.kind+"input",i=e.find(function(e){return e.kind===r&&e.label===n.label&&e.deviceId===t.deviceId});if(!i&&"default"===this._realDeviceId){var o=(n.label||"").replace("Default - ","");i=e.find(function(e){return e.kind===r&&e.label===o})}this._realDeviceId=i?i.deviceId:void 0}},{key:"_setStream",value:function(e){_get(_getPrototypeOf(n.prototype),"_setStream",this).call(this,e),e?(this.storedMSID=this.getMSID(),Bs.debug("Setting new MSID: "+this.storedMSID+" on "+this)):Bs.debug("Setting 'null' stream on "+this)}},{key:"_startStreamEffect",value:function(e){this._streamEffect=e,this._originalStream=this.stream,this._setStream(this._streamEffect.startEffect(this._originalStream)),this.track=this.stream.getTracks()[0]}},{key:"_stopStreamEffect",value:function(){this._streamEffect&&(this._streamEffect.stopEffect(),this._setStream(this._originalStream),this._originalStream=null,this.track=this.stream?this.stream.getTracks()[0]:null)}},{key:"_switchCamera",value:function(){this.isVideoTrack()&&this.videoType===ar.VideoType.CAMERA&&"function"==typeof this.track._switchCamera&&(this.track._switchCamera(),this._facingMode=this._facingMode===vs().ENVIRONMENT?vs().USER:vs().ENVIRONMENT)}},{key:"_switchStreamEffect",value:function(e){this._streamEffect&&(this._stopStreamEffect(),this._streamEffect=void 0),e&&this._startStreamEffect(e)}},{key:"dispose",value:function(){var e=this,t=Promise.resolve();return this._streamEffect&&(t=this.setEffect()),this.conference&&(t=t.then(function(){return e.conference.removeTrack(e)})),this.stream&&(this.stopStream(),this.detach()),Us.removeListener(sr.default.DEVICE_LIST_WILL_CHANGE,this._onDeviceListWillChange),this._onAudioOutputDeviceChanged&&Us.removeListener(sr.default.AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged),t.then(function(){return _get(_getPrototypeOf(n.prototype),"dispose",e).call(e)})}},{key:"getCameraFacingMode",value:function(){if(this.isVideoTrack()&&this.videoType===ar.VideoType.CAMERA){var e,t,n=null===(e=(t=this.track).getSettings)||void 0===e?void 0:e.call(t);return n&&"facingMode"in n?n.facingMode:void 0!==this._facingMode?this._facingMode:vs().USER}}},{key:"getDeviceId",value:function(){return this._realDeviceId||this.deviceId}},{key:"getDuration",value:function(){return Date.now()/1e3-this.metadata.timestamp/1e3}},{key:"getParticipantId",value:function(){return this.conference&&this.conference.myUserId()}},{key:"getSourceName",value:function(){return this._sourceName}},{key:"isEnded",value:function(){return this.isVideoTrack()&&this.isMuted()?this._trackEnded:"ended"===this.getTrack().readyState||this._trackEnded}},{key:"isLocal",value:function(){return!0}},{key:"isMuted",value:function(){return!this.stream||!(!this.isVideoTrack()||this.isActive())||(this._streamEffect&&this._streamEffect.isMuted?this._streamEffect.isMuted():!this.track||!this.track.enabled)}},{key:"isReceivingData",value:function(){return!(!this.isVideoTrack()||!this.isMuted()&&!this._stopStreamInProgress&&this.videoType!==ar.VideoType.DESKTOP)||!!this.stream&&(this._effectEnabled?this._originalStream:this.stream).getTracks().some(function(e){return!("readyState"in e&&"live"!==e.readyState||"muted"in e&&!0===e.muted)})}},{key:"mute",value:function(){return this._queueSetMuted(!0)}},{key:"onByteSentStatsReceived",value:function(e,t){var n=this;t>0&&(this._hasSentData=!0);var r=e.getConnectionState();this._testDataSent&&"connected"===r&&(setTimeout(function(){n._hasSentData||(Bs.warn(n+" 'bytes sent' <= 0:                         "+t),nr.analytics.sendEvent(Xt,{media_type:n.getType()}))},3e3),this._testDataSent=!1)}},{key:"setConference",value:function(e){this.conference=e;for(var t=0;t<this.containers.length;t++)this._maybeFireTrackAttached(this.containers[t])}},{key:"setEffect",value:function(e){var t=this;if(void 0===this._streamEffect&&void 0===e)return Promise.resolve();if(void 0!==e&&!e.isEnabled(this))return Promise.reject(new Error("Incompatible effect instance!"));if(!0===this._setEffectInProgress)return Promise.reject(new Error("setEffect already in progress!"));if(this.isMuted()&&!this.isAudioTrack())return this._streamEffect=e,Promise.resolve();var n=this.conference;return n?(this._setEffectInProgress=!0,n.removeTrack(this).then(function(){return t._switchStreamEffect(e),t.isVideoTrack()&&t.containers.forEach(function(e){return Us.attachMediaStream(e,t.stream)}),n.addTrack(t)}).then(function(){t._setEffectInProgress=!1}).catch(function(e){throw t._setEffectInProgress=!1,t._switchStreamEffect(),Bs.error("Failed to switch to the new stream!",e),e})):(this._switchStreamEffect(e),this.isVideoTrack()&&this.containers.forEach(function(e){return Us.attachMediaStream(e,t.stream)}),Promise.resolve())}},{key:"setSourceName",value:function(e){this._sourceName=e}},{key:"stopStream",value:function(){this._stopStreamInProgress=!0;try{Us.stopMediaStream(this.stream)}finally{this._stopStreamInProgress=!1}}},{key:"toString",value:function(){return"LocalTrack["+this.rtcId+","+this.getType()+"]"}},{key:"unmute",value:function(){return this._queueSetMuted(!1)}}]),n})(),Gs=n(6561),Ks=function(e,t){return void 0!==e&&void 0!==e.media&&Array.isArray(e.media)&&e.media.forEach(function(e){e.sources&&e.sources.length&&(e.ssrcs=[],e.sources.forEach(function(t){Object.keys(t).forEach(function(n){"id"!==n&&e.ssrcs.push({id:t.id,attribute:n,value:t[n]})})}),delete e.sources),e.ssrcGroups&&e.ssrcGroups.length&&e.ssrcGroups.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.ssrcs=e.ssrcs.join(" "))})}),Gs.write(e,t)},qs=function(e){var t=Gs.parse(e);return void 0!==t&&void 0!==t.media&&Array.isArray(t.media)&&t.media.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.sources=[],e.ssrcs.forEach(function(t){var n=e.sources.findIndex(function(e){return e.id===t.id});if(n>-1)e.sources[n][t.attribute]=t.value;else{var r={id:t.id};r[t.attribute]=t.value,e.sources.push(r)}}),delete e.ssrcs),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){"string"==typeof e.ssrcs&&(e.ssrcs=e.ssrcs.split(" "))})}),t},zs=["audio","video","data"],Ws=function(e){return e.find(function(e){return"SIM"===e.semantics})},Xs=function(e){return e.find(function(e){return"FID"===e.semantics})};function $s(e,t,n,r){if(e&&t){var i=function(e){return r.find(function(t){return t.id.toString()===e})};t.ssrcs.forEach(function(t){e.sources.push(i(t));var r=n[parseInt(t,10)].find(function(e){return"FID"===e.semantics});if(r){var o=r.ssrcs.find(function(e){return e!==t});e.sources.push(i(o)),e.ssrcGroups.push(r)}}),e.ssrcGroups.push(t)}}function Qs(e,t,n,r){if(e&&t){if(e.sources=[],e.ssrcGroups=[],!n[t.id])return e.sources.push(t),void(e.msid=t.msid);var i=Ws(n[t.id]),o=Xs(n[t.id]);if(i)$s(e,i,n,r);else if(o){var s=o.ssrcs.find(function(e){return e!==t}),a=Ws(n[s]);a?$s(e,a,n,r):(o.ssrcs.forEach(function(t){e.sources.push((function(e){return r.find(function(t){return t.id.toString()===e})})(t))}),e.ssrcGroups.push(o))}e.msid=e.sources[0].msid}}function Ys(e,t,n){if(!n.find(function(t){return!!t.sources&&t.sources.some(function(t){return t.id===e.id})})){if(!t[e.id])return!1;var r=Ws(t[e.id]),i=Xs(t[e.id]);return r?n.some(function(e){return e.sources&&e.sources.some(function(e){return e.id.toString()===r.ssrcs[0]})}):!(!i||e.id.toString()===i.ssrcs[0])&&Ys({id:i.ssrcs[0]},t,n)}return!0}var Zs,ea=(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toPlanB",value:function(e){if(!e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var t=qs(e.sdp);if(!t.media||!t.media.length)return console.warn("The description has no media."),e;if(t.media.every(function(e){return-1!==zs.indexOf(e.mid)}))return console.warn("The description does not look like unified plan sdp"),e;var n={},r=t.media;t.media=[],r.forEach(function(e){var t=e.type;if("application"===t)return e.mid="data",void(n[e.mid]=e);if(void 0===n[t]){var r=yo(e);r.sources&&Array.isArray(r.sources)&&r.sources.forEach(function(t){e.msid?t.msid=e.msid:delete t.msid}),r.ssrcGroups&&e.msid||(r.ssrcGroups=[]),delete r.msid,r.mid=t,n[t]=r}else e.msid&&(e.sources&&Array.isArray(e.sources)&&(n[t].sources=(n[t].sources||[]).concat(e.sources)),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&(n[t].ssrcGroups=n[t].ssrcGroups.concat(e.ssrcGroups)))}),t.media=Object.values(n);var i=[];Object.values(n).forEach(function(e){"inactive"!==e.direction&&i.push(e.mid)}),t.groups.forEach(function(e){"BUNDLE"===e.type&&(e.mids=i.join(" "))}),t.msidSemantic={semantic:"WMS",token:"*"};var o=Ks(t);return new RTCSessionDescription({type:e.type,sdp:o})}},{key:"toUnifiedPlan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var n=qs(e.sdp);if(!n.media||!n.media.length)return console.warn("The description has no media."),e;if(n.media.length>3||n.media.every(function(e){return-1===zs.indexOf(e.mid)}))return console.warn("The description does not look like plan-b"),e;var r=t?qs(t.sdp):null,i=(function(e,t){if(!e||!t||0===e.media.length||0===t.media.length)return!1;var n=e.media[0],r=t.media[0];return n.iceUfrag!==r.iceUfrag||n.icePwd!==r.icePwd})(n,r),o=n.media[0].iceUfrag,s=n.media[0].icePwd,a=n.media[0].fingerprint,c={};n.media.forEach(function(e){var t=e.type;if("application"!==t){var n=(function(e){var t={};return e&&Array.isArray(e)?(e.forEach(function(e){e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach(function(n){void 0===t[n]&&(t[n]=[]),t[n].push(e)})}),t):t})(e.ssrcGroups);if(e.sources)e.sources.forEach(function(i,o){if(i.msid){if(!r||!r.media){if(Ys(i,n,Object.values(c)))return;var s=yo(e);return s.mid=Object.keys(c).length.toString(),s.direction=o||"sendonly"===e.direction?"sendonly":"sendrecv",s.bundleOnly=void 0,Qs(s,i,n,e.sources),void(c[s.mid]=s)}if(!Ys(i,n,r.media)){var a,u,d=(u=t,(a=r)&&u?a.media.find(function(e){return 0===e.port&&e.type===u}):null);if(d)return d.port=e.port,d.direction="sendonly",void Qs(d,i,n,e.sources);var l=yo(e);l.mid=r.media.length.toString(),l.direction="sendonly",Qs(l,i,n,e.sources),r.media.push(l)}}});else if(!r){var i=yo(e);i.mid=Object.keys(c).length.toString(),c[e.mid]=i}}else{if(!r||!r.media){var o=yo(e);return o.mid=Object.keys(c).length.toString(),void(c[e.mid]=o)}var s=r.media.findIndex(function(e){return e.type===t});s&&(r.media[s]=e,r.media[s].mid=s)}}),n.media=r?r.media:Object.values(c);var u=[];n.media.forEach(function(e){u.push(e.mid),i&&(e.iceUfrag=o,e.icePwd=s,e.fingerprint=a)}),n.groups.forEach(function(e){"BUNDLE"===e.type&&(e.mids=u.join(" "))}),n.msidSemantic={semantic:"WMS",token:"*"},n.origin.sessionVersion++;var d=Ks(n);return new RTCSessionDescription({type:e.type,sdp:d})}}]),e})();!(function(e){e.PEER_MUTED_CHANGED="signaling.peerMuted",e.PEER_VIDEO_TYPE_CHANGED="signaling.peerVideoType"})(Zs||(Zs={}));var ta=Zs.PEER_MUTED_CHANGED,na=Zs.PEER_VIDEO_TYPE_CHANGED;function ra(e,t,n){return e+"-"+t.substring(0,1)+n}function ia(e){var t=e.indexOf("-")+1;if(t<=0)throw new Error("Invalid source name: "+e);for(var n=e.substr(t,1),r=0,i=Object.values(Bn);r<i.length;r++){var o=i[r];if(o.substr(0,1)===n)return o}throw new Error("Invalid source name: "+e)}var oa=(function(e){_inherits(n,Fr);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getSSRCOwner",value:function(e){throw new Error("not implemented")}},{key:"getPeerMediaInfo",value:function(e,t){throw new Error("not implemented")}},{key:"getPeerSourceInfo",value:function(e,t){throw new Error("not implemented")}},{key:"getTrackSourceName",value:function(e){throw new Error("not implemented")}}]),n})();function sa(e){return parseInt(e.ssrcs.split(" ")[0],10)}function aa(e){return parseInt(e.ssrcs.split(" ")[1],10)}function ca(e){return e.ssrcs?e.ssrcs.map(function(e){return e.id}).filter(function(e,t,n){return n.indexOf(e)===t}).length:0}var ua=(function(){function e(t){if(_classCallCheck(this,e),!t)throw new Error("mLine is undefined");this.mLine=t}return _createClass(e,[{key:"ssrcs",get:function(){return this.mLine.ssrcs||(this.mLine.ssrcs=[]),this.mLine.ssrcs},set:function(e){this.mLine.ssrcs=e}},{key:"direction",get:function(){return this.mLine.direction},set:function(e){this.mLine.direction=e}},{key:"ssrcGroups",get:function(){return this.mLine.ssrcGroups||(this.mLine.ssrcGroups=[]),this.mLine.ssrcGroups},set:function(e){this.mLine.ssrcGroups=e}},{key:"getSSRCAttrValue",value:function(e,t){var n=this.ssrcs.find(function(n){return n.id===e&&n.attribute===t});return n&&n.value}},{key:"removeSSRC",value:function(e){this.mLine.ssrcs&&this.mLine.ssrcs.length&&(this.mLine.ssrcs=this.mLine.ssrcs.filter(function(t){return t.id!==e}))}},{key:"addSSRCAttribute",value:function(e){this.ssrcs.push(e)}},{key:"findGroup",value:function(e,t){return this.ssrcGroups.find(function(n){return n.semantics===e&&(!t||t===n.ssrcs)})}},{key:"findGroups",value:function(e){return this.ssrcGroups.filter(function(t){return t.semantics===e})}},{key:"findGroupByPrimarySSRC",value:function(e,t){return this.ssrcGroups.find(function(n){return n.semantics===e&&sa(n)===t})}},{key:"findSSRCByMSID",value:function(e){return this.ssrcs.find(function(t){return"msid"===t.attribute&&(null===e||t.value===e)})}},{key:"getSSRCCount",value:function(){return ca(this.mLine)}},{key:"containsAnySSRCGroups",value:function(){return void 0!==this.mLine.ssrcGroups}},{key:"getPrimaryVideoSsrc",value:function(){var e=this.mLine.type;if("video"!==e)throw new Error("getPrimarySsrc doesn't work with '"+e+"'");if(1===ca(this.mLine))return this.mLine.ssrcs[0].id;if(this.mLine.ssrcGroups){var t=this.findGroup("SIM");if(t)return sa(t);var n=this.findGroup("FID");if(n)return sa(n);var r=this.findGroup("FEC-FR");if(r)return sa(r)}}},{key:"getRtxSSRC",value:function(e){var t=this.findGroupByPrimarySSRC("FID",e);return t&&aa(t)}},{key:"getSSRCs",value:function(){return this.ssrcs.map(function(e){return e.id}).filter(function(e,t,n){return n.indexOf(e)===t})}},{key:"getPrimaryVideoSSRCs",value:function(){var e=this.mLine.type;if("video"!==e)throw new Error("getPrimaryVideoSSRCs doesn't work with "+e);for(var t,n=this.getSSRCs(),r=_createForOfIteratorHelperLoose(this.ssrcGroups);!(t=r()).done;){var i=t.value;if("FID"===i.semantics||"FEC-FR"===i.semantics){var o=aa(i);n.splice(n.indexOf(o),1)}}return n}},{key:"dumpSSRCGroups",value:function(){return JSON.stringify(this.mLine.ssrcGroups)}},{key:"removeGroupsWithSSRC",value:function(e){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter(function(t){return-1===t.ssrcs.indexOf(""+e)}))}},{key:"removeGroupsBySemantics",value:function(e){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter(function(t){return t.semantics!==e}))}},{key:"replaceSSRC",value:function(e,t){this.mLine.ssrcs&&this.mLine.ssrcs.forEach(function(n){n.id===e&&(n.id=t)})}},{key:"addSSRCGroup",value:function(e){this.ssrcGroups.push(e)}}]),e})(),da=(function(){function e(t){_classCallCheck(this,e),this.parsedSDP=Eo.parse(t)}return _createClass(e,[{key:"selectMedia",value:function(e){var t=this.parsedSDP.media.filter(function(t){return t.type===e}).map(function(e){return new ua(e)});return null!=t?t:null}},{key:"toRawSDP",value:function(){return Eo.write(this.parsedSDP)}}]),e})(),la=(0,v.getLogger)("modules/sdp/LocalSdpMunger.js"),ha=(function(){function e(t,n){_classCallCheck(this,e),this.tpc=t,this.localEndpointId=n}return _createClass(e,[{key:"_addMutedLocalVideoTracksToSDP",value:function(e){var t,n=this.tpc.getLocalTracks(Bn.VIDEO);if(!n.length)return!1;1!==n.length&&la.error(this.tpc+" there is more than 1 video track ! Strange things may happen !",n);var r=null===(t=e.selectMedia(Bn.VIDEO))||void 0===t?void 0:t[0];if(!r)return la.debug(this.tpc+" unable to hack local video track SDP- no \"video\" media"),!1;for(var i,o=!1,s=_createForOfIteratorHelperLoose(n);!(i=s()).done;){var a=i.value,c=a.isMuted(),u=a.getOriginalStream(),d=a.videoType===ar.VideoType.CAMERA,l=u&&this.tpc.isMediaStreamInPc(u);if(d&&(c||!l)){var h=this.tpc.isSimulcastOn()?this.tpc.simulcast.ssrcCache:[this.tpc.sdpConsistency.cachedPrimarySsrc];if(h.length){o=!0,r.direction=fo.SENDRECV;for(var p,f="injected-"+h[0],m=_createForOfIteratorHelperLoose(h);!(p=m()).done;){var v=p.value;r.removeSSRC(v),r.addSSRCAttribute({id:v,attribute:"cname",value:f}),r.addSSRCAttribute({id:v,attribute:"msid",value:a.storedMSID})}if(h.length>1){var _={ssrcs:h.join(" "),semantics:"SIM"};r.findGroup(_.semantics,_.ssrcs)||r.addSSRCGroup(_)}this.tpc.options.disableRtx||this.tpc.rtxModifier.modifyRtxSsrcs2(r)}else la.error("No SSRCs stored for: "+a+" in "+this.tpc)}}return o}},{key:"_generateMsidAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return la.error("Unable to munge local MSID - track id="+t+" or media type="+e+" is missing"),null;var r=this.tpc.id;return"-"!==n&&n?n+"-"+r+" "+t+"-"+r:this.localEndpointId+"-"+e+"-"+r+" "+t+"-"+r}},{key:"_transformMediaIdentifiers",value:function(e){for(var t,n,r,i=this,o=null===(t=e.mLine)||void 0===t?void 0:t.type,s=this.tpc.id,a=new Map,c=_createForOfIteratorHelperLoose(e.ssrcs);!(r=c()).done;){var u=r.value;switch(u.attribute){case"cname":case"label":case"mslabel":u.value=u.value&&u.value+"-"+s;break;case"msid":if(u.value){var d=u.value.split(" "),l=d[0],h=d[1];ui.isMultiStreamSupportEnabled()&&o===Bn.VIDEO&&("-"!==l&&l||(l=this.localEndpointId+"-"+o),a.has(h)||(l=l+"-"+a.size,a.set(h,l))),u.value=this._generateMsidAttribute(o,h,a.get(h))}else la.warn("Unable to munge local MSID - weird format detected: "+u.value)}}if(this.tpc.usesUnifiedPlan()){var p=null===(n=e.mLine)||void 0===n?void 0:n.direction;if(p===fo.RECVONLY||p===fo.INACTIVE)e.ssrcs=void 0,e.ssrcGroups=void 0;else for(var f,m,v,_,g=null===(f=e.mLine)||void 0===f?void 0:f.msid,y=g&&g.split(" ")[1],S=function(t){if(!e.ssrcs.find(function(e){return e.id===t&&"msid"===e.attribute})&&y){var n=i._generateMsidAttribute(o,y);e.ssrcs.push({id:t,attribute:"msid",value:n})}},E=_createForOfIteratorHelperLoose(_toConsumableArray(new Set(null===(m=e.mLine)||void 0===m||null===(v=m.ssrcs)||void 0===v?void 0:v.map(function(e){return e.id}))));!(_=E()).done;){S(_.value)}}}},{key:"maybeAddMutedLocalVideoTracksToSDP",value:function(e){if(!e)throw new Error("No local description passed in.");var t=new da(e.sdp);return this._addMutedLocalVideoTracksToSDP(t)?new RTCSessionDescription({type:e.type,sdp:t.toRawSDP()}):e}},{key:"transformStreamIdentifiers",value:function(e){var t;if(!e||!e.sdp||!e.type)return e;var n=new da(e.sdp),r=null===(t=n.selectMedia(Bn.AUDIO))||void 0===t?void 0:t[0];r&&(this._transformMediaIdentifiers(r),this._injectSourceNames(r));var i=n.selectMedia(Bn.VIDEO);ui.isMultiStreamSupportEnabled()||i.splice(1);for(var o,s=_createForOfIteratorHelperLoose(i);!(o=s()).done;){var a=o.value;this._transformMediaIdentifiers(a),this._injectSourceNames(a)}return new RTCSessionDescription({type:e.type,sdp:n.toRawSDP()})}},{key:"_injectSourceNames",value:function(e){var t,n,r,i=this;if(ui.isSourceNameSignalingEnabled()){var o=_toConsumableArray(new Set(null===(t=e.mLine)||void 0===t||null===(n=t.ssrcs)||void 0===n?void 0:n.map(function(e){return e.id}))),s=null===(r=e.mLine)||void 0===r?void 0:r.type;if(!s)throw new Error("_transformMediaIdentifiers - no media type in mediaSection");for(var a,c=function(t){var n=e.ssrcs.find(function(e){return e.id===t&&"name"===e.attribute}),r=null===(d=e.ssrcs.find(function(e){return e.id===t&&"msid"===e.attribute}))||void 0===d?void 0:d.value,o=r?r.split("-")[2]:null;n||e.ssrcs.push({id:t,attribute:"name",value:ra(i.localEndpointId,s,o)})},u=_createForOfIteratorHelperLoose(o);!(a=u()).done;){var d;c(a.value)}}}}]),e})(),pa=(0,v.getLogger)("modules/sdp/RtxModifier.js");function fa(e,t,n){var r=t.id,i=t.msid,o=t.cname,s=e.getRtxSSRC(r);s!==n&&(s&&(e.removeSSRC(s),e.removeGroupsWithSSRC(s)),e.addSSRCAttribute({id:n,attribute:"cname",value:o}),e.addSSRCAttribute({id:n,attribute:"msid",value:i}),e.addSSRCGroup({semantics:"FID",ssrcs:r+" "+n}))}var ma,va=(function(){function e(){_classCallCheck(this,e),this.correspondingRtxSsrcs=new Map}return _createClass(e,[{key:"clearSsrcCache",value:function(){this.correspondingRtxSsrcs.clear()}},{key:"setSsrcCache",value:function(e){pa.debug("Setting ssrc cache to ",e),this.correspondingRtxSsrcs=e}},{key:"modifyRtxSsrcs",value:function(e){var t=!1,n=new da(e),r=n.selectMedia(Bn.VIDEO);if(null==r||!r.length)return pa.debug("No 'video' media found in the sdp: "+e),e;for(var i,o=_createForOfIteratorHelperLoose(r);!(i=o()).done;){var s=i.value;this.modifyRtxSsrcs2(s)&&(t=!0)}return t?n.toRawSDP():e}},{key:"modifyRtxSsrcs2",value:function(e){if(e.direction===fo.RECVONLY)return!1;if(e.getSSRCCount()<1)return!1;for(var t,n=_createForOfIteratorHelperLoose(e.getPrimaryVideoSSRCs());!(t=n()).done;){var r=t.value,i=e.getSSRCAttrValue(r,"msid"),o=e.getSSRCAttrValue(r,"cname"),s=this.correspondingRtxSsrcs.get(r);s||(s=e.getRtxSSRC(r)||bo.generateSsrc(),this.correspondingRtxSsrcs.set(r,s)),fa(e,{id:r,cname:o,msid:i},s)}return!0}},{key:"stripRtx",value:function(e){var t=new da(e),n=t.selectMedia(Bn.VIDEO);if(null==n||!n.length)return pa.debug("No 'video' media found in the sdp: "+e),e;for(var r,i=_createForOfIteratorHelperLoose(n);!(r=i()).done;){var o=r.value;if(o.direction!==fo.RECVONLY&&o.getSSRCCount()&&o.containsAnySSRCGroups()){var s=o.findGroups("FID");o.removeGroupsBySemantics("FID");for(var a,c=_createForOfIteratorHelperLoose(s);!(a=c()).done;){var u=aa(a.value);o.removeSSRC(u)}}}return t.toRawSDP()}}]),e})(),_a=(0,v.getLogger)("modules/sdp/SdpConsistency.js"),ga=(function(){function e(t){_classCallCheck(this,e),this.clearVideoSsrcCache(),this.logPrefix=t}return _createClass(e,[{key:"clearVideoSsrcCache",value:function(){this.cachedPrimarySsrc=null,this.injectRecvOnly=!1}},{key:"setPrimarySsrc",value:function(e){if("number"!=typeof e)throw new Error("Primary SSRC must be a number!");this.cachedPrimarySsrc=e}},{key:"hasPrimarySsrcCached",value:function(){return Boolean(this.cachedPrimarySsrc)}},{key:"makeVideoPrimarySsrcsConsistent",value:function(e){var t,n=new da(e),r=null===(t=n.selectMedia(Bn.VIDEO))||void 0===t?void 0:t[0];if(!r)return _a.debug(this.logPrefix+" no 'video' media found in the sdp: "+e),e;if("recvonly"===r.direction)this.cachedPrimarySsrc&&this.injectRecvOnly?r.addSSRCAttribute({id:this.cachedPrimarySsrc,attribute:"cname",value:"recvonly-"+this.cachedPrimarySsrc}):_a.info(this.logPrefix+" no SSRC found for the recvonly video stream!");else{var i=r.getPrimaryVideoSsrc();if(!i)return _a.info(this.logPrefix+" sdp-consistency couldn't parse new primary ssrc"),e;if(this.cachedPrimarySsrc){r.replaceSSRC(i,this.cachedPrimarySsrc);for(var o,s=_createForOfIteratorHelperLoose(r.ssrcGroups);!(o=s()).done;){var a=o.value;if("FID"===a.semantics){var c=sa(a),u=aa(a);c===i&&(a.ssrcs=this.cachedPrimarySsrc+" "+u)}}}else this.cachedPrimarySsrc=i;this.injectRecvOnly=!0}return n.toRawSDP()}}]),e})(),ya=(function(){function e(t){_classCallCheck(this,e),this._options=t,this._ssrcCache=new Map,this._options.numOfLayers||(this._options.numOfLayers=3)}return _createClass(e,[{key:"_fillSsrcsFromCache",value:function(e){var t=e.mid,n=this._ssrcCache.get(t),r=this._parseSimLayers(e),i=this._getSsrcAttribute(e,r[0],"msid"),o=this._getSsrcAttribute(e,r[0],"cname");e.ssrcs=[],e.ssrcGroups=[];for(var s,a=_createForOfIteratorHelperLoose(n);!(s=a()).done;){var c=s.value;e.ssrcs.push({id:c,attribute:"msid",value:i}),e.ssrcs.push({id:c,attribute:"cname",value:o})}return e.ssrcGroups.push({semantics:"SIM",ssrcs:n.join(" ")}),e}},{key:"_generateNewSsrcsForSimulcast",value:function(e,t){var n=this._getSsrcAttribute(e,t,"cname"),r=this._getSsrcAttribute(e,t,"msid"),i=function(e,t){e.ssrcs.push({id:t,attribute:"cname",value:n}),e.ssrcs.push({id:t,attribute:"msid",value:r})};r||(r=e.msid,e.ssrcs.forEach(function(t){e.ssrcs.push({id:t.id,attribute:"msid",value:r})}));for(var o=[],s=0;s<this._options.numOfLayers-1;++s){var a=this._generateSsrc();i(e,a),o.push(a)}return e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:t+" "+o.join(" ")}),e}},{key:"_generateSsrc",value:function(){return Math.floor(4294967295*Math.random())}},{key:"_getSsrcAttribute",value:function(e,t,n){var r,i;return null===(r=e.ssrcs)||void 0===r||null===(i=r.find(function(e){return Number(e.id)===t&&e.attribute===n}))||void 0===i?void 0:i.value}},{key:"_parseSimLayers",value:function(e){var t,n,r=null===(t=e.ssrcGroups)||void 0===t?void 0:t.find(function(e){return"SIM"===e.semantics});return r?r.ssrcs.split(" ").map(function(e){return Number(e)}):null!==(n=e.ssrcs)&&void 0!==n&&n.length?[Number(e.ssrcs[0].id)]:null}},{key:"mungeLocalDescription",value:function(e){if(!e||!e.sdp)return e;for(var t,n=Eo.parse(e.sdp),r=_createForOfIteratorHelperLoose(n.media);!(t=r()).done;){var i,o,s,a=t.value;if(a.direction!==fo.RECVONLY&&a.direction!==fo.INACTIVE&&a.type===Bn.VIDEO){var c=a.mid,u=new Set(null===(i=a.ssrcs)||void 0===i?void 0:i.map(function(e){return e.id})),d=null!==(o=null===(s=a.ssrcGroups)||void 0===s?void 0:s.length)&&void 0!==o?o:0,l=void 0;if(!(0===u.size||u.size>2||2===u.size&&0===d)){if(1===u.size){var h;l=Number(null===(h=a.ssrcs[0])||void 0===h?void 0:h.id)}else{var p=a.ssrcGroups.find(function(e){return"FID"===e.semantics});p&&(l=Number(p.ssrcs.split(" ")[0]))}if(this._ssrcCache.has(c))a=this._fillSsrcsFromCache(a);else{a=this._generateNewSsrcsForSimulcast(a,l);var f=this._parseSimLayers(a);this._ssrcCache.set(c,f)}}}}return new RTCSessionDescription({type:e.type,sdp:Eo.write(n)})}},{key:"mungeRemoteDescription",value:function(e){if(!e||!e.sdp)return e;for(var t,n=Eo.parse(e.sdp),r=function(e){if(e.type!==Bn.VIDEO)return"continue";if(e.direction!==fo.SENDONLY)return"continue";if(null===(o=e.ssrcGroups)||void 0===o||!o.length||null==e||!e.ssrcs.length)return"continue";var t=new Set(e.ssrcs.slice()),n=new Set(e.ssrcGroups.slice()),r=e.ssrcGroups.filter(function(e){return"FID"===e.semantics}),i=e.ssrcGroups.find(function(e){return"SIM"===e.semantics}),s=null==i?void 0:i.ssrcs.split(" ")[0];if(r.length&&i){for(var a,c=r.find(function(e){return e.ssrcs.includes(s)}),u=c.ssrcs.split(" ")[1],d=_createForOfIteratorHelperLoose(e.ssrcGroups);!(a=d()).done;){var l=a.value;l!==c&&n.delete(l)}for(var h,p=_createForOfIteratorHelperLoose(e.ssrcs);!(h=p()).done;){var f=h.value;f.id.toString()!==s&&f.id.toString()!==u&&t.delete(f)}}else if(i){n.delete(i);for(var m,v=_createForOfIteratorHelperLoose(e.ssrcs);!(m=v()).done;){var _=m.value;_.id.toString()!==s&&t.delete(_)}}e.ssrcs=Array.from(t),e.ssrcGroups=Array.from(n)},i=_createForOfIteratorHelperLoose(n.media);!(t=i()).done;){var o;r(t.value)}return new RTCSessionDescription({type:e.type,sdp:Eo.write(n)})}}]),e})();!(function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.INTERRUPTED="interrupted",e.RESTORING="restoring"})(ma||(ma={}));var Sa=(0,v.getLogger)("modules/connectivity/TrackStreamingStatus.ts"),Ea=(function(){function e(t,n,r,i){_classCallCheck(this,e),this.rtc=t,this.conference=n,this.track=r,this.restoringTimer=null,this.rtcMutedTimestamp=null,this.streamingStatusMap={},this.trackTimer=null,this.outOfForwardedSourcesTimeout="number"==typeof i.outOfForwardedSourcesTimeout?i.outOfForwardedSourcesTimeout:500,this.p2pRtcMuteTimeout="number"==typeof i.p2pRtcMuteTimeout?i.p2pRtcMuteTimeout:2500,this.rtcMuteTimeout="number"==typeof i.rtcMuteTimeout?i.rtcMuteTimeout:1e4,Sa.info("RtcMuteTimeout set to: "+this.rtcMuteTimeout)}return _createClass(e,[{key:"_getVideoFrozenTimeout",value:function(){var e=this.track.getSourceName();return this.rtc.isInForwardedSources(e)?this.rtcMuteTimeout:this.conference.isP2PActive()?this.p2pRtcMuteTimeout:this.outOfForwardedSourcesTimeout}},{key:"init",value:function(){this._onP2PStatus=this.figureOutStreamingStatus.bind(this),this.conference.on(g.P2P_STATUS,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on(g.USER_LEFT,this._onUserLeft),An.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(sr.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(sr.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this.track.on(_r,this._onSignallingMuteChanged),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this),this.track.on(gr,this._onTrackVideoTypeChanged)),this._onForwardedSourcesChanged=this.onForwardedSourcesChanged.bind(this),this.conference.on(g.FORWARDED_SOURCES_CHANGED,this._onForwardedSourcesChanged),this._onLastNValueChanged=this.figureOutStreamingStatus.bind(this),this.rtc.on(sr.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged)}},{key:"dispose",value:function(){An.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(sr.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(sr.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.track.off(_r,this._onSignallingMuteChanged)),this.conference.off(g.FORWARDED_SOURCES_CHANGED,this._onForwardedSourcesChanged),this.conference.off(g.P2P_STATUS,this._onP2PStatus),this.conference.off(g.USER_LEFT,this._onUserLeft),this.rtc.removeListener(sr.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.clearTimeout(),this.clearRtcMutedTimestamp(),this.maybeSendTrackStreamingStatusEvent(Date.now()),this.figureOutStreamingStatus()}},{key:"_changeStreamingStatus",value:function(e){if(this.track.getTrackStreamingStatus()!==e){var t=this.track.getSourceName();this.track._setTrackStreamingStatus(e),Sa.debug("Emit track streaming status("+Date.now()+") "+t+": "+e),nr.sendLog(JSON.stringify({id:"track.streaming.status",track:t,status:e})),this.track.emit(Er,e)}}},{key:"clearTimeout",value:function(){this.trackTimer&&(window.clearTimeout(this.trackTimer),this.trackTimer=null)}},{key:"clearRtcMutedTimestamp",value:function(){this.rtcMutedTimestamp=null}},{key:"isVideoTrackFrozen",value:function(){if(!An.supportsVideoMuteOnConnInterrupted())return!1;var e=this.track.isWebRTCTrackMuted(),t=this.rtcMutedTimestamp,n=this._getVideoFrozenTimeout();return e&&"number"==typeof t&&Date.now()-t>=n}},{key:"figureOutStreamingStatus",value:function(){var t=this.track.getSourceName(),n=this.conference.isP2PActive(),r=this._isRestoringTimedout(),i=0===this.conference.getLastN(),o=this.track.isMuted()||i,s=this.isVideoTrackFrozen(),a=this.rtc.isInForwardedSources(t),c=n?e._getNewStateForP2PMode(o,s):e._getNewStateForJvbMode(a,r,o,s);c!==ma.RESTORING&&this._clearRestoringTimer(),Sa.debug("Figure out conn status for "+t+", is video muted: "+o+" video track frozen: "+s+" p2p mode: "+n+" is in forwarded sources: "+a+" currentStatus => newStatus: "+this.track.getTrackStreamingStatus()+" => "+c);var u=this.streamingStatusMap||{};if(!("p2p"in u&&"streamingStatus"in u&&u.p2p===n&&u.streamingStatus===c)){var d=Date.now();this.maybeSendTrackStreamingStatusEvent(d),this.streamingStatusMap=_objectSpread(_objectSpread({},u),{},{streamingStatus:c,p2p:n,startedMs:d}),"videoType"in this.streamingStatusMap||(this.streamingStatusMap.videoType=this.track.getVideoType())}this._changeStreamingStatus(c)}},{key:"maybeSendTrackStreamingStatusEvent",value:function(e){var t=this.streamingStatusMap;t&&"startedMs"in t&&"videoType"in t&&"streamingStatus"in t&&"p2p"in t&&(t.value=e-t.startedMs,nr.sendAnalytics((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Rt.TYPE_OPERATIONAL,source:"track.streaming.status",action:"duration",attributes:e}})(t)))}},{key:"onForwardedSourcesChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=this.track.getSourceName();Sa.debug("Fowarded sources changed leaving="+e+", entering="+t+" at "+n),An.supportsVideoMuteOnConnInterrupted()||this.figureOutStreamingStatus(),e.includes(r)&&(this.track._clearEnteredForwardedSourcesTimestamp(),this._clearRestoringTimer(),An.supportsVideoMuteOnConnInterrupted()&&this.figureOutStreamingStatus()),t.includes(r)&&(this.track._setEnteredForwardedSourcesTimestamp(n),An.supportsVideoMuteOnConnInterrupted()&&this.figureOutStreamingStatus())}},{key:"_clearRestoringTimer",value:function(){var e=this.restoringTimer;e&&(clearTimeout(e),this.restoringTimer=null)}},{key:"_isRestoringTimedout",value:function(){var e=this,t=this.track._getEnteredForwardedSourcesTimestamp();return!!(t&&Date.now()-t>=1e4)||(this.restoringTimer||(this.restoringTimer=setTimeout(function(){return e.figureOutStreamingStatus()},1e4)),!1)}},{key:"_isCurrentTrack",value:function(e){return e.getSourceName()===this.track.getSourceName()}},{key:"onUserLeft",value:function(e){this.track.getParticipantId()===e&&(this.maybeSendTrackStreamingStatusEvent(Date.now()),this.streamingStatusMap={})}},{key:"onTrackRtcMuted",value:function(e){var t=this;if(this._isCurrentTrack(e)){var n=e.getSourceName();if(Sa.debug("Detector track RTC muted: "+n,Date.now()),this.rtcMutedTimestamp=Date.now(),!e.isMuted()){this.clearTimeout();var r=this._getVideoFrozenTimeout();this.trackTimer=window.setTimeout(function(){Sa.debug("Set RTC mute timeout for: "+n+" of "+r+" ms"),t.clearTimeout(),t.figureOutStreamingStatus()},r)}}}},{key:"onTrackRtcUnmuted",value:function(e){if(this._isCurrentTrack(e)){var t=this.track.getSourceName();Sa.debug("Detector track RTC unmuted: "+t,Date.now()),this.clearTimeout(),this.clearRtcMutedTimestamp(),this.figureOutStreamingStatus()}}},{key:"onSignallingMuteChanged",value:function(e){if(this._isCurrentTrack(e)){var t=this.track.getSourceName();Sa.debug("Detector on track signalling mute changed: "+t,e.isMuted()),this.figureOutStreamingStatus()}}},{key:"onTrackVideoTypeChanged",value:function(e){var t=Date.now();this.maybeSendTrackStreamingStatusEvent(t),this.streamingStatusMap=_objectSpread(_objectSpread({},this.streamingStatusMap||{}),{},{videoType:e,startedMs:t})}}],[{key:"_getNewStateForJvbMode",value:function(e,t,n,r){return n?ma.ACTIVE:An.supportsVideoMuteOnConnInterrupted()?r?e?t?ma.INTERRUPTED:ma.RESTORING:ma.INACTIVE:ma.ACTIVE:e?ma.ACTIVE:ma.INACTIVE}},{key:"_getNewStateForP2PMode",value:function(e,t){return An.supportsVideoMuteOnConnInterrupted()?e||!t?ma.ACTIVE:ma.INTERRUPTED:ma.ACTIVE}}]),e})(),Ca=n(5810).getLogger("modules/RTC/JitsiRemoteTrack.js"),Ta=n(9987),ba=!1,Ra=!1,Aa=["abort","canplaythrough","ended","error"],Ia=(function(e){_inherits(n,Hs);var t=_createSuper(n);function n(e,r,i,o,s,a,c,u,d,l,h){var p;if(_classCallCheck(this,n),(p=t.call(this,r,o,s,function(){},a,c)).rtc=e,"number"!=typeof u)throw new TypeError("SSRC "+u+" is not a number");return p.ssrc=u,p.ownerEndpointId=i,p.muted=d,p.isP2P=l,p._sourceName=h,p._trackStreamingStatus=null,p._trackStreamingStatusImpl=null,p._enteredForwardedSourcesTimestamp=null,p.addEventListener=p.on=p._addEventListener.bind(_assertThisInitialized(p)),p.removeEventListener=p.off=p._removeEventListener.bind(_assertThisInitialized(p)),Ca.debug("New remote track added: "+_assertThisInitialized(p)),p.hasBeenMuted=d,p.rtc&&p.track&&p._bindTrackHandlers(),p._containerHandlers={},Aa.forEach(function(e){p._containerHandlers[e]=p._containerEventHandler.bind(_assertThisInitialized(p),e)}),_possibleConstructorReturn(p)}return _createClass(n,[{key:"_bindTrackHandlers",value:function(){var e=this;this.track.addEventListener("mute",function(){return e._onTrackMute()}),this.track.addEventListener("unmute",function(){return e._onTrackUnmute()}),this.track.addEventListener("ended",function(){Ca.debug("\"onended\" event("+Date.now()+"): "+e)})}},{key:"_addEventListener",value:function(e,t){_get(_getPrototypeOf(n.prototype),"addListener",this).call(this,e,t),ui.isSourceNameSignalingEnabled()&&e===Er&&this.listenerCount(Er)&&!this._trackStreamingStatusImpl&&(this._initTrackStreamingStatus(),Ca.debug("Initializing track streaming status: "+this._sourceName))}},{key:"_removeEventListener",value:function(e,t){_get(_getPrototypeOf(n.prototype),"removeListener",this).call(this,e,t),ui.isSourceNameSignalingEnabled()&&e===Er&&!this.listenerCount(Er)&&(this._disposeTrackStreamingStatus(),Ca.debug("Disposing track streaming status: "+this._sourceName))}},{key:"_onTrackMute",value:function(){Ca.debug("\"onmute\" event("+Date.now()+"): "+this),this.rtc.eventEmitter.emit(Ta.REMOTE_TRACK_MUTE,this)}},{key:"_onTrackUnmute",value:function(){Ca.debug("\"onunmute\" event("+Date.now()+"): "+this),this.rtc.eventEmitter.emit(Ta.REMOTE_TRACK_UNMUTE,this)}},{key:"dispose",value:function(){return ui.isSourceNameSignalingEnabled()&&this._disposeTrackStreamingStatus(),_get(_getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"setMute",value:function(e){this.muted!==e&&(e&&(this.hasBeenMuted=!0),this.stream&&(this.stream.muted=e),this.muted=e,this.emit(_r,this))}},{key:"isMuted",value:function(){return this.muted}},{key:"getParticipantId",value:function(){return this.ownerEndpointId}},{key:"isLocal",value:function(){return!1}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"getSourceName",value:function(){return this._sourceName}},{key:"_setVideoType",value:function(e){this.videoType!==e&&(this.videoType=e,this.emit(gr,e))}},{key:"_playCallback",value:function(){if(this.conference.room){var e=this.isVideoTrack()?"video":"audio",t=window.performance.now();console.log("(TIME) Render "+e+":\t",t),this.conference.getConnectionTimes()[e+".render"]=t;var n,r=window.connectionTimes["obtainPermissions.start"],i=window.connectionTimes["obtainPermissions.end"],o=isNaN(i)||isNaN(r)?0:i-r,s=t-(this.conference.getConnectionTimes()["session.initiate"]-this.conference.getConnectionTimes()["muc.joined"])-o;this.conference.getConnectionTimes()[e+".ttfm"]=s,console.log("(TIME) TTFM "+e+":\t",s),nr.sendAnalytics((n={media_type:e,muted:this.hasBeenMuted,value:s},Yt("ttfm",n)))}}},{key:"_attachTTFMTracker",value:function(e){ba&&this.isAudioTrack()||Ra&&this.isVideoTrack()||(this.isAudioTrack()&&(ba=!0),this.isVideoTrack()&&(Ra=!0),e.addEventListener("canplay",this._playCallback.bind(this)))}},{key:"_onTrackAttach",value:function(e){var t=this;Aa.forEach(function(n){e.addEventListener(n,t._containerHandlers[n])})}},{key:"_onTrackDetach",value:function(e){var t=this;Aa.forEach(function(n){e.removeEventListener(n,t._containerHandlers[n])})}},{key:"_containerEventHandler",value:function(e){Ca.debug(e+" handler was called for a container with attached "+this)}},{key:"_getStatus",value:function(){var e=this.track,t=e.enabled,n=e.muted;return"readyState: "+e.readyState+", muted: "+n+", enabled: "+t}},{key:"_initTrackStreamingStatus",value:function(){var e=this.conference.options.config;this._trackStreamingStatus=ma.ACTIVE,this._trackStreamingStatusImpl=new Ea(this.rtc,this.conference,this,{p2pRtcMuteTimeout:e._p2pConnStatusRtcMuteTimeout,rtcMuteTimeout:e._peerConnStatusRtcMuteTimeout,outOfForwardedSourcesTimeout:e._peerConnStatusOutOfLastNTimeout}),this._trackStreamingStatusImpl.init()}},{key:"_disposeTrackStreamingStatus",value:function(){this._trackStreamingStatusImpl&&(this._trackStreamingStatusImpl.dispose(),this._trackStreamingStatusImpl=null,this._trackStreamingStatus=null)}},{key:"_setTrackStreamingStatus",value:function(e){this._trackStreamingStatus=e}},{key:"getTrackStreamingStatus",value:function(){return this._trackStreamingStatus}},{key:"_clearEnteredForwardedSourcesTimestamp",value:function(){this._enteredForwardedSourcesTimestamp=null}},{key:"_setEnteredForwardedSourcesTimestamp",value:function(e){this._enteredForwardedSourcesTimestamp=e}},{key:"_getEnteredForwardedSourcesTimestamp",value:function(){return this._enteredForwardedSourcesTimestamp}},{key:"toString",value:function(){return"RemoteTrack[userID: "+this.getParticipantId()+", type: "+this.getType()+", ssrc: "+this.getSSRC()+", p2p: "+this.isP2P+", sourceName: "+this._sourceName+", status: "+this._getStatus()+"]"}}]),n})(),ka=(0,v.getLogger)("modules/RTC/TPCUtils.js"),Pa=25e5,Oa=["1","2","3"],Da=(function(){function e(t){var n,r,i;_classCallCheck(this,e),this.pc=t;var o=null===(n=this.pc.options)||void 0===n||null===(r=n.videoQuality)||void 0===r?void 0:r.maxBitratesVideo,s={low:2e5,standard:7e5,high:Pa};this.videoBitrates=null!=o?o:s;var a=null!==(i=this.videoBitrates.VP8)&&void 0!==i?i:this.videoBitrates;this.localStreamEncodingsConfig=[{active:!0,maxBitrate:An.isFirefox()?a.high:a.low,rid:"1",scaleResolutionDownBy:An.isFirefox()?1:4},{active:!0,maxBitrate:a.standard,rid:"2",scaleResolutionDownBy:2},{active:!0,maxBitrate:An.isFirefox()?a.low:a.high,rid:"3",scaleResolutionDownBy:An.isFirefox()?4:1}]}return _createClass(e,[{key:"_getStreamEncodings",value:function(e){return this.pc.isSimulcastOn()&&e.isVideoTrack()?this.localStreamEncodingsConfig:e.isVideoTrack()?[{active:!0,maxBitrate:this.videoBitrates.high}]:[{active:!0}]}},{key:"ensureCorrectOrderOfSsrcs",value:function(e){var t=Eo.parse(e.sdp);return t.media.forEach(function(e){if(e.type!==Bn.AUDIO&&e.ssrcGroups&&e.ssrcGroups.length){var t=[],n=new Set;e.ssrcGroups.map(function(e){return e.ssrcs.split(" ").filter(Boolean).forEach(function(e){return n.add(e)})}),n.forEach(function(n){var r=e.ssrcs.filter(function(e){return e.id.toString()===n});t=t.concat(r)}),e.ssrcs=t}}),new RTCSessionDescription({type:e.type,sdp:Eo.write(t)})}},{key:"findTransceiver",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=t&&t.track&&t.getOriginalStream()?this.pc.peerconnection.getTransceivers().find(function(e){var n,r;return(null===(n=e.sender)||void 0===n||null===(r=n.track)||void 0===r?void 0:r.id)===t.getTrackId()}):this.pc.peerconnection.getTransceivers().find(function(t){var n,r;return(null===(n=t.receiver)||void 0===n||null===(r=n.track)||void 0===r?void 0:r.kind)===e})}},{key:"insertUnifiedPlanSimulcastReceive",value:function(e){if(An.usesSdpMungingForSimulcast())return e;var t=Eo.parse(e.sdp),n=t.media.findIndex(function(e){return e.type===Bn.VIDEO});if(t.media[n].rids&&(t.media[n].simulcast_03||t.media[n].simulcast))return t.media.forEach(function(e,r){e.type===Bn.VIDEO&&r!==n&&(t.media[r].rids=void 0,t.media[r].simulcast=void 0,t.media[r].simulcast_03=void 0)}),new RTCSessionDescription({type:e.type,sdp:Eo.write(t)});t.media[n].rids=[{id:"1",direction:"recv"},{id:"2",direction:"recv"},{id:"3",direction:"recv"}];var r=An.isFirefox()&&An.isVersionGreaterThan(71)?"recv "+Oa.join(";"):"recv rid="+Oa.join(";");return t.media[n].simulcast_03={value:r},new RTCSessionDescription({type:e.type,sdp:Eo.write(t)})}},{key:"addTrack",value:function(e,t){var n=e.getTrack();if(t){var r=[];e.getOriginalStream()&&r.push(e.getOriginalStream());var i={direction:fo.SENDRECV,streams:r,sendEncodings:[]};An.isFirefox()||(i.sendEncodings=this._getStreamEncodings(e)),this.pc.peerconnection.addTransceiver(n,i)}else this.pc.peerconnection.addTrack(n)}},{key:"calculateEncodingsActiveState",value:function(e,t){var n=this,r=e.getTrack().getSettings().height;return this.localStreamEncodingsConfig.map(function(e){return r/e.scaleResolutionDownBy}).map(function(r,i){var o,s=e.getVideoType()!==ar.VideoType.CAMERA||t>0&&4===(null===(o=n.localStreamEncodingsConfig[i])||void 0===o?void 0:o.scaleResolutionDownBy)||r<=t;return n.pc.isSharingLowFpsScreen()&&n.pc.usesUnifiedPlan()&&!An.isWebKitBased()&&1!==n.localStreamEncodingsConfig[i].scaleResolutionDownBy&&(s=!1),s})}},{key:"calculateEncodingsBitrates",value:function(e){var t,n,r=this,i=e.getVideoType(),o=(null===(t=this.pc.options)||void 0===t||null===(n=t.videoQuality)||void 0===n?void 0:n.desktopBitrate)||5e5,s=e._originalStream&&e._originalStream.id!==e.getStreamId();return this.localStreamEncodingsConfig.map(function(e){return r.pc.isSharingLowFpsScreen()&&!An.isWebKitBased()?s?Pa:o:i===ar.VideoType.DESKTOP&&An.isChromiumBased()&&!r.pc.usesUnifiedPlan()?void 0:e.maxBitrate})}},{key:"replaceTrack",value:function(e,t){var n,r,i,o,s=null!==(n=null==t?void 0:t.getType())&&void 0!==n?n:null==e?void 0:e.getType(),a=null!==(r=null==t?void 0:t.getTrack())&&void 0!==r?r:null,c=ui.isMultiStreamSupportEnabled()&&(null===(i=this.pc.getLocalTracks(s))||void 0===i?void 0:i.length)&&!e&&t&&!t.conference;if(e&&!e.isMuted())o=this.pc.peerconnection.getTransceivers().find(function(t){return t.sender.track===e.getTrack()});else if(c)o=this.pc.peerconnection.getTransceivers().find(function(e){return e.receiver.track.kind===s&&e.direction===fo.RECVONLY&&e.currentDirection===fo.INACTIVE});else{var u;o=this.pc.peerconnection.getTransceivers().find(function(e){return e.receiver.track.kind===s});var d=null!==(u=null==t?void 0:t.getSourceName())&&void 0!==u?u:null==e?void 0:e.getSourceName();if(d){var l=Number(d.split("-")[1].substring(1));l&&(o=this.pc.peerconnection.getTransceivers().filter(function(e){return e.receiver.track.kind===s&&e.direction!==fo.RECVONLY})[l])}}return o?(ka.debug(this.pc+" Replacing "+e+" with "+t),o.sender.replaceTrack(a).then(function(){return Promise.resolve(o)})):Promise.reject(new Error("replace track failed"))}},{key:"setAudioTransferActive",value:function(e){this.setMediaTransferActive(Bn.AUDIO,e)}},{key:"setEncodings",value:function(e){var t,n,r=e.getType(),i=this.findTransceiver(r,e),o=null==i||null===(t=i.sender)||void 0===t?void 0:t.getParameters();return null!=o&&null!==(n=o.encodings)&&void 0!==n&&n.length?(o.encodings=this._getStreamEncodings(e),i.sender.setParameters(o)):Promise.resolve()}},{key:"setMediaTransferActive",value:function(e,t){var n=this.pc.peerconnection.getTransceivers().filter(function(t){return t.receiver&&t.receiver.track&&t.receiver.track.kind===e}),r=this.pc.getLocalTracks(e);ka.info(this.pc+" "+(t?"Enabling":"Suspending")+" "+e+" media transfer."),n.forEach(function(e,n){t?0===n&&r.length?e.direction=fo.SENDRECV:e.direction=fo.RECVONLY:e.direction=fo.INACTIVE})}},{key:"setVideoTransferActive",value:function(e){this.setMediaTransferActive(Bn.VIDEO,e)}},{key:"updateEncodingsResolution",value:function(e){var t,n=this;An.isWebKitBased()&&e.encodings&&Array.isArray(e.encodings)&&(t=e.encodings).every(function(e){return void 0!==e.scaleResolutionDownBy&&e.scaleResolutionDownBy===t[0].scaleResolutionDownBy})&&e.encodings.forEach(function(e,t){e.scaleResolutionDownBy=n.localStreamEncodingsConfig[t].scaleResolutionDownBy})}}]),e})(),Na=(0,v.getLogger)("modules/RTC/TraceablePeerConnection.js");function Ma(e,t,r,i,o,s,a){var c=this;this.audioTransferActive=!(!0===a.startSilent),this._dtmfSender=void 0,this._dtmfTonesQueue=[],this.videoTransferActive=!0,this.rtc=e,this.id=t,this.isP2P=s,this.remoteTracks=new Map,this.localTracks=new Map,this._addedStreams=[],this.localSSRCs=new Map,this.localUfrag=null,this.remoteUfrag=null,this._dtlsTransport=null,this.signalingLayer=r,this._peerVideoTypeChanged=this._peerVideoTypeChanged.bind(this),this.signalingLayer.on(na,this._peerVideoTypeChanged),this._peerMutedChanged=this._peerMutedChanged.bind(this),this.signalingLayer.on(ta,this._peerMutedChanged),this.options=a;var u=o||{};if(u.optional=u.optional||[],Array.isArray(u.optional)?u.optional.push({rtcStatsSFUP2P:this.isP2P}):Na.warn("Optional param is not an array, rtcstats p2p data is omitted."),this.peerconnection=new Us.RTCPeerConnectionType(i,u),this.tpcUtils=new Da(this),this.updateLog=[],this.stats={},this.statsinterval=null,this._capScreenshareBitrate=this.options.capScreenshareBitrate,this._usesUnifiedPlan=a.usesUnifiedPlan,this._usesTransceiverCodecPreferences=An.supportsCodecPreferences()&&this._usesUnifiedPlan,this._usesTransceiverCodecPreferences&&Na.info("Using RTCRtpTransceiver#setCodecPreferences for codec selection"),this.maxstats=a.maxstats,this.interop=new ea,this._usesUnifiedPlan)this.simulcast=new ya({numOfLayers:Oa.length});else{var d=n(6234);this.simulcast=new d({numOfLayers:Oa.length,explodeRemoteSimulcast:!1,usesUnifiedPlan:!1})}this.sdpConsistency=new ga(this.toString()),this.localSdpMunger=new ha(this,this.rtc.getLocalEndpointId()),this.eventEmitter=e.eventEmitter,this.rtxModifier=new va,this._senderVideoMaxHeight=2160,this._senderMaxHeights=new Map,this.trace=function(e,t){Na.debug(e,t),c.updateLog.push({time:new Date,type:e,value:t||""})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(e){c.trace("onicecandidate",JSON.stringify(e.candidate,null," ")),null!==c.onicecandidate&&c.onicecandidate(e)},this._usesUnifiedPlan?(this.onTrack=function(e){var t=e.streams[0];c._remoteTrackAdded(t,e.track,e.transceiver),t.addEventListener("removetrack",function(e){c._remoteTrackRemoved(t,e.track)})},this.peerconnection.addEventListener("track",this.onTrack)):(this.peerconnection.onaddstream=function(e){return c._remoteStreamAdded(e.stream)},this.peerconnection.onremovestream=function(e){return c._remoteStreamRemoved(e.stream)}),this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(e){c.trace("onsignalingstatechange",c.signalingState),null!==c.onsignalingstatechange&&c.onsignalingstatechange(e)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(e){c.trace("oniceconnectionstatechange",c.iceConnectionState),null!==c.oniceconnectionstatechange&&c.oniceconnectionstatechange(e)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(e){c.trace("onnegotiationneeded"),null!==c.onnegotiationneeded&&c.onnegotiationneeded(e)},this.onconnectionstatechange=null,this.peerconnection.onconnectionstatechange=function(e){c.trace("onconnectionstatechange",c.connectionState),null!==c.onconnectionstatechange&&c.onconnectionstatechange(e)},this.ondatachannel=null,this.peerconnection.ondatachannel=function(e){c.trace("ondatachannel"),null!==c.ondatachannel&&c.ondatachannel(e)},this.maxstats&&(this.statsinterval=window.setInterval(function(){c.getStats().then(function(e){if("function"==typeof(null==e?void 0:e.result))for(var t=e.result(),n=function(e){var n=t[e];n.names().forEach(function(e){c._processStat(n,e,n.stat(e))})},r=0;r<t.length;++r)n(r);else e.forEach(function(e){return c._processStat(e,"",e)})})},1e3)),Na.info("Create new "+this)}Ma.prototype._processStat=function(e,t,n){var r=e.id+"-"+t,i=this.stats[r],o=new Date;i||(this.stats[r]=i={startTime:o,endTime:o,values:[],times:[]}),i.values.push(n),i.times.push(o.getTime()),i.values.length>this.maxstats&&(i.values.shift(),i.times.shift()),i.endTime=o};var wa=function(e){return null==e?"":"type: "+e.type+"\r\n"+e.sdp};Ma.prototype.getConnectionState=function(){var e=this.peerconnection.iceConnectionState;return"completed"===e?"connected":e},Ma.prototype.getDesiredMediaDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.hasAnyTracksOfType(e);return this._usesUnifiedPlan?t?n?fo.SENDRECV:fo.SENDONLY:n?fo.RECVONLY:fo.INACTIVE:(e===Bn.AUDIO?this.audioTransferActive:this.videoTransferActive)?n?fo.SENDRECV:fo.RECVONLY:fo.INACTIVE},Ma.prototype._getReceiversByEndpointIds=function(e,t){for(var n,r=[],i=_createForOfIteratorHelperLoose(e);!(n=i()).done;){var o=n.value;r=r.concat(this.getRemoteTracks(o,t))}var s=r.map(function(e){var t;return null===(t=e.track)||void 0===t?void 0:t.id});return this.peerconnection.getReceivers().filter(function(e){return e.track&&e.track.kind===t&&s.find(function(t){return t===e.track.id})})},Ma.prototype.isSimulcastOn=function(){return!this.options.disableSimulcast},Ma.prototype._peerVideoTypeChanged=function(e,t){if(e){var n=this.getRemoteTracks(e,Bn.VIDEO);n.length&&n[0]._setVideoType(t)}else Na.error(this+" No endpointID on peerVideoTypeChanged")},Ma.prototype._peerMutedChanged=function(e,t,n){if(e){var r=this.getRemoteTracks(e,t);r.length&&r[0].setMute(n)}else Na.error(this+" On peerMuteChanged - no endpoint ID")},Ma.prototype.getAudioLevels=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return(e.length?this._getReceiversByEndpointIds(e,Bn.AUDIO):this.peerconnection.getReceivers().filter(function(e){return e.track&&e.track.kind===Bn.AUDIO&&e.track.enabled})).forEach(function(e){var n=e.getSynchronizationSources();n&&n.length&&(t[n[0].source]=n[0].audioLevel)}),t},Ma.prototype.getLocalTracks=function(e){var t=Array.from(this.localTracks.values());return void 0!==e&&(t=t.filter(function(t){return t.getType()===e})),t},Ma.prototype.getLocalVideoTracks=function(){return this.getLocalTracks(Bn.VIDEO)},Ma.prototype.hasAnyTracksOfType=function(e){if(!e)throw new Error('"mediaType" is required');return this.getLocalTracks(e).length>0},Ma.prototype.getRemoteTracks=function(e,t){for(var n,r=[],i=_createForOfIteratorHelperLoose(e?[e]:this.remoteTracks.keys());!(n=i()).done;){var o=n.value,s=this.remoteTracks.get(o);if(s)for(var a,c=_createForOfIteratorHelperLoose(s.keys());!(a=c()).done;){var u=a.value;t&&t!==u||(r=r.concat(Array.from(s.get(u))))}}return r},Ma.prototype.getRemoteSourceInfoByParticipant=function(e){var t=[],n=this.getRemoteTracks(e);if(null==n||!n.length)return t;var r=n.map(function(e){return e.getSSRC()}),i=new Ro(this.remoteDescription.sdp);return r.forEach(function(e,n){for(var r,o=_createForOfIteratorHelperLoose(i.media);!(r=o()).done;){var s=r.value,a="",c=bo.findLines(s,"a=ssrc:"+e);if(c.length){t[n]||(t[n]="");var u=bo.findLines(s,"a=ssrc-group:FID "+e);if(u.length){var d=u[0].split(" ")[2];a+=u[0]+"\r\n",c=c.concat(bo.findLines(s,"a=ssrc:"+d))}t[n]+=c.join("\r\n")+"\r\n",t[n]+=a}}}),t},Ma.prototype.getTargetVideoBitrates=function(){var e=this.getConfiguredVideoCodec();return this.tpcUtils.videoBitrates[e.toUpperCase()]||this.tpcUtils.videoBitrates},Ma.prototype.getTrackBySSRC=function(e){if("number"!=typeof e)throw new Error("SSRC "+e+" is not a number");for(var t,n=_createForOfIteratorHelperLoose(this.localTracks.values());!(t=n()).done;){var r=t.value;if(this.getLocalSSRC(r)===e)return r}for(var i,o=_createForOfIteratorHelperLoose(this.getRemoteTracks());!(i=o()).done;){var s=i.value;if(s.getSSRC()===e)return s}return null},Ma.prototype.getSsrcByTrackId=function(e){var t=function(t){return t.getTrack().id===e},n=this.getLocalTracks().find(t);if(n)return this.getLocalSSRC(n);var r=this.getRemoteTracks().find(t);return r?r.getSSRC():null},Ma.prototype._remoteStreamAdded=function(e){var t=this,n=Ha.getStreamID(e);if(Ha.isUserStreamById(n)){An.isChromiumBased()&&(e.onaddtrack=function(n){t._remoteTrackAdded(e,n.track)},e.onremovetrack=function(n){t._remoteTrackRemoved(e,n.track)});for(var r,i=_createForOfIteratorHelperLoose(e.getAudioTracks());!(r=i()).done;){var o=r.value;this._remoteTrackAdded(e,o)}for(var s,a=_createForOfIteratorHelperLoose(e.getVideoTracks());!(s=a()).done;){var c=s.value;this._remoteTrackAdded(e,c)}}else Na.info(this+" ignored remote 'stream added' event for non-user stream[id="+n+"]")},Ma.prototype._remoteTrackAdded=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Ha.getStreamID(e),i=t.kind;if(this.isP2P||Ha.isUserStreamById(r))if(Na.info(this+" adding remote track for stream[id="+r+",type="+i+"]"),i){var o,s=this._usesUnifiedPlan?new Ro(this.peerconnection.remoteDescription.sdp):new Ro(this.remoteDescription.sdp);if(this._usesUnifiedPlan)if(n&&n.mid){var a=n.mid;o=s.media.filter(function(e){return bo.findLine(e,"a=mid:"+a)})}else o=s.media.filter(function(e){var t=bo.findLine(e,"a=msid:");return void 0!==t&&r===t.substring(7).split(" ")[0]});else o=s.media.filter(function(e){return e.startsWith("m="+i)});if(o.length){var c=bo.findLines(o[0],"a=ssrc:");if((c=c.filter(function(e){return-1!==e.indexOf("msid:"+r)})).length){var u=c[0].substring(7).split(" ")[0],d=Number(u),l=this.signalingLayer.getSSRCOwner(d);if(isNaN(d)||d<0)Dn.callErrorHandler(new Error("Invalid SSRC for remote stream[ssrc="+d+",id="+r+",type="+i+"]"));else if(l){var h;ui.isSourceNameSignalingEnabled()&&((h=this.signalingLayer.getTrackSourceName(d))||(h=ra(l,i,0))),Na.info(this+" creating remote track[endpoint="+l+",ssrc="+d+",type="+i+",sourceName="+h+"]");var p=this.signalingLayer.getPeerMediaInfo(l,i);if(p){var f=p.muted,m=p.videoType;this._createRemoteTrack(l,e,t,i,m,d,f,h)}else Dn.callErrorHandler(new Error(this+": no peer media info available for "+l))}else Dn.callErrorHandler(new Error("No SSRC owner known for remote stream[ssrc="+d+",id="+r+",type="+i+"]"))}else Dn.callErrorHandler(new Error("No SSRC lines found in remote SDP for remote stream[msid="+r+",type="+i+"]"))}else Dn.callErrorHandler(new Error("No media lines found in remote SDP for remote stream[id="+r+",type="+i+"]"))}else Dn.callErrorHandler(new Error("MediaType undefined for remote track, stream id: "+r));else Na.info(this+" ignored remote 'stream added' event for non-user stream[id="+r+"]")},Ma.prototype._createRemoteTrack=function(e,t,n,r,i,o,s,a){var c=this.remoteTracks.get(e);c||((c=new Map).set(Bn.AUDIO,new Set),c.set(Bn.VIDEO,new Set),this.remoteTracks.set(e,c));var u=c.get(r);if(null!=u&&u.size&&Array.from(u).find(function(e){return e.getTrack()===n}))Na.info(this+" ignored duplicated track event for track[endpoint="+e+",type="+r+"]");else{if(null!=u&&u.size&&!ui.isSourceNameSignalingEnabled()){Na.error(this+" received a second remote track for track[endpoint="+e+",type="+r+"]deleting the existing track");var d=Array.from(u)[0];this._remoteTrackRemoved(d.getOriginalStream(),d.getTrack())}var l=new Ia(this.rtc,this.rtc.conference,e,t,n,r,i,o,s,this.isP2P,a);u.add(l),this.eventEmitter.emit(sr.default.REMOTE_TRACK_ADDED,l,this)}},Ma.prototype._remoteStreamRemoved=function(e){if(Ha.isUserStream(e)){for(var t,n=_createForOfIteratorHelperLoose(e.getVideoTracks());!(t=n()).done;){var r=t.value;this._remoteTrackRemoved(e,r)}for(var i,o=_createForOfIteratorHelperLoose(e.getAudioTracks());!(i=o()).done;){var s=i.value;this._remoteTrackRemoved(e,s)}}else{var a=Ha.getStreamID(e);Na.info("Ignored remote 'stream removed' event for stream[id="+a+"]")}},Ma.prototype._remoteTrackRemoved=function(e,t){var n=Ha.getStreamID(e),r=t&&Ha.getTrackID(t);if(Ha.isUserStreamById(n))if(n)if(r){var i=this.getRemoteTracks().find(function(e){return e.getStreamId()===n&&e.getTrackId()===r});i?(Na.info(this+" remote track removed stream[id="+n+",trackId="+r+"]"),this._removeRemoteTrack(i)):Dn.callErrorHandler(new Error(this+" remote track removal failed - track not found"))}else Dn.callErrorHandler(new Error(this+" remote track removal failed - no track ID"));else Dn.callErrorHandler(new Error(this+" remote track removal failed - no stream ID"));else Na.info(this+" ignored remote 'stream removed' event for non-user stream[id="+n+"]")},Ma.prototype.removeRemoteTracks=function(e){var t=[],n=this.remoteTracks.get(e);return n&&(t=(t=t.concat(Array.from(n.get(Bn.AUDIO)))).concat(Array.from(n.get(Bn.VIDEO))),this.remoteTracks.delete(e)),Na.debug(this+" removed remote tracks[endpoint="+e+",count="+t.length),t},Ma.prototype._removeRemoteTrack=function(e){var t;e.dispose();var n=e.getParticipantId(),r=this.remoteTracks.get(n);r?null!==(t=r.get(e.getType()))&&void 0!==t&&t.delete(e)||Na.error(this+" Failed to remove "+e+" - type mapping messed up ?"):Na.error(this+" removeRemoteTrack: no remote tracks map for endpoint="+n),this.eventEmitter.emit(sr.default.REMOTE_TRACK_REMOVED,e)},Ma.prototype._extractSSRCMap=function(e){var t=new Map,n=new Map;if("object"!=typeof e||null===e||"string"!=typeof e.sdp)return Na.warn("An empty description was passed as an argument"),t;var r=Eo.parse(e.sdp);if(!Array.isArray(r.media))return t;var i=r.media;this._usesUnifiedPlan&&(i=[],[Bn.AUDIO,Bn.VIDEO].forEach(function(e){var t=r.media.find(function(t){return t.type===e});t&&i.push(t)}));for(var o,s=_createForOfIteratorHelperLoose(i);!(o=s()).done;){var a=o.value;if(Array.isArray(a.ssrcs)){if(Array.isArray(a.ssrcGroups))for(var c,u=_createForOfIteratorHelperLoose(a.ssrcGroups);!(c=u()).done;){var d=c.value;if(void 0!==d.semantics&&void 0!==d.ssrcs){var l=d.ssrcs.split(" ").map(function(e){return parseInt(e,10)}),h=l[0];d.ssrcs=l,n.has(h)||n.set(h,[]),n.get(h).push(d)}}for(var p,f=a.ssrcs,m=_createForOfIteratorHelperLoose(f=this._usesUnifiedPlan?f.filter(function(e){return"cname"===e.attribute}):f.filter(function(e){return"msid"===e.attribute}));!(p=m()).done;){var v=p.value,_=this._usesUnifiedPlan?a.type:v.value,g=v.id,y=t.get(_);if(y||(y={ssrcs:[],groups:[],msid:_},t.set(_,y)),y.ssrcs.push(g),n.has(g))for(var S,E=_createForOfIteratorHelperLoose(n.get(g));!(S=E()).done;){var C=S.value;y.groups.push(C)}}}}return t},Ma.prototype.getLocalSSRC=function(e){var t=this._getSSRC(e.rtcId);return t&&t.ssrcs[0]},Ma.prototype._injectSsrcGroupForUnifiedSimulcast=function(e){var t=Eo.parse(e.sdp),n=t.media.find(function(e){return"video"===e.type});n.ssrcGroups=n.ssrcGroups||[];var r=n.ssrcGroups.filter(function(e){return"FID"===e.semantics});if(n.simulcast||n.simulcast_03){var i=[];if(r&&r.length?r.forEach(function(e){i.push(e.ssrcs.split(" ")[0])}):n.ssrcs.forEach(function(e){"msid"===e.attribute&&i.push(e.id)}),n.ssrcGroups.find(function(e){return"SIM"===e.semantics}))return e;n.ssrcGroups.push({semantics:"SIM",ssrcs:i.join(" ")})}return new RTCSessionDescription({type:e.type,sdp:Eo.write(t)})};var La={signalingState:function(){return this.peerconnection.signalingState},iceConnectionState:function(){return this.peerconnection.iceConnectionState},connectionState:function(){return this.peerconnection.connectionState},localDescription:function(){var e=this.peerconnection.localDescription;return e?(this.trace("getLocalDescription::preTransform",wa(e)),this._usesUnifiedPlan&&!this.isP2P?(e=this.interop.toPlanB(e),this.trace("getLocalDescription::postTransform (Plan B)",wa(e)),e=this._injectSsrcGroupForUnifiedSimulcast(e),this.trace("getLocalDescription::postTransform (inject ssrc group)",wa(e))):this._usesUnifiedPlan||(An.doesVideoMuteByStreamRemove()&&(e=this.localSdpMunger.maybeAddMutedLocalVideoTracksToSDP(e),Na.debug("getLocalDescription::postTransform (munge local SDP)",e)),e=(function(e,t){var n,r;if(!e)throw new Error("No local description passed in.");var i=new da(e.sdp),o=null===(n=i.selectMedia(Bn.AUDIO))||void 0===n?void 0:n[0],s=!1;o&&o.direction!==fo.SENDRECV&&(t.startSilent?o.direction=fo.INACTIVE:o.direction=fo.SENDRECV,s=!0);var a=null===(r=i.selectMedia(Bn.VIDEO))||void 0===r?void 0:r[0];return a&&a.direction!==fo.SENDRECV&&(a.direction=fo.SENDRECV,s=!0),s?new RTCSessionDescription({type:e.type,sdp:i.toRawSDP()}):e})(e,this.options)),e=this.localSdpMunger.transformStreamIdentifiers(e)):(Na.debug(this+" getLocalDescription no localDescription found"),{})},remoteDescription:function(){var e=this.peerconnection.remoteDescription;return e?(this.trace("getRemoteDescription::preTransform",wa(e)),this._usesUnifiedPlan&&(this.isP2P?e=this._adjustRemoteMediaDirection(e):(e=this.interop.toPlanB(e),this.trace("getRemoteDescription::postTransform (Plan B)",wa(e)))),e):(Na.debug(this+" getRemoteDescription no remoteDescription found"),{})}};Object.keys(La).forEach(function(e){Object.defineProperty(Ma.prototype,e,{get:La[e]})}),Ma.prototype._getSSRC=function(e){return this.localSSRCs.get(e)},Ma.prototype.isSharingLowFpsScreen=function(){return this._isSharingScreen()&&this._capScreenshareBitrate},Ma.prototype._isSharingScreen=function(){var e=this.getLocalVideoTracks();return Boolean(e.find(function(e){return e.videoType===ar.VideoType.DESKTOP}))},Ma.prototype._mungeCodecOrder=function(e){var t=this;if(!this.codecPreference)return e;var n=Eo.parse(e.sdp),r=n.media.find(function(e){return e.type===t.codecPreference.mediaType});if(!r)return e;if(this.codecPreference.enable)if(bo.preferCodec(r,this.codecPreference.mimeType),this.codecPreference.mimeType===mo.H264&&An.isReactNative()&&this.isP2P&&bo.stripCodec(r,this.codecPreference.mimeType,!0),this.codecPreference.mimeType===mo.VP9&&this.getConfiguredVideoCodec()===mo.VP9){var i=this.tpcUtils.videoBitrates.VP9||this.tpcUtils.videoBitrates,o=i.high?i.high:Pa,s=Math.floor((this._isSharingScreen()?Pa:o)/1e3);r.bandwidth=[{type:"AS",limit:s}]}else r.bandwidth=void 0;else bo.stripCodec(r,this.codecPreference.mimeType);return new RTCSessionDescription({type:e.type,sdp:Eo.write(n)})},Ma.prototype.addTrack=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.rtcId;if(Na.info(this+" adding "+e),this.localTracks.has(r))return Promise.reject(new Error(e+" is already in "+this));this.localTracks.set(r,e);var i=e.getOriginalStream();if(this._usesUnifiedPlan){Na.debug(this+" TPC.addTrack using unified plan");try{this.tpcUtils.addTrack(e,n)}catch(n){return Na.error(this+" Adding track="+e+" failed: "+(null==n?void 0:n.message)),Promise.reject(n)}}else{if(i)this._addStream(i);else if(!An.doesVideoMuteByStreamRemove()||e.isAudioTrack()||e.isVideoTrack()&&!e.isMuted())return Promise.reject(new Error(this+" no WebRTC stream for track="+e));if(An.doesVideoMuteByStreamRemove()&&e.isVideoTrack()&&e.isMuted()){var o=this.generateNewStreamSSRCInfo(e);this.sdpConsistency.setPrimarySsrc(o.ssrcs[0]);var s=o.groups.find(function(e){return"SIM"===e.semantics});s&&this.simulcast.setSsrcCache(s.ssrcs);var a=o.groups.filter(function(e){return"FID"===e.semantics});if(a){var c=new Map;a.forEach(function(e){var t=e.ssrcs[0],n=e.ssrcs[1];c.set(t,n)}),this.rtxModifier.setSsrcCache(c)}}}var u=Promise.resolve();return An.isFirefox()&&(u=u.then(function(){return i&&t.tpcUtils.setEncodings(e)})),u},Ma.prototype.addTrackUnmute=function(e){if(Na.info(this+" Adding track="+e+" as unmute"),!this._assertTrackBelongs("addTrackUnmute",e))return Promise.reject("Track not found on the peerconnection");var t=e.getOriginalStream();return t?this._usesUnifiedPlan?this.tpcUtils.replaceTrack(null,e).then(function(){return!1}):(this._addStream(t),Promise.resolve(!0)):(Na.error(this+" Unable to add track="+e+" as unmute - no WebRTC stream"),Promise.reject("Stream not found"))},Ma.prototype._addStream=function(e){this.peerconnection.addStream(e),this._addedStreams.push(e)},Ma.prototype._removeStream=function(e){this.peerconnection.removeStream(e),this._addedStreams=this._addedStreams.filter(function(t){return t!==e})},Ma.prototype._assertTrackBelongs=function(e,t){var n=this.localTracks.has(null==t?void 0:t.rtcId);return n||Na.error(this+" "+e+": track="+t+" does not belong to pc"),n},Ma.prototype.getConfiguredVideoCodec=function(){var e,t=null===(e=this.peerconnection.localDescription)||void 0===e?void 0:e.sdp,n=mo.VP8;if(!t)return n;var r=Eo.parse(t).media.find(function(e){return e.type===Bn.VIDEO}).rtp[0].codec;return r?Object.values(mo).find(function(e){return e===r.toLowerCase()}):n},Ma.prototype.setDesktopSharingFrameRate=function(e){var t=e<=5;this._capScreenshareBitrate=this.isSimulcastOn()&&t},Ma.prototype.setVideoCodecs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t,r=t||e;this.codecPreference&&(e||t)?(this.codecPreference.enable=n,this.codecPreference.mimeType=r):e||t?this.codecPreference={enable:n,mediaType:Bn.VIDEO,mimeType:r}:Na.warn(this+" Invalid codec settings[preferred="+e+",disabled="+t+"],\n            atleast one value is needed")},Ma.prototype.isMediaStreamInPc=function(e){return this._addedStreams.indexOf(e)>-1},Ma.prototype.removeTrack=function(e){var t=e.getOriginalStream();this.trace("removeStream",e.rtcId,t?t.id:void 0),this._assertTrackBelongs("removeStream",e)&&(this.localTracks.delete(e.rtcId),this.localSSRCs.delete(e.rtcId),t&&this.peerconnection.removeStream(t))},Ma.prototype.findSenderByKind=function(e){if(this.peerconnection.getSenders)return this.peerconnection.getSenders().find(function(t){return t.track&&t.track.kind===e})},Ma.prototype.findReceiverForTrack=function(e){return this.peerconnection.getReceivers().find(function(t){return t.track===e})},Ma.prototype.findSenderForTrack=function(e){if(this.peerconnection.getSenders)return this.peerconnection.getSenders().find(function(t){return t.track===e})},Ma.prototype.replaceTrack=function(e,t){var n=this;if(!e&&!t)return Na.info(this+" replaceTrack called with no new track and no old track"),Promise.resolve();var r=Boolean(!e||!this.localTracks.has(null==e?void 0:e.rtcId));if(this._usesUnifiedPlan){var i;Na.debug(this+" TPC.replaceTrack using unified plan");var o=null!==(i=null==t?void 0:t.getType())&&void 0!==i?i:null==e?void 0:e.getType(),s=null==t?void 0:t.getOriginalStream();return(t&&!s?Promise.resolve():this.tpcUtils.replaceTrack(e,t)).then(function(i){e&&n.localTracks.delete(e.rtcId),t&&n.localTracks.set(t.rtcId,t);var s=o===Bn.AUDIO?n.audioTransferActive:n.videoTransferActive;return i&&s&&(i.direction=t?fo.SENDRECV:fo.RECVONLY),(An.usesSdpMungingForSimulcast()||!t?Promise.resolve():n.tpcUtils.setEncodings(t)).then(function(){return r})})}Na.debug(this+" TPC.replaceTrack using plan B");var a=Promise.resolve();return e&&this.removeTrack(e),t&&(a=this.addTrack(t)),a.then(function(){return!0})},Ma.prototype.removeTrackMute=function(e){var t=e.getOriginalStream();return this.trace("removeTrackMute",e.rtcId,t?t.id:null),this._assertTrackBelongs("removeTrackMute",e)?this._usesUnifiedPlan?this.tpcUtils.replaceTrack(e,null).then(function(){return!1}):t?(Na.info(this+" Removing track="+e+" as mute"),this._removeStream(t),Promise.resolve(!0)):(Na.error(this+" removeTrackMute - no WebRTC stream for track="+e),Promise.reject("Stream not found")):Promise.reject("Track not found in the peerconnection")},Ma.prototype.createDataChannel=function(e,t){return this.trace("createDataChannel",e,t),this.peerconnection.createDataChannel(e,t)},Ma.prototype._ensureSimulcastGroupIsLast=function(e){var t=e.sdp,n=t.indexOf("m=video"),r=t.indexOf("a=ssrc-group:SIM",n),i=t.lastIndexOf("a=ssrc-group");if(-1===r||-1===i||i===r)return e;var o=t.indexOf("\r\n",r),s=t.substring(r,o+2);i=(t=t.replace(s,"")).lastIndexOf("a=ssrc-group");var a=t.indexOf("\r\n",i);return t=t.slice(0,a)+"\r\n"+s.trim()+t.slice(a),new RTCSessionDescription({type:e.type,sdp:t})},Ma.prototype._adjustLocalMediaDirection=function(e){var t,n,r=new da(e.sdp),i=!1,o=null===(t=r.selectMedia(Bn.AUDIO))||void 0===t?void 0:t[0];if(o){var s=this.getDesiredMediaDirection(Bn.AUDIO);o.direction!==s&&(o.direction=s,Na.info(this+" Adjusted local audio direction to "+s),i=!0)}else Na.warn(this+" No \"audio\" media found in the local description");var a=null===(n=r.selectMedia(Bn.VIDEO))||void 0===n?void 0:n[0];if(a){var c=this.getDesiredMediaDirection(Bn.VIDEO);a.direction!==c&&(a.direction=c,Na.info(this+" Adjusted local video direction to "+c),i=!0)}else Na.warn(this+" No \"video\" media found in the local description");return i?new RTCSessionDescription({type:e.type,sdp:r.toRawSDP()}):e},Ma.prototype._adjustRemoteMediaDirection=function(e){var t=this,n=new da(e.sdp);return[Bn.AUDIO,Bn.VIDEO].forEach(function(e){var r,i=null===(r=n.selectMedia(e))||void 0===r?void 0:r[0],o=t.hasAnyTracksOfType(e),s=t.getRemoteTracks(null,e).length>0;i.direction=o&&s?fo.SENDRECV:o?fo.RECVONLY:s?fo.SENDONLY:fo.INACTIVE}),new RTCSessionDescription({type:e.type,sdp:n.toRawSDP()})},Ma.prototype._mungeOpus=function(e){var t=this.options.audioQuality;if(!(null!=t&&t.stereo||null!=t&&t.opusMaxAverageBitrate))return e;for(var n,r=Eo.parse(e.sdp),i=_createForOfIteratorHelperLoose(r.media);!(n=i()).done;){var o=n.value;if("audio"===o.type)if("continue"===(function(){var e=o.rtp.find(function(e){return e.codec===mo.OPUS}).payload;if(!e)return"continue";var n=o.fmtp.find(function(t){return t.payload===e});n||(n={payload:e,config:""});var r=Eo.parseParams(n.config),i=!1;if(null!=t&&t.stereo&&(r.stereo=1,i=!0),null!=t&&t.opusMaxAverageBitrate&&(r.maxaveragebitrate=t.opusMaxAverageBitrate,i=!0),!i)return"continue";for(var s="",a=0,c=Object.keys(r);a<c.length;a++){var u=c[a];s+=u+"="+r[u]+"; "}n.config=s.trim()})())continue}return new RTCSessionDescription({type:e.type,sdp:Eo.write(r)})},Ma.prototype._initializeDtlsTransport=function(){var e=this;if(this.peerconnection.getSenders&&!this._dtlsTransport){var t=this.peerconnection.getSenders();0!==t.length&&t[0].transport&&(this._dtlsTransport=t[0].transport,this._dtlsTransport.onerror=function(t){Na.error(e+" DtlsTransport error: "+t)},this._dtlsTransport.onstatechange=function(){e.trace("dtlsTransport.onstatechange",e._dtlsTransport.state)})}},Ma.prototype.configureSenderVideoEncodings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(ui.isSourceNameSignalingEnabled()){if(e)return this.setSenderVideoConstraints(this._senderMaxHeights.get(e.getSourceName()),e);for(var t,n=[],r=_createForOfIteratorHelperLoose(this.getLocalVideoTracks());!(t=r()).done;){var i=t.value;n.push(this.setSenderVideoConstraints(this._senderMaxHeights.get(i.getSourceName()),i))}return Promise.allSettled(n)}var o=e;return o||(o=this.getLocalVideoTracks()[0]),this.setSenderVideoConstraints(this._senderVideoMaxHeight,o)},Ma.prototype.setLocalDescription=function(e){var t=this,n=e;return this.trace("setLocalDescription::preTransform",wa(n)),n=this._mungeOpus(n),this._usesUnifiedPlan||(n=this._adjustLocalMediaDirection(n),n=this._ensureSimulcastGroupIsLast(n)),this._usesTransceiverCodecPreferences||(n=this._mungeCodecOrder(n)),this.trace("setLocalDescription::postTransform",wa(n)),new Promise(function(e,r){t.peerconnection.setLocalDescription(n).then(function(){t.trace("setLocalDescriptionOnSuccess");var r=bo.getUfrag(n.sdp);r!==t.localUfrag&&(t.localUfrag=r,t.eventEmitter.emit(sr.default.LOCAL_UFRAG_CHANGED,t,r)),t._initializeDtlsTransport(),e()},function(e){t.trace("setLocalDescriptionOnFailure",e),t.eventEmitter.emit(sr.default.SET_LOCAL_DESCRIPTION_FAILED,e,t),r(e)})})},Ma.prototype.setAudioTransferActive=function(e){Na.debug(this+" audio transfer active: "+e);var t=this.audioTransferActive!==e;return this.audioTransferActive=e,this._usesUnifiedPlan?(this.tpcUtils.setAudioTransferActive(e),!1):t},Ma.prototype.setRemoteDescription=function(e){var t=this,r=e;if(this.trace("setRemoteDescription::preTransform",wa(e)),r=this._mungeOpus(r),this._usesUnifiedPlan){if(!this.isP2P){var i=this.peerconnection.remoteDescription;r=this.interop.toUnifiedPlan(r,i),this.trace("setRemoteDescription::postTransform (Unified)",wa(r))}this.isSimulcastOn()&&(r=this.simulcast.mungeRemoteDescription(r),this.trace("setRemoteDescription::postTransform (simulcast)",wa(r)),r=this.tpcUtils.insertUnifiedPlanSimulcastReceive(r),this.trace("setRemoteDescription::postTransform (sim receive)",wa(r))),r=this.tpcUtils.ensureCorrectOrderOfSsrcs(r),this.trace("setRemoteDescription::postTransform (correct ssrc order)",wa(r))}else this.isSimulcastOn()&&(r=this.simulcast.mungeRemoteDescription(r,!0),this.trace("setRemoteDescription::postTransform (simulcast)",wa(r))),r=(function(e){if("object"!=typeof e||null===e||"string"!=typeof e.sdp)return Na.warn("An empty description was passed as an argument"),e;var t=n(8310),r=t.parse(e.sdp);void 0!==r&&void 0!==r.media&&Array.isArray(r.media)&&r.media.forEach(function(e){var t=[],n=[];if(void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){void 0!==e.semantics&&"FID"===e.semantics&&void 0!==e.ssrcs&&t.push(Number(e.ssrcs.split(" ")[0]))}),Array.isArray(e.ssrcs)){var r;for(r=0;r<e.ssrcs.length;r++)"object"==typeof e.ssrcs[r]&&void 0!==e.ssrcs[r].id&&t.indexOf(e.ssrcs[r].id)>=0&&(n.push(e.ssrcs[r]),delete e.ssrcs[r]);for(r=0;r<e.ssrcs.length;r++)void 0!==e.ssrcs[r]&&n.push(e.ssrcs[r]);e.ssrcs=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!An.isChrome()||!An.isVersionGreaterThan(70))return e;var t=_toConsumableArray(e);return e.filter(function(e){return"mslabel"===e.attribute&&"-"===e.value}).map(function(e){return e.id}).forEach(function(e){var n=t.find(function(t){return t.id===e&&"cname"===t.attribute});n.value=fo.RECVONLY+"-"+e,(t=t.filter(function(t){return t.id!==e})).push(n)}),t})(n)}});var i=t.write(r);return new RTCSessionDescription({type:e.type,sdp:i})})(r);return r=this._mungeCodecOrder(r),this.trace("setRemoteDescription::postTransform (munge codec order)",wa(r)),new Promise(function(e,n){t.peerconnection.setRemoteDescription(r).then(function(){t.trace("setRemoteDescriptionOnSuccess");var n=bo.getUfrag(r.sdp);n!==t.remoteUfrag&&(t.remoteUfrag=n,t.eventEmitter.emit(sr.default.REMOTE_UFRAG_CHANGED,t,n)),t._initializeDtlsTransport(),e()},function(e){t.trace("setRemoteDescriptionOnFailure",e),t.eventEmitter.emit(sr.default.SET_REMOTE_DESCRIPTION_FAILED,e,t),n(e)})})},Ma.prototype.setSenderVideoConstraints=function(e,t){var n,r=this;if(e<0)throw new Error("Invalid frameHeight: "+e);if(An.isReactNative())return Promise.resolve();if(ui.isSourceNameSignalingEnabled()?this._senderMaxHeights.set(t.getSourceName(),e):this._senderVideoMaxHeight=e,!t||t.isMuted())return Promise.resolve();var i=this.findSenderForTrack(t.getTrack());if(!i)return Promise.resolve();var o=i.getParameters();if(null==o||null===(n=o.encodings)||void 0===n||!n.length)return Promise.resolve();var s=this.isSharingLowFpsScreen()?"maintain-resolution":"maintain-framerate";o.degradationPreference=s,Na.info(this+" Setting degradation preference [preference="+s+",track="+t),this.encodingsEnabledState=this.tpcUtils.calculateEncodingsActiveState(t,e);var a=this.tpcUtils.calculateEncodingsBitrates(t),c=t.getVideoType();if(this.isSimulcastOn()){for(var u in o.encodings){var d,l;o.encodings.hasOwnProperty(u)&&(o.encodings[u].active=this.encodingsEnabledState[u],An.isFirefox()&&(o.encodings[u].degradationPreference=s),this.getConfiguredVideoCodec()===mo.VP8&&(null!==(d=this.options)&&void 0!==d&&null!==(l=d.videoQuality)&&void 0!==l&&l.maxBitratesVideo||this.isSharingLowFpsScreen()||this._usesUnifiedPlan)&&(o.encodings[u].maxBitrate=a[u]))}this.tpcUtils.updateEncodingsResolution(o)}else if(e>0){var h,p,f=1;if(c===ar.VideoType.CAMERA&&t.resolution>e&&(f=Math.floor(t.resolution/e)),o.encodings[0].active=!0,o.encodings[0].scaleResolutionDownBy=f,An.isFirefox()&&(o.encodings[0].degradationPreference=s),this.getConfiguredVideoCodec()===mo.VP8&&null!==(h=this.options)&&void 0!==h&&null!==(p=h.videoQuality)&&void 0!==p&&p.maxBitratesVideo){var m,v,_,g=null===(m=this.getTargetVideoBitrates())||void 0===m?void 0:m.high;c===ar.VideoType.CAMERA&&(g=null!==(v=null===(_=this.tpcUtils.localStreamEncodingsConfig.find(function(e){return e.scaleResolutionDownBy===f}))||void 0===_?void 0:_.maxBitrate)&&void 0!==v?v:g),o.encodings[0].maxBitrate=g}}else o.encodings[0].active=!1;return Na.info(this+" setting max height="+e+",encodings="+JSON.stringify(o.encodings)),i.setParameters(o).then(function(){t.maxEnabledResolution=e,r.eventEmitter.emit(sr.default.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,t)})},Ma.prototype.setVideoTransferActive=function(e){Na.debug(this+" video transfer active: "+e);var t=this.videoTransferActive!==e;return this.videoTransferActive=e,this._usesUnifiedPlan?(this.tpcUtils.setVideoTransferActive(e),!1):t},Ma.prototype.sendTones=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(!this._dtmfSender){if(this.peerconnection.getSenders){var r=this.peerconnection.getSenders().find(function(e){return e.dtmf});this._dtmfSender=r&&r.dtmf,this._dtmfSender&&Na.info(this+" initialized DTMFSender using getSenders")}if(!this._dtmfSender){var i=Array.from(this.localTracks.values()).find(function(e){return e.isAudioTrack()});this.peerconnection.createDTMFSender&&i&&(this._dtmfSender=this.peerconnection.createDTMFSender(i.getTrack())),this._dtmfSender&&Na.info(this+" initialized DTMFSender using deprecated createDTMFSender")}this._dtmfSender&&(this._dtmfSender.ontonechange=this._onToneChange.bind(this))}if(this._dtmfSender){if(this._dtmfSender.toneBuffer)return void this._dtmfTonesQueue.push({tones:e,duration:t,interToneGap:n});this._dtmfSender.insertDTMF(e,t,n)}else Na.warn(this+" sendTones - failed to select DTMFSender")},Ma.prototype._onToneChange=function(e){if(this._dtmfSender&&""===e.tone&&this._dtmfTonesQueue.length){var t=this._dtmfTonesQueue.shift(),n=t.tones,r=t.duration,i=t.interToneGap;this._dtmfSender.insertDTMF(n,r,i)}},Ma.prototype.generateRecvonlySsrc=function(){var e=bo.generateSsrc();Na.info(this+" generated new recvonly SSRC="+e),this.sdpConsistency.setPrimarySsrc(e)},Ma.prototype.clearRecvonlySsrc=function(){Na.info(this+" Clearing primary video SSRC!"),this.sdpConsistency.clearVideoSsrcCache()},Ma.prototype.close=function(){this.trace("stop"),this.signalingLayer.off(ta,this._peerMutedChanged),this.signalingLayer.off(na,this._peerVideoTypeChanged),this._usesUnifiedPlan&&this.peerconnection.removeEventListener("track",this.onTrack);for(var e,t=_createForOfIteratorHelperLoose(this.remoteTracks.values());!(e=t()).done;)for(var n,r=_createForOfIteratorHelperLoose(e.value.values());!(n=r()).done;)for(var i,o=_createForOfIteratorHelperLoose(n.value);!(i=o()).done;){var s=i.value;this._removeRemoteTrack(s)}this.remoteTracks.clear(),this._addedStreams=[],this._dtmfSender=null,this._dtmfTonesQueue=[],this.rtc._removePeerConnection(this)||Na.error(this+" RTC._removePeerConnection returned false"),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),Na.info(this+" Closing peerconnection"),this.peerconnection.close()},Ma.prototype.createAnswer=function(e){return this._createOfferOrAnswer(!1,e)},Ma.prototype.createOffer=function(e){return this._createOfferOrAnswer(!0,e)},Ma.prototype._createOfferOrAnswer=function(e,t){var n=this,r=e?"Offer":"Answer";this.trace("create"+r,JSON.stringify(t,null," "));var i=function(e,t,i){try{n.trace("create"+r+"OnSuccess::preTransform",wa(e)),n._usesUnifiedPlan||(n.hasAnyTracksOfType(Bn.VIDEO)||n.sdpConsistency.hasPrimarySsrcCached()||n.generateRecvonlySsrc(),e=new RTCSessionDescription({type:e.type,sdp:n.sdpConsistency.makeVideoPrimarySsrcsConsistent(e.sdp)}),n.trace("create"+r+"OnSuccess::postTransform (make primary audio/video ssrcs consistent)",wa(e)));var o=n.getLocalVideoTracks()[0];n.isSimulcastOn()&&An.usesSdpMungingForSimulcast()&&((null==o?void 0:o.getVideoType())===ar.VideoType.CAMERA||n._usesUnifiedPlan||!n.isSharingLowFpsScreen())&&(e=n.simulcast.mungeLocalDescription(e),n.trace("create"+r+" OnSuccess::postTransform (simulcast)",wa(e))),!n.options.disableRtx&&An.usesSdpMungingForSimulcast()&&(e=new RTCSessionDescription({type:e.type,sdp:n.rtxModifier.modifyRtxSsrcs(e.sdp)}),n.trace("create"+r+"OnSuccess::postTransform (rtx modifier)",wa(e)));var s=n._extractSSRCMap(e);n._processLocalSSRCsMap(s),t(e)}catch(t){n.trace("create"+r+"OnError",t),n.trace("create"+r+"OnError",wa(e)),Na.error(n+" create"+r+"OnError",t,wa(e)),i(t)}},o=function(t,i){n.trace("create"+r+"OnFailure",t);var o=e?sr.default.CREATE_OFFER_FAILED:sr.default.CREATE_ANSWER_FAILED;n.eventEmitter.emit(o,t,n),i(t)};if(this._usesTransceiverCodecPreferences){var s=this.peerconnection.getTransceivers().find(function(e){var t,n;return e.receiver&&(null===(t=e.receiver)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.kind)===Bn.VIDEO});if(s){var a,c,u,d=null===(a=RTCRtpReceiver.getCapabilities(Bn.VIDEO))||void 0===a?void 0:a.codecs,l=null===(c=this.codecPreference)||void 0===c?void 0:c.mimeType,h=null===(u=this.codecPreference)||void 0===u?void 0:u.enable;d&&l&&h?d.sort(function(e){return e.mimeType.toLowerCase()===Bn.VIDEO+"/"+l?-1:1}):d&&l&&(d=d.filter(function(e){return e.mimeType.toLowerCase()!==Bn.VIDEO+"/"+l})),An.isChromiumBased()&&(d=d.filter(function(e){return e.mimeType.toLowerCase()!==Bn.VIDEO+"/"+mo.ULPFEC}));try{s.setCodecPreferences(d)}catch(e){Na.warn(this+" Setting codec[preference="+l+",enable="+h+"] failed",e)}}}return new Promise(function(r,s){(e?n.peerconnection.createOffer(t):n.peerconnection.createAnswer(t)).then(function(e){return i(e,r,s)},function(e){return o(e,s)})})},Ma.prototype._extractPrimarySSRC=function(e){return e&&e.groups&&e.groups.length?e.groups[0].ssrcs[0]:e&&e.ssrcs&&e.ssrcs.length?e.ssrcs[0]:null},Ma.prototype._processLocalSSRCsMap=function(e){for(var t,n=_createForOfIteratorHelperLoose(this.localTracks.values());!(t=n()).done;){var r=t.value,i=this._usesUnifiedPlan?r.getType():r.storedMSID;if(e.has(i)){var o=e.get(i);if(!o)return void Na.error(this+" No SSRC found for stream="+i);var s=this.localSSRCs.get(r.rtcId),a=this._extractPrimarySSRC(o),c=this._extractPrimarySSRC(s);a!==c&&(c&&Na.error(this+" Overwriting SSRC for track="+r+"] with ssrc="+o),this.localSSRCs.set(r.rtcId,o),this.eventEmitter.emit(sr.default.LOCAL_TRACK_SSRC_UPDATED,r,a))}else r.isVideoTrack()||r.isMuted()||Na.warn(this+" No SSRCs found in the local SDP for track="+r+", stream="+i)}},Ma.prototype.addIceCandidate=function(e){return this.trace("addIceCandidate",JSON.stringify({candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex,usernameFragment:e.usernameFragment},null," ")),this.peerconnection.addIceCandidate(e)},Ma.prototype.getActiveSimulcastStreams=function(){var e,t=1;return this.isSimulcastOn()&&this.encodingsEnabledState?t=null===(e=this.encodingsEnabledState.filter(function(e){return Boolean(e)}))||void 0===e?void 0:e.length:this.isSimulcastOn()&&(t=Oa.length),t},Ma.prototype.getStats=function(){return this.peerconnection.getStats()},Ma.prototype.generateNewStreamSSRCInfo=function(e){var t=e.rtcId,n=this._getSSRC(t);if(n&&Na.error(this+" Overwriting local SSRCs for track id="+t),!this.isSimulcastOn()||e.getVideoType()!==ar.VideoType.CAMERA&&this.isSharingLowFpsScreen())n={ssrcs:[bo.generateSsrc()],groups:[]};else{n={ssrcs:[],groups:[]};for(var r=0;r<Oa.length;r++)n.ssrcs.push(bo.generateSsrc());n.groups.push({ssrcs:n.ssrcs.slice(),semantics:"SIM"})}if(!this.options.disableRtx)for(var i=n.ssrcs.length,o=0;o<i;++o){var s=n.ssrcs[o],a=bo.generateSsrc();n.ssrcs.push(a),n.groups.push({ssrcs:[s,a],semantics:"FID"})}return n.msid=e.storedMSID,this.localSSRCs.set(t,n),n},Ma.prototype.usesUnifiedPlan=function(){return this._usesUnifiedPlan},Ma.prototype.toString=function(){return"TPC[id="+this.id+",type="+(this.isP2P?"P2P":"JVB")+"]"};var xa,Fa=(0,v.getLogger)("modules/RTC/RTC.js"),Ua=0,Va=0;function ja(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var t=e.sourceId,n=e.sourceType,r=e.stream,i=e.track,o=e.videoType,s=e.effects,a=i.getSettings(),c=a.deviceId,u=a.facingMode;return Va=Vn(Va),new Js({deviceId:c,facingMode:u,mediaType:i.kind,rtcId:Va,sourceId:t,sourceType:n,stream:r,track:i,videoType:o||null,effects:s})})}var Ha=(function(e){_inherits(n,Fr);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r=t.call(this)).conference=e,r.peerConnections=new Map,r.localTracks=[],r.options=i,r._channel=null,r._lastN=void 0,r._lastNEndpoints=null,r._forwardedSources=null,r._maxFrameHeight=void 0,r._selectedEndpoints=null,r._lastNChangeListener=r._onLastNChanged.bind(_assertThisInitialized(r)),r._forwardedSourcesChangeListener=r._onForwardedSourcesChanged.bind(_assertThisInitialized(r)),r._onDeviceListChanged=r._onDeviceListChanged.bind(_assertThisInitialized(r)),r._updateAudioOutputForAudioTracks=r._updateAudioOutputForAudioTracks.bind(_assertThisInitialized(r)),r._videoType=hs().NONE,Us.isDeviceChangeAvailable("output")&&(Us.addListener(sr.default.AUDIO_OUTPUT_DEVICE_CHANGED,r._updateAudioOutputForAudioTracks),Us.addListener(sr.default.DEVICE_LIST_CHANGED,r._onDeviceListChanged)),r}return _createClass(n,[{key:"destroy",value:function(){Us.removeListener(sr.default.AUDIO_OUTPUT_DEVICE_CHANGED,this._updateAudioOutputForAudioTracks),Us.removeListener(sr.default.DEVICE_LIST_CHANGED,this._onDeviceListChanged),this._channelOpenListener&&this.removeListener(sr.default.DATA_CHANNEL_OPEN,this._channelOpenListener)}},{key:"initializeBridgeChannel",value:function(e,t){var n=this;this._channel=new fs(e,t,this.eventEmitter),this._channelOpenListener=function(){var e=function(e,t,n){Nn().callErrorHandler(e),Fa.error("Cannot send "+t+"("+JSON.stringify(n)+") endpoint message",e)};if(n._receiverVideoConstraints)try{n._channel.sendNewReceiverVideoConstraintsMessage(n._receiverVideoConstraints)}catch(t){e(t,"ReceiverVideoConstraints",n._receiverVideoConstraints)}if(n._selectedEndpoints)try{n._channel.sendSelectedEndpointsMessage(n._selectedEndpoints)}catch(t){e(t,"SelectedEndpointsChangedEvent",n._selectedEndpoints)}if(void 0!==n._maxFrameHeight)try{n._channel.sendReceiverVideoConstraintMessage(n._maxFrameHeight)}catch(t){e(t,"ReceiverVideoConstraint",n._maxFrameHeight)}if(void 0!==n._lastN&&-1!==n._lastN)try{n._channel.sendSetLastNMessage(n._lastN)}catch(t){e(t,"LastNChangedEvent",n._lastN)}if(!ui.isSourceNameSignalingEnabled())try{n._channel.sendVideoTypeMessage(n._videoType)}catch(t){e(t,"VideoTypeMessage",n._videoType)}n.removeListener(sr.default.DATA_CHANNEL_OPEN,n._channelOpenListener),n._channelOpenListener=null},this.addListener(sr.default.DATA_CHANNEL_OPEN,this._channelOpenListener),this.addListener(sr.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener),ui.isSourceNameSignalingEnabled()&&this.addListener(sr.default.FORWARDED_SOURCES_CHANGED,this._forwardedSourcesChangeListener)}},{key:"_onDeviceListChanged",value:function(){this._updateAudioOutputForAudioTracks(Us.getAudioOutputDevice())}},{key:"_onLastNChanged",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=this._lastNEndpoints||[];this._lastNEndpoints=r,e=i.filter(function(e){return!n.isInLastN(e)}),t=r.filter(function(e){return-1===i.indexOf(e)}),this.conference.eventEmitter.emit(de,e,t)}},{key:"_onForwardedSourcesChanged",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=this._forwardedSources||[];this._forwardedSources=r,e=i.filter(function(e){return!n.isInForwardedSources(e)}),t=r.filter(function(e){return-1===i.indexOf(e)}),this.conference.eventEmitter.emit(le,e,t,Date.now())}},{key:"onCallEnded",value:function(){this._channel&&(this._channel&&"websocket"===this._channel.mode&&this._channel.close(),this._channel=null)}},{key:"setDesktopSharingFrameRate",value:function(e){Us.setDesktopSharingFrameRate(e)}},{key:"setNewReceiverVideoConstraints",value:function(e){this._receiverVideoConstraints=e,this._channel&&this._channel.isOpen()&&this._channel.sendNewReceiverVideoConstraintsMessage(e)}},{key:"setReceiverVideoConstraint",value:function(e){this._maxFrameHeight=e,this._channel&&this._channel.isOpen()&&this._channel.sendReceiverVideoConstraintMessage(e)}},{key:"setVideoType",value:function(e){this._videoType!==e&&(this._videoType=e,this._channel&&this._channel.isOpen()&&this._channel.sendVideoTypeMessage(e))}},{key:"sendSourceVideoType",value:function(e,t){this._channel&&this._channel.isOpen()&&this._channel.sendSourceVideoTypeMessage(e,t)}},{key:"selectEndpoints",value:function(e){this._selectedEndpoints=e,this._channel&&this._channel.isOpen()&&this._channel.sendSelectedEndpointsMessage(e)}},{key:"createPeerConnection",value:function(e,t,n,r){var i=JSON.parse(JSON.stringify(Us.pcConstraints));void 0!==r.abtestSuspendVideo&&(Us.setSuspendVideo(i,r.abtestSuspendVideo),nr.analytics.addPermanentProperties({abtestSuspendVideo:r.abtestSuspendVideo})),r.enableInsertableStreams&&(Fa.debug("E2EE - setting insertable streams constraints"),t.encodedInsertableStreams=!0),(An.isReactNative()||An.isChromiumBased()&&!r.usesUnifiedPlan)&&(Fa.debug("WebRTC application is running in plan-b mode"),t.sdpSemantics="plan-b"),r.forceTurnRelay&&(t.iceTransportPolicy="relay"),t.bundlePolicy="max-bundle";var o=new Ma(this,Ua=Vn(Ua),e,t,i,n,r);return this.peerConnections.set(o.id,o),o}},{key:"_removePeerConnection",value:function(e){var t=e.id;return!!this.peerConnections.has(t)&&(this.peerConnections.delete(t),!0)}},{key:"addLocalTrack",value:function(e){if(!e)throw new Error("track must not be null nor undefined");this.localTracks.push(e),e.conference=this.conference}},{key:"getForwardedSources",value:function(){return this._forwardedSources}},{key:"getLocalVideoTrack",value:function(){var e=this.getLocalTracks(Bn.VIDEO);return e.length?e[0]:void 0}},{key:"getLocalVideoTracks",value:function(){return this.getLocalTracks(Bn.VIDEO)}},{key:"getLocalAudioTrack",value:function(){var e=this.getLocalTracks(Bn.AUDIO);return e.length?e[0]:void 0}},{key:"getLocalEndpointId",value:function(){return this.conference.myUserId()}},{key:"getLocalTracks",value:function(e){var t=this.localTracks.slice();return void 0!==e&&(t=t.filter(function(t){return t.getType()===e})),t}},{key:"getRemoteTracks",value:function(e){for(var t,n=[],r=_createForOfIteratorHelperLoose(this.peerConnections.values());!(t=r()).done;){var i=t.value.getRemoteTracks(void 0,e);i&&(n=n.concat(i))}return n}},{key:"setAudioMute",value:function(e){var t=[];return this.getLocalTracks(Bn.AUDIO).forEach(function(n){t.push(e?n.mute():n.unmute())}),Promise.all(t)}},{key:"setVideoMute",value:function(e){var t=[];return this.getLocalTracks(Bn.VIDEO).concat(this.getLocalTracks(Bn.PRESENTER)).forEach(function(n){t.push(e?n.mute():n.unmute())}),Promise.all(t)}},{key:"removeLocalTrack",value:function(e){var t=this.localTracks.indexOf(e);-1!==t&&this.localTracks.splice(t,1)}},{key:"closeBridgeChannel",value:function(){this._channel&&(this._channel.close(),this._channel=null,this.removeListener(sr.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener))}},{key:"setAudioLevel",value:function(e,t,n,r){var i=e.getTrackBySSRC(t);i&&(i.isAudioTrack()?(i.isLocal()!==r&&Fa.error(i+" was expected to "+(r?"be":"not be")+" local"),i.setAudioLevel(n,e)):Fa.warn("Received audio level for non-audio track: "+t))}},{key:"sendChannelMessage",value:function(e,t){if(!this._channel)throw new Error("Channel support is disabled!");this._channel.sendMessage(e,t)}},{key:"sendEndpointStatsMessage",value:function(e){this._channel&&this._channel.isOpen()&&this._channel.sendEndpointStatsMessage(e)}},{key:"setLastN",value:function(e){this._lastN!==e&&(this._lastN=e,this._channel&&this._channel.isOpen()&&this._channel.sendSetLastNMessage(e),this.eventEmitter.emit(sr.default.LASTN_VALUE_CHANGED,e))}},{key:"isInLastN",value:function(e){return!this._lastNEndpoints||this._lastNEndpoints.indexOf(e)>-1}},{key:"isInForwardedSources",value:function(e){return!this._forwardedSources||this._forwardedSources.indexOf(e)>-1}},{key:"_updateAudioOutputForAudioTracks",value:function(e){for(var t,n=_createForOfIteratorHelperLoose(this.getRemoteTracks(Bn.AUDIO));!(t=n()).done;){t.value.setAudioOutput(e)}}}],[{key:"createLocalTracks",value:function(e){return ja(e)}},{key:"obtainAudioAndVideoPermissions",value:function(e){return Us.obtainAudioAndVideoPermissions(e).then(function(e){return ja(e)})}},{key:"addListener",value:function(e,t){Us.addListener(e,t)}},{key:"removeListener",value:function(e,t){Us.removeListener(e,t)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=e,Us.init(this.options)}},{key:"attachMediaStream",value:function(e,t){return Us.attachMediaStream(e,t)}},{key:"getStreamID",value:function(e){return Us.getStreamID(e)}},{key:"getTrackID",value:function(e){return Us.getTrackID(e)}},{key:"isDeviceListAvailable",value:function(){return Us.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(e){return Us.isDeviceChangeAvailable(e)}},{key:"isWebRtcSupported",value:function(){return An.isSupported()}},{key:"getAudioOutputDevice",value:function(){return Us.getAudioOutputDevice()}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return Us.getCurrentlyAvailableMediaDevices()}},{key:"arePermissionsGrantedForAvailableDevices",value:function(){return Us.arePermissionsGrantedForAvailableDevices()}},{key:"getEventDataForActiveDevice",value:function(e){return Us.getEventDataForActiveDevice(e)}},{key:"setAudioOutputDevice",value:function(e){return Us.setAudioOutputDevice(e)}},{key:"isUserStream",value:function(e){return n.isUserStreamById(Us.getStreamID(e))}},{key:"isUserStreamById",value:function(e){return e&&"mixedmslabel"!==e&&"default"!==e}},{key:"enumerateDevices",value:function(e){Us.enumerateDevices(e)}},{key:"stopMediaStream",value:function(e){Us.stopMediaStream(e)}},{key:"isDesktopSharingEnabled",value:function(){return Us.isDesktopSharingEnabled()}}]),n})();!(function(e){e.LOCAL_STATS_UPDATED="cq.local_stats_updated",e.REMOTE_STATS_UPDATED="cq.remote_stats_updated"})(xa||(xa={}));var Ba,Ja=xa.LOCAL_STATS_UPDATED,Ga=xa.REMOTE_STATS_UPDATED,Ka=n(6125),qa=n(3408).VideoType,za=n(609).XMPPEvents,Wa=(0,v.getLogger)("modules/connectivity/ConnectionQuality.js"),Xa=[{width:1920,height:1080,layers:3,target:"high",targetRN:4e6},{width:1280,height:720,layers:3,target:"high",targetRN:25e5},{width:960,height:540,layers:3,target:"standard",targetRN:9e5},{width:640,height:360,layers:2,target:"standard",targetRN:5e5},{width:480,height:270,layers:2,target:"low",targetRN:35e4},{width:320,height:180,layers:1,target:"low",targetRN:15e4}],$a=800,Qa=(function(){function e(t,n,r){var i,o=this;_classCallCheck(this,e),this.eventEmitter=n,this._conference=t,this._localStats={connectionQuality:100,jvbRTT:void 0},this._lastConnectionQualityUpdate=-1,this._options=r,this._remoteStats={},this._timeIceConnected=-1,this._timeVideoUnmuted=-1,(null===(i=this._options.config)||void 0===i?void 0:i.startBitrate)>0&&($a=this._options.config.startBitrate),t.on(Y,function(){o._updateLocalConnectionQuality(0),o.eventEmitter.emit(Ja,o._localStats),o._broadcastLocalStats()}),t.room.addListener(za.ICE_CONNECTION_STATE_CHANGED,function(e,t){e.isP2P||"connected"!==t||(o._timeIceConnected=window.performance.now())}),t.on(oe,function(e,t){"stats"===t.type&&o._updateRemoteStats(e.getId(),t.values)}),t.on(se,function(e,t){o._updateRemoteStats(e.getId(),t)}),t.on(oe,function(e,t){"facial_expression"===t.type&&o.eventEmitter.emit(nt,e.getId(),t)}),t.statistics.addConnectionStatsListener(this._updateLocalStats.bind(this)),t.on(Ue,function(e){e.isVideoTrack()&&(e.isMuted()?o._timeVideoUnmuted=-1:o._maybeUpdateUnmuteTime())}),t.on(xe,function(e){e.isVideoTrack()&&!e.isMuted()&&o._maybeUpdateUnmuteTime()}),t.rtc.on(sr.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,function(e){o._localStats.maxEnabledResolution=e.maxEnabledResolution}),t.on(pe,function(e){o._localStats.serverRegion=e}),t.on(Ie,function(e){o._localStats.bridgeCount=Number((e||{})["bridge-count"])})}return _createClass(e,[{key:"_maybeUpdateUnmuteTime",value:function(){this._timeVideoUnmuted<0&&(this._timeVideoUnmuted=window.performance.now())}},{key:"_calculateConnectionQuality",value:function(e,t,n){var r,i=Ka[n],o=100;if(this._localStats.packetLoss&&(r=this._localStats.packetLoss.upload,t&&(r*=.5)),t||!i||e===qa.DESKTOP||this._timeIceConnected<0||this._timeVideoUnmuted<0)void 0===r?(Wa.error("Cannot calculate connection quality, unknown packet loss."),o=100):o=r<=2?100:r<=4?70:r<=6?50:r<=8?30:r<=12?10:0;else{var s=this._conference.getActivePeerConnection();if(s){var a,c,u=s.isSimulcastOn(),d=s.getTargetVideoBitrates();d.codec=s.getConfiguredVideoCodec();var l=window.performance.now()-Math.max(this._timeVideoUnmuted,this._timeIceConnected),h=null!==(a=null===(c=this._options.config)||void 0===c?void 0:c.pcStatsInterval)&&void 0!==a?a:1e4,p=(function(e,t,n,r){var i=0,o=Math.min(t.height,t.width),s=Xa.find(function(e){return e.height<=o});if(s&&e&&r.codec===vo().VP8){var a=function(){var e=o;if(!(s=Xa.find(function(t){return t.height===e})))return"break";i+=An.isReactNative()?s.targetRN:r[s.target]};for(o=s.height;o>=180;o/=2){if("break"===a())break}}else s&&(i=An.isReactNative()?s.targetRN:r[s.target]);return Math.min(i/1e3,(function(e){return e>6e4?Number.MAX_SAFE_INTEGER:$a*Math.pow(1.08,e/1e3)})(Math.max(0,n-1e3)))})(u,i,l,d);p=Math.min(p,2500),l>h&&(o=100*this._localStats.bitrate.upload/p)}r&&r>=10&&(o=Math.min(o,30))}if(this._lastConnectionQualityUpdate>0){var f=this._localStats.connectionQuality,m=(window.performance.now()-this._lastConnectionQualityUpdate)/1e3;o=Math.min(o,f+2*m)}return Math.min(100,o)}},{key:"_updateLocalConnectionQuality",value:function(e){this._localStats.connectionQuality=e,this._lastConnectionQualityUpdate=window.performance.now()}},{key:"_broadcastLocalStats",value:function(){var e={bitrate:this._localStats.bitrate,packetLoss:this._localStats.packetLoss,connectionQuality:this._localStats.connectionQuality,jvbRTT:this._localStats.jvbRTT,serverRegion:this._localStats.serverRegion,maxEnabledResolution:this._localStats.maxEnabledResolution,avgAudioLevels:this._localStats.localAvgAudioLevels};try{this._conference.sendEndpointStatsMessage(e)}catch(e){}}},{key:"_updateLocalStats",value:function(e,t){if(!e.isP2P){var n=t.transport&&t.transport.length&&t.transport[0].rtt;this._localStats.jvbRTT=n||void 0}if(e===this._conference.getActivePeerConnection()){var r,i=!this._conference.isConnectionInterrupted(),o=this._conference.getLocalVideoTrack(),s=o?o.videoType:void 0,a=!o||o.isMuted(),c=o?Math.min(o.resolution,o.maxEnabledResolution):null;for(r in a||this._maybeUpdateUnmuteTime(),t)t.hasOwnProperty(r)&&(this._localStats[r]=t[r]);i&&this._updateLocalConnectionQuality(this._calculateConnectionQuality(s,a,c)),this.eventEmitter.emit(Ja,this._localStats),this._broadcastLocalStats()}}},{key:"_updateRemoteStats",value:function(e,t){this._remoteStats[e]={bitrate:t.bitrate,packetLoss:t.packetLoss,connectionQuality:t.connectionQuality,jvbRTT:t.jvbRTT,serverRegion:t.serverRegion,maxEnabledResolution:t.maxEnabledResolution,avgAudioLevels:t.avgAudioLevels},this.eventEmitter.emit(Ga,e,this._remoteStats[e])}},{key:"getStats",value:function(){return this._localStats}}]),e})(),Ya=(0,v.getLogger)("modules/connectivity/IceFailedHandling.js"),Za=(function(){function e(t){_classCallCheck(this,e),this._conference=t}return _createClass(e,[{key:"_actOnIceFailed",value:function(){if(this._conference.room){var e=this._conference.options.config,t=e.enableForcedReload,n=e.enableIceRestart,r=void 0!==n&&!n,i=this._conference.room.supportsRestartByTerminate(),o=i&&!n;if(Ya.info("ICE failed, enableForcedReload: "+t+", enableIceRestart: "+n+", supports restart by terminate: "+i),r||!n&&!i||t){Ya.info("ICE failed, but ICE restarts are disabled");var s=t?R:N;this._conference.eventEmitter.emit(K,s)}else{var a=this._conference.jvbJingleSession,c=a&&a.getIceConnectionState();a?"connected"===c?Ya.info("ICE connection restored - not sending ICE failed"):(Ya.info("Sending ICE failed - the connection did not recover, ICE state: "+c+", use 'session-terminate': "+o),o?this._conference.jvbJingleSession.terminate(function(){Ya.info("session-terminate for ice restart - done")},function(e){Ya.error("session-terminate for ice restart - error: "+e.message)},{reason:"connectivity-error",reasonDescription:"ICE FAILED",requestRestart:!0,sendSessionTerminate:!0}):this._conference.jvbJingleSession.sendIceFailedNotification()):Ya.warn("Not sending ICE failed - no JVB connection")}}}},{key:"start",value:function(){var e=this;this._conference.xmpp.ping(65e3).then(function(){e._canceled||(e._iceFailedTimeout=window.setTimeout(function(){e._iceFailedTimeout=void 0,e._actOnIceFailed()},2e3))},function(e){Ya.error("PING error/timeout - not sending ICE failed",e)})}},{key:"cancel",value:function(){this._canceled=!0,window.clearTimeout(this._iceFailedTimeout)}}]),e})();!(function(e){e.DETECTOR_STATE_CHANGE="detector_state_change",e.AUDIO_INPUT_STATE_CHANGE="audio_input_state_changed",e.NO_AUDIO_INPUT="no_audio_input_detected",e.VAD_NOISY_DEVICE="detection.vad_noise_device",e.VAD_REPORT_PUBLISHED="vad-report-published",e.VAD_SCORE_PUBLISHED="detection.vad_score_published",e.VAD_TALK_WHILE_MUTED="detection.vad_talk_while_muted"})(Ba||(Ba={}));var ec=Ba.DETECTOR_STATE_CHANGE,tc=Ba.AUDIO_INPUT_STATE_CHANGE,nc=Ba.NO_AUDIO_INPUT,rc=Ba.VAD_NOISY_DEVICE,ic=Ba.VAD_REPORT_PUBLISHED,oc=Ba.VAD_SCORE_PUBLISHED,sc=Ba.VAD_TALK_WHILE_MUTED,ac=(function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._conference=e,r._timeoutTrigger=null,r._hasAudioInput=null,An.supportsReceiverStats()||e.statistics.addAudioLevelListener(r._audioLevel.bind(_assertThisInitialized(r))),e.on(xe,r._trackAdded.bind(_assertThisInitialized(r))),r}return _createClass(n,[{key:"_clearTriggerTimeout",value:function(){clearTimeout(this._timeoutTrigger),this._timeoutTrigger=null}},{key:"_handleAudioInputStateChange",value:function(e){var t=0!==e;null!==this._hasAudioInput&&this._hasAudioInput===t||(this._hasAudioInput=t,this.emit(tc,this._hasAudioInput))}},{key:"_handleNoAudioInputDetection",value:function(e){var t=this;this._eventFired||(0!==e||this._timeoutTrigger?0!==e&&this._timeoutTrigger&&this._clearTriggerTimeout():this._timeoutTrigger=setTimeout(function(){t._eventFired=!0,t.emit(nc)},4e3))}},{key:"_audioLevel",value:function(e,t,n,r){if(r&&this._audioTrack){var i=e.localSSRCs.get(this._audioTrack.rtcId);i&&i.ssrcs.includes(t)&&(this._handleAudioInputStateChange(n),this._handleNoAudioInputDetection(n))}}},{key:"_trackAdded",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._audioTrack=e,this._eventFired=!1,this._clearTriggerTimeout(),An.supportsReceiverStats()&&(e.on(Sr,function(e){t._handleNoAudioInputDetection(e)}),e.on(mr,function(e){t._handleNoAudioInputDetection(e),t._handleAudioInputStateChange(e)})))}}]),n})(st()),cc=(function(){function e(t){_classCallCheck(this,e),this.conference=t,t.addEventListener(Fe,this._audioLevel.bind(this)),this.myUserID=this.conference.myUserId()}return _createClass(e,[{key:"_audioLevel",value:function(e,t){!this.conference.isP2PActive()||t<=.6||e===this.myUserID&&this.conference.getLocalAudioTrack().isMuted()||this.conference.rtc.eventEmitter.emit(sr.default.DOMINANT_SPEAKER_CHANGED,e)}}]),e})();function uc(e){var t=window.AudioContext||window.webkitAudioContext;if(t)return new t(e)}var dc,lc=(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._procNodeSampleRate=e,o._vadProcessor=r,o._localTrack=i,o._bufferResidue=new Float32Array([]),o._audioContext=uc({sampleRate:r.getRequiredPCMFrequency()}),o._vadSampleSize=r.getSampleLength(),o._onAudioProcess=o._onAudioProcess.bind(_assertThisInitialized(o)),o._initializeAudioContext(),o}return _createClass(n,[{key:"_initializeAudioContext",value:function(){this._audioSource=this._audioContext.createMediaStreamSource(this._localTrack.stream),this._audioProcessingNode=this._audioContext.createScriptProcessor(this._procNodeSampleRate,1,1)}},{key:"_onAudioProcess",value:function(e){for(var t=e.inputBuffer.getChannelData(0),n=[].concat(_toConsumableArray(this._bufferResidue),_toConsumableArray(t)),r=Date.now(),i=0;i+this._vadSampleSize<n.length;i+=this._vadSampleSize){var o=n.slice(i,i+this._vadSampleSize),s=this._vadProcessor.calculateAudioFrameVAD(o.slice());this.emit(oc,{timestamp:r,score:s,pcmData:o,deviceId:this._localTrack.getDeviceId()})}this._bufferResidue=n.slice(i,n.length)}},{key:"_connectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=this._onAudioProcess,this._audioSource.connect(this._audioProcessingNode),this._audioProcessingNode.connect(this._audioContext.destination)}},{key:"_disconnectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=function(){},this._audioProcessingNode.disconnect(),this._audioSource.disconnect()}},{key:"_cleanupResources",value:function(){this._disconnectAudioGraph(),this._localTrack.stopStream()}},{key:"getDeviceId",value:function(){return this._localTrack.getDeviceId()}},{key:"getTrackLabel",value:function(){return this._localTrack.getDeviceLabel()}},{key:"start",value:function(){this._connectAudioGraph()}},{key:"stop",value:function(){this._disconnectAudioGraph(),this._bufferResidue=[]}},{key:"destroy",value:function(){this._destroyed||(this._cleanupResources(),this._destroyed=!0)}}],[{key:"create",value:function(e,t,r){return Ha.obtainAudioAndVideoPermissions({devices:["audio"],micDeviceId:e}).then(function(i){if(!i[0])throw new Error("Failed to create jitsi local track for device id: "+e);return new n(t,r,i[0])})}}]),n})(st()),hc=(0,v.getLogger)("modules/detection/VADAudioAnalyser.js"),pc=(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._createVADProcessor=r,i._vadEmitter=null,i._isVADEmitterRunning=!1,i._detectionServices=[],i._vadInitTracker=Promise.resolve(),i._processVADScore=i._processVADScore.bind(_assertThisInitialized(i)),e.on(xe,i._trackAdded.bind(_assertThisInitialized(i))),e.on(Ve,i._trackRemoved.bind(_assertThisInitialized(i))),e.on(Ue,i._trackMuteChanged.bind(_assertThisInitialized(i))),i}return _createClass(n,[{key:"addVADDetectionService",value:function(e){var t=this;this._detectionServices.push(e),e.on(ec,function(){!t._detectionServices.filter(function(e){return!0===e.isActive()}).length&&t._isVADEmitterRunning?t._stopVADEmitter():t._isVADEmitterRunning||t._startVADEmitter()})}},{key:"_startVADEmitter",value:function(){this._vadEmitter&&(this._vadEmitter.on(oc,this._processVADScore),this._vadEmitter.start(),this._isVADEmitterRunning=!0)}},{key:"_stopVADEmitter",value:function(){this._vadEmitter&&(this._vadEmitter.removeListener(oc,this._processVADScore),this._vadEmitter.stop()),this._isVADEmitterRunning=!1}},{key:"_processVADScore",value:function(e){for(var t,n=_createForOfIteratorHelperLoose(this._detectionServices);!(t=n()).done;){t.value.processVADScore(e)}}},{key:"_changeDetectorsMuteState",value:function(e){for(var t,n=_createForOfIteratorHelperLoose(this._detectionServices);!(t=n()).done;){t.value.changeMuteState(e)}}},{key:"_trackAdded",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){return t._createVADProcessor()}).then(function(t){return lc.create(e.getDeviceId(),4096,t)}).then(function(n){hc.debug("Created VAD emitter for track: ",e.getTrackLabel()),t._vadEmitter=n,t._changeDetectorsMuteState(e.isMuted())}).catch(function(e){hc.warn("Failed to start VADAudioAnalyser",e)}))}},{key:"_trackMuteChanged",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){t._changeDetectorsMuteState(e.isMuted())}))}},{key:"_trackRemoved",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){hc.debug("Removing track from VAD detection - ",e.getTrackLabel()),t._vadEmitter&&(t._stopVADEmitter(),t._vadEmitter.destroy(),t._vadEmitter=null);for(var n,r=_createForOfIteratorHelperLoose(t._detectionServices);!(n=r()).done;){n.value.reset()}}))}}]),n})(ot.EventEmitter),fc=(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._processing=!1,e._scoreArray=[],e._audioLvlArray=[],e._active=!1,e._calculateNoisyScore=e._calculateNoisyScore.bind(_assertThisInitialized(e)),e}return _createClass(n,[{key:"_calculateNoisyScore",value:function(){var e=jn(this._scoreArray),t=jn(this._audioLvlArray);e<.2&&t>.04&&(this.emit(rc),this._setActiveState(!1)),this.reset()}},{key:"_recordValues",value:function(e,t){this._scoreArray.push(e),this._audioLvlArray.push(t)}},{key:"_setActiveState",value:function(e){this._active=e,this.emit(ec,this._active)}},{key:"changeMuteState",value:function(e){this._setActiveState(!e),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],this._audioLvlArray=[],clearTimeout(this._processTimeout)}},{key:"processVADScore",value:function(e){if(this._active)if(this._processing){var t=Hn(e.pcmData);this._recordValues(e.score,jn(t))}else if(e.score<.2){var n=jn(Hn(e.pcmData));n>.02&&(this._processing=!0,this._recordValues(e.score,n),this._processTimeout=setTimeout(this._calculateNoisyScore,1500))}}}]),n})(ot.EventEmitter),mc=(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._processing=!1,e._scoreArray=[],e._active=!1,e._calculateVADScore=e._calculateVADScore.bind(_assertThisInitialized(e)),e}return _createClass(n,[{key:"_calculateVADScore",value:function(){jn(this._scoreArray)>.6&&(this.emit(sc),this._setActiveState(!1)),this.reset()}},{key:"_setActiveState",value:function(e){this._active=e,this.emit(ec,this._active)}},{key:"changeMuteState",value:function(e){this._setActiveState(e),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"processVADScore",value:function(e){this._active&&(this._processing?this._scoreArray.push(e.score):e.score>.9&&(this._processing=!0,this._scoreArray.push(e.score),this._processTimeout=setTimeout(this._calculateVADScore,700)))}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],clearTimeout(this._processTimeout)}}]),n})(ot.EventEmitter);(dc||(dc={})).E2E_RTT_CHANGED="e2eping.e2e_rtt_changed";var vc=dc.E2E_RTT_CHANGED,_c=(0,v.getLogger)("modules/e2eping/e2eping.js"),gc="e2e-ping-request",yc="e2e-ping-response",Sc=(function(){function e(t,n){_classCallCheck(this,e),this.participant=t,this.e2eping=n,this.id=t.getId(),this.requests={},this.lastRequestId=1,this.clearIntervals=this.clearIntervals.bind(this),this.sendRequest=this.sendRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.maybeSendAnalytics=this.maybeSendAnalytics.bind(this),this.sendAnalytics=this.sendAnalytics.bind(this),n.isDataChannelOpen&&this.sendRequest(),this.pingInterval=window.setInterval(this.sendRequest,n.pingIntervalMs),this.analyticsInterval=window.setTimeout(this.maybeSendAnalytics,this.e2eping.analyticsIntervalMs)}return _createClass(e,[{key:"clearIntervals",value:function(){this.pingInterval&&window.clearInterval(this.pingInterval),this.analyticsInterval&&window.clearInterval(this.analyticsInterval)}},{key:"sendRequest",value:function(){var e=this.lastRequestId++,t={type:gc,id:e};this.e2eping.sendMessage(t,this.id),this.requests[e]={id:e,timeSent:window.performance.now()}}},{key:"handleResponse",value:function(e){var t=this.requests[e.id];t&&(t.rtt=window.performance.now()-t.timeSent,this.e2eping.eventEmitter.emit(vc,this.participant,t.rtt)),this.maybeSendAnalytics()}},{key:"maybeSendAnalytics",value:function(){var e,t,n=window.performance.now(),r=1/0;for(t in this.requests)this.requests.hasOwnProperty(t)&&((e=this.requests[t]).timeSent<n-this.e2eping.analyticsIntervalMs?delete this.requests[t]:e.rtt&&(r=Math.min(r,e.rtt)));r<1/0&&this.sendAnalytics(r)}},{key:"sendAnalytics",value:function(e){nr.sendAnalytics((function(e,t,n){return{attributes:{participant_id:e,region:t,rtt:n},name:"e2e_rtt",type:Rt.TYPE_OPERATIONAL}})(this.id,this.participant.getProperty("region"),e))}}]),e})(),Ec=(function(){function e(t,n,r){_classCallCheck(this,e),this.conference=t,this.eventEmitter=t.eventEmitter,this.sendMessage=r,this.pingIntervalMs=1e4,this.analyticsIntervalMs=6e4,this.participants={},this.isDataChannelOpen=!1,n&&n.e2eping&&("number"==typeof n.e2eping.pingInterval&&(this.pingIntervalMs=n.e2eping.pingInterval),"number"==typeof n.e2eping.analyticsInterval&&(this.analyticsIntervalMs=n.e2eping.analyticsInterval),this.analyticsIntervalMs>0&&this.analyticsIntervalMs<this.pingIntervalMs&&(this.analyticsIntervalMs=this.pingIntervalMs)),_c.info("Initializing e2e ping; pingInterval="+this.pingIntervalMs+", analyticsInterval="+this.analyticsIntervalMs+"."),this.participantJoined=this.participantJoined.bind(this),t.on(Be,this.participantJoined),this.participantLeft=this.participantLeft.bind(this),t.on(Je,this.participantLeft),this.messageReceived=this.messageReceived.bind(this),t.on(oe,this.messageReceived),this.dataChannelOpened=this.dataChannelOpened.bind(this),t.on(ee,this.dataChannelOpened)}return _createClass(e,[{key:"dataChannelOpened",value:function(){for(var e in this.isDataChannelOpen=!0,this.participants)if(this.participants.hasOwnProperty(e)){var t=this.participants[e];window.setTimeout(t.sendRequest,200)}}},{key:"messageReceived",value:function(e,t){t.type===gc?this.handleRequest(e.getId(),t):t.type===yc&&this.handleResponse(e.getId(),t)}},{key:"participantJoined",value:function(e,t){this.pingIntervalMs<=0||(this.participants[e]&&(_c.info("Participant wrapper already exists for "+e+". Clearing."),this.participants[e].clearIntervals(),delete this.participants[e]),this.participants[e]=new Sc(t,this))}},{key:"participantLeft",value:function(e){this.pingIntervalMs<=0||this.participants[e]&&(this.participants[e].clearIntervals(),delete this.participants[e])}},{key:"handleRequest",value:function(e,t){if(t&&t.id){var n={type:yc,id:t.id};this.sendMessage(n,e)}else _c.info("Received an invalid e2e ping request from "+e+".")}},{key:"handleResponse",value:function(e,t){var n=this.participants[e];n&&n.handleResponse(t)}},{key:"stop",value:function(){for(var e in _c.info("Stopping e2eping"),this.conference.off(Be,this.participantJoined),this.conference.off(Je,this.participantLeft),this.conference.off(oe,this.messageReceived),this.conference.off(ee,this.dataChannelOpened),this.participants)this.participants.hasOwnProperty(e)&&this.participants[e].clearIntervals();this.participants={}}}]),e})(),Cc=(0,v.getLogger)("modules/event/Jvb121EventGenerator.js"),Tc=(function(){function e(t){var n=this;_classCallCheck(this,e),this._conference=t,this._jvb121=!0,this._conference.addEventListener(Be,function(){return n.evaluateStatus()}),this._conference.addEventListener(Je,function(){return n.evaluateStatus()}),this._conference.addEventListener(Re,function(){return n.evaluateStatus()})}return _createClass(e,[{key:"evaluateStatus",value:function(){var e=this._jvb121,t=!this._conference.isP2PActive()&&this._conference.getParticipantCount()<=2;e!==t&&(this._jvb121=t,Cc.debug("JVB121 status "+e+" => "+t),this._conference.eventEmitter.emit(ae,e,t))}}]),e})(),bc=(0,v.getLogger)("modules/qualitycontrol/ReceiveVideoController.js"),Rc=(function(){function e(){_classCallCheck(this,e),this._defaultConstraints={maxHeight:180},this._lastN=-1,this._maxFrameHeight=2160,this._selectedEndpoints=[],this._receiverVideoConstraints={constraints:{},defaultConstraints:this.defaultConstraints,lastN:this._lastN,onStageEndpoints:[],selectedEndpoints:this._selectedEndpoints}}return _createClass(e,[{key:"constraints",get:function(){return this._receiverVideoConstraints.lastN=this._lastN,this._selectedEndpoints.length?(this._receiverVideoConstraints.constraints={},this._selectedEndpoints.length>1?(this._receiverVideoConstraints.defaultConstraints={maxHeight:this._maxFrameHeight},this._receiverVideoConstraints.onStageEndpoints=[],this._receiverVideoConstraints.selectedEndpoints=[]):(this._receiverVideoConstraints.constraints[this._selectedEndpoints[0]]={maxHeight:this._maxFrameHeight},this._receiverVideoConstraints.defaultConstraints=this._defaultConstraints,this._receiverVideoConstraints.onStageEndpoints=this._selectedEndpoints,this._receiverVideoConstraints.selectedEndpoints=[]),this._receiverVideoConstraints):this._receiverVideoConstraints}},{key:"updateLastN",value:function(e){var t=this._lastN!==e;return t&&(this._lastN=e,bc.debug("Updating ReceiverVideoConstraints lastN("+e+")")),t}},{key:"updateReceiveResolution",value:function(e){var t=this._maxFrameHeight!==e;return t&&(this._maxFrameHeight=e,bc.debug("Updating receive maxFrameHeight: "+e)),t}},{key:"updateReceiverVideoConstraints",value:function(e){var t=!ct()(this._receiverVideoConstraints,e);return t&&(this._receiverVideoConstraints=e,bc.debug("Updating ReceiverVideoConstraints "+JSON.stringify(e))),t}},{key:"updateSelectedEndpoints",value:function(e){bc.debug("Updating selected endpoints: "+JSON.stringify(e)),this._selectedEndpoints=e}}]),e})(),Ac=(function(){function e(t,n){var r,i,o=this;_classCallCheck(this,e),this._conference=t,this._rtc=n;var s=t.options.config;this._lastN=null!==(r=null==s?void 0:s.startLastN)&&void 0!==r?r:(null==s?void 0:s.channelLastN)||-1,this._maxFrameHeight=2160,null===(i=null==s?void 0:s.useNewBandwidthAllocationStrategy)||void 0===i||i?(this._receiverVideoConstraints=new Rc,this._receiverVideoConstraints.updateLastN(this._lastN)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints)):this._rtc.setLastN(this._lastN),this._selectedEndpoints=[],this._conference.on(fe,function(e){return o._onMediaSessionStarted(e)})}return _createClass(e,[{key:"_onMediaSessionStarted",value:function(e){e.isP2P||!this._receiverVideoConstraints?e.setReceiverVideoConstraint(this._maxFrameHeight):(this._receiverVideoConstraints.updateReceiveResolution(this._maxFrameHeight),this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints))}},{key:"getLastN",value:function(){return this._lastN}},{key:"selectEndpoints",value:function(e){var t=this;if(this._selectedEndpoints=e,this._receiverVideoConstraints){var n=e.filter(function(e){return e!==t._conference.myUserId()}),r=JSON.parse(JSON.stringify(this._receiverVideoConstraints.constraints));n.length&&this._receiverVideoConstraints.updateSelectedEndpoints(n);var i=this._receiverVideoConstraints.constraints;ct()(i,r)||this._rtc.setNewReceiverVideoConstraints(i)}else this._rtc.selectEndpoints(e)}},{key:"setLastN",value:function(e){if(this._lastN!==e){if(this._lastN=e,this._receiverVideoConstraints)return void(this._receiverVideoConstraints.updateLastN(e)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints));this._rtc.setLastN(e)}}},{key:"setPreferredReceiveMaxFrameHeight",value:function(e){this._maxFrameHeight=e;for(var t,n=_createForOfIteratorHelperLoose(this._conference.getMediaSessions());!(t=n()).done;){var r=t.value;r.isP2P||!this._receiverVideoConstraints?e&&r.setReceiverVideoConstraint(e):this._receiverVideoConstraints.updateReceiveResolution(e)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints)}}},{key:"setReceiverConstraints",value:function(e){this._receiverVideoConstraints||(this._receiverVideoConstraints=new Rc);var t=Object.keys(e).includes("onStageEndpoints","selectedEndpoints"),n=Object.keys(e).includes("onStageSources","selectedSources");if(!ui.isSourceNameSignalingEnabled()&&n)throw new Error('"onStageSources" and "selectedSources" are not supported when sourceNameSignaling is disabled.');if(ui.isSourceNameSignalingEnabled()&&t)throw new Error('"onStageEndpoints" and "selectedEndpoints" are not supported when sourceNameSignaling is enabled.');if(this._receiverVideoConstraints.updateReceiverVideoConstraints(e)){var r,i;this._lastN=null!==(r=e.lastN)&&void 0!==r?r:this._lastN,this._selectedEndpoints=null!==(i=e.selectedEndpoints)&&void 0!==i?i:this._selectedEndpoints,this._rtc.setNewReceiverVideoConstraints(e);var o=this._conference.getMediaSessions().find(function(e){return e.isP2P});if(o){var s,a,c=null===(s=Object.values(e.constraints)[0])||void 0===s?void 0:s.maxHeight;c||(c=null===(a=e.defaultConstraints)||void 0===a?void 0:a.maxHeight),c&&o.setReceiverVideoConstraint(c)}}}}]),e})(),Ic=(0,v.getLogger)("modules/qualitycontrol/SendVideoController.js"),kc=(function(){function e(t,n){var r=this;_classCallCheck(this,e),this._conference=t,this._preferredSendMaxFrameHeight=2160,this._rtc=n,this._sourceSenderConstraints=new Map,this._conference.on(fe,function(e){return r._onMediaSessionStarted(e)}),this._conference.on(me,function(){return r._configureConstraintsForLocalSources()}),this._rtc.on(sr.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,function(e){return r._onSenderConstraintsReceived(e)})}return _createClass(e,[{key:"_configureConstraintsForLocalSources",value:function(){if(ui.isSourceNameSignalingEnabled())for(var e,t=_createForOfIteratorHelperLoose(this._rtc.getLocalVideoTracks());!(e=t()).done;){var n=e.value.getSourceName();n&&this._propagateSendMaxFrameHeight(n)}else this._propagateSendMaxFrameHeight()}},{key:"_onMediaSessionStarted",value:function(e){var t=this;e.addListener(jo.REMOTE_VIDEO_CONSTRAINTS_CHANGED,function(e){e===t._conference.getActiveMediaSession()&&t._configureConstraintsForLocalSources()})}},{key:"_onSenderConstraintsReceived",value:function(e){var t;if(ui.isSourceNameSignalingEnabled())for(var n,r,i=e.maxHeight,o=e.sourceName,s=_createForOfIteratorHelperLoose(null!==(n=this._conference.getLocalVideoTracks())&&void 0!==n?n:[]);!(r=s()).done;){r.value.getSourceName()!==o||this._sourceSenderConstraints.has(o)&&this._sourceSenderConstraints.get(o)===i||(this._sourceSenderConstraints.set(o,i),Ic.debug("Sender constraints for source:"+o+" changed to maxHeight:"+i),this._propagateSendMaxFrameHeight(o))}else(null===(t=this._senderVideoConstraints)||void 0===t?void 0:t.idealHeight)!==e.idealHeight&&(this._senderVideoConstraints=e,this._propagateSendMaxFrameHeight())}},{key:"_propagateSendMaxFrameHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(ui.isSourceNameSignalingEnabled()&&!e)throw new Error("sourceName missing for calculating the sendMaxHeight for video tracks");var t=this._selectSendMaxFrameHeight(e),n=[];if(t>=0)for(var r,i=_createForOfIteratorHelperLoose(this._conference.getMediaSessions());!(r=i()).done;){var o=r.value;n.push(o.setSenderVideoConstraint(t,e))}return Promise.all(n)}},{key:"_selectSendMaxFrameHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(ui.isSourceNameSignalingEnabled()&&!t)throw new Error("sourceName missing for calculating the sendMaxHeight for video tracks");var n=this._conference.getActiveMediaSession(),r=n?n.isP2P?n.getRemoteRecvMaxFrameHeight():t?this._sourceSenderConstraints.get(t):null===(e=this._senderVideoConstraints)||void 0===e?void 0:e.idealHeight:void 0;return this._preferredSendMaxFrameHeight>=0&&r>=0?Math.min(this._preferredSendMaxFrameHeight,r):r>=0?r:this._preferredSendMaxFrameHeight}},{key:"setPreferredSendMaxFrameHeight",value:function(e){if(this._preferredSendMaxFrameHeight=e,ui.isSourceNameSignalingEnabled()){for(var t,n=[],r=_createForOfIteratorHelperLoose(this._sourceSenderConstraints.keys());!(t=r()).done;){var i=t.value;n.push(this._propagateSendMaxFrameHeight(i))}return Promise.allSettled(n)}return this._propagateSendMaxFrameHeight()}}]),e})(),Pc={getFocusRecordingUpdate:function(e){var t=e&&e.getElementsByTagName("jibri-recording-status")[0];if(t)return{error:t.getAttribute("failure_reason"),initiator:t.getAttribute("initiator"),recordingMode:t.getAttribute("recording_mode"),sessionID:t.getAttribute("session_id"),status:t.getAttribute("status")}},getHiddenDomainUpdate:function(e){var t=e.getElementsByTagName("live-stream-view-url")[0],n=t&&t.textContent,r=e.getElementsByTagName("mode")[0],i=r&&r.textContent&&r.textContent.toLowerCase(),o=e.getElementsByTagName("session_id")[0];return{liveStreamViewURL:n,mode:i,sessionID:o&&o.textContent}},getSessionIdFromIq:function(e){var t=e&&e.getElementsByTagName("jibri")[0];return t&&t.getAttribute("session_id")},getSessionId:function(e){var t=e.getElementsByTagName("session_id")[0];return t&&t.textContent},isFromFocus:function(e){return e.getAttribute("from").includes("focus")}},Oc=(function(){function e(){_classCallCheck(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._connection=t.connection,this._mode=t.mode,this._setSessionID(t.sessionID),this.setStatus(t.status)}return _createClass(e,[{key:"getError",value:function(){return this._error}},{key:"getID",value:function(){return this._sessionID}},{key:"getInitiator",value:function(){return this._initiator}},{key:"getLiveStreamViewURL",value:function(){return this._liveStreamViewURL}},{key:"getStatus",value:function(){return this._status}},{key:"getTerminator",value:function(){return this._terminator}},{key:"getMode",value:function(){return this._mode}},{key:"setError",value:function(e){this._error=e}},{key:"setLiveStreamViewURL",value:function(e){this._liveStreamViewURL=e}},{key:"setStatus",value:function(e){this._status=e}},{key:"setInitiator",value:function(e){this._initiator=e}},{key:"setTerminator",value:function(e){this._terminator=e}},{key:"start",value:function(e){var t=this,n=e.appData,r=e.broadcastId,i=e.focusMucJid,o=e.streamId;return new Promise(function(e,s){t._connection.sendIQ(t._createIQ({action:"start",appData:n,focusMucJid:i,broadcastId:r,streamId:o}),function(n){t.setStatus("pending"),t._setSessionID(Pc.getSessionIdFromIq(n)),e()},function(e){t._setErrorFromIq(e),s(e)})})}},{key:"stop",value:function(e){var t=this,n=e.focusMucJid;return new Promise(function(e,r){t._connection.sendIQ(t._createIQ({action:"stop",focusMucJid:n}),e,r)})}},{key:"_createIQ",value:function(e){var t=e.action,n=e.appData,r=e.broadcastId,i=e.focusMucJid,o=e.streamId;return(0,ut.$iq)({to:i,type:"set"}).c("jibri",{xmlns:"http://jitsi.org/protocol/jibri",action:t,app_data:n,recording_mode:this._mode,streamid:o,you_tube_broadcast_id:r}).up()}},{key:"_setErrorFromIq",value:function(e){var t=e.getElementsByTagName("error")[0];this.setError(t.children[0].tagName)}},{key:"_setSessionID",value:function(e){this._sessionID=e}}]),e})(),Dc=(0,v.getLogger)("modules/recording/RecordingManager.js"),Nc=(0,v.getLogger)("modules/statistics/AudioOutputProblemDetector.js"),Mc=(function(){function e(t){_classCallCheck(this,e),this._conference=t,this._localAudioLevelCache={},this._reportedParticipants=[],this._audioProblemCandidates={},this._numberOfRemoteAudioLevelsReceived={},this._onLocalAudioLevelsReport=this._onLocalAudioLevelsReport.bind(this),this._onRemoteAudioLevelReceived=this._onRemoteAudioLevelReceived.bind(this),this._clearUserData=this._clearUserData.bind(this),this._conference.on(Ga,this._onRemoteAudioLevelReceived),this._conference.statistics.addConnectionStatsListener(this._onLocalAudioLevelsReport),this._conference.on(Je,this._clearUserData)}return _createClass(e,[{key:"_onRemoteAudioLevelReceived",value:function(e,t){var n=t.avgAudioLevels,r=this._numberOfRemoteAudioLevelsReceived[e]+1||0;if(this._numberOfRemoteAudioLevelsReceived[e]=r,!(-1!==this._reportedParticipants.indexOf(e)||e in this._audioProblemCandidates||n<=0||r<3)){var i=this._conference.getParticipantById(e);if(!(i&&i.getTracksByMediaType(Bn.AUDIO).length>0&&i.isAudioMuted())){var o=this._localAudioLevelCache[e];Array.isArray(o)&&!o.every(function(e){return 0===e})||(this._audioProblemCandidates[e]={remoteAudioLevels:n,localAudioLevels:[]})}}}},{key:"_onLocalAudioLevelsReport",value:function(e,t){var n=this,r=t.avgAudioLevels;e===this._conference.getActivePeerConnection()&&(Object.keys(r).forEach(function(e){if(-1===n._reportedParticipants.indexOf(e)){var t=n._localAudioLevelCache[e];Array.isArray(t)?t.length>=2&&t.shift():n._localAudioLevelCache[e]=[],n._localAudioLevelCache[e].push(r[e])}}),Object.keys(this._audioProblemCandidates).forEach(function(e){var t=n._audioProblemCandidates[e],i=t.localAudioLevels,o=t.remoteAudioLevels;if(i.push(r[e]),2===i.length){if(i.every(function(e){return void 0===e||0===e})){var s=JSON.stringify(i);nr.sendAnalytics((function(e,t,n){return{type:Rt.TYPE_OPERATIONAL,action:"audio.output.problem",attributes:{userID:e,localAudioLevels:t,remoteAudioLevels:n}}})(e,s,o)),Nc.warn("A potential problem is detected with the audio output for participant "+e+", local audio levels: "+s+", remote audio levels: "+o),n._reportedParticipants.push(e),n._clearUserData(e)}delete n._audioProblemCandidates[e]}}))}},{key:"_clearUserData",value:function(e){delete this._localAudioLevelCache[e]}},{key:"dispose",value:function(){this._conference.off(Ga,this._onRemoteAudioLevelReceived),this._conference.off(Je,this._clearUserData),this._conference.statistics.removeConnectionStatsListener(this._onLocalAudioLevelsReport),this._localAudioLevelCache=void 0,this._audioProblemCandidates=void 0,this._reportedParticipants=void 0,this._numberOfRemoteAudioLevelsReceived=void 0,this._conference=void 0}}]),e})(),wc=(0,v.getLogger)("modules/statistics/AvgRTPStatsReporter.js"),Lc=(function(){function e(t){_classCallCheck(this,e),this.name=t,this.count=0,this.sum=0,this.samples=[]}return _createClass(e,[{key:"addNext",value:function(e){"number"!=typeof e?wc.error(this.name+" - invalid value for idx: "+this.count,e):isNaN(e)||(this.sum+=e,this.samples.push(e),this.count+=1)}},{key:"calculate",value:function(){return this.sum/this.count}},{key:"appendReport",value:function(e){e[this.name+"_avg"]=this.calculate(),e[this.name+"_samples"]=JSON.stringify(this.samples)}},{key:"reset",value:function(){this.samples=[],this.sum=0,this.count=0}}]),e})(),xc=(function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.isP2P=n,this._n=r,this._sampleIdx=0,this._avgRTT=new Lc("rtt"),this._avgRemoteRTTMap=new Map,this._avgRtpStatsReporter=t,this._avgEnd2EndRTT=void 0,this._onConnectionStats=function(e,t){i.isP2P===e.isP2P&&i._calculateAvgStats(t)};var o=t._conference;o.statistics.addConnectionStatsListener(this._onConnectionStats),this.isP2P||(this._onUserLeft=function(e){return i._avgRemoteRTTMap.delete(e)},o.on(Je,this._onUserLeft),this._onRemoteStatsUpdated=function(e,t){return i._processRemoteStats(e,t)},o.on(Ga,this._onRemoteStatsUpdated))}return _createClass(e,[{key:"_calculateAvgStats",value:function(e){if(e){if(An.supportsRTTStatistics()&&e.transport&&e.transport.length&&this._avgRTT.addNext(e.transport[0].rtt),this._sampleIdx+=1,this._sampleIdx>=this._n){if(An.supportsRTTStatistics()){var t=this._avgRtpStatsReporter._conference,n={p2p:this.isP2P,conference_size:t.getParticipantCount()};if(e.transport&&e.transport.length&&_extends(n,{local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type}),this._avgRTT.appendReport(n),this.isP2P){var r=this._avgRtpStatsReporter.jvbStatsMonitor._avgEnd2EndRTT;isNaN(r)||(n.rtt_diff=this._avgRTT.calculate()-r)}else{var i=this._calculateAvgRemoteRTT(),o=this._avgRTT.calculate();this._avgEnd2EndRTT=o+i,isNaN(o)||isNaN(i)||(n.end2end_rtt_avg=this._avgEnd2EndRTT)}nr.sendAnalytics(rn(n))}this._resetAvgStats()}}else wc.error("No stats")}},{key:"_calculateAvgRemoteRTT",value:function(){for(var e,t=0,n=0,r=_createForOfIteratorHelperLoose(this._avgRemoteRTTMap.values());!(e=r()).done;){var i=e.value,o=i.calculate();isNaN(o)||(n+=o,t+=1,i.reset())}return n/t}},{key:"_processRemoteStats",value:function(e,t){var n="number"==typeof t.jvbRTT,r=this._avgRemoteRTTMap.get(e);!r&&n&&(r=new Lc(e+"_stat_rtt"),this._avgRemoteRTTMap.set(e,r)),n?r.addNext(t.jvbRTT):r&&this._avgRemoteRTTMap.delete(e)}},{key:"_resetAvgStats",value:function(){this._avgRTT.reset(),this._avgRemoteRTTMap&&this._avgRemoteRTTMap.clear(),this._sampleIdx=0}},{key:"dispose",value:function(){var e=this._avgRtpStatsReporter._conference;e.statistics.removeConnectionStatsListener(this._onConnectionStats),this.isP2P||(e.off(Ga,this._onRemoteStatsUpdated),e.off(Je,this._onUserLeft))}}]),e})(),Fc=(function(){function e(t,n){var r=this;_classCallCheck(this,e),this._n=n,n>0?(wc.info("Avg RTP stats will be calculated every "+n+" samples"),this._sampleIdx=0,this._conference=t,this._avgAudioBitrateUp=new Lc("bitrate_audio_upload"),this._avgAudioBitrateDown=new Lc("bitrate_audio_download"),this._avgVideoBitrateUp=new Lc("bitrate_video_upload"),this._avgVideoBitrateDown=new Lc("bitrate_video_download"),this._avgBandwidthUp=new Lc("bandwidth_upload"),this._avgBandwidthDown=new Lc("bandwidth_download"),this._avgPacketLossTotal=new Lc("packet_loss_total"),this._avgPacketLossUp=new Lc("packet_loss_upload"),this._avgPacketLossDown=new Lc("packet_loss_download"),this._avgRemoteFPS=new Lc("framerate_remote"),this._avgRemoteScreenFPS=new Lc("framerate_screen_remote"),this._avgLocalFPS=new Lc("framerate_local"),this._avgLocalScreenFPS=new Lc("framerate_screen_local"),this._avgRemoteCameraPixels=new Lc("pixels_remote"),this._avgRemoteScreenPixels=new Lc("pixels_screen_remote"),this._avgLocalCameraPixels=new Lc("pixels_local"),this._avgLocalScreenPixels=new Lc("pixels_screen_local"),this._avgCQ=new Lc("connection_quality"),this._cachedTransportStats=void 0,this._onLocalStatsUpdated=function(e){r._calculateAvgStats(e),r._maybeSendTransportAnalyticsEvent(e)},t.on(Ja,this._onLocalStatsUpdated),this._onP2PStatusChanged=function(){wc.debug("Resetting average stats calculation"),r._resetAvgStats(),r.jvbStatsMonitor._resetAvgStats(),r.p2pStatsMonitor._resetAvgStats()},t.on(Re,this._onP2PStatusChanged),this._onJvb121StatusChanged=function(e,t){!0===t&&(wc.info("Resetting JVB avg RTP stats"),r._resetAvgJvbStats())},t.on(ae,this._onJvb121StatusChanged),this.jvbStatsMonitor=new xc(this,!1,n),this.p2pStatsMonitor=new xc(this,!0,n)):wc.info("Avg RTP stats reports are disabled.")}return _createClass(e,[{key:"_calculateAvgStats",value:function(e){if(e){var t=this._conference.isP2PActive(),n=this._conference.getParticipantCount();if(t||!(n<2)){var r=e.bitrate,i=e.bandwidth,o=e.packetLoss,s=e.framerate,a=e.resolution;if(r)if(i)if(o)if(s)if(a){if(this._avgAudioBitrateUp.addNext(r.audio.upload),this._avgAudioBitrateDown.addNext(r.audio.download),this._avgVideoBitrateUp.addNext(r.video.upload),this._avgVideoBitrateDown.addNext(r.video.download),An.supportsBandwidthStatistics()&&(this._avgBandwidthUp.addNext(i.upload),this._avgBandwidthDown.addNext(i.download)),this._avgPacketLossUp.addNext(o.upload),this._avgPacketLossDown.addNext(o.download),this._avgPacketLossTotal.addNext(o.total),this._avgCQ.addNext(e.connectionQuality),s&&(this._avgRemoteFPS.addNext(this._calculateAvgVideoFps(s,!1,ar.VideoType.CAMERA)),this._avgRemoteScreenFPS.addNext(this._calculateAvgVideoFps(s,!1,ar.VideoType.DESKTOP)),this._avgLocalFPS.addNext(this._calculateAvgVideoFps(s,!0,ar.VideoType.CAMERA)),this._avgLocalScreenFPS.addNext(this._calculateAvgVideoFps(s,!0,ar.VideoType.DESKTOP))),a&&(this._avgRemoteCameraPixels.addNext(this._calculateAvgVideoPixels(a,!1,ar.VideoType.CAMERA)),this._avgRemoteScreenPixels.addNext(this._calculateAvgVideoPixels(a,!1,ar.VideoType.DESKTOP)),this._avgLocalCameraPixels.addNext(this._calculateAvgVideoPixels(a,!0,ar.VideoType.CAMERA)),this._avgLocalScreenPixels.addNext(this._calculateAvgVideoPixels(a,!0,ar.VideoType.DESKTOP))),this._sampleIdx+=1,this._sampleIdx>=this._n){var c={p2p:t,conference_size:n};e.transport&&e.transport.length&&_extends(c,{local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type}),this._avgAudioBitrateUp.appendReport(c),this._avgAudioBitrateDown.appendReport(c),this._avgVideoBitrateUp.appendReport(c),this._avgVideoBitrateDown.appendReport(c),An.supportsBandwidthStatistics()&&(this._avgBandwidthUp.appendReport(c),this._avgBandwidthDown.appendReport(c)),this._avgPacketLossUp.appendReport(c),this._avgPacketLossDown.appendReport(c),this._avgPacketLossTotal.appendReport(c),this._avgRemoteFPS.appendReport(c),isNaN(this._avgRemoteScreenFPS.calculate())||this._avgRemoteScreenFPS.appendReport(c),this._avgLocalFPS.appendReport(c),isNaN(this._avgLocalScreenFPS.calculate())||this._avgLocalScreenFPS.appendReport(c),this._avgRemoteCameraPixels.appendReport(c),isNaN(this._avgRemoteScreenPixels.calculate())||this._avgRemoteScreenPixels.appendReport(c),this._avgLocalCameraPixels.appendReport(c),isNaN(this._avgLocalScreenPixels.calculate())||this._avgLocalScreenPixels.appendReport(c),this._avgCQ.appendReport(c),nr.sendAnalytics(rn(c)),this._resetAvgStats()}}else wc.error("No resolution");else wc.error('No "framerate"');else wc.error('No "packetloss"');else wc.error('No "bandwidth"');else wc.error('No "bitrate"')}}else wc.error("No stats")}},{key:"_calculateAvgVideoPixels",value:function(e,t,n){for(var r=0,i=0,o=this._conference.myUserId(),s=0,a=Object.keys(e);s<a.length;s++){var c=a[s];if(t?c===o:c!==o){var u=t?null:this._conference.getParticipantById(c),d=e[c];if((t||u)&&d){var l=this._calculatePeerAvgVideoPixels(d,u,n);isNaN(l)||(r+=l,i+=1)}}}return r/i}},{key:"_calculatePeerAvgVideoPixels",value:function(e,t,n){var r=Object.keys(e).map(function(e){return Number(e)}),i=null,o=this._conference.getActivePeerConnection();t?(i=t.getTracksByMediaType(Bn.VIDEO))&&(r=r.filter(function(e){return i.find(function(t){return!t.isMuted()&&t.getSSRC()===e&&t.videoType===n})})):(i=this._conference.getLocalTracks(Bn.VIDEO),r=r.filter(function(e){return i.find(function(t){return!t.isMuted()&&o.getLocalSSRC(t)===e&&t.videoType===n})}));for(var s,a=0,c=0,u=_createForOfIteratorHelperLoose(r);!(s=u()).done;){var d=s.value,l=Number(e[d].height)*Number(e[d].width);!isNaN(l)&&l>0&&(a+=l,c+=1)}return a/c}},{key:"_calculateAvgVideoFps",value:function(e,t,n){for(var r=0,i=0,o=this._conference.myUserId(),s=0,a=Object.keys(e);s<a.length;s++){var c=a[s];if(t?c===o:c!==o){var u=t?null:this._conference.getParticipantById(c),d=e[c];if((t||u)&&d){var l=this._calculatePeerAvgVideoFps(d,u,n);isNaN(l)||(r+=l,i+=1)}}}return r/i}},{key:"_calculatePeerAvgVideoFps",value:function(e,t,n){var r=Object.keys(e).map(function(e){return Number(e)}),i=null,o=this._conference.getActivePeerConnection();t?(i=t.getTracksByMediaType(Bn.VIDEO))&&(r=r.filter(function(e){return i.find(function(t){return!t.isMuted()&&t.getSSRC()===e&&t.videoType===n})})):(i=this._conference.getLocalTracks(Bn.VIDEO),r=r.filter(function(e){return i.find(function(t){return!t.isMuted()&&o.getLocalSSRC(t)===e&&t.videoType===n})}));for(var s,a=0,c=0,u=_createForOfIteratorHelperLoose(r);!(s=u()).done;){var d=s.value,l=Number(e[d]);!isNaN(l)&&l>0&&(a+=l,c+=1)}return a/c}},{key:"_maybeSendTransportAnalyticsEvent",value:function(e){if(e&&e.transport&&e.transport.length){var t,n={p2p:e.transport[0].p2p,local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type};this._cachedTransportStats&&ct()(n,this._cachedTransportStats)||(this._cachedTransportStats=n,nr.sendAnalytics((t=n,{type:Rt.TYPE_OPERATIONAL,action:"transport.stats",attributes:t})))}}},{key:"_resetAvgJvbStats",value:function(){this._resetAvgStats(),this.jvbStatsMonitor._resetAvgStats()}},{key:"_resetAvgStats",value:function(){this._avgAudioBitrateUp.reset(),this._avgAudioBitrateDown.reset(),this._avgVideoBitrateUp.reset(),this._avgVideoBitrateDown.reset(),this._avgBandwidthUp.reset(),this._avgBandwidthDown.reset(),this._avgPacketLossUp.reset(),this._avgPacketLossDown.reset(),this._avgPacketLossTotal.reset(),this._avgRemoteFPS.reset(),this._avgRemoteScreenFPS.reset(),this._avgLocalFPS.reset(),this._avgLocalScreenFPS.reset(),this._avgRemoteCameraPixels.reset(),this._avgRemoteScreenPixels.reset(),this._avgLocalCameraPixels.reset(),this._avgLocalScreenPixels.reset(),this._avgCQ.reset(),this._sampleIdx=0}},{key:"dispose",value:function(){this._conference.off(Re,this._onP2PStatusChanged),this._conference.off(Ja,this._onLocalStatsUpdated),this._conference.off(ae,this._onJvb121StatusChanged),this.jvbStatsMonitor.dispose(),this.p2pStatsMonitor.dispose()}}]),e})(),Uc=n(2444),Vc=n.n(Uc),jc=(function(){function e(t){_classCallCheck(this,e),this.stats={users:{},dominantSpeakerId:null};var n=t.myUserId();this.stats.users[n]=new(Vc())(n,null,!0),this.conference=t,t.addEventListener(ne,this._onDominantSpeaker.bind(this)),t.addEventListener(Be,this._onUserJoin.bind(this)),t.addEventListener(Je,this._onUserLeave.bind(this)),t.addEventListener(te,this._onDisplayNameChange.bind(this)),t.addEventListener(nt,this._onFacialExpressionAdd.bind(this)),t.xmpp&&t.xmpp.addListener(dr.XMPPEvents.SPEAKER_STATS_RECEIVED,this._updateStats.bind(this))}return _createClass(e,[{key:"_onDominantSpeaker",value:function(e){var t=this.stats.users[this.stats.dominantSpeakerId],n=this.stats.users[e];t&&t.setDominantSpeaker(!1),n&&n.setDominantSpeaker(!0),this.stats.dominantSpeakerId=e}},{key:"_onUserJoin",value:function(e,t){t.isHidden()||this.stats.users[e]||(this.stats.users[e]=new(Vc())(e,t.getDisplayName()))}},{key:"_onUserLeave",value:function(e){var t=this.stats.users[e];t&&t.markAsHasLeft()}},{key:"_onDisplayNameChange",value:function(e,t){var n=this.stats.users[e];n&&n.setDisplayName(t)}},{key:"_onFacialExpressionAdd",value:function(e,t){var n=this.stats.users[e];n&&n.addFacialExpression(t.facialExpression,t.duration)}},{key:"getStats",value:function(){return this.stats.users}},{key:"_updateStats",value:function(e){for(var t in e){var n=void 0,r=this.conference.getParticipantById(t);r&&r.isHidden()||(this.stats.users[t]?(n=this.stats.users[t]).getDisplayName()||n.setDisplayName(e[t].displayName):(n=new(Vc())(t,e[t].displayName),this.stats.users[t]=n,n.markAsHasLeft())),n.totalDominantSpeakerTime=e[t].totalDominantSpeakerTime,n.setFacialExpressions(e[t].facialExpressions)}}}]),e})(),Hc=_createClass(function e(t,n,r,i){_classCallCheck(this,e),this.blob=t,this.name=n,this.startTime=r,this.wordArray=i}),Bc=_createClass(function e(t){_classCallCheck(this,e),this.track=t,this.recorder=null,this.data=null,this.name=null,this.startTime=null}),Jc="audio/webm",Gc="audio/ogg";function Kc(e){if(void 0===e.recorder)throw new Error("Passed an object to startRecorder which is not a TrackRecorder object");e.recorder.start(),e.startTime=new Date}function qc(e){if(void 0===e.recorder)throw new Error("Passed an object to stopRecorder which is not a TrackRecorder object");e.recorder.stop()}function zc(){if(MediaRecorder.isTypeSupported(Jc))return Jc;if(MediaRecorder.isTypeSupported(Gc))return Gc;throw new Error("unable to create a MediaRecorder with the right mimetype!")}function Wc(e){this.recorders=[],this.fileType=zc(),this.isRecording=!1,this.jitsiConference=e}Wc.determineCorrectFileType=zc,Wc.prototype.addTrack=function(e){if(e.isAudioTrack()){var t=this.instantiateTrackRecorder(e);this.recorders.push(t),this.updateNames(),this.isRecording&&Kc(t)}},Wc.prototype.instantiateTrackRecorder=function(e){var t=new Bc(e),n=t.track.getOriginalStream(),r=new MediaStream;return n.getAudioTracks().forEach(function(e){return r.addTrack(e)}),t.recorder=new MediaRecorder(r,{mimeType:this.fileType}),t.data=[],t.recorder.ondataavailable=function(e){e.data.size>0&&t.data.push(e.data)},t},Wc.prototype.removeTrack=function(e){if(!e.isVideoTrack()){var t,n=this.recorders;for(t=0;t<n.length;t++)if(n[t].track.getParticipantId()===e.getParticipantId()){var r=n[t];this.isRecording?qc(r):n.splice(t,1)}this.updateNames()}},Wc.prototype.updateNames=function(){var e=this.jitsiConference;this.recorders.forEach(function(t){if(t.track.isLocal())t.name="the transcriber";else{var n=t.track.getParticipantId(),r=e.getParticipantById(n).getDisplayName();"undefined"!==r&&(t.name=r)}})},Wc.prototype.start=function(){if(this.isRecording)throw new Error("audiorecorder is already recording");this.isRecording=!0,this.recorders.forEach(function(e){return Kc(e)}),console.log("Started the recording of the audio. There are currently "+this.recorders.length+" recorders active.")},Wc.prototype.stop=function(){this.isRecording=!1,this.recorders.forEach(function(e){return qc(e)}),console.log("stopped recording")},Wc.prototype.download=function(){var e=this;this.recorders.forEach(function(t){var n=new Blob(t.data,{type:e.fileType}),r=URL.createObjectURL(n),i=document.createElement("a");document.body.appendChild(i),i.style="display: none",i.href=r,i.download="test."+e.fileType.split("/")[1],i.click(),window.URL.revokeObjectURL(r)})},Wc.prototype.getRecordingResults=function(){var e=this;if(this.isRecording)throw new Error("cannot get blobs because the AudioRecorder is still recording!");this.updateNames();var t=[];return this.recorders.forEach(function(n){return t.push(new Hc(new Blob(n.data,{type:e.fileType}),n.name,n.startTime))}),t},Wc.prototype.getFileType=function(){return this.fileType};var Xc=Wc,$c=(function(){function e(t,n,r){_classCallCheck(this,e),this.word=t,this.begin=n,this.end=r}return _createClass(e,[{key:"getWord",value:function(){return this.word}},{key:"getBeginTime",value:function(){return this.begin}},{key:"getEndTime",value:function(){return this.end}}]),e})(),Qc=(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).url=(function(){var e="config does not contain an url to a Sphinx4 https server";if(void 0===config.sphinxURL)console.log(e);else{var t=config.sphinxURL;if(void 0!==t.includes&&t.includes("https://"))return t;console.log(e)}})(),e}return _createClass(n,[{key:"sendRequest",value:function(e,t){console.log("sending an audio file  to "+this.url),console.log("the audio file being sent: "+e);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE&&200===n.status)t(n.responseText);else if(n.readyState===XMLHttpRequest.DONE)throw new Error("unable to accept response from sphinx server. status: "+n.status)},n.open("POST",this.url),n.setRequestHeader("Content-Type",Xc.determineCorrectFileType()),n.send(e),console.log("send "+e)}},{key:"formatResponse",value:function(e){var t=JSON.parse(e).objects;t.shift();var n=[];return t.forEach(function(e){return e.filler||n.push(new $c(e.word,e.start,e.end))}),n}},{key:"verify",value:function(e){if(console.log("response from server:"+e.toString()),"string"!=typeof e)return!1;var t;try{t=JSON.parse(e)}catch(e){return console.log(e),!1}if(void 0===t.objects)return!1;var n=t.objects;return!(!n[0]||!n[0]["session-id"])}}]),n})((function(){function e(){throw _classCallCheck(this,e),new Error("TranscriptionService is abstract and cannot be created")}return _createClass(e,[{key:"send",value:function(e,t){var n=this;this.sendRequest(e.blob,function(r){n.verify(r)?e.wordArray=n.formatResponse(r):(console.log("the retrieved response from the server is not valid!"),e.wordArray=[]),t(e)})}},{key:"sendRequest",value:function(e,t){throw new Error("TranscriptionService.sendRequest is abstract")}},{key:"formatResponse",value:function(e){throw new Error("TranscriptionService.format is abstract")}},{key:"verify",value:function(e){throw new Error("TranscriptionService.verify is abstract")}}]),e})()),Yc="before",Zc="recording",eu="transcribing",tu="finished";function nu(){this.audioRecorder=new Xc,this.transcriptionService=new Qc,this.counter=null,this.startTime=null,this.transcription=null,this.callback=null,this.results=[],this.state=Yc,this.lineLength=0}function ru(e,t){if(console.log("retrieved an answer from the transcription service. The answer has an array of length: "+t.wordArray.length),t.wordArray.length>0){var n=t.startTime.getUTCMilliseconds()-e.startTime.getUTCMilliseconds();n<0&&(n=0);var r="[";t.wordArray.forEach(function(e){e.begin+=n,e.end+=n,r+=e.word+","}),r+="]",console.log(r),t.wordArray.name=t.name}e.results.push(t.wordArray),e.counter--,console.log("current counter: "+e.counter),e.maybeMerge()}function iu(e){for(var t=0;t<e.length;t++)0===e[t].length&&e.splice(t,1);return e.length>0}nu.prototype.start=function(){if(this.state!==Yc)throw new Error("The transcription can only start when it's in the \"before\" state. It's currently in the \""+this.state+"\" state");this.state=Zc,this.audioRecorder.start(),this.startTime=new Date},nu.prototype.stop=function(e){var t=this;if(this.state!==Zc)throw new Error("The transcription can only stop when it's in the \"recording\" state. It's currently in the \""+this.state+"\" state");console.log("stopping recording and sending audio files"),this.audioRecorder.stop();var n=ru.bind(null,this);this.audioRecorder.getRecordingResults().forEach(function(e){t.transcriptionService.send(e,n),t.counter++}),this.state=eu,this.callback=e},nu.prototype.maybeMerge=function(){this.state===eu&&0===this.counter&&this.merge()},nu.prototype.merge=function(){var e=this;console.log("starting merge process!\n The length of the array: "+this.results.length),this.transcription="";var t=this.results,n=[],r=function(){var n=t[0];t.forEach(function(e){e[0].begin<n[0].begin&&(n=e)});var r=n.shift(),i=function(){var i=!1,o=n[0].begin;if(t.forEach(function(e){e[0].begin<o&&(i=!0)}),i)return"break";r=n.shift(),e.updateTranscription(r,null)};for(e.updateTranscription(r,n.name);n.length>0;){if("break"===i())break}};for(iu(t),t.forEach(function(e){return(function(e,t){if(0===e.length)e.push(t);else{if(e[e.length-1].begin<=t.begin)return void e.push(t);for(var n=0;n<e.length;n++)if(t.begin<e[n].begin)return void e.splice(n,0,t);e.push(t)}})(n,e)});iu(t);)r();this.state=tu,this.callback&&this.callback(this.transcription)},nu.prototype.updateTranscription=function(e,t){null!=t&&(this.transcription+="\n"+t+":",this.lineLength=t.length+1),this.lineLength+e.word.length>80&&(this.transcription+="\n    ",this.lineLength=4),this.transcription+=" "+e.word,this.lineLength+=e.word.length+1},nu.prototype.addTrack=function(e){this.audioRecorder.addTrack(e)},nu.prototype.removeTrack=function(e){this.audioRecorder.removeTrack(e)},nu.prototype.getTranscription=function(){if(this.state!==tu)throw new Error("The transcription can only be retrieved when it's in the \"finished\" state. It's currently in the \""+this.state+"\" state");return this.transcription},nu.prototype.getState=function(){return this.state},nu.prototype.reset=function(){this.state=Yc,this.counter=null,this.transcription=null,this.startTime=null,this.callback=null,this.results=[],this.lineLength=0};var ou,su,au,cu=nu,uu=n(5810).getLogger("modules/version/ComponentsVersions.js");function du(e){this.versions={},this.conference=e,this.conference.addCommandListener("versions",this.processVersions.bind(this))}du.prototype.processVersions=function(e,t,n){var r=this;if(this.conference.isFocus(n)){var i=[];e.children.forEach(function(e){var t=e.attributes.name,n=e.value;r.versions[t]!==n&&(r.versions[t]=n,uu.info("Got "+t+" version: "+n),i.push({id:"component_version",component:t,version:n}))}),i.length>0&&nr.sendLog(JSON.stringify(i))}else uu.warn("Received versions not from the focus user: "+e,n)},du.prototype.getComponentVersion=function(e){return this.versions[e]},(function(e){e.STATUS_AVAILABLE="available",e.STATUS_UNDEFINED="undefined",e.STATUS_BUSY="busy"})(ou||(ou={})),(function(e){e.STATE_ON="on",e.STATE_OFF="off",e.STATE_PENDING="pending",e.STATE_RETRYING="retrying",e.STATE_FAILED="failed"})(su||(su={})),(function(e){e.ERROR_NO_CONNECTION="error_no_connection",e.ERROR_SESSION_EXISTS="error_session_already_exists"})(au||(au={}));var lu,hu=ou.STATUS_AVAILABLE,pu=ou.STATUS_UNDEFINED,fu=ou.STATUS_BUSY,mu=su.STATE_ON,vu=su.STATE_OFF,_u=su.STATE_PENDING,gu=su.STATE_RETRYING,yu=su.STATE_FAILED,Su=au.ERROR_NO_CONNECTION,Eu=au.ERROR_SESSION_EXISTS,Cu=(0,v.getLogger)("modules/videosipgw/JitsiVideoSIPGWSession.js"),Tu="STATE_CHANGED",bu=(function(e){_inherits(n,Fr);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).sipAddress=e,o.displayName=r,o.chatRoom=i,o.state=void 0,o}return _createClass(n,[{key:"stop",value:function(){this.state!==vu&&this.state!==yu?this._sendJibriIQ("stop"):Cu.warn("Video SIP GW session already stopped or failed!")}},{key:"start",value:function(){this.state!==mu&&this.state!==vu&&this.state!==_u&&this.state!==gu?this._sendJibriIQ("start"):Cu.warn("Video SIP GW session already started!")}},{key:"setState",value:function(e,t){if(e!==this.state){var n=this.state;this.state=e,this.eventEmitter.emit(Tu,{address:this.sipAddress,failureReason:t,oldState:n,newState:this.state,displayName:this.displayName})}}},{key:"addStateListener",value:function(e){this.addListener(Tu,e)}},{key:"removeStateListener",value:function(e){this.removeListener(Tu,e)}},{key:"_sendJibriIQ",value:function(e){var t=this,n={xmlns:"http://jitsi.org/protocol/jibri",action:e,sipaddress:this.sipAddress};n.displayname=this.displayName;var r=(0,ut.$iq)({to:this.chatRoom.focusMucJid,type:"set"}).c("jibri",n).up();Cu.debug(e+" video SIP GW session",r.nodeTree),this.chatRoom.connection.sendIQ(r,function(){},function(n){Cu.error("Failed to "+e+" video SIP GW session, error: ",n),t.setState(yu)})}}]),n})(),Ru=(0,v.getLogger)("modules/videosipgw/VideoSIPGW.js"),Au=(function(){function e(t){_classCallCheck(this,e),this.chatRoom=t,this.eventEmitter=t.eventEmitter,Ru.debug("creating VideoSIPGW"),this.sessions={},this.sessionStateChangeListener=this.sessionStateChanged.bind(this),t.addPresenceListener("jibri-sip-call-state",this.handleJibriSIPState.bind(this))}return _createClass(e,[{key:"handleJibriSIPState",value:function(e){var t=e.attributes;if(t){Ru.debug("Handle video sip gw state : ",t);var n=t.state;if(n!==this.state)switch(n){case mu:case vu:case _u:case gu:case yu:var r=t.sipaddress;if(!r)return;var i=this.sessions[r];i?i.setState(n,t.failure_reason):Ru.warn("Video SIP GW session not found:",r)}}}},{key:"createVideoSIPGWSession",value:function(e,t){if(this.sessions[e])return Ru.warn("There was already a Video SIP GW session for address",e),new Error(Eu);var n=new bu(e,t,this.chatRoom);return n.addStateListener(this.sessionStateChangeListener),this.sessions[e]=n,n}},{key:"sessionStateChanged",value:function(e){var t=e.address;if(e.newState===vu||e.newState===yu){var n=this.sessions[t];if(!n)return void Ru.error("Missing Video SIP GW session with address:",t);n.removeStateListener(this.sessionStateChangeListener),delete this.sessions[t]}this.eventEmitter.emit(dr.XMPPEvents.VIDEO_SIP_GW_SESSION_STATE_CHANGED,e)}}]),e})(),Iu=(0,v.getLogger)("modules/xmpp/SignalingLayerImpl.js"),ku="SourceInfo",Pu=(function(e){_inherits(n,oa);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).ssrcOwners=new Map,e.chatRoom=null,e._localSourceState={},e._remoteSourceState={},e._sourceNames=new Map,e}return _createClass(n,[{key:"_addLocalSourceInfoToPresence",value:function(){return!!this.chatRoom&&this.chatRoom.addOrReplaceInPresence(ku,{value:JSON.stringify(this._localSourceState)})}},{key:"_doesEndpointSendNewSourceInfo",value:function(e){var t,n=null===(t=this.chatRoom)||void 0===t?void 0:t.getLastPresence(e);return Boolean(n&&n.find(function(e){return e.tagName===ku}))}},{key:"setChatRoom",value:function(e){var t=this,n=this.chatRoom;this.chatRoom=e,n&&(n.removePresenceListener("audiomuted",this._audioMuteHandler),n.removePresenceListener("videomuted",this._videoMuteHandler),n.removePresenceListener("videoType",this._videoTypeHandler),ui.isSourceNameSignalingEnabled()&&(this._sourceInfoHandler&&n.removePresenceListener(ku,this._sourceInfoHandler),this._memberLeftHandler&&n.removeEventListener(dr.XMPPEvents.MUC_MEMBER_LEFT,this._memberLeftHandler))),e&&(ui.isSourceNameSignalingEnabled()?(this._bindChatRoomEventHandlers(e),this._addLocalSourceInfoToPresence()):(this._audioMuteHandler=function(e,n){t.eventEmitter.emit(ta,n,Bn.AUDIO,"true"===e.value)},e.addPresenceListener("audiomuted",this._audioMuteHandler),this._videoMuteHandler=function(e,n){t.eventEmitter.emit(ta,n,Bn.VIDEO,"true"===e.value)},e.addPresenceListener("videomuted",this._videoMuteHandler),this._videoTypeHandler=function(e,n){t.eventEmitter.emit(na,n,e.value)},e.addPresenceListener("videoType",this._videoTypeHandler)))}},{key:"_bindChatRoomEventHandlers",value:function(e){var t=this,n=function(e,n){t.eventEmitter.emit(ta,e,Bn.AUDIO,n)},r=function(e,n){t.eventEmitter.emit(ta,e,Bn.VIDEO,n)};this._audioMuteHandler=function(e,r){t._doesEndpointSendNewSourceInfo(r)||n(r,"true"===e.value)},e.addPresenceListener("audiomuted",this._audioMuteHandler),this._videoMuteHandler=function(e,n){t._doesEndpointSendNewSourceInfo(n)||r(n,"true"===e.value)},e.addPresenceListener("videomuted",this._videoMuteHandler);var i=function(e,n){t.eventEmitter.emit(na,e,n)};this._videoTypeHandler=function(e,n){t._doesEndpointSendNewSourceInfo(n)||i(n,e.value)},ui.isMultiStreamSupportEnabled()||e.addPresenceListener("videoType",this._videoTypeHandler),this._sourceInfoHandler=function(e,o){for(var s=o,a=e.value,c=JSON.parse(a),u=t._doesEndpointSendNewSourceInfo(s),d=t._remoteSourceState[s]||(t._remoteSourceState[s]={}),l=0,h=Object.keys(c);l<h.length;l++){var p,f=h[l],m=ia(f),v=Boolean(c[f].muted),_=d[f]||(d[f]={sourceName:f});_.muted!==v&&(_.muted=v,u&&m===Bn.AUDIO?n(s,v):r(s,v));var g=m===Bn.VIDEO?null!==(p=c[f].videoType)&&void 0!==p?p:ar.VideoType.CAMERA:void 0;_.videoType!==g&&(_.videoType=g,u&&!ui.isMultiStreamSupportEnabled()&&i(s,g))}for(var y=Object.keys(c),S=0,E=Object.keys(d);S<E.length;S++){var C=E[S];-1===y.indexOf(C)&&delete d[C]}},e.addPresenceListener("SourceInfo",this._sourceInfoHandler),this._memberLeftHandler=function(e){var n=ut.Strophe.getResourceFromJid(e);if(delete t._remoteSourceState[n],ui.isSourceNameSignalingEnabled())for(var r,i=_createForOfIteratorHelperLoose(t.ssrcOwners.entries());!(r=i()).done;){var o=r.value,s=_slicedToArray(o,2),a=s[0];s[1]===n&&delete t._sourceNames[a]}},e.addEventListener(dr.XMPPEvents.MUC_MEMBER_LEFT,this._memberLeftHandler)}},{key:"_findEndpointSourceInfoForMediaType",value:function(e,t){var n=this._remoteSourceState[e];if(!n)return null;for(var r=0,i=Object.values(n);r<i.length;r++){var o=i[r];if(ia(o.sourceName)===t)return o}return null}},{key:"getPeerMediaInfo",value:function(e,t){var n=this,r=function(){if(n.chatRoom)return n.chatRoom.getMediaPresenceInfo(e,t);Iu.error("Requested peer media info, before room was set")};if(ui.isSourceNameSignalingEnabled()){var i=this.chatRoom.getLastPresence(e);if(!i)throw new Error("getPeerMediaInfo - no presence stored for: "+e);if(!this._doesEndpointSendNewSourceInfo(e))return r();var o={},s=this._findEndpointSourceInfoForMediaType(e,t);if(t===Bn.AUDIO)o.muted=!s||s.muted;else{if(t!==Bn.VIDEO)throw new Error("Unsupported media type: "+t);o.muted=!s||s.muted,o.videoType=s?s.videoType:void 0;var a=ro(i,"jitsi_participant_codecType");a.length>0&&(o.codecType=a[0].value)}return o}return r()}},{key:"getPeerSourceInfo",value:function(e,t){return this._remoteSourceState[e]?this._remoteSourceState[e][t]:void 0}},{key:"getSSRCOwner",value:function(e){return this.ssrcOwners.get(e)}},{key:"setSSRCOwner",value:function(e,t){if("number"!=typeof e)throw new TypeError("SSRC("+e+") must be a number");var n=this.ssrcOwners.get(e);n&&n!==t&&Iu.error("SSRC owner re-assigned from "+n+" to "+t),this.ssrcOwners.set(e,t)}},{key:"setTrackMuteStatus",value:function(e,t){return this._localSourceState[e]||(this._localSourceState[e]={}),this._localSourceState[e].muted=t,!!this.chatRoom&&this._addLocalSourceInfoToPresence()}},{key:"setTrackVideoType",value:function(e,t){return this._localSourceState[e]||(this._localSourceState[e]={}),this._localSourceState[e].videoType!==t&&(this._localSourceState[e].videoType=t===ar.VideoType.CAMERA?void 0:t,this._addLocalSourceInfoToPresence())}},{key:"getTrackSourceName",value:function(e){return this._sourceNames.get(e)}},{key:"setTrackSourceName",value:function(e,t){if("number"!=typeof e)throw new TypeError("SSRC("+e+") must be a number");var n=this._sourceNames.get(e);n&&n!==t&&Iu.error("SSRC("+e+") sourceName re-assigned from "+n+" to "+t),this._sourceNames.set(e,t)}}]),n})(),Ou=(0,v.getLogger)("JitsiConference.js");function Du(e){var t;if(!e.name||e.name.toLowerCase()!==e.name.toString()){var n="Invalid conference name (no conference name passed or it contains invalid characters like capital letters)!";throw Ou.error(n),new Error(n)}if(this.connection=e.connection,this.xmpp=null===(t=this.connection)||void 0===t?void 0:t.xmpp,this.xmpp.isRoomCreated(e.name,e.customDomain)){var r="A coference with the same name has already been created!";throw delete this.connection,delete this.xmpp,Ou.error(r),new Error(r)}this.eventEmitter=new(st()),this.options=e,this.eventManager=new hr(this),this.participants={},this._signalingLayer=new Pu,this._init(e),this.componentsVersions=new du(this),this.jvbJingleSession=null,this.lastDominantSpeaker=null,this.dtmfManager=null,this.somebodySupportsDTMF=!1,this.authEnabled=!1,this.startAudioMuted=!1,this.startVideoMuted=!1,this.startMutedPolicy={audio:!1,video:!1},this.isMutedByFocus=!1,this.mutedByFocusActor=null,this.isVideoMutedByFocus=!1,this.mutedVideoByFocusActor=null,this.wasStopped=!1,this.properties={},this.connectionQuality=new Qa(this,this.eventEmitter,e),this.avgRtpStatsReporter=new Fc(this,e.config.avgRtpStatsN||15),e.config.disableAudioLevels||(this._audioOutputProblemDetector=new Mc(this)),this.isJvbConnectionInterrupted=!1,this.speakerStatsCollector=new jc(this),this.deferredStartP2PTask=null;var i=parseInt(e.config.p2p&&e.config.p2p.backToP2PDelay,10);this.backToP2PDelay=isNaN(i)?5:i,Ou.info("backToP2PDelay: "+this.backToP2PDelay),this.isP2PConnectionInterrupted=!1,this.p2p=!1,this.p2pJingleSession=null,this.videoSIPGWHandler=new Au(this.room),this.recordingManager=new((function(){function e(t){_classCallCheck(this,e),this._sessions={},this._chatRoom=t,this.onPresence=this.onPresence.bind(this),this._chatRoom.eventEmitter.addListener(dr.XMPPEvents.PRESENCE_RECEIVED,this.onPresence)}return _createClass(e,[{key:"getSession",value:function(e){return this._sessions[e]}},{key:"onPresence",value:function(e){var t=e.fromHiddenDomain,n=e.presence;Pc.isFromFocus(n)?this._handleFocusPresence(n):t&&this._handleJibriPresence(n)}},{key:"startRecording",value:function(e){var t=this,n=new Oc(_objectSpread(_objectSpread({},e),{},{connection:this._chatRoom.connection}));return n.start({appData:e.appData,broadcastId:e.broadcastId,focusMucJid:this._chatRoom.focusMucJid,streamId:e.streamId}).then(function(){return t.getSession(n.getID())||(t._addSession(n),t._emitSessionUpdate(n)),n}).catch(function(e){return t._emitSessionUpdate(n),Promise.reject(e)})}},{key:"stopRecording",value:function(e){var t=this.getSession(e);return t?t.stop({focusMucJid:this._chatRoom.focusMucJid}):Promise.reject(new Error("Could not find session"))}},{key:"_addSession",value:function(e){this._sessions[e.getID()]=e}},{key:"_createSession",value:function(e,t,n){var r=new Oc({connection:this._chatRoom.connection,focusMucJid:this._chatRoom.focusMucJid,mode:n,sessionID:e,status:t});return this._addSession(r),r}},{key:"_emitSessionUpdate",value:function(e,t){this._chatRoom.eventEmitter.emit(dr.XMPPEvents.RECORDER_STATE_CHANGED,e,t)}},{key:"_handleFocusPresence",value:function(e){var t=Pc.getFocusRecordingUpdate(e);if(t){var n=t.error,r=t.initiator,i=t.recordingMode,o=t.sessionID,s=t.status,a=this.getSession(o);a||"off"!==s?a&&a.getStatus()===s&&a.getError()===n?Dc.warn("Ignoring duplicate presence update: ",JSON.stringify(t)):(a||(a=this._createSession(o,s,i)),a.setStatus(s),n&&a.setError(n),this._emitSessionUpdate(a,r)):Dc.warn("Ignoring recording presence update","Received a new session with status off.")}}},{key:"_handleJibriPresence",value:function(e){var t=Pc.getHiddenDomainUpdate(e),n=t.liveStreamViewURL,r=t.mode,i=t.sessionID;if(i){var o=this.getSession(i);o||(o=this._createSession(i,"",r)),o.setLiveStreamViewURL(n),this._emitSessionUpdate(o)}else Dc.warn("Ignoring potential jibri presence due to no session id.")}}]),e})())(this.room),this._conferenceJoinAnalyticsEventSent=void 0,this.isE2EESupported()&&(Ou.info("End-to-End Encryption is supported"),this._e2eEncryption=new ai(this)),this._audioSenderLimitReached=void 0,this._videoSenderLimitReached=void 0}function Nu(e,t,n){this.appID=e,this.token=t,this.options=n,this.xmpp=new as(n,t),this.addEventListener(Pr,function(e,t,n,r){nr.sendAnalyticsAndLog((function(e,t,n){return{type:Rt.TYPE_OPERATIONAL,action:"connection.failed",attributes:_objectSpread({error_type:e,error_message:t},n)}})(e,t,r))}),this.addEventListener(Ir,function(e){e&&nr.sendAnalytics(Gt,{message:e}),nr.sendLog(JSON.stringify({id:Gt,msg:e}))})}Du.prototype.constructor=Du,Du.resourceCreator=function(e,t){var n;if(t)n=li().randomHexString(8).toLowerCase();else{var r;(n=null===(r=ut.Strophe.getNodeFromJid(e))||void 0===r?void 0:r.substr(0,8).toLowerCase())&&/[0-9a-f]{8}/g.test(n)||(n=li().randomHexString(8).toLowerCase())}return n},Du.prototype._init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.eventManager.setupXMPPListeners();var n=this.options.config,r={disabledCodec:n.videoQuality?n.videoQuality.disabledCodec:n.p2p&&n.p2p.disableH264&&vo().H264,enforcePreferredCodec:n.videoQuality&&n.videoQuality.enforcePreferredCodec,jvbCodec:n.videoQuality&&n.videoQuality.preferredCodec||n.preferH264&&vo().H264,p2pCodec:n.p2p?n.p2p.preferredCodec||n.p2p.preferH264&&vo().H264:vo().VP8};this.codecSelection=new ds(this,r),this._statsCurrentId=n.statisticsId?n.statisticsId:zi.callStatsUserName,this.room=this.xmpp.createRoom(this.options.name,_objectSpread(_objectSpread({},n),{},{statsId:this._statsCurrentId}),Du.resourceCreator),this._signalingLayer.setChatRoom(this.room),this._onIceConnectionInterrupted=this._onIceConnectionInterrupted.bind(this),this.room.addListener(dr.XMPPEvents.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),this._onIceConnectionRestored=this._onIceConnectionRestored.bind(this),this.room.addListener(dr.XMPPEvents.CONNECTION_RESTORED,this._onIceConnectionRestored),this._onIceConnectionEstablished=this._onIceConnectionEstablished.bind(this),this.room.addListener(dr.XMPPEvents.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),this._updateProperties=this._updateProperties.bind(this),this.room.addListener(dr.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),this._sendConferenceJoinAnalyticsEvent=this._sendConferenceJoinAnalyticsEvent.bind(this),this.room.addListener(dr.XMPPEvents.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),this._removeLocalSourceOnReject=this._removeLocalSourceOnReject.bind(this),this._updateRoomPresence=this._updateRoomPresence.bind(this),this.room.addListener(dr.XMPPEvents.SESSION_ACCEPT,this._updateRoomPresence),this.room.addListener(dr.XMPPEvents.SOURCE_ADD,this._updateRoomPresence),this.room.addListener(dr.XMPPEvents.SOURCE_ADD_ERROR,this._removeLocalSourceOnReject),this.room.addListener(dr.XMPPEvents.SOURCE_REMOVE,this._updateRoomPresence),this.e2eping=new Ec(this,n,function(t,n){try{e.sendMessage(t,n,!0)}catch(t){Ou.warn("Failed to send E2E ping request or response.",t&&t.msg)}}),this.rtc||(this.rtc=new Ha(this,t),this.eventManager.setupRTCListeners(),ui.isSourceNameSignalingEnabled()&&this._registerRtcListeners(this.rtc)),this.receiveVideoController=new Ac(this,this.rtc),this.sendVideoController=new kc(this,this.rtc),this.participantConnectionStatus=new br(this.rtc,this,{p2pRtcMuteTimeout:n._p2pConnStatusRtcMuteTimeout,rtcMuteTimeout:n._peerConnStatusRtcMuteTimeout,outOfLastNTimeout:n._peerConnStatusOutOfLastNTimeout}),this.participantConnectionStatus.init();var i=!0;if(n.testing&&n.testing.callStatsThreshold&&(i=100*Math.random()<=n.testing.callStatsThreshold),this.statistics||(this.statistics=new nr(this.xmpp,{aliasName:this._statsCurrentId,userName:n.statisticsDisplayName?n.statisticsDisplayName:this.myUserId(),confID:n.confID||this.connection.options.hosts.domain+"/"+this.options.name,siteID:n.siteID,customScriptUrl:n.callStatsCustomScriptUrl,callStatsID:n.callStatsID,callStatsSecret:n.callStatsSecret,callStatsApplicationLogsDisabled:n.callStatsApplicationLogsDisabled,enableCallStats:i,roomName:this.options.name,applicationName:n.applicationName,getWiFiStatsMethod:n.getWiFiStatsMethod,configParams:n.callStatsConfigParams}),nr.analytics.addPermanentProperties({callstats_name:this._statsCurrentId}),n.longTasksStatsInterval&&this.statistics.attachLongTasksStats(this)),this.eventManager.setupChatRoomListeners(),this.eventManager.setupStatisticsListeners(),n.enableTalkWhileMuted&&An.supportsVADDetection())if(n.createVADProcessor){Ou.info("Using VAD detection for generating talk while muted events"),this._audioAnalyser||(this._audioAnalyser=new pc(this,n.createVADProcessor));var o=new mc;o.on(sc,function(){return e.eventEmitter.emit(Le)}),this._audioAnalyser.addVADDetectionService(o)}else Ou.warn("No VAD Processor was provided. Talk while muted detection service was not initialized!");if(n.enableNoisyMicDetection&&An.supportsVADDetection())if(n.createVADProcessor){this._audioAnalyser||(this._audioAnalyser=new pc(this,n.createVADProcessor));var s=new fc;s.on(rc,function(){return e.eventEmitter.emit(ye)}),this._audioAnalyser.addVADDetectionService(s)}else Ou.warn("No VAD Processor was provided. Noisy microphone detection service was not initialized!");n.enableNoAudioDetection&&(this._noAudioSignalDetection=new ac(this),this._noAudioSignalDetection.on(nc,function(){e.eventEmitter.emit(ge)}),this._noAudioSignalDetection.on(tc,function(t){e.eventEmitter.emit(j,t)})),"channelLastN"in n&&this.setLastN(n.channelLastN),this.jvb121Status=new Tc(this),this.p2pDominantSpeakerDetection=new cc(this),n&&n.deploymentInfo&&n.deploymentInfo.userRegion&&this.setLocalParticipantProperty("region",n.deploymentInfo.userRegion),this.setLocalParticipantProperty("codecType",this.codecSelection.getPreferredCodec()),n&&n.transcriptionLanguage&&"en-US"!==n.transcriptionLanguage&&this.setLocalParticipantProperty("transcription_language",n.transcriptionLanguage)},Du.prototype.join=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.room&&this.room.join(e,n).then(function(){return t._maybeSetSITimeout()})},Du.prototype.authenticateAndUpgradeRole=function(e){return cs.call(this,_objectSpread(_objectSpread({},e),{},{onCreateResource:Du.resourceCreator}))},Du.prototype.isJoined=function(){return this.room&&this.room.joined},Du.prototype.isP2PEnabled=function(){return Boolean(this.options.config.p2p&&this.options.config.p2p.enabled)||void 0===this.options.config.p2p},Du.prototype.isP2PTestModeEnabled=function(){return Boolean(this.options.config.testing&&this.options.config.testing.p2pTestMode)},Du.prototype.leave=function(){var e,t,n=this;return _regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.participantConnectionStatus&&(this.participantConnectionStatus.dispose(),this.participantConnectionStatus=null),this.avgRtpStatsReporter&&(this.avgRtpStatsReporter.dispose(),this.avgRtpStatsReporter=null),this._audioOutputProblemDetector&&(this._audioOutputProblemDetector.dispose(),this._audioOutputProblemDetector=null),this.e2eping&&(this.e2eping.stop(),this.e2eping=null),this.getLocalTracks().forEach(function(e){return n.onLocalTrackRemoved(e)}),this.rtc.closeBridgeChannel(),this._sendConferenceLeftAnalyticsEvent(),this.statistics&&this.statistics.dispose(),this._delayedIceFailed&&this._delayedIceFailed.cancel(),this._maybeClearSITimeout(),this.jvbJingleSession&&(this.jvbJingleSession.close(),this.jvbJingleSession=null),this.p2pJingleSession&&(this.p2pJingleSession.close(),this.p2pJingleSession=null),this.room){r.next=2;break}throw new Error("The conference is has been already left");case 2:return(e=this.room).removeListener(dr.XMPPEvents.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),e.removeListener(dr.XMPPEvents.CONNECTION_RESTORED,this._onIceConnectionRestored),e.removeListener(dr.XMPPEvents.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),e.removeListener(dr.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),e.removeListener(dr.XMPPEvents.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),e.removeListener(dr.XMPPEvents.SESSION_ACCEPT,this._updateRoomPresence),e.removeListener(dr.XMPPEvents.SOURCE_ADD,this._updateRoomPresence),e.removeListener(dr.XMPPEvents.SOURCE_ADD_ERROR,this._removeLocalSourceOnReject),e.removeListener(dr.XMPPEvents.SOURCE_REMOVE,this._updateRoomPresence),this.eventManager.removeXMPPListeners(),this._signalingLayer.setChatRoom(null),this.room=null,r.prev=4,r.next=7,_regeneratorRuntime.awrap(e.leave());case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(4),t=r.t0,this.getParticipants().forEach(function(e){return n.onMemberLeft(e.getJid())});case 12:if(this.rtc&&this.rtc.destroy(),!t){r.next=14;break}throw t;case 14:case"end":return r.stop()}},null,this,[[4,9]],Promise)},Du.prototype.getActiveMediaSession=function(){return this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession},Du.prototype.getMediaSessions=function(){var e=[];return this.jvbJingleSession&&e.push(this.jvbJingleSession),this.p2pJingleSession&&e.push(this.p2pJingleSession),e},Du.prototype._registerRtcListeners=function(e){var t=this;e.addListener(sr.default.DATA_CHANNEL_OPEN,function(){for(var e,n=_createForOfIteratorHelperLoose(t.rtc.localTracks);!(e=n()).done;){var r=e.value;r.isVideoTrack()&&t._sendBridgeVideoTypeMessage(r)}})},Du.prototype._sendBridgeVideoTypeMessage=function(e){var t=!e||e.isMuted()?hs().NONE:e.getVideoType();t===hs().DESKTOP&&this._desktopSharingFrameRate>5&&(t=hs().DESKTOP_HIGH_FPS),ui.isSourceNameSignalingEnabled()&&e?this.rtc.sendSourceVideoType(e.getSourceName(),t):ui.isSourceNameSignalingEnabled()||this.rtc.setVideoType(t)},Du.prototype.getName=function(){return this.options.name.toString()},Du.prototype.getConnection=function(){return this.connection},Du.prototype.isAuthEnabled=function(){return this.authEnabled},Du.prototype.isLoggedIn=function(){return Boolean(this.authIdentity)},Du.prototype.getAuthLogin=function(){return this.authIdentity},Du.prototype.isExternalAuthEnabled=function(){return this.room&&this.room.moderator.isExternalAuthEnabled()},Du.prototype.getExternalAuthUrl=function(e){var t=this;return new Promise(function(n,r){t.isExternalAuthEnabled()?e?t.room.moderator.getPopupLoginUrl(n,r):t.room.moderator.getLoginUrl(n,r):r()})},Du.prototype.getLocalTracks=function(e){var t=[];return this.rtc&&(t=this.rtc.getLocalTracks(e)),t},Du.prototype.getLocalAudioTrack=function(){return this.rtc?this.rtc.getLocalAudioTrack():null},Du.prototype.getLocalVideoTrack=function(){return this.rtc?this.rtc.getLocalVideoTrack():null},Du.prototype.getLocalVideoTracks=function(){return this.rtc?this.rtc.getLocalVideoTracks():null},Du.prototype.getPerformanceStats=function(){return{longTasksStats:this.statistics.getLongTasksStats()}},Du.prototype.on=function(e,t){this.eventEmitter&&this.eventEmitter.on(e,t)},Du.prototype.off=function(e,t){this.eventEmitter&&this.eventEmitter.removeListener(e,t)},Du.prototype.addEventListener=Du.prototype.on,Du.prototype.removeEventListener=Du.prototype.off,Du.prototype.addCommandListener=function(e,t){this.room&&this.room.addPresenceListener(e,t)},Du.prototype.removeCommandListener=function(e,t){this.room&&this.room.removePresenceListener(e,t)},Du.prototype.sendTextMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";this.room&&this.room.sendMessage(e,t)},Du.prototype.sendPrivateTextMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";this.room&&this.room.sendPrivateMessage(e,t,n)},Du.prototype.sendCommand=function(e,t){this.room?this.room.addOrReplaceInPresence(e,t)&&this.room.sendPresence():Ou.warn("Not sending a command, room not initialized.")},Du.prototype.sendCommandOnce=function(e,t){this.sendCommand(e,t),this.removeCommand(e)},Du.prototype.removeCommand=function(e){this.room&&this.room.removeFromPresence(e)},Du.prototype.setDisplayName=function(e){if(this.room){var t="nick";if(!e&&!this.room.getFromPresence(t))return;this.room.addOrReplaceInPresence(t,{attributes:{xmlns:"http://jabber.org/protocol/nick"},value:e})&&this.room.sendPresence()}},Du.prototype.setSubject=function(e){this.room&&this.isModerator()?this.room.setSubject(e):Ou.warn("Failed to set subject, "+(this.room?"":"not in a room, ")+(this.isModerator()?"":"participant is not a moderator"))},Du.prototype.getTranscriber=function(){if(void 0===this.transcriber){this.transcriber=new cu;for(var e,t=_createForOfIteratorHelperLoose(this.getLocalTracks(Bn.AUDIO));!(e=t()).done;){var n=e.value;this.transcriber.addTrack(n)}for(var r,i=_createForOfIteratorHelperLoose(this.rtc.getRemoteTracks(Bn.AUDIO));!(r=i()).done;){var o=r.value;this.transcriber.addTrack(o)}}return this.transcriber},Du.prototype.getTranscriptionStatus=function(){return this.room.transcriptionStatus},Du.prototype.addTrack=function(e){var t=this,n=e.getType(),r=this.rtc.getLocalTracks(n);if(r.length>0){if(e===r[0])return Promise.resolve(e);if(ui.isMultiStreamSupportEnabled()&&n===Bn.VIDEO){var i=[];return this.p2pJingleSession&&i.push(this.p2pJingleSession.addTrack(e)),this.jvbJingleSession&&i.push(this.jvbJingleSession.addTrack(e)),Promise.all(i).then(function(){t._setupNewTrack(e),t._sendBridgeVideoTypeMessage(e),t._updateRoomPresence(t.getActiveMediaSession()),(t.isMutedByFocus||t.isVideoMutedByFocus)&&t._fireMuteChangeEvent(e)})}return Promise.reject(new Error("Cannot add second "+n+" track to the conference"))}return this.replaceTrack(null,e)},Du.prototype._fireAudioLevelChangeEvent=function(e,t){var n=this.getActivePeerConnection();t&&n!==t||this.eventEmitter.emit(Fe,this.myUserId(),e)},Du.prototype._fireMuteChangeEvent=function(e){var t;if(this.isMutedByFocus&&e.isAudioTrack()&&!e.isMuted()?(this.isMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1,Bn.AUDIO)):this.isVideoMutedByFocus&&e.isVideoTrack()&&!e.isMuted()&&(this.isVideoMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1,Bn.VIDEO)),this.mutedByFocusActor&&e.isAudioTrack()){var n=ut.Strophe.getResourceFromJid(this.mutedByFocusActor);t=this.participants[n]}else if(this.mutedVideoByFocusActor&&e.isVideoTrack()){var r=ut.Strophe.getResourceFromJid(this.mutedVideoByFocusActor);t=this.participants[r]}e.isVideoTrack()&&!An.doesVideoMuteByStreamRemove()&&this._sendBridgeVideoTypeMessage(e),this.eventEmitter.emit(Ue,e,t)},Du.prototype._getInitialLocalTracks=function(){var e=this;return this.getLocalTracks().filter(function(t){var n=t.getType();return!(n!==Bn.AUDIO||e.isStartAudioMuted()&&!An.isWebKitBased()&&!An.isReactNative())||n===Bn.VIDEO&&!e.isStartVideoMuted()})},Du.prototype.onLocalTrackRemoved=function(e){e.setConference(null),this.rtc.removeLocalTrack(e),e.removeEventListener(_r,e.muteHandler),e.isAudioTrack()&&e.removeEventListener(mr,e.audioLevelHandler),e.isVideoTrack()&&e.videoType===ar.VideoType.DESKTOP&&this.statistics.sendScreenSharingEvent(!1),this.eventEmitter.emit(Ve,e)},Du.prototype.removeTrack=function(e){return this.replaceTrack(e,null)},Du.prototype.replaceTrack=function(e,t){var n=this,r=null==e?void 0:e.getVideoType(),i=null==t?void 0:t.getVideoType();if(ui.isMultiStreamSupportEnabled()&&e&&t&&r!==i)throw new Error("Replacing a track of videoType="+r+" with a track of videoType="+i+" is not supported in this mode.");var o=this===(null==e?void 0:e.conference);return o&&e.disposed||null!=t&&t.disposed?Promise.reject(new At(St)):(e&&!o&&Ou.warn("JitsiConference.replaceTrack oldTrack ("+e+" does not belong to this conference"),ui.isMultiStreamSupportEnabled()&&e&&t&&e.isVideoTrack()&&t.setSourceName(e.getSourceName()),this._doReplaceTrack(o?e:null,t).then(function(){return o&&n.onLocalTrackRemoved(e),t&&n._setupNewTrack(t),(o&&null!=e&&e.isVideoTrack()||null!=t&&t.isVideoTrack())&&n._sendBridgeVideoTypeMessage(t),o&&null!=e&&e.isVideoTrack()&&!(null!=e&&e._setEffectInProgress||null!=t&&t._setEffectInProgress)&&n._updateRoomPresence(n.getActiveMediaSession()),null!==t&&(n.isMutedByFocus||n.isVideoMutedByFocus)&&n._fireMuteChangeEvent(t),Promise.resolve()}).catch(function(e){return Ou.error("replaceTrack failed: "+(null==e?void 0:e.stack)),Promise.reject(e)}))},Du.prototype._doReplaceTrack=function(e,t){var n=[];return this.jvbJingleSession?n.push(this.jvbJingleSession.replaceTrack(e,t)):Ou.info("_doReplaceTrack - no JVB JingleSession"),this.p2pJingleSession?n.push(this.p2pJingleSession.replaceTrack(e,t)):Ou.info("_doReplaceTrack - no P2P JingleSession"),Promise.all(n)},Du.prototype._removeLocalSourceOnReject=function(e,t,n){if(e){Ou.warn("Source-add rejected on "+e+", reason=\""+(null==t?void 0:t.reason)+"\", message=\""+(null==t?void 0:t.msg)+"\"");var r=this.getLocalTracks(n)[0];this.eventEmitter.emit(je,r)}},Du.prototype._setupNewTrack=function(e){var t=e.getType();if(e.isAudioTrack()||e.isVideoTrack()&&e.videoType!==ar.VideoType.DESKTOP){var n=Ha.getCurrentlyAvailableMediaDevices().find(function(t){return t.kind===e.getTrack().kind+"input"&&t.label===e.getTrack().label});n&&nr.sendActiveDeviceListEvent(Ha.getEventDataForActiveDevice(n))}if(ui.isSourceNameSignalingEnabled()&&!e.getSourceName()){var r,i=ra(this.myUserId(),t,null===(r=this.getLocalTracks(t))||void 0===r?void 0:r.length);e.setSourceName(i)}this.rtc.addLocalTrack(e),e.setConference(this),e.muteHandler=this._fireMuteChangeEvent.bind(this,e),e.addEventListener(_r,e.muteHandler),e.isAudioTrack()&&(e.audioLevelHandler=this._fireAudioLevelChangeEvent.bind(this),e.addEventListener(mr,e.audioLevelHandler)),this.eventEmitter.emit(xe,e)},Du.prototype._setNewVideoType=function(e){var t=!1;if(ui.isSourceNameSignalingEnabled()&&e&&(t=this._signalingLayer.setTrackVideoType(e.getSourceName(),e.videoType)),!ui.isMultiStreamSupportEnabled()){var n=e?e.videoType:ar.VideoType.CAMERA;if(n!==ar.VideoType.CAMERA||this.room.getFromPresence("videoType")){var r=this.room.addOrReplaceInPresence("videoType",{value:n});t=t||r}}return t},Du.prototype._setTrackMuteStatus=function(e,t,n){var r=!1;if(ui.isSourceNameSignalingEnabled()&&t&&(r=this._signalingLayer.setTrackMuteStatus(t.getSourceName(),n)),!ui.isMultiStreamSupportEnabled()){var i,o;if(!this.room)return!1;e===Bn.AUDIO?i=this.room.addAudioInfoToPresence(n):o=this.room.addVideoInfoToPresence(n),r=r||i||o}return r},Du.prototype._addLocalTrackAsUnmute=function(e){var t=[];return this.jvbJingleSession?t.push(this.jvbJingleSession.addTrackAsUnmute(e)):Ou.debug("Add local MediaStream as unmute - no JVB Jingle session started yet"),this.p2pJingleSession?t.push(this.p2pJingleSession.addTrackAsUnmute(e)):Ou.debug("Add local MediaStream as unmute - no P2P Jingle session started yet"),Promise.allSettled(t)},Du.prototype._removeLocalTrackAsMute=function(e){var t=[];return this.jvbJingleSession?t.push(this.jvbJingleSession.removeTrackAsMute(e)):Ou.debug("Remove local MediaStream - no JVB JingleSession started yet"),this.p2pJingleSession?t.push(this.p2pJingleSession.removeTrackAsMute(e)):Ou.debug("Remove local MediaStream - no P2P JingleSession started yet"),Promise.allSettled(t)},Du.prototype.getRole=function(){return this.room.role},Du.prototype.isHidden=function(){return this.connection?ut.Strophe.getDomainFromJid(this.connection.getJid())===this.options.config.hiddenDomain:null},Du.prototype.isModerator=function(){return this.room?this.room.isModerator():null},Du.prototype.lock=function(e){var t=this;return this.isModerator()?new Promise(function(n,r){t.room.lockRoom(e||"",function(){return n()},function(e){return r(e)},function(){return r(L)})}):Promise.reject(new Error("You are not moderator."))},Du.prototype.unlock=function(){return this.lock()},Du.prototype.selectParticipant=function(e){this.selectParticipants([e])},Du.prototype.selectParticipants=function(e){if(!Array.isArray(e))throw new Error("Invalid argument; participantIds must be an array.");this.receiveVideoController.selectEndpoints(e)},Du.prototype.getLastN=function(){return this.receiveVideoController.getLastN()},Du.prototype.getForwardedSources=function(){return this.rtc.getForwardedSources()},Du.prototype.setLastN=function(e){if(!Number.isInteger(e)&&!Number.parseInt(e,10))throw new Error("Invalid value for lastN: "+e);var t=Number(e);if(t<-1)throw new RangeError("lastN cannot be smaller than -1");if(this.receiveVideoController.setLastN(t),this.p2pJingleSession){var n=0!==t;this.p2pJingleSession.setMediaTransferActive(!0,n).catch(function(e){Ou.error("Failed to adjust video transfer status ("+n+")",e)})}},Du.prototype.isInLastN=function(e){return this.rtc.isInLastN(e)},Du.prototype.getParticipants=function(){return Object.values(this.participants)},Du.prototype.getParticipantCount=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getParticipants();return e||(t=t.filter(function(e){return!e.isHidden()})),t.length+1},Du.prototype.getParticipantById=function(e){return this.participants[e]},Du.prototype.grantOwner=function(e){var t=this.getParticipantById(e);t&&this.room.setAffiliation(t.getJid(),"owner")},Du.prototype.revokeOwner=function(e){var t=this.getParticipantById(e),n=this.myUserId()===e,r=this.isMembersOnly()?"member":"none";n?this.room.setAffiliation(this.room.myroomjid,r):t&&this.room.setAffiliation(t.getJid(),r)},Du.prototype.kickParticipant=function(e,t){var n=this.getParticipantById(e);n&&this.room.kick(n.getJid(),t)},Du.prototype._maybeClearSITimeout=function(){this._sessionInitiateTimeout&&(this.jvbJingleSession||this.getParticipantCount()<2)&&(window.clearTimeout(this._sessionInitiateTimeout),this._sessionInitiateTimeout=null)},Du.prototype._maybeSetSITimeout=function(){var e=this;!this.jvbJingleSession&&this.getParticipantCount()>=2&&!this._sessionInitiateTimeout&&(this._sessionInitiateTimeout=window.setTimeout(function(){e._sessionInitiateTimeout=null,nr.sendAnalytics(en(Lt,{p2p:!1,value:5e3}))},5e3))},Du.prototype.muteParticipant=function(e,t){var n=t||Bn.AUDIO;if(n===Bn.AUDIO||n===Bn.VIDEO){var r=this.getParticipantById(e);r&&this.room.muteParticipant(r.getJid(),!0,n)}else Ou.error("Unsupported media type: "+n)},Du.prototype.onMemberJoined=function(e,t,n,r,i,o,s,a,c,u,d){var l=ut.Strophe.getResourceFromJid(e);if("focus"!==l&&this.myUserId()!==l){var h=new Rr(e,this,t,r,i,o,s);h.setRole(n),h.setBotType(a),h.setFeatures(u),h.setIsReplacing(d),this.participants[l]=h,this.eventEmitter.emit(Be,l,h),this._updateFeatures(h),this.isJoined()&&this._maybeStartOrStopP2P(),this._maybeSetSITimeout()}},Du.prototype._onMucJoined=function(){this._maybeStartOrStopP2P()},Du.prototype._updateFeatures=function(e){var t=this;e.getFeatures().then(function(n){e._supportsDTMF=n.has("urn:xmpp:jingle:dtmf:0"),t.updateDTMFSupport(),n.has(os)&&e.setProperty("features_jigasi",!0),n.has(ss)&&e.setProperty("features_e2ee",!0)}).catch(function(){return!1})},Du.prototype._onMemberBotTypeChanged=function(e,t){var n=this.getParticipants().find(function(t){return t.getJid()===e});if(n){n.setBotType(t);var r=ut.Strophe.getResourceFromJid(e);this.eventEmitter.emit(ze,r,t)}n.getBotType()||this._maybeStartOrStopP2P()},Du.prototype.onMemberLeft=function(e){var t=this,n=ut.Strophe.getResourceFromJid(e);if("focus"!==n&&this.myUserId()!==n){for(var r,i=this.participants[n],o=[],s=_createForOfIteratorHelperLoose(this.getMediaSessions());!(r=s()).done;){var a=r.value,c=a.peerconnection.getRemoteTracks(n);c&&(o=[].concat(_toConsumableArray(o),_toConsumableArray(c))),a.removeRemoteStreamsOnLeave(n)}o.forEach(function(e){t.eventEmitter.emit(Ve,e)}),i&&(delete this.participants[n],this.eventEmitter.emit(Je,n,i)),null!==this.room&&(this._maybeStartOrStopP2P(!0),this._maybeClearSITimeout())}},Du.prototype.onMemberKicked=function(e,t,n,r,i){if(t!==this.myUserId()){var o=this.participants[t];if(e)return this.eventEmitter.emit(ce,o,r,i),void this.leave();var s=this.participants[n];s.setIsReplaced(i),this.eventEmitter.emit(ue,o,s,r)}},Du.prototype.onLocalRoleChanged=function(e){this.eventEmitter.emit(Ge,this.myUserId(),e)},Du.prototype.onUserRoleChanged=function(e,t){var n=ut.Strophe.getResourceFromJid(e),r=this.getParticipantById(n);r&&(r.setRole(t),this.eventEmitter.emit(Ge,n,t))},Du.prototype.onDisplayNameChanged=function(e,t){var n=ut.Strophe.getResourceFromJid(e),r=this.getParticipantById(n);r&&r._displayName!==t&&(r._displayName=t,this.eventEmitter.emit(te,n,t))},Du.prototype.onRemoteTrackAdded=function(e){var t=this;if(!e.isP2P||this.isP2PActive())if(e.isP2P||!this.isP2PActive()){var n=e.getParticipantId(),r=this.getParticipantById(n);if(r){r._tracks.push(e),this.transcriber&&this.transcriber.addTrack(e);var i=this.eventEmitter;e.addEventListener(_r,function(){return i.emit(Ue,e)}),e.isAudioTrack()&&e.addEventListener(mr,function(e,r){t.getActivePeerConnection()===r&&i.emit(Fe,n,e)}),i.emit(xe,e)}else Ou.error("No participant found for id: "+n)}else Ou.info("Trying to add remote JVB track, when in P2P - IGNORED");else Ou.info("Trying to add remote P2P track, when not in P2P - IGNORED")},Du.prototype.onCallAccepted=function(e,t){this.p2pJingleSession===e&&(Ou.info("P2P setAnswer"),this.p2pJingleSession.setAnswer(t),this.eventEmitter.emit(fe,this.p2pJingleSession))},Du.prototype.onTransportInfo=function(e,t){this.p2pJingleSession===e&&(Ou.info("P2P addIceCandidates"),this.p2pJingleSession.addIceCandidates(t))},Du.prototype.onRemoteTrackRemoved=function(e){var t=this;this.getParticipants().forEach(function(n){for(var r=n.getTracks(),i=0;i<r.length;i++)if(r[i]===e){n._tracks.splice(i,1),t.eventEmitter.emit(Ve,e),t.transcriber&&t.transcriber.removeTrack(e);break}},this)},Du.prototype._onIncomingCallP2P=function(e,t){var n;!this.isP2PEnabled()&&!this.isP2PTestModeEnabled()||An.isFirefox()||An.isWebKitBased()?n={reason:"decline",reasonDescription:"P2P disabled",errorMsg:"P2P mode disabled in the configuration"}:this.p2pJingleSession?n={reason:"busy",reasonDescription:"P2P already in progress",errorMsg:'Duplicated P2P "session-initiate"'}:this._shouldBeInP2PMode()||(n={reason:"decline",reasonDescription:"P2P requirements not met",errorMsg:'Received P2P "session-initiate" when should not be in P2P mode'},nr.sendAnalytics(en(Vt))),n?this._rejectIncomingCall(e,n):this._acceptP2PIncomingCall(e,t)},Du.prototype.onIncomingCall=function(e,t,n){if(e.isP2P)this._onIncomingCallP2P(e,t);else{if(!this.isFocus(e.remoteJid)){var r="Rejecting session-initiate from non-focus.";return void this._rejectIncomingCall(e,{reason:"security-error",reasonDescription:r,errorMsg:r})}this._acceptJvbIncomingCall(e,t,n)}},Du.prototype._acceptJvbIncomingCall=function(e,t,n){var r=this;this.jvbJingleSession=e,this.room.connectionTimes["session.initiate"]=n,this._sendConferenceJoinAnalyticsEvent(),this.wasStopped&&nr.sendAnalyticsAndLog(en(Nt,{p2p:!1}));var i=$(t).find('>bridge-session[xmlns="http://jitsi.org/protocol/focus"]').attr("region");this.eventEmitter.emit(pe,i),this._maybeClearSITimeout(),nr.sendAnalytics(en(wt,{p2p:!1,value:n}));try{e.initialize(this.room,this.rtc,this._signalingLayer,_objectSpread(_objectSpread({},this.options.config),{},{enableInsertableStreams:this.isE2EEEnabled()}))}catch(e){return Nn().callErrorHandler(e),void Ou.error(e)}this._setBridgeChannel(t,e.peerconnection);var o=this._getInitialLocalTracks();try{e.acceptOffer(t,function(){r.isP2PActive()&&r.jvbJingleSession&&r._suspendMediaTransferForJvbConnection(),r.eventEmitter.emit(fe,e),r.isP2PActive()||r.eventEmitter.emit(me,e)},function(e){Nn().callErrorHandler(e),Ou.error("Failed to accept incoming Jingle session",e)},o),this._desktopSharingFrameRate&&e.peerconnection.setDesktopSharingFrameRate(this._desktopSharingFrameRate),Ou.info("Starting CallStats for JVB connection..."),this.statistics.startCallStats(this.jvbJingleSession.peerconnection,"jitsi"),this.statistics.startRemoteStats(this.jvbJingleSession.peerconnection)}catch(e){Nn().callErrorHandler(e),Ou.error(e)}},Du.prototype._setBridgeChannel=function(e,t){var n=null,r=$(e).find(">content>transport>web-socket").first();1===r.length&&(n=r[0].getAttribute("url")),n?this.rtc.initializeBridgeChannel(null,n):this.rtc.initializeBridgeChannel(t,null)},Du.prototype._rejectIncomingCall=function(e,t){t&&t.errorMsg&&Nn().callErrorHandler(new Error(t.errorMsg)),e.terminate(null,function(e){Ou.warn("An error occurred while trying to terminate invalid Jingle session",e)},{reason:t&&t.reason,reasonDescription:t&&t.reasonDescription,sendSessionTerminate:!0})},Du.prototype.onCallEnded=function(e,t,n){if(Ou.info("Call ended: "+t+" - "+n+" P2P ?"+e.isP2P),e===this.jvbJingleSession)this.wasStopped=!0,nr.sendAnalytics(en(xt,{p2p:!1})),this.statistics&&(this.statistics.stopRemoteStats(this.jvbJingleSession.peerconnection),Ou.info("Stopping JVB CallStats"),this.statistics.stopCallStats(this.jvbJingleSession.peerconnection)),this.jvbJingleSession=null,this.rtc.onCallEnded();else if(e===this.p2pJingleSession){var r={};"decline"===t&&"force JVB121"===n?(Ou.info("In forced JVB 121 mode..."),nr.analytics.addPermanentProperties({forceJvb121:!0})):"connectivity-error"===t&&"ICE FAILED"===n?nr.analytics.addPermanentProperties({p2pFailed:!0}):"success"===t&&"restart"===n&&(r.requestRestart=!0),this._stopP2PSession(r)}else Ou.error("Received onCallEnded for invalid session",e.sid,e.remoteJid,t,n)},Du.prototype.onSuspendDetected=function(e){e.isP2P||(this.leave(),this.eventEmitter.emit(we))},Du.prototype.updateDTMFSupport=function(){for(var e=!1,t=this.getParticipants(),n=0;n<t.length;n+=1)if(t[n].supportsDTMF()){e=!0;break}e!==this.somebodySupportsDTMF&&(this.somebodySupportsDTMF=e,this.eventEmitter.emit(ie,e))},Du.prototype.isDTMFSupported=function(){return this.somebodySupportsDTMF},Du.prototype.myUserId=function(){return this.room&&this.room.myroomjid?ut.Strophe.getResourceFromJid(this.room.myroomjid):null},Du.prototype.sendTones=function(e,t,n){var r=this.getActivePeerConnection();r?r.sendTones(e,t,n):Ou.warn("cannot sendTones: no peer connection")},Du.prototype.startRecording=function(e){return this.room?this.recordingManager.startRecording(e):Promise.reject(new Error("The conference is not created yet!"))},Du.prototype.stopRecording=function(e){return this.room?this.recordingManager.stopRecording(e):Promise.reject(new Error("The conference is not created yet!"))},Du.prototype.isSIPCallingSupported=function(){return!!this.room&&this.room.isSIPCallingSupported()},Du.prototype.dial=function(e){return this.room?this.room.dial(e):new Promise(function(e,t){t(new Error("The conference is not created yet!"))})},Du.prototype.hangup=function(){return this.room?this.room.hangup():new Promise(function(e,t){t(new Error("The conference is not created yet!"))})},Du.prototype.startTranscriber=function(){return this.dial("jitsi_meet_transcribe")},Du.prototype.stopTranscriber=Du.prototype.hangup,Du.prototype.getPhoneNumber=function(){return this.room?this.room.getPhoneNumber():null},Du.prototype.getPhonePin=function(){return this.room?this.room.getPhonePin():null},Du.prototype.getMeetingUniqueId=function(){if(this.room)return this.room.getMeetingId()},Du.prototype.getActivePeerConnection=function(){var e=this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession;return e?e.peerconnection:null},Du.prototype.getConnectionState=function(){var e=this.getActivePeerConnection();return e?e.getConnectionState():null},Du.prototype.setStartMutedPolicy=function(e){this.isModerator()?(this.startMutedPolicy=e,this.room.addOrReplaceInPresence("startmuted",{attributes:{audio:e.audio,video:e.video,xmlns:"http://jitsi.org/jitmeet/start-muted"}})&&this.room.sendPresence()):Ou.warn("Failed to set start muted policy, "+(this.room?"":"not in a room, ")+(this.isModerator()?"":"participant is not a moderator"))},Du.prototype.getStartMutedPolicy=function(){return this.startMutedPolicy},Du.prototype.isStartAudioMuted=function(){return this.startAudioMuted},Du.prototype.isStartVideoMuted=function(){return this.startVideoMuted},Du.prototype.getConnectionTimes=function(){return this.room.connectionTimes},Du.prototype.setLocalParticipantProperty=function(e,t){this.sendCommand("jitsi_participant_"+e,{value:t})},Du.prototype.removeLocalParticipantProperty=function(e){this.removeCommand("jitsi_participant_"+e),this.room.sendPresence()},Du.prototype.getLocalParticipantProperty=function(e){var t=this.room.presMap.nodes.find(function(t){return t.tagName==="jitsi_participant_"+e});return t?t.value:void 0},Du.prototype.sendFeedback=function(e,t){return this.statistics.sendFeedback(e,t)},Du.prototype.isCallstatsEnabled=function(){return this.statistics.isCallstatsEnabled()},Du.prototype.getSsrcByTrack=function(e){var t;return e.isLocal()?null===(t=this.getActivePeerConnection())||void 0===t?void 0:t.getLocalSSRC(e):e.getSSRC()},Du.prototype._onTrackAttach=function(e,t){var n=e.isLocal(),r=null,i=e.isP2P,o=i?e.getParticipantId():"jitsi",s=i?this.p2pJingleSession&&this.p2pJingleSession.peerconnection:this.jvbJingleSession&&this.jvbJingleSession.peerconnection;n?s&&(r=s.getLocalSSRC(e)):r=e.getSSRC(),t.id&&r&&s&&this.statistics.associateStreamWithVideoTag(s,r,n,o,e.getUsageLabel(),t.id)},Du.prototype.sendApplicationLog=function(e){nr.sendLog(e)},Du.prototype.isFocus=function(e){return this.room?this.room.isFocus(e):null},Du.prototype._fireIncompatibleVersionsEvent=function(){this.eventEmitter.emit(K,M)},Du.prototype.sendEndpointMessage=function(e,t){this.rtc.sendChannelMessage(e,t)},Du.prototype.sendEndpointStatsMessage=function(e){this.rtc.sendEndpointStatsMessage(e)},Du.prototype.broadcastEndpointMessage=function(e){this.sendEndpointMessage("",e)},Du.prototype.sendMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=typeof e;if("object"===r||!n&&"string"===r)if(n)this.sendEndpointMessage(t,e);else{var i=e,o="body";if("object"===r){o="json-message",i.hasOwnProperty(is)||(i[is]="");try{i=JSON.stringify(i)}catch(e){return void Ou.error("Can not send a message, stringify failed: ",e)}}t?this.sendPrivateTextMessage(t,i,o):this.sendTextMessage(i,o)}else Ou.error("Can not send a message of type "+r)},Du.prototype.isConnectionInterrupted=function(){return this.isP2PActive()?this.isP2PConnectionInterrupted:this.isJvbConnectionInterrupted},Du.prototype._onConferenceRestarted=function(e){!e.isP2P&&this.options.config.enableForcedReload&&this.eventEmitter.emit(K,R)},Du.prototype._onIceConnectionInterrupted=function(e){e.isP2P?this.isP2PConnectionInterrupted=!0:this.isJvbConnectionInterrupted=!0,e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(Y)},Du.prototype._onIceConnectionFailed=function(e){e.isP2P?(nr.analytics.addPermanentProperties({p2pFailed:!0}),this.p2pJingleSession&&nr.sendAnalyticsAndLog(tn(Ht,{initiator:this.p2pJingleSession.isInitiator})),this._stopP2PSession({reason:"connectivity-error",reasonDescription:"ICE FAILED"})):e&&this.jvbJingleSession===e&&(this._delayedIceFailed=new Za(this),this._delayedIceFailed.start(e))},Du.prototype._onIceConnectionRestored=function(e){e.isP2P?this.isP2PConnectionInterrupted=!1:(this.isJvbConnectionInterrupted=!1,this._delayedIceFailed&&this._delayedIceFailed.cancel()),e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(Z)},Du.prototype._acceptP2PIncomingCall=function(e,t){var n=this;this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=e,this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this._signalingLayer,_objectSpread(_objectSpread({},this.options.config),{},{enableInsertableStreams:this.isE2EEEnabled()})),Ou.info("Starting CallStats for P2P connection...");var r=ut.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),i=this.participants[r];i&&(r=i.getStatsID()||r),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,r);var o=this.getLocalTracks();this.p2pJingleSession.acceptOffer(t,function(){Ou.debug('Got RESULT for P2P "session-accept"'),n.eventEmitter.emit(fe,e)},function(e){Ou.error("Failed to accept incoming P2P Jingle session",e)},o)},Du.prototype._addRemoteJVBTracks=function(){this._addRemoteTracks("JVB",this.jvbJingleSession.peerconnection.getRemoteTracks())},Du.prototype._addRemoteP2PTracks=function(){this._addRemoteTracks("P2P",this.p2pJingleSession.peerconnection.getRemoteTracks())},Du.prototype._addRemoteTracks=function(e,t){for(var n,r=_createForOfIteratorHelperLoose(t);!(n=r()).done;){var i=n.value;Ou.info("Adding remote "+e+" track: "+i),this.onRemoteTrackAdded(i)}},Du.prototype._onIceConnectionEstablished=function(e){null!==this.p2pJingleSession&&(this.p2pEstablishmentDuration=this.p2pJingleSession.establishmentDuration),null!==this.jvbJingleSession&&(this.jvbEstablishmentDuration=this.jvbJingleSession.establishmentDuration);var t=!1,n=this.options.config.forceJVB121Ratio;if(e.isP2P?this.p2pJingleSession!==e?(Ou.error("CONNECTION_ESTABLISHED - wrong P2P session instance ?!"),t=!0):!e.isInitiator&&"number"==typeof n&&Math.random()<n&&(Ou.info("Forcing JVB 121 mode (ratio="+n+")..."),nr.analytics.addPermanentProperties({forceJvb121:!0}),this._stopP2PSession({reason:"decline",reasonDescription:"force JVB121"}),t=!0):t=!0,!isNaN(this.p2pEstablishmentDuration)&&!isNaN(this.jvbEstablishmentDuration)){var r=this.p2pEstablishmentDuration-this.jvbEstablishmentDuration;nr.sendAnalytics(zt,{value:r})}e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(Q),t||(this._setP2PStatus(!0),this.jvbJingleSession?this._removeRemoteJVBTracks():Ou.info("Not removing remote JVB tracks - no session yet"),this._addRemoteP2PTracks(),this.jvbJingleSession&&this._suspendMediaTransferForJvbConnection(),Ou.info("Starting remote stats with p2p connection"),this.statistics.startRemoteStats(this.p2pJingleSession.peerconnection),nr.sendAnalyticsAndLog(tn(jt,{initiator:this.p2pJingleSession.isInitiator})))},Du.prototype._updateProperties=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!ct()(e,this.properties);if(this.properties=e,t){this.eventEmitter.emit(Ie,this.properties);var n="true"===this.properties["audio-limit-reached"],r="true"===this.properties["video-limit-reached"];this._audioSenderLimitReached!==n&&(this._audioSenderLimitReached=n,this.eventEmitter.emit(H,n),Ou.info("Audio unmute permissions set by Jicofo to "+n)),this._videoSenderLimitReached!==r&&(this._videoSenderLimitReached=r,this.eventEmitter.emit(qe,r),Ou.info("Video unmute permissions set by Jicofo to "+r)),["bridge-count","created-ms"].forEach(function(t){void 0!==e[t]&&nr.analytics.addPermanentProperties(_defineProperty({},t.replace("-","_"),e[t]))})}},Du.prototype.getProperty=function(e){return this.properties[e]},Du.prototype._maybeClearDeferredStartP2P=function(){this.deferredStartP2PTask&&(Ou.info("Cleared deferred start P2P task"),clearTimeout(this.deferredStartP2PTask),this.deferredStartP2PTask=null)},Du.prototype._removeRemoteJVBTracks=function(){this._removeRemoteTracks("JVB",this.jvbJingleSession.peerconnection.getRemoteTracks())},Du.prototype._removeRemoteP2PTracks=function(){this._removeRemoteTracks("P2P",this.p2pJingleSession.peerconnection.getRemoteTracks())},Du.prototype._removeRemoteTracks=function(e,t){for(var n,r=_createForOfIteratorHelperLoose(t);!(n=r()).done;){var i=n.value;Ou.info("Removing remote "+e+" track: "+i),this.onRemoteTrackRemoved(i)}},Du.prototype._resumeMediaTransferForJvbConnection=function(){Ou.info("Resuming media transfer over the JVB connection..."),this.jvbJingleSession.setMediaTransferActive(!0,!0).then(function(){Ou.info("Resumed media transfer over the JVB connection!")},function(e){Ou.error("Failed to resume media transfer over the JVB connection:",e)})},Du.prototype._setP2PStatus=function(e){if(this.p2p!==e){if(this.p2p=e,e){Ou.info("Peer to peer connection established!"),nr.analytics.addPermanentProperties({p2pFailed:!1,forceJvb121:!1});var t=0!==this.getLastN();this.p2pJingleSession.setMediaTransferActive(!0,t).catch(function(e){Ou.error("Failed to sync up P2P video transfer status("+t+")",e)})}else Ou.info("Peer to peer connection closed!");this.jvbJingleSession&&this.statistics.sendConnectionResumeOrHoldEvent(this.jvbJingleSession.peerconnection,!e),this.dtmfManager=null,this.eventEmitter.emit(Re,this,this.p2p),this.eventEmitter.emit(me,this.getActiveMediaSession()),this.eventEmitter.emit(this.isConnectionInterrupted()?Y:Z)}else Ou.debug("Called _setP2PStatus with the same status: "+e)},Du.prototype._startP2PSession=function(e){if(this._maybeClearDeferredStartP2P(),this.p2pJingleSession)Ou.error("P2P session already started!");else{this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=this.xmpp.connection.jingle.newP2PJingleSession(this.room.myroomjid,e),Ou.info("Created new P2P JingleSession",this.room.myroomjid,e),this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this._signalingLayer,_objectSpread(_objectSpread({},this.options.config),{},{enableInsertableStreams:this.isE2EEEnabled()})),Ou.info("Starting CallStats for P2P connection...");var t=ut.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),n=this.participants[t];n&&(t=n.getStatsID()||t),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,t);var r=this.getLocalTracks();this.p2pJingleSession.invite(r)}},Du.prototype._suspendMediaTransferForJvbConnection=function(){Ou.info("Suspending media transfer over the JVB connection..."),this.jvbJingleSession.setMediaTransferActive(!1,!1).then(function(){Ou.info("Suspended media transfer over the JVB connection !")},function(e){Ou.error("Failed to suspend media transfer over the JVB connection:",e)})},Du.prototype._maybeStartOrStopP2P=function(e){if(!this.isP2PEnabled()||this.isP2PTestModeEnabled()||An.isFirefox()||An.isWebKitBased()||this.isE2EEEnabled())Ou.info("Auto P2P disabled");else{var t=this.getParticipants(),n=t.length,r=this._shouldBeInP2PMode();if(!r&&this.deferredStartP2PTask&&this._maybeClearDeferredStartP2P(),!this.p2pJingleSession&&r){var i=n&&t[0],o=this.myUserId(),s=i.getId();if(o>s)return void Ou.debug("I'm the bigger peersId - the other peer should start P2P",o,s);if(o===s)return void Ou.error("The same IDs ? ",o,s);var a=i.getJid();if(e){if(this.deferredStartP2PTask)return void Ou.error("Deferred start P2P task's been set already!");Ou.info("Will start P2P with: "+a+" after "+this.backToP2PDelay+" seconds..."),this.deferredStartP2PTask=setTimeout(this._startP2PSession.bind(this,a),1e3*this.backToP2PDelay)}else Ou.info("Will start P2P with: "+a),this._startP2PSession(a)}else this.p2pJingleSession&&!r&&(Ou.info("Will stop P2P with: "+this.p2pJingleSession.remoteJid),this.p2pJingleSession.isInitiator&&n>1&&nr.sendAnalyticsAndLog(tn(Bt)),this._stopP2PSession())}},Du.prototype._shouldBeInP2PMode=function(){var e=this.getParticipants(),t=e.length,n=void 0!==e.find(function(e){return"poltergeist"===e.getBotType()||e.hasFeature(os)}),r=1===t&&!n;return Ou.debug("P2P? peerCount: "+t+", hasBotPeer: "+n+" => "+r),r},Du.prototype._stopP2PSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reason,n=void 0===t?"success":t,r=e.reasonDescription,i=void 0===r?"Turning off P2P session":r,o=e.requestRestart,s=void 0!==o&&o;if(this.p2pJingleSession){var a=this.isP2PActive();a&&(this.jvbJingleSession&&!s&&this._resumeMediaTransferForJvbConnection(),this._removeRemoteP2PTracks()),Ou.info("Stopping remote stats for P2P connection"),this.statistics.stopRemoteStats(this.p2pJingleSession.peerconnection),Ou.info("Stopping CallStats for P2P connection"),this.statistics.stopCallStats(this.p2pJingleSession.peerconnection),this.p2pJingleSession.terminate(function(){Ou.info("P2P session terminate RESULT")},function(e){"success"!==n&&Ou.error("An error occurred while trying to terminate P2P Jingle session",e)},{reason:n,reasonDescription:i,sendSessionTerminate:this.room&&this.getParticipantById(ut.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid))}),this.p2pJingleSession=null,this._setP2PStatus(!1),a&&(this.jvbJingleSession&&!s?this._addRemoteJVBTracks():Ou.info("Not adding remote JVB tracks - no session yet"))}else Ou.error("No P2P session to be stopped!")},Du.prototype._updateRoomPresence=function(e,t){if(e){if(t){if(t.skip)return;t.skip=!0}for(var n,r,i,o=!1,s=this.getLocalTracks(),a=_createForOfIteratorHelperLoose(s);!(i=a()).done;){var c=i.value;n=this._setTrackMuteStatus(c.getType(),c,c.isMuted()),c.getType()===Bn.VIDEO&&(r=this._setNewVideoType(c)),o=o||n||r}if(!s.length&&!ui.isMultiStreamSupportEnabled()){var u=this._setTrackMuteStatus(Bn.AUDIO,void 0,!0),d=this._setTrackMuteStatus(Bn.VIDEO,void 0,!0);r=this._setNewVideoType(),o=u||d||r}o&&this.room.sendPresence()}},Du.prototype.isP2PActive=function(){return this.p2p},Du.prototype.getP2PConnectionState=function(){return this.isP2PActive()?this.p2pJingleSession.peerconnection.getConnectionState():null},Du.prototype.setDesktopSharingFrameRate=function(e){return"number"!=typeof e||isNaN(e)?(Ou.error("Invalid value "+e+" specified for desktop capture frame rate"),!1):(this._desktopSharingFrameRate=e,this.jvbJingleSession&&this.jvbJingleSession.peerconnection.setDesktopSharingFrameRate(e),this.rtc.setDesktopSharingFrameRate(e),!0)},Du.prototype.startP2PSession=function(){var e=this.getParticipants();if(1!==e.length)throw new Error("There must be exactly 1 participant to start the P2P session !");var t=e[0].getJid();this._startP2PSession(t)},Du.prototype.stopP2PSession=function(e){this._stopP2PSession(e)},Du.prototype.getSpeakerStats=function(){return this.speakerStatsCollector.getStats()},Du.prototype.sendFacialExpression=function(e){this.xmpp.sendFacialExpressionEvent(this.room.roomjid,e)},Du.prototype.setReceiverConstraints=function(e){this.receiveVideoController.setReceiverConstraints(e)},Du.prototype.setReceiverVideoConstraint=function(e){this.receiveVideoController.setPreferredReceiveMaxFrameHeight(e)},Du.prototype.setSenderVideoConstraint=function(e){return this.sendVideoController.setPreferredSendMaxFrameHeight(e)},Du.prototype.createVideoSIPGWSession=function(e,t){return this.room?this.videoSIPGWHandler.createVideoSIPGWSession(e,t):new Error(Su)},Du.prototype._sendConferenceJoinAnalyticsEvent=function(){var e=this.getMeetingUniqueId();!this._conferenceJoinAnalyticsEventSent&&e&&null!==this.getActivePeerConnection()&&(nr.sendAnalytics(Qt("joined",{meetingId:e,participantId:e+"."+this._statsCurrentId})),this._conferenceJoinAnalyticsEventSent=Date.now())},Du.prototype._sendConferenceLeftAnalyticsEvent=function(){var e=this.getMeetingUniqueId();e&&this._conferenceJoinAnalyticsEventSent&&nr.sendAnalytics(Qt("left",{meetingId:e,participantId:e+"."+this._statsCurrentId,stats:{duration:Math.floor((Date.now()-this._conferenceJoinAnalyticsEventSent)/1e3),perf:this.getPerformanceStats()}}))},Du.prototype._restartMediaSessions=function(){this.p2pJingleSession&&this._stopP2PSession({reasonDescription:"restart",requestRestart:!0}),this.jvbJingleSession&&this.jvbJingleSession.terminate(null,function(e){Ou.warn("An error occurred while trying to terminate the JVB session",e)},{reason:"success",reasonDescription:"restart required",requestRestart:!0,sendSessionTerminate:!0}),this._maybeStartOrStopP2P(!1)},Du.prototype.isE2EEEnabled=function(){return Boolean(this._e2eEncryption&&this._e2eEncryption.isEnabled())},Du.prototype.isE2EESupported=function(){return ai.isSupported(this.options.config)},Du.prototype.toggleE2EE=function(e){this.isE2EESupported()?this._e2eEncryption.setEnabled(e):Ou.warn("Cannot enable / disable E2EE: platform is not supported.")},Du.prototype.setMediaEncryptionKey=function(e){this._e2eEncryption.setEncryptionKey(e)},Du.prototype.isLobbySupported=function(){return Boolean(this.room&&this.room.getLobby().isSupported())},Du.prototype.isMembersOnly=function(){return Boolean(this.room&&this.room.membersOnlyEnabled)},Du.prototype.enableLobby=function(){return this.room&&this.isModerator()?this.room.getLobby().enable():Promise.reject(new Error("The conference not started or user is not moderator"))},Du.prototype.disableLobby=function(){this.room&&this.isModerator()?this.room.getLobby().disable():Ou.warn("Failed to disable lobby, "+(this.room?"":"not in a room, ")+(this.isModerator()?"":"participant is not a moderator"))},Du.prototype.joinLobby=function(e,t){return this.room?this.room.getLobby().join(e,t):Promise.reject(new Error("The conference not started"))},Du.prototype.myLobbyUserId=function(){if(this.room)return this.room.getLobby().getLocalId()},Du.prototype.sendLobbyMessage=function(e,t){if(this.room)return t?this.room.getLobby().sendPrivateMessage(t,e):this.room.getLobby().sendMessage(e)},Du.prototype.addLobbyMessageListener=function(e){if(this.room)return this.room.getLobby().addMessageListener(e)},Du.prototype.removeLobbyMessageHandler=function(e){if(this.room)return this.room.getLobby().removeMessageHandler(e)},Du.prototype.lobbyDenyAccess=function(e){this.room&&this.room.getLobby().denyAccess(e)},Du.prototype.lobbyApproveAccess=function(e){this.room&&this.room.getLobby().approveAccess(e)},Du.prototype.isAVModerationSupported=function(){return Boolean(this.room&&this.room.getAVModeration().isSupported())},Du.prototype.enableAVModeration=function(e){this.room&&this.isModerator()&&(e===Bn.AUDIO||e===Bn.VIDEO)?this.room.getAVModeration().enable(!0,e):Ou.warn("Failed to enable AV moderation, "+(this.room?"":"not in a room, ")+(this.isModerator()?"":"participant is not a moderator, ")+(this.room&&this.isModerator()?"wrong media type passed":""))},Du.prototype.disableAVModeration=function(e){this.room&&this.isModerator()&&(e===Bn.AUDIO||e===Bn.VIDEO)?this.room.getAVModeration().enable(!1,e):Ou.warn("Failed to disable AV moderation, "+(this.room?"":"not in a room, ")+(this.isModerator()?"":"participant is not a moderator, ")+(this.room&&this.isModerator()?"wrong media type passed":""))},Du.prototype.avModerationApprove=function(e,t){if(this.room&&this.isModerator()&&(e===Bn.AUDIO||e===Bn.VIDEO)){var n=this.getParticipantById(t);if(!n)return;this.room.getAVModeration().approve(e,n.getJid())}else Ou.warn("AV moderation approve skipped , "+(this.room?"":"not in a room, ")+(this.isModerator()?"":"participant is not a moderator, ")+(this.room&&this.isModerator()?"wrong media type passed":""))},Du.prototype.avModerationReject=function(e,t){if(this.room&&this.isModerator()&&(e===Bn.AUDIO||e===Bn.VIDEO)){var n=this.getParticipantById(t);if(!n)return;this.room.getAVModeration().reject(e,n.getJid())}else Ou.warn("AV moderation reject skipped , "+(this.room?"":"not in a room, ")+(this.isModerator()?"":"participant is not a moderator, ")+(this.room&&this.isModerator()?"wrong media type passed":""))},Du.prototype.getBreakoutRooms=function(){var e;return null===(e=this.room)||void 0===e?void 0:e.getBreakoutRooms()},Nu.prototype.connect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.xmpp.connect(e.id,e.password)},Nu.prototype.attach=function(e){this.xmpp.attach(e)},Nu.prototype.disconnect=function(){var e;return(e=this.xmpp).disconnect.apply(e,arguments)},Nu.prototype.getJid=function(){return this.xmpp.getJid()},Nu.prototype.setToken=function(e){this.token=e},Nu.prototype.initJitsiConference=function(e,t){return new Du({name:e,config:t,connection:this})},Nu.prototype.addEventListener=function(e,t){this.xmpp.addListener(e,t)},Nu.prototype.removeEventListener=function(e,t){this.xmpp.removeListener(e,t)},Nu.prototype.getConnectionTimes=function(){return this.xmpp.connectionTimes},Nu.prototype.addFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.addFeature(e,t,!0)},Nu.prototype.removeFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.removeFeature(e,t,!0)},Nu.prototype.getLogs=function(){var e=this.xmpp.getJingleLog(),t={};t.time=new Date,t.url=window.location.href,t.ua=navigator.userAgent;var n=this.xmpp.getXmppLog();return n&&(t.xmpp=n),e.metadata=t,e},(function(e){e.DEVICE_LIST_CHANGED="mediaDevices.devicechange",e.PERMISSIONS_CHANGED="rtc.permissions_changed",e.PERMISSION_PROMPT_IS_SHOWN="mediaDevices.permissionPromptIsShown",e.SLOW_GET_USER_MEDIA="mediaDevices.slowGetUserMedia"})(lu||(lu={}));var Mu,wu=lu.DEVICE_LIST_CHANGED,Lu=lu.PERMISSIONS_CHANGED,xu=lu.PERMISSION_PROMPT_IS_SHOWN,Fu=lu.SLOW_GET_USER_MEDIA,Uu="microphone",Vu="camera",ju=new((function(){function e(){var t=this;_classCallCheck(this,e),this._eventEmitter=new(st()),this._permissions={},Ha.addListener(sr.default.DEVICE_LIST_CHANGED,function(e){return t._eventEmitter.emit(wu,e)}),Ha.addListener(sr.default.DEVICE_LIST_AVAILABLE,function(e){return t._logOutputDevice(t.getAudioOutputDevice(),e)}),Ha.addListener(sr.default.PERMISSIONS_CHANGED,function(e){return t._handlePermissionsChange(e)}),this._permissionsApiSupported=new Promise(function(e){if(navigator.permissions){var n=t,r=[];r.push(navigator.permissions.query({name:Vu}).then(function(e){return t._handlePermissionsChange(_defineProperty({},Bn.VIDEO,t._parsePermissionState(e))),e.onchange=function(){try{n._handlePermissionsChange(_defineProperty({},Bn.VIDEO,n._parsePermissionState(this)))}catch(e){}},!0}).catch(function(){return!1})),r.push(navigator.permissions.query({name:Uu}).then(function(e){return t._handlePermissionsChange(_defineProperty({},Bn.AUDIO,t._parsePermissionState(e))),e.onchange=function(){try{n._handlePermissionsChange(_defineProperty({},Bn.AUDIO,n._parsePermissionState(this)))}catch(e){}},!0}).catch(function(){return!1})),Promise.all(r).then(function(t){return e(t.every(function(e){return e}))})}else e(!1)})}return _createClass(e,[{key:"_parsePermissionState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state||e.status;if("string"!=typeof t)throw new TypeError;return"granted"===t}},{key:"_handlePermissionsChange",value:function(e){var t=this;[Bn.AUDIO,Bn.VIDEO].some(function(n){return n in e&&e[n]!==t._permissions[n]})&&(this._permissions=_objectSpread(_objectSpread({},this._permissions),e),this._eventEmitter.emit(Lu,this._permissions),(this._permissions[Bn.AUDIO]||this._permissions[Bn.VIDEO])&&this.enumerateDevices(function(){}))}},{key:"_logOutputDevice",value:function(e,t){var n=t.find(function(t){return"audiooutput"===t.kind&&t.deviceId===e});n&&nr.sendActiveDeviceListEvent(Ha.getEventDataForActiveDevice(n))}},{key:"enumerateDevices",value:function(e){Ha.enumerateDevices(e)}},{key:"isDeviceListAvailable",value:function(){return Ha.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(e){return Ha.isDeviceChangeAvailable(e)}},{key:"isDevicePermissionGranted",value:function(e){var t=this;return new Promise(function(n){e in t._permissions?n(t._permissions[e]):t._permissionsApiSupported.then(function(r){if(r){var i=[];switch(e){case Bn.VIDEO:i.push(navigator.permissions.query({name:Vu}));break;case Bn.AUDIO:i.push(navigator.permissions.query({name:Uu}));break;default:i.push(navigator.permissions.query({name:Vu})),i.push(navigator.permissions.query({name:Uu}))}Promise.all(i).then(function(e){return n(e.every(function(e){try{return t._parsePermissionState(e)}catch(e){return!1}}))},function(){return n(!1)})}else n(!1)})})}},{key:"isMultipleAudioInputSupported",value:function(){return!(An.isFirefox()||An.isIosBrowser())}},{key:"getAudioOutputDevice",value:function(){return Ha.getAudioOutputDevice()}},{key:"setAudioOutputDevice",value:function(e){return Ha.getCurrentlyAvailableMediaDevices().length>0&&this._logOutputDevice(e,Ha.getCurrentlyAvailableMediaDevices()),Ha.setAudioOutputDevice(e)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.addListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._eventEmitter.removeListener(e,t)}},{key:"emitEvent",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._eventEmitter).emit.apply(t,[e].concat(r))}}]),e})()),Hu=(0,v.getLogger)("modules/detection/ActiveDeviceDetector.js");function Bu(e){for(var t,n=_createForOfIteratorHelperLoose(e);!(t=n()).done;){t.value.stopStream()}}!(function(e){e.ACCEPT="session-accept",e.CONNECTION_ERROR="connection-error-encountered",e.INITIATE="session-initiate",e.TERMINATE="session-terminate",e.TRANSPORT_INFO="transport-info",e.UNAVAILABLE="unavailable"})(Mu||(Mu={}));var Ju=(0,v.getLogger)("modules/proxyconnection/ProxyConnectionPC.js"),Gu=(function(){function e(){_classCallCheck(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=_objectSpread({pcConfig:{},isInitiator:!1,receiveAudio:!1,receiveVideo:!1},t),this._tracks=[],this._peerConnection=null,this._onError=this._onError.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this),this._onSendMessage=this._onSendMessage.bind(this)}return _createClass(e,[{key:"getPeerJid",value:function(){return this._options.peerJid}},{key:"processMessage",value:function(e){switch(e.attr("action")){case Mu.ACCEPT:this._onSessionAccept(e);break;case Mu.INITIATE:this._onSessionInitiate(e);break;case Mu.TERMINATE:this._onSessionTerminate(e);break;case Mu.TRANSPORT_INFO:this._onTransportInfo(e)}}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._peerConnection||(this._tracks=this._tracks.concat(e),this._peerConnection=this._createPeerConnection(),this._peerConnection.invite(e))}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.terminate(),this._onSessionTerminate()}},{key:"_createPeerConnection",value:function(){var e=this,t={connected:!0,jingle:{terminate:function(){}},sendIQ:this._onSendMessage,addEventListener:function(){return function(){}}},n=_objectSpread({iceServers:rs},this._options.pcConfig),r={addPresenceListener:function(){},connectionTimes:[],eventEmitter:{emit:function(t){switch(t){case dr.XMPPEvents.CONNECTION_ICE_FAILED:case dr.XMPPEvents.CONNECTION_FAILED:e._onError(Mu.CONNECTION_ERROR,t)}}},getMediaPresenceInfo:function(){return{}},removePresenceListener:function(){},supportsRestartByTerminate:function(){return!1}};this._rtc=new Ha({myUserId:function(){return""}},{}),this._rtc.addListener(sr.default.REMOTE_TRACK_ADDED,this._onRemoteStream);var i=new Jo(void 0,void 0,this._options.peerJid,t,{offerToReceiveAudio:this._options.receiveAudio,offerToReceiveVideo:this._options.receiveVideo},n,!0,this._options.isInitiator),o=new Pu;return o.setChatRoom(r),i.initialize(r,this._rtc,o,{}),i}},{key:"_onError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._options.onError(this._options.peerJid,e,t)}},{key:"_onRemoteStream",value:function(e){this._tracks.push(e),this._options.onRemoteStream(e)}},{key:"_onSendMessage",value:function(e){this._options.onSendMessage(this._options.peerJid,e)}},{key:"_onSessionAccept",value:function(e){this._peerConnection?this._peerConnection.setAnswer(e):Ju.error("Received an answer when no peer connection exists.")}},{key:"_onSessionInitiate",value:function(e){var t=this;this._peerConnection?Ju.error("Received an offer when an offer was already sent."):(this._peerConnection=this._createPeerConnection(),this._peerConnection.acceptOffer(e,function(){},function(){return t._onError(t._options.peerJid,Mu.CONNECTION_ERROR,"session initiate error")}))}},{key:"_onSessionTerminate",value:function(){this._tracks.forEach(function(e){return e.dispose()}),this._tracks=[],this._peerConnection&&this._peerConnection.onTerminated(),this._rtc&&(this._rtc.removeListener(sr.default.REMOTE_TRACK_ADDED,this._onRemoteStream),this._rtc.destroy())}},{key:"_onTransportInfo",value:function(e){this._peerConnection.addIceCandidates(e)}}]),e})(),Ku=(0,v.getLogger)("modules/proxyconnection/ProxyConnectionService.js"),qu="preCallTestResults",zu=new(st()),Wu=!1,Xu=null,$u={init:function(e){var t,n,r;return _regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!Wu){i.next=2;break}throw new Error("Precall Test already initialized");case 2:if(t=e.callStatsID,n=e.callStatsSecret,r=e.disableThirdPartyRequests,t&&n&&!r){i.next=5;break}throw new Error("Callstats is disabled");case 5:return i.next=7,_regeneratorRuntime.awrap((function(e){if(!An.isReactNative())return new Promise(function(t){kn().loadScript(e.callStatsCustomScriptUrl||dt,!0,!0,void 0,t)})})(e));case 7:return Xu=new window.callstats,i.abrupt("return",(function(e){return new Promise(function(t,n){var r=e.callStatsID,i=e.callStatsSecret,o=e.statisticsId||e.statisticsDisplayName||zi.callStatsUserName;Xu.initialize(r,i,o,function(e,r){"success"===e?(Xu.on(qu,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];zu.emit.apply(zu,[qu].concat(t))}),Wu=!0,t()):n({status:e,message:r})},null,{disablePrecalltest:!0})})})(e));case 9:case"end":return i.stop()}},null,null,null,Promise)},execute:function(){return Wu?new Promise(function(e,t){zu.on(qu,function(n,r){"success"===n?e(r):t({status:n,payload:r})}),Xu.makePrecallTest()}):Promise.reject("uninitialized")}},Qu=n(4424),Yu=n.n(Qu),Zu=(0,v.getLogger)("modules/webaudio/AudioMixer.js"),ed=(function(){function e(){_classCallCheck(this,e),this._started=!1,this._streamsToMix=[],this._streamMSSArray=[]}return _createClass(e,[{key:"addMediaStream",value:function(e){e.getAudioTracks()||Zu.warn("Added MediaStream doesn't contain audio tracks."),this._streamsToMix.push(e)}},{key:"start",value:function(){if(this._started)return this._mixedMSD.stream;if(this._audioContext=uc(),!this._streamsToMix.length)return Zu.warn("No MediaStream's added to AudioMixer, nothing will happen."),null;this._started=!0,this._mixedMSD=this._audioContext.createMediaStreamDestination();for(var e,t=_createForOfIteratorHelperLoose(this._streamsToMix);!(e=t()).done;){var n=e.value,r=this._audioContext.createMediaStreamSource(n);r.connect(this._mixedMSD),this._streamMSSArray.push(r)}return this._mixedMSD.stream}},{key:"reset",value:function(){this._started=!1,this._streamsToMix=[];for(var e,t=_createForOfIteratorHelperLoose(this._streamMSSArray);!(e=t()).done;){e.value.disconnect()}this._streamMSSArray=[],this._audioContext&&(this._audioContext=void 0)}}]),e})(),td=_().getLogger("JitsiMeetJS.js");function nd(e){var t={audio_requested:e.devices.includes("audio"),video_requested:e.devices.includes("video"),screen_sharing_requested:e.devices.includes("desktop")};return t.video_requested&&(t.resolution=e.resolution),t}var rd=(function(e){return"object"==typeof window.JitsiMeetJS?_extends({},window.JitsiMeetJS,e):e})({version:"aed1fa44",JitsiConnection:Nu,ProxyConnectionService:(function(){function e(){_classCallCheck(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.jitsiConnection,r=_objectWithoutProperties(t,_excluded2);this._options=_objectSpread({pcConfig:n&&n.xmpp.connection.jingle.p2pIceConfig},r),this._peerConnection=null,this._onFatalError=this._onFatalError.bind(this),this._onSendMessage=this._onSendMessage.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this)}return _createClass(e,[{key:"processMessage",value:function(e){var t=e.from;if(t)if(this._peerConnection&&this._peerConnection.getPeerJid()!==t)this._onFatalError(t,Mu.CONNECTION_ERROR,"rejected");else{var n=this._convertStringToXML(e.data.iq),r=n&&n.find("jingle"),i=r&&r.attr("action");i===Mu.INITIATE&&(this._peerConnection=this._createPeerConnection(t,{isInitiator:!1,receiveVideo:!0})),this._peerConnection&&this._peerConnection.processMessage(r),i!==Mu.CONNECTION_ERROR&&i!==Mu.UNAVAILABLE&&i!==Mu.TERMINATE||this._selfCloseConnection()}}},{key:"start",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._peerConnection=this._createPeerConnection(e,{isInitiator:!0,receiveVideo:!1}),this._peerConnection.start(t)}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.stop(),this._peerConnection=null}},{key:"_convertStringToXML",value:function(e){try{var t=(new DOMParser).parseFromString(e,"text/xml");return $(t)}catch(e){return Ku.error("Attempted to convert incorrectly formatted xml"),null}}},{key:"_createPeerConnection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Cannot create ProxyConnectionPC without a peer.");var n=_objectSpread({pcConfig:this._options.pcConfig,onError:this._onFatalError,onRemoteStream:this._onRemoteStream,onSendMessage:this._onSendMessage,peerJid:e},t);return new Gu(n)}},{key:"_onFatalError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Ku.error("Received a proxy connection error",e,t,n);var r=(0,ut.$iq)({to:e,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:t}).c("details").t(n).up();this._onSendMessage(e,r),this._peerConnection&&this._peerConnection.getPeerJid()===e&&this._selfCloseConnection()}},{key:"_onRemoteStream",value:function(e){if(!this._options.onRemoteStream)return Ku.error("Remote track received without callback."),void e.dispose();var t,n=e.isVideoTrack();n&&(t=this._options.convertVideoToDesktop?ar.VideoType.DESKTOP:ar.VideoType.CAMERA);var r=e.getOriginalStream(),i=Ha.createLocalTracks([{deviceId:"proxy:"+this._peerConnection.getPeerJid(),mediaType:n?Bn.VIDEO:Bn.AUDIO,sourceType:"proxy",stream:r,track:r.getVideoTracks()[0],videoType:t}]);this._options.onRemoteStream(i[0])}},{key:"_onSendMessage",value:function(e,t){if(this._options.onSendMessage)try{var n=(new XMLSerializer).serializeToString(t.nodeTree||t);this._options.onSendMessage(e,{iq:n})}catch(e){Ku.error("Attempted to send an incorrectly formatted iq.")}}},{key:"_selfCloseConnection",value:function(){this.stop(),this._options.onConnectionClosed&&this._options.onConnectionClosed()}}]),e})(),constants:{participantConnectionStatus:Tr,recording:{error:{BUSY:"busy",ERROR:"error",RESOURCE_CONSTRAINT:"resource-constraint",UNEXPECTED_REQUEST:"unexpected-request",SERVICE_UNAVAILABLE:"service-unavailable"},mode:{FILE:"file",STREAM:"stream"},status:{OFF:"off",ON:"on",PENDING:"pending"}},sipVideoGW:p,transcriptionStatus:u,trackStreamingStatus:ma},events:{conference:i,connection:a,detection:l,track:s,mediaDevices:f,connectionQuality:d,e2eping:h},errors:{conference:r,connection:c,track:o},errorTypes:{JitsiTrackError:At},logLevels:_().levels,mediaDevices:ju,analytics:nr.analytics,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(zi.init(e.externalStorage),nr.init(e),void 0!==e.enableUnifiedOnChrome&&(e.flags.enableUnifiedOnChrome=e.enableUnifiedOnChrome),ui.init(e.flags||{}),window.connectionTimes||(window.connectionTimes={}),!0!==e.enableAnalyticsLogging&&(td.warn("Analytics disabled, disposing."),this.analytics.dispose()),e.enableWindowOnErrorHandler&&Nn().addHandler(this.getGlobalOnErrorHandler.bind(this)),this.version){var t={id:"component_version",component:"lib-jitsi-meet",version:this.version};nr.sendLog(JSON.stringify(t))}return Ha.init(e)},isDesktopSharingEnabled:function(){return Ha.isDesktopSharingEnabled()},isWebRtcSupported:function(){return Ha.isWebRtcSupported()},setLogLevel:function(e){_().setLogLevel(e)},setLogLevelById:function(e,t){_().setLogLevelById(e,t)},addGlobalLogTransport:function(e){_().addGlobalTransport(e)},removeGlobalLogTransport:function(e){_().removeGlobalTransport(e)},setGlobalLogOptions:function(e){_().setGlobalOptions(e)},createLocalTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=!1,i=t.firePermissionPromptIsShownEvent,o=t.fireSlowPromiseEvent,s=_objectWithoutProperties(t,_excluded3);return!i&&!n||Ha.arePermissionsGrantedForAvailableDevices()?o&&window.setTimeout(function(){r||ju.emitEvent(Fu)},1e3):ju.emitEvent(xu,An.getName()),window.connectionTimes||(window.connectionTimes={}),window.connectionTimes["obtainPermissions.start"]=window.performance.now(),Ha.obtainAudioAndVideoPermissions(s).then(function(t){if(r=!0,window.connectionTimes["obtainPermissions.end"]=window.performance.now(),nr.sendAnalytics(Zt("success",nd(s))),!Ha.options.disableAudioLevels)for(var n=function(e){var n=t[e],r=n.getOriginalStream();n.getType()===Bn.AUDIO&&(nr.startLocalStats(r,n.setAudioLevel.bind(n)),n.addEventListener(fr,function(){nr.stopLocalStats(r)}))},i=0;i<t.length;i++)n(i);var o=Ha.getCurrentlyAvailableMediaDevices();if(o)for(var a=0;a<t.length;a++)t[a]._setRealDeviceIdFromDeviceList(o);for(var c,u=_createForOfIteratorHelperLoose(t);!(c=u()).done;){var d=c.value;d.type===Bn.VIDEO&&"desktop"===d.videoType&&e.setVideoTrackContentHints(d.track,"detail")}return t}).catch(function(e){if(r=!0,e.name===gt){var n={id:"screensharing_user_canceled",message:e.message};nr.sendLog(JSON.stringify(n)),nr.sendAnalytics(Zt("warning",{reason:"extension install user canceled"}))}else if(e.name===mt){var i={id:"usermedia_missing_device",status:e.gum.devices};nr.sendLog(JSON.stringify(i));var o=nd(t);o.reason="device not found",o.devices=e.gum.devices.join("."),nr.sendAnalytics(Zt("error",o))}else{nr.sendGetUserMediaFailed(e);var s=nd(t);s.reason=e.name,nr.sendAnalytics(Zt("error",s))}return window.connectionTimes["obtainPermissions.end"]=window.performance.now(),Promise.reject(e)})},createTrackVADEmitter:function(e,t,n){return lc.create(e,t,n)},createAudioMixer:function(){return new ed},getActiveAudioDevice:function(){return new Promise(function(e){Ha.enumerateDevices(function(t){for(var n,r=[],i=_createForOfIteratorHelperLoose(t.filter(function(e){return"audioinput"===e.kind}));!(n=i()).done;){var o=n.value,s=Ha.obtainAudioAndVideoPermissions({devices:["audio"],micDeviceId:o.deviceId}).then(function(e){var t=e[0],n=t.getOriginalStream();return nr.startLocalStats(n,t.setAudioLevel.bind(t)),t.addEventListener(fr,function(){nr.stopLocalStats(n)}),t});r.push(s)}Promise.allSettled(r).then(function(t){for(var n,r=t.filter(function(e){return"fulfilled"===e.status}),i=t.filter(function(e){return"rejected"===e.status}),o=r.map(function(e){return e.value}),s=_createForOfIteratorHelperLoose(i.map(function(e){return e.value}));!(n=s()).done;){var a=n.value;Hu.error("Failed to acquire audio device with error: ",a)}for(var c,u=function(t){t.on(mr,function(n){n>.008&&(Bu(o),e({deviceId:t.deviceId,deviceLabel:t.track.label}))})},d=_createForOfIteratorHelperLoose(o);!(c=d()).done;){u(c.value)}setTimeout(function(){Bu(o),e({deviceId:"",deviceLabel:""})},3e3)})})})},isDeviceListAvailable:function(){return td.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceListAvailable instead"),this.mediaDevices.isDeviceListAvailable()},isDeviceChangeAvailable:function(e){return td.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceChangeAvailable instead"),this.mediaDevices.isDeviceChangeAvailable(e)},isMultipleAudioInputSupported:function(){return this.mediaDevices.isMultipleAudioInputSupported()},isCollectingLocalStats:function(){return nr.audioLevelsEnabled&&Un.isLocalStatsSupported()},enumerateDevices:function(e){td.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.enumerateDevices instead"),this.mediaDevices.enumerateDevices(e)},getGlobalOnErrorHandler:function(e,t,n,r,i){td.error("UnhandledError: "+e,"Script: "+t,"Line: "+n,"Column: "+r,"StackTrace: ",i),nr.reportGlobalError(i)},setNetworkInfo:function(e){var t=e.isOnline;yi.updateNetworkInfo({isOnline:t})},setVideoTrackContentHints:function(e,t){"contentHint"in e?(e.contentHint=t,e.contentHint!==t&&td.debug("Invalid video track contentHint")):td.debug("MediaStreamTrack contentHint attribute not supported")},precallTest:$u,util:{AuthUtil:Yu(),ScriptUtil:kn(),browser:An}})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdO={},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=(function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}})(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var __webpack_exports__=__webpack_require__(4449);return __webpack_exports__})()},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.JitsiMeetJS=t():e.JitsiMeetJS=t()},556,[97,557,47,78,68,41,8,4,6,9,34,13,2,3]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){throw new Error("\""+n+"\" is read-only")}},557,[]);
__d(function(g,r,_i2,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),i=t(r(d[2])),n=t(r(d[3])),u=t(r(d[4])),o=r(d[5]),s=(t(r(d[6])),t(r(d[7]))),c=r(d[8]);t(r(d[9]));function f(t,l){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);l&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),i.push.apply(i,n)}return i}function h(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?f(Object(n),!0).forEach(function(i){(0,l.default)(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(n,l))})}return t}var y=n.default.memo(function(t){var f=t.isPortrait,y=t.users,_=t.pinnedUserId,b=(t.resolutions,t.unPinUser),w=t.pinUser,p=t.flex1,v=t.toggleUserList,E=(t.recorderId,t.avatarMode),O=t.isAudioOnly;return n.default.createElement(o.View,{style:[u.default.main_container,f?{marginTop:10}:{paddingRight:10}]},n.default.createElement(o.View,{style:f?{width:"100%",flexDirection:"row",justifyContent:"space-between",marginBottom:5}:{width:"100%",height:"100%",justifyContent:"space-between",marginRight:5}},n.default.createElement(o.View,{style:{flexDirection:f?"row":"column"}},(null==y?void 0:y.length)>=1?(function(){for(var t=(0,i.default)(y),v=[],V=function(i){var y,V,j,R,T=t[i],k=T.stats,z=k?k.connectionQuality<25?r(d[10]):k.connectionQuality<50?r(d[11]):k.connectionQuality<75?r(d[12]):r(d[13]):"",C=void T.name;C=T.id===_,T.videoTrack&&!T.isVideoMuted?v.push(n.default.createElement(o.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){C?b():w(T)},rippleColor:"rgba(0, 0, 0, .20)",style:u.default.user_list_main_touchable},n.default.createElement(o.View,{style:(y={},(0,l.default)(y,f?"width":"height",.25*(f?null==p?void 0:p.width:null==p?void 0:p.height)||100),(0,l.default)(y,"aspectRatio",1),(0,l.default)(y,"alignItems","center"),(0,l.default)(y,"justifyContent","center"),(0,l.default)(y,"flexDirection","column"),(0,l.default)(y,"borderRadius",5),(0,l.default)(y,f?"marginHorizontal":"marginVertical","1%"),(0,l.default)(y,"backgroundColor","#000"),y)},n.default.createElement(o.Text,{numberOfLines:1,ellipsizeMode:"tail",style:u.default.user_list_user_name},T.name||""),n.default.createElement(o.View,{style:u.default.user_list_icon_container},T.isAudioMuted?n.default.createElement(o.View,{style:u.default.lt_small_button},n.default.createElement(o.Image,{style:u.default.user_item_icons,source:r(d[14])})):null,T.isVideoMuted&&!O?n.default.createElement(o.View,{style:u.default.lt_small_button},n.default.createElement(o.Image,{style:u.default.user_item_icons,source:r(d[15])})):null),C?n.default.createElement(o.View,{style:h(h({},u.default.lt_small_button),{},{position:"absolute",top:5,right:5,elevation:5})},n.default.createElement(o.Image,{style:u.default.user_item_icons,source:r(d[16])})):null,n.default.createElement(c.RTCView,{key:T.id,objectFit:"cover",streamURL:null==(V=T.videoTrack)?void 0:V.getOriginalStream().toURL(),style:[u.default.full_height_width,{borderRadius:5}],zOrder:5}),n.default.createElement(o.View,{style:u.default.user_list_network_container},z?n.default.createElement(o.Image,{resizeMode:"contain",source:z,style:[u.default.user_list_network_icon]}):null)))):v.push(n.default.createElement(o.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){C?b():w(T)},rippleColor:"rgba(0, 0, 0, .20)",style:u.default.user_list_main_touchable},n.default.createElement(o.View,{style:(j={},(0,l.default)(j,f?"width":"height",.25*(f?null==p?void 0:p.width:null==p?void 0:p.height)||100),(0,l.default)(j,"aspectRatio",1),(0,l.default)(j,"alignItems","center"),(0,l.default)(j,"justifyContent","center"),(0,l.default)(j,"flexDirection","column"),(0,l.default)(j,"borderRadius",5),(0,l.default)(j,f?"marginHorizontal":"marginVertical","1%"),(0,l.default)(j,"backgroundColor","#000"),j)},n.default.createElement(o.View,{style:u.default.user_list_icon_container},T.isAudioMuted?n.default.createElement(o.View,{style:u.default.lt_small_button},n.default.createElement(o.Image,{style:u.default.user_item_icons,source:r(d[14])})):null,T.isVideoMuted&&!O?n.default.createElement(o.View,{style:u.default.lt_small_button},n.default.createElement(o.Image,{style:u.default.user_item_icons,source:r(d[15])})):null),C?n.default.createElement(o.View,{style:h(h({},u.default.lt_small_button),{},{position:"absolute",top:5,right:5,elevation:5,zIndex:5})},n.default.createElement(o.Image,{style:u.default.user_item_icons,source:r(d[16])})):null,n.default.createElement(s.default,{backgroundColor:"#4d4c4f",textColor:"#FFF",size:30,type:E,avatar:T.avatar},T.name||""),n.default.createElement(o.View,{style:"fullscreen"==E?{position:"absolute",top:5,left:5,justifyContent:"center",alignItems:"center"}:{alignItems:"center"}},n.default.createElement(o.Text,{numberOfLines:1,ellipsizeMode:"tail",style:u.default.user_list_avatar_name},T.name||"")),n.default.createElement(c.RTCView,{key:T.id,objectFit:"cover",streamURL:null==(R=T.audioTrack)?void 0:R.getOriginalStream().toURL(),style:u.default.zero_height_width,zOrder:-1}))))},j=0;j<(t.length>2?3:t.length);j++)V(j);if(v.length>3&&v.slice(0,3),t.length>2)for(var R=3;R<t.length-1;R++){var T;if(t[R].videoTrack&&!t[R].isVideoMuted)v.push(n.default.createElement(c.RTCView,{key:t[R].id,objectFit:"cover",streamURL:null==(T=t[R].videoTrack)?void 0:T.getOriginalStream().toURL(),style:{height:0,width:0},zOrder:-1}));else if(t[R].audioTrack&&!t[R].isAudioMuted){var k;v.push(n.default.createElement(c.RTCView,{key:t[R].id,objectFit:"cover",streamURL:null==(k=t[R].audioTrack)?void 0:k.getOriginalStream().toURL(),style:{height:0,width:0},zOrder:-1}))}}return n.default.createElement(n.default.Fragment,null,v.map(function(t){return n.default.createElement(n.default.Fragment,null,t)}))})():null),y.length>3?n.default.createElement(o.TouchableOpacity,{touchSoundDisabled:!0,onPress:v},n.default.createElement(o.View,{style:h(h({},f?{width:.15*(null==p?void 0:p.width),height:.25*(null==p?void 0:p.width)}:{width:.18*(null==p?void 0:p.width),marginHorizontal:5,height:.18*(null==p?void 0:p.height)}),{},{alignItems:"center",justifyContent:"center",flexDirection:f?"column":"row",borderRadius:5,marginHorizontal:5,backgroundColor:"#000"})},n.default.createElement(o.Text,{style:{fontSize:18,color:"#fff",padding:5}},y.length.toString()),n.default.createElement(o.Text,{adjustsFontSizeToFit:!0,numberOfLines:1,style:{fontSize:18,color:"#fff",padding:5}},"users"))):null))});e.default=y},558,[1,34,47,10,559,14,560,561,517,562,563,565,566,567,568,569,570]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).StyleSheet.create({main_container:{paddingLeft:10,backgroundColor:"#2E2F30",elevation:0,zIndex:0},user_list_main_touchable:{zIndex:10,elevation:5},video_container:{aspectRatio:1,borderRadius:5,backgroundColor:"#000"},user_list_user_name:{fontSize:18,color:"#fff",padding:5,position:"absolute",top:0,left:0,elevation:5,zIndex:5},user_list_icon_container:{justifyContent:"flex-start",alignItems:"center",position:"absolute",left:5,bottom:5,zIndex:5,elevation:5},lt_small_button:{width:10,height:10,margin:2,borderRadius:20,alignItems:"center",justifyContent:"center"},user_list_avatar_name:{fontSize:18,color:"#fff",padding:5},full_height_width:{height:"100%",width:"100%"},user_item_icons:{width:15,height:15},user_list_network_container:{position:"absolute",bottom:6,right:10},user_list_network_icon:{width:15,height:15}});e.default=t},559,[14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),l=t(r(d[2])),n=(r(d[3]).NativeModules.CometChatRTC,(function(){function t(){(0,u.default)(this,t)}return(0,l.default)(t,null,[{key:"log",value:function(t,u,l){}}]),t})());e.default=n},560,[1,2,3,14]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),l=e(r(d[4])),i=e(r(d[5])),u=e(r(d[6])),c=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=s(t);if(o&&o.has(e))return o.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=l?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}n.default=e,o&&o.set(e,n);return n})(r(d[7])),f=r(d[8]);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(s=function(e){return e?o:t})(e)}function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function p(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?y(Object(n),!0).forEach(function(o){(0,t.default)(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var h=(function(e){(0,l.default)(h,e);var t,s,y=(t=h,s=b(),function(){var e,o=(0,u.default)(t);if(s){var n=(0,u.default)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,i.default)(this,e)});function h(e){return(0,o.default)(this,h),y.call(this,e)}return(0,n.default)(h,[{key:"render",value:function(){var e=this.props,t=e.children,o=e.size,n=void 0===o?60:o,l=e.backgroundColor,i=void 0===l?"#333":l,u=e.textColor,s=void 0===u?"#fff":u,y=e.type,b=e.style,h=e.avatar;if("string"!=typeof t)throw new Error("Children must be only a string \n Ex: Technology");var v=t.charAt(0).toUpperCase();if("number"!=typeof n)throw new Error("Size must be an integer");var w=p(p({width:n,height:n,borderRadius:n/2},h?{}:{backgroundColor:i}),{},{alignItems:"center",justifyContent:"center"}),O=p(p({width:n,height:n},h?{}:{backgroundColor:i}),{},{alignItems:"center",justifyContent:"center"}),j=p(p({width:"100%",height:"100%"},h?{}:{backgroundColor:i}),{},{alignItems:"center",justifyContent:"center"}),E={color:s,fontSize:n/3.14,fontWeight:"bold",letterSpacing:1},C={height:n/2},P={position:"absolute",bottom:-n/3,left:0,width:0,height:0,borderStyle:"solid",borderLeftWidth:n/2,borderLeftColor:"transparent",borderRightWidth:n/2,borderRightColor:"transparent",borderTopWidth:n/3,borderTopColor:i},R={position:"absolute",top:-n/3,left:0,width:0,height:0,borderStyle:"solid",borderLeftWidth:n/2,borderLeftColor:"transparent",borderRightWidth:n/2,borderRightColor:"transparent",borderBottomWidth:n/3,borderBottomColor:i};return"circle"==(null==y?void 0:y.toLowerCase())?h?c.default.createElement(f.Image,{source:{uri:h},style:[b,w]}):(w.borderRadius=n/2,c.default.createElement(f.View,{style:[b,w]},c.default.createElement(f.Text,{style:E,adjustsFontSizeToFit:!0},v))):"hexagon"==(null==y?void 0:y.toLowerCase())?h?c.default.createElement(f.Image,{source:{uri:h},style:[b,w,C]}):c.default.createElement(f.View,{style:[b,w,C]},c.default.createElement(f.View,{style:R}),c.default.createElement(f.View,{style:P}),c.default.createElement(f.Text,{style:E},v)):"square"==(null==y?void 0:y.toLowerCase())?h?c.default.createElement(f.Image,{source:{uri:h},style:[b,O]}):(w.borderRadius=n/2,c.default.createElement(f.View,{style:[b,w,{borderRadius:0}]},c.default.createElement(f.Text,{style:E,adjustsFontSizeToFit:!0},v))):"fullscreen"==(null==y?void 0:y.toLowerCase())?h?c.default.createElement(f.Image,{resizeMode:"cover",source:{uri:h},style:[b,j]}):(w.borderRadius=n/2,c.default.createElement(f.View,{style:[b,w]},c.default.createElement(f.Text,{style:E,adjustsFontSizeToFit:!0},v))):h?c.default.createElement(f.Image,{source:{uri:h},style:[b,w]}):c.default.createElement(f.View,{style:[b,w]},c.default.createElement(f.Text,{style:E,adjustsFontSizeToFit:!0},v))}}]),h})(c.Component);_e.default=h},561,[1,34,2,3,4,6,9,10,14]);
__d(function(g,r,_i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),i=t(r(d[5])),c=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var c=u?Object.getOwnPropertyDescriptor(t,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=t[i]}o.default=t,n&&n.set(t,o);return o})(r(d[6])),l=r(d[7]),f=t(r(d[8]));function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=Math.floor(1.5),v=(function(t){(0,o.default)(k,t);var s,v,y=(s=k,v=p(),function(){var t,e=(0,i.default)(s);if(v){var n=(0,i.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,u.default)(this,t)});function k(){var t;(0,e.default)(this,k);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(t=y.call.apply(y,[this].concat(o))).state={audioLevel:0},t._isMounted=!1,t.setAudiolevel=function(e){t._isMounted&&t.props.track&&!t.props.track.isMuted()&&t.setState({audioLevel:e})},t}return(0,n.default)(k,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.track&&this.props.track.on(f.default.events.track.TRACK_AUDIO_LEVEL_CHANGED,this.setAudiolevel)}},{key:"componentDidUpdate",value:function(t){this.props.track!==t.track&&t.track&&this.props.track&&(t.track.off(f.default.events.track.TRACK_AUDIO_LEVEL_CHANGED,this.setAudiolevel),this.props.track.on(f.default.events.track.TRACK_AUDIO_LEVEL_CHANGED,this.setAudiolevel))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){for(var t=3*Math.min(1.2*this.state.audioLevel,1),e=[],n=0;n<3;n++){var o=h-n,u=t-Math.abs(o),i=Math.min(1,Math.max(0,u));e.push(c.default.createElement(l.View,{key:n,style:{opacity:1,width:5,height:i?5+10*i:5,borderRadius:5,backgroundColor:"#388E8E",margin:1}}))}return c.default.createElement(l.View,{style:{height:16,alignItems:"center",flexDirection:"row"}},e)}}]),k})(c.Component);_e.default=v},562,[1,2,3,4,6,9,10,14,556]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:40,height:30,scales:[1],hash:"a89acfb97bb12b206089cfc61cca1e24",name:"one_network",type:"png"})},563,[564]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},564,[156]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:40,height:31,scales:[1],hash:"d26a9aa9b065010c46da14a567c651e8",name:"two_network",type:"png"})},565,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:40,height:30,scales:[1],hash:"37c8e2b3e388e328a413062eb439ed21",name:"three_network",type:"png"})},566,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:40,height:30,scales:[1],hash:"e970968a6636578bb484f9a5f786e32b",name:"four_network",type:"png"})},567,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"0c17a96c26b5f044c4c4543d023ca30b",name:"icon_audio_mute",type:"png"})},568,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:68,height:56,scales:[1],hash:"f4109d64978cda7c9d59178af4566ed3",name:"icon_video_mute",type:"png"})},569,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:48,height:48,scales:[1],hash:"8db4c0d90e0ebcd2caffa88e19a0d2ca",name:"icon_pin",type:"png"})},570,[564]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),i=t(r(d[2])),l=t(r(d[3])),o=r(d[4]),u=(t(r(d[5])),t(r(d[6]))),c=r(d[7]),s=(t(r(d[8])),t(r(d[9])));function f(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,l)}return i}function p(t){for(var i=1;i<arguments.length;i++){var l=null!=arguments[i]?arguments[i]:{};i%2?f(Object(l),!0).forEach(function(i){(0,n.default)(t,i,l[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):f(Object(l)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(l,n))})}return t}var v=i.default.memo(function(t){var n=t.showUserList,f=t.onCloseClick,v=t.users,y=t.dominantSpeakerId,b=t.pinnedUserId,O=t.room,_=(t.isAudioOnly,t.unPinUser),h=t.pinUser,w=(t.muteParticipant,t.recorder,t.avatarMode);return i.default.createElement(i.default.Fragment,null,n?i.default.createElement(s.default,{pinnedUserId:b,unPinUser:_,pinUser:h,users:v,onCloseClick:f}):null,i.default.createElement(o.View,{style:l.default.main_video_container},(function(){var t=v[0],n=v.find(function(t){return t.id===y})||t,s=v.find(function(t){return t.id===b}),f=n;if(n){var _,h=n.videoTrack;s&&(h=s.videoTrack,f=s);try{if(f.id){var E=[f.id];O.selectParticipants(E)}}catch(t){}if(f&&(f.isVideoMuted||!f.videoTrack))return i.default.createElement(o.View,{style:l.default.main_video_video_track_view},i.default.createElement(u.default,{backgroundColor:"#4d4c4f",textColor:"#FFF",size:100,type:w,avatar:f.avatar},f.name),i.default.createElement(o.View,{style:"fullscreen"==w?{position:"absolute",bottom:5,left:5,alignItems:"center",flexDirection:"row"}:{alignItems:"center"}},i.default.createElement(o.Text,{numberOfLines:1,ellipsizeMode:"tail",style:p(p({},l.default.main_video_name),{},{padding:10})},f.name),f.isAudioMuted&&"fullscreen"==w?i.default.createElement(o.Image,{style:[{width:15,height:15}],source:r(d[10])}):null),f.isAudioMuted&&"fullscreen"!=w?i.default.createElement(o.Image,{style:[{width:15,height:15},{position:"absolute",bottom:5,left:5}],source:r(d[10])}):null,i.default.createElement(c.RTCView,{key:f.id,objectFit:"cover",streamURL:null==(_=f.audioTrack)?void 0:_.getOriginalStream().toURL(),style:l.default.zero_height_width,zOrder:-10}));if(h)return i.default.createElement(o.View,{style:l.default.main_video_video_track_view},i.default.createElement(c.RTCView,{key:y,objectFit:"contain",streamURL:h.getOriginalStream().toURL(),style:l.default.full_height_width,zOrder:-20}),i.default.createElement(o.Text,{numberOfLines:1,ellipsizeMode:"tail",style:l.default.main_video_track_name},f.name))}})()),b?i.default.createElement(o.TouchableOpacity,{touchSoundDisabled:!0,style:l.default.pin_icon_container,onPress:function(){return _()}},i.default.createElement(o.Image,{style:l.default.pin_icon,source:r(d[11])})):null)});e.default=v},571,[1,34,10,572,14,560,561,517,562,573,568,570]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).StyleSheet.create({user_list_container:{position:"absolute",top:0,bottom:0,width:"100%",backgroundColor:"rgba(46,47,48,0.8)",justifyContent:"center",elevation:10,zIndex:10,justifyContent:"space-between",paddingTop:25},flat_list_style:{width:"100%"},user_list_close_container:{padding:10,borderRadius:20,backgroundColor:"#fefefe",alignItems:"center",width:40,alignSelf:"center"},close_icon:{width:20,height:20},main_video_container:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},pin_icon_container:{position:"absolute",top:10,right:10,elevation:5,zIndex:5},pin_icon:{width:30,height:30},main_video_avatar_main_view:{height:"100%",width:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"},main_video_name:{fontSize:18,color:"#fff",padding:20},zero_height_width:{height:"0%",width:"0%"},main_video_video_track_view:{flex:1,height:"100%",width:"100%",justifyContent:"center",alignItems:"center",overflow:"hidden",zIndex:2,elevation:1},main_video_track_name:{color:"#fff",fontSize:18,fontWeight:"bold",position:"absolute",bottom:5,left:5,elevation:10,width:"80%"},full_height_width:{height:"100%",width:"100%"},user_item_pinned:{padding:15,fontSize:18,height:70,marginStart:10,marginRight:10,marginBottom:10,borderRadius:10,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",backgroundColor:"#e5e5e5",zIndex:1,elevation:1},user_item_user_name:{fontSize:18,color:"#000",marginStart:10,width:"60%"},user_item_icon_container:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",right:10},user_item_icons:{width:20,height:20},user_list_network_container:{position:"absolute",bottom:6,right:10},recorderBadge:{position:"absolute",height:20,width:20,borderRadius:20,backgroundColor:"#d93438",zIndex:1,alignItems:"center",justifyContent:"center",left:25,top:-10},recorderBadgeText:{fontSize:12,color:"#fff"}});e.default=t},572,[14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var c=t.pinnedUserId,o=t.unPinUser,f=t.pinUser,_=t.users,y=t.onCloseClick,E=t.recorderId;return l.default.createElement(u.View,{style:s.default.user_list_container},l.default.createElement(u.FlatList,{style:s.default.flat_list_style,data:_,keyExtractor:function(t){return t.id},renderItem:function(t){if(t){var _,y=t.item,b=t.index,p=y.name;return 0==b&&(p+=" (you)"),_=y.id===c,l.default.createElement(u.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){y.id===c?o():f(y)},rippleColor:"rgba(0, 0, 0, .20)"},l.default.createElement(u.View,{style:s.default.user_item_pinned},l.default.createElement(u.View,null,y.id===E&&l.default.createElement(u.View,{style:s.default.recorderBadge},l.default.createElement(u.Text,{style:s.default.recorderBadgeText},"R")),l.default.createElement(n.default,{backgroundColor:"#4d4c4f",textColor:"#FFF",size:40,type:"circle"},p)),l.default.createElement(u.Text,{style:s.default.user_item_user_name},p),l.default.createElement(u.View,{style:s.default.user_item_icon_container},y.isAudioMuted?l.default.createElement(u.View,{style:s.default.lt_small_button},l.default.createElement(u.Image,{style:s.default.user_item_icons,source:r(d[5])})):null,y.isVideoMuted?l.default.createElement(u.View,{style:s.default.lt_small_button},l.default.createElement(u.Image,{style:s.default.user_item_icons,source:r(d[6])})):null,"interrupted"===y.status?l.default.createElement(u.View,{style:s.default.lt_small_button_red},l.default.createElement(u.Image,{style:s.default.user_item_icons,source:r(d[7])})):null,_?l.default.createElement(u.View,{style:s.default.lt_small_button_blue},l.default.createElement(u.Image,{style:s.default.user_item_icons,source:r(d[8])})):null)))}}}),l.default.createElement(u.TouchableOpacity,{touchSoundDisabled:!0,style:s.default.user_list_close_container,onPress:y},l.default.createElement(u.Image,{style:s.default.close_icon,source:r(d[9])})))};var l=t(r(d[1])),u=r(d[2]),n=t(r(d[3])),s=t(r(d[4]))},573,[1,10,14,561,572,568,569,574,570,575]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"a3524c118fa5a699b12d979108b37745",name:"icon_alert",type:"png"})},574,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"29d7f9ee3589824d186ea5cf6b8fb5f4",name:"icon_clear",type:"png"})},575,[564]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).NativeModules.CometChatRTC;e.default=t},576,[14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.AudioManager=void 0,e.AudioModeModel=function(t){var o=t.onBackDropPress,l=(0,u.useState)(y.allDevices||[]),f=(0,n.default)(l,2),v=f[0],O=f[1];(0,u.useEffect)(function(){p.addListener(E.DEVICE_CHANGE_EVENT,function(t){O(t)})},[]);var A=function(t){switch(t){case b.SPEAKER:return D();case b.BLUETOOTH:return C();case b.HEADPHONES:return h();case b.EARPIECE:return P();default:return D()}},D=function(){return u.default.createElement(c.Image,{style:_.lt_control_icon,source:r(d[7])})},P=function(){return u.default.createElement(c.Image,{style:_.lt_control_icon,source:r(d[8])})},h=function(){return u.default.createElement(c.Image,{style:_.lt_control_icon,source:r(d[9])})},C=function(){return u.default.createElement(c.Image,{style:_.lt_control_icon,source:r(d[10])})},M=function(t){o(),y.userChanged=!0,E.setAudioDevice(t.type)};return u.default.createElement(c.TouchableOpacity,{onPress:o,style:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(52, 52, 52, 0.8)",elevation:10,justifyContent:"flex-end",alignItems:"center"}},u.default.createElement(c.View,{style:{backgroundColor:"#111",padding:10,borderTopEndRadius:8,borderTopStartRadius:8,width:"100%"}},u.default.createElement(s.default,{data:v,renderIcon:A,selectedBtn:M})))},e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=f(n);if(o&&o.has(t))return o.get(t);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var s=u?Object.getOwnPropertyDescriptor(t,c):null;s&&(s.get||s.set)?Object.defineProperty(l,c,s):l[c]=t[c]}l.default=t,o&&o.set(t,l);return l})(r(d[4])),c=r(d[5]),s=t(r(d[6]));function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(f=function(t){return t?o:n})(t)}var E=c.NativeModules.AudioMode,v=E;e.default=v;var p=new c.NativeEventEmitter(E),y=(0,o.default)(function t(){(0,l.default)(this,t),p.addListener(E.DEVICE_CHANGE_EVENT,function(n){var o,l={};console.log("AudioManager device list ",n),n.forEach(function(t){l[t.type]=t,t.selected&&(o=t.type)}),o&&(console.log(" AudioManager availDevice",l),t.availableDevices=l,t.allDevices=n,t.selectedDevice=o,t.listener&&t.listener())})});e.AudioManager=y,y.availableDevices={},y.userChanged=!1,y.allDevices=[],y.selectedDevice=null,y.listener=null,y.audioModeStarted=!1;var _={lt_control_icon:{width:25,height:25},lt_control_view:{width:55,height:55,margin:1,backgroundColor:"#4d4c4f",borderRadius:50,alignItems:"center",justifyContent:"center"}},b={HEADPHONES:"HEADPHONES",SPEAKER:"SPEAKER",EARPIECE:"EARPIECE",BLUETOOTH:"BLUETOOTH"}},577,[1,41,3,2,10,14,578,579,580,581,582]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),l=t(r(d[4])),c=t(r(d[5])),s=t(r(d[6])),u=t(r(d[7])),f=t(r(d[8])),p=r(d[9]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var y=(function(t){(0,l.default)(b,t);var f,y,x=(f=b,y=h(),function(){var t,e=(0,s.default)(f);if(y){var n=(0,s.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,c.default)(this,t)});function b(t){var n;return(0,e.default)(this,b),(n=x.call(this,t)).fadeInAnimation=function(){p.Animated.timing(n.state.fadeAnim,{toValue:0,duration:0,useNativeDriver:!0}).start(function(){p.Animated.timing(n.state.fadeAnim,{toValue:1,duration:n.props.duration,delay:10,useNativeDriver:!0}).start()})},n.state={activeIndex:-1,fadeAnim:new p.Animated.Value(0),animations:[]},n.animations=[{name:"zoomIn",animation:{scale:n.state.fadeAnim.interpolate({inputRange:[0,1],outputRange:[0,1]})}},{name:"pulse",animation:{scale:n.state.fadeAnim.interpolate({inputRange:[0,.4,.7,1],outputRange:[.7,1,1.3,1]})}},{name:"shake",animation:{scale:n.state.fadeAnim.interpolate({inputRange:[0,.2,.4,.6,.8,1],outputRange:[.8,1.2,.8,1.2,.8,1]})}},{name:"rotate",animation:{rotate:n.state.fadeAnim.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]})}}],n._changeRadio=n._changeRadio.bind((0,o.default)(n)),n._checkAnimatons=n._checkAnimatons.bind((0,o.default)(n)),n}return(0,n.default)(b,[{key:"componentDidMount",value:function(){this._checkAnimatons(),this.fadeInAnimation()}},{key:"componentDidUpdate",value:function(t,e){if(-1===this.state.activeIndex&&this.props.initial>0){var n=this.props.initial-1;this._changeRadio(this.props.data[n],n)}if(this.props.initial!==t.initial){var o=this.props.initial-1;this._changeRadio(this.props.data[o],o)}this.props.animationTypes!==t.animationTypes&&this._checkAnimatons()}},{key:"_checkAnimatons",value:function(){var t=this,e=this.props.animationTypes;this.setState({animations:[]});var n=[];e&&e.map(function(e,o){var l=t.animations.find(function(t){return t.name===e});l&&n.push(l.animation)}),this.setState({animations:n})}},{key:"_changeRadio",value:function(t,e){this.setState({activeIndex:e}),e!==this.state.activeIndex&&this.fadeInAnimation(),this.props.selectedBtn(t)}},{key:"render",value:function(){var t=this,e=this.state,n=(e.activeIndex,e.fadeAnim,e.animations,this.props),o=n.boxStyle,l=n.style,c=(n.circleSize,n.textStyle),s=n.data,f=(n.icon,n.activeColor),h=n.deactiveColor,y=n.boxActiveBgColor,x=n.boxDeactiveBgColor,b=n.box,R=n.textColor;return u.default.createElement(p.View,{style:l},s.map(function(e,n){return u.default.createElement(p.TouchableOpacity,{key:n,style:[b?v.productBox:v.productBoxLess,b&&{backgroundColor:e.selected?y:x,borderColor:e.selected?f:h},o,{borderWidth:e.selected?1:0}],activeOpacity:.9,onPress:function(){return t._changeRadio(e,n)}},u.default.createElement(p.View,{style:v.leftProductBox},t.props.renderIcon(e.type)),u.default.createElement(p.View,{style:[v.centerProductBox]},u.default.createElement(p.Text,{style:[{color:R},c]},e.type)))}))}}]),b})(u.default.Component),v=p.StyleSheet.create({productBox:{flexDirection:"row",borderRadius:7,borderWidth:1,paddingHorizontal:10,paddingVertical:15,marginTop:10},productBoxLess:{flexDirection:"row",marginTop:10},leftProductBox:{flex:1,alignItems:"center",justifyContent:"center"},centerProductBox:{flex:6,justifyContent:"flex-start",alignItems:"center",paddingHorizontal:4,flexDirection:"row"},circle:{borderWidth:1,borderRadius:1e4,alignItems:"center",justifyContent:"center"},icon:{borderWidth:1,borderRadius:1e4,alignItems:"center",justifyContent:"center"},circleFill:{borderWidth:1,borderRadius:1e4}});y.propTypes={style:f.default.object,boxStyle:f.default.object,textStyle:f.default.object,initial:f.default.number,circleSize:f.default.number,duration:f.default.number,data:f.default.array,animationTypes:f.default.array,selectedBtn:f.default.func,activeColor:f.default.string,deactiveColor:f.default.string,boxActiveBgColor:f.default.string,boxDeactiveBgColor:f.default.string,textColor:f.default.string,box:f.default.bool},y.defaultProps={style:{},boxStyle:{},textStyle:{},initial:-1,circleSize:18,duration:500,data:[],animationTypes:[],selectedBtn:function(){},activeColor:"#fff",deactiveColor:"#e2e2e2",boxActiveBgColor:"#00000000",boxDeactiveBgColor:"#00000000",textColor:"#fff",box:!0};var x=y;_e.default=x},578,[1,2,3,8,4,6,9,10,191,14]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"2409c6d8759a542df25e45dd25675c93",name:"speaker_phone",type:"png"})},579,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:36,height:36,scales:[1],hash:"c9b5eb240395be22eb6df87b86420114",name:"icon_earpiece",type:"png"})},580,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"7a99d370971bd9fe894e451a6ffefcd6",name:"headphones_pluged",type:"png"})},581,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"b1506307f359ee88ef37050fefcfd457",name:"icon_bluetooth",type:"png"})},582,[564]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),u=(n(r(d[3])),(function(){function n(){(0,t.default)(this,n)}return(0,o.default)(n,null,[{key:"initOnEndCall",value:function(n){this.onEndcall=n}},{key:"initSwitchCamera",value:function(n){this.switchCamera=n}},{key:"initOnMuteAudio",value:function(n){this.onMuteAudio=n}},{key:"initOnUnMuteAudio",value:function(n){this.onUnMuteAudio=n}},{key:"initOnPauseVideo",value:function(n){this.onPauseVideo=n}},{key:"initOnUnPauseVideo",value:function(n){this.onUnPauseVideo=n}},{key:"initEnterPIPMode",value:function(n){this.enterPIPMode=n}},{key:"initExitPIPMode",value:function(n){this.exitPIPMode=n}},{key:"initSwitchToVideoCall",value:function(n){this.switchToVideoCall=n}},{key:"endCall",value:function(){this.onEndcall()}},{key:"switchCamera",value:function(){this.onSwitchCamera()}},{key:"muteAudio",value:function(){this.onMuteAudio()}},{key:"unMuteAudio",value:function(){this.onUnMuteAudio()}},{key:"pauseVideo",value:function(){this.onPauseVideo()}},{key:"unPauseVideo",value:function(){this.onUnPauseVideo()}},{key:"enterPIPMode",value:function(){this.enterPIPMode()}},{key:"exitPIPMode",value:function(){this.exitPIPMode()}},{key:"switchToVideoCalls",value:function(){this.switchToVideoCall()}},{key:"initStartCallRecording",value:function(n){this.startCallRecording=n}},{key:"initStopCallRecording",value:function(n){this.stopCallRecording=n}},{key:"callRecordingStart",value:function(){this.startCallRecording()}},{key:"callRecordingStop",value:function(){this.stopCallRecording()}},{key:"setAudioModeSpeaker",value:function(){}}]),n})());e.default=u},583,[1,2,3,577]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),n=t.Dimensions.get("screen"),o=(n.height,n.width,t.StyleSheet.create({lt_control_container:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",backgroundColor:"rgba(46, 47, 48, 0.5)"},container_background:{display:"flex",width:"95%",height:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",zIndex:2,opacity:.5,borderRadius:20,margin:10,backgroundColor:"#2e2f30"},container_people:{display:"flex",width:"80%",height:"60%",marginTop:110,marginRight:10,flexDirection:"column",flexWrap:"wrap",position:"absolute",zIndex:2,right:0,borderRadius:10,backgroundColor:"#FFF"},container_thum_list:{display:"flex",width:"28%",height:"75%",flexDirection:"column",flexWrap:"wrap",position:"absolute",zIndex:2,right:0},item:{padding:15,fontSize:18,height:70,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},item_pinned:{padding:15,fontSize:18,height:70,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",opacity:.5,backgroundColor:"#f66301"},container:"ios"===t.Platform.OS?{zIndex:2}:{},lt_control_icon:{width:25,height:25},lt_button:{width:55,height:55,margin:5,backgroundColor:"#4d4c4f",borderRadius:50,alignItems:"center",justifyContent:"center"},lt_small_button:{width:10,height:10,margin:2,borderRadius:20,alignItems:"center",justifyContent:"center"},lt_small_button_red:{width:35,height:35,margin:5,backgroundColor:"#EB4E3D",borderRadius:20,alignItems:"center",justifyContent:"center"},lt_small_button_blue:{width:35,height:35,margin:5,backgroundColor:"#84aeff",borderRadius:20,alignItems:"center",justifyContent:"center"},button_container:{alignItems:"center",justifyContent:"center",margin:2,opacity:.7},color_white:{color:"#fff"},full_height_width:{height:"100%",width:"100%"},mainVideoAvatarMainView:{height:"100%",width:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"},mainVideoName:{fontSize:18,color:"#fff",padding:20},zero_height_width:{height:"0%",width:"0%"},main_video_video_track_view:{flex:1,height:"100%",width:"100%",justifyContent:"center",alignItems:"center",overflow:"hidden",zIndex:2,elevation:1},main_video_track_name:{color:"#fff",fontSize:18,fontWeight:"bold",position:"absolute",bottom:5,left:5,elevation:10},user_item_pinned:{padding:15,fontSize:18,height:70,marginStart:10,marginRight:10,marginBottom:10,borderRadius:10,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",backgroundColor:"#e5e5e5"},user_item_user_name:{fontSize:18,color:"#000",marginStart:10},user_item_icon_container:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",right:10},user_item_icons:{width:15,height:15},user_list_network_container:{position:"absolute",bottom:6,right:10},user_list_network_icon:{width:15,height:15},user_list_main_touchable:{zIndex:10,elevation:5},user_list_user_name:{fontSize:18,color:"#fff",padding:5,position:"absolute",top:0,left:0,elevation:5,zIndex:5},user_list_icon_container:{justifyContent:"flex-start",alignItems:"center",position:"absolute",left:5,bottom:5,zIndex:5,elevation:5},user_list_avatar_name:{fontSize:18,color:"#fff",padding:5},mainContainer:{height:"100%",width:"100%",backgroundColor:"#2E2F30"},video_container:{flex:1},call_container_portrait:{flex:1},call_container_landscape:{flex:1,height:"100%",flexDirection:"row"},top_bar:{height:25,elevation:1,zIndex:2,backgroundColor:"#2E2F30"},main_video_container:{flexDirection:"row",flex:1},side_bar:{width:"5%",elevation:1,zIndex:2,backgroundColor:"#2E2F30"},main_video:{position:"relative",backgroundColor:"#000",flex:1,borderRadius:10},reconnetIndicator:{position:"relative"},recordingContainer:{position:"absolute",flexDirection:"row",alignItems:"center",zIndex:10,elevation:10,top:26,left:"6%"},recordingIcon:{height:30,width:30},recordingText:{color:"#fff",fontSize:12}}));e.default=o},584,[14]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.isScreenSharingTrack=e.isMob=void 0;r(d[0]);e.isScreenSharingTrack=function(n){return!(!n||"desktop"!==n.videoType)};e.isMob=function(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(n){var o,t;return null==(o=navigator)?void 0:null==(t=o.userAgent)?void 0:t.match(n)})}},585,[10]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),i=e(r(d[4])),l=e(r(d[5])),c=e(r(d[6])),u=h(r(d[7])),s=r(d[8]),f=e(r(d[9])),v=h(r(d[10])),E=e(r(d[11]));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(p=function(e){return e?o:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=p(t);if(o&&o.has(e))return o.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var c=i?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(n,l,c):n[l]=e[l]}return n.default=e,o&&o.set(e,n),n}function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function D(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?y(Object(n),!0).forEach(function(o){(0,t.default)(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var O=new s.NativeEventEmitter(v.default),M={HEADPHONES:"HEADPHONES",SPEAKER:"SPEAKER",EARPIECE:"EARPIECE",BLUETOOTH:"BLUETOOTH"},b="AudioModeButton",P=(function(e){(0,i.default)(y,e);var t,p,h=(t=y,p=A(),function(){var e,o=(0,c.default)(t);if(p){var n=(0,c.default)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,l.default)(this,e)});function y(e){var t;return(0,o.default)(this,y),(t=h.call(this,e)).addEventListener=function(){t.eventListener=new s.NativeEventEmitter(f.default),t.eventListener.addListener("EVENT_AUDIO_MODE_SPEAKER",function(e){t.changeAudioMode("SPEAKER")}),t.eventListener.addListener("EVENT_AUDIO_MODE_EARPIECE",function(e){t.changeAudioMode("EARPIECE")}),t.eventListener.addListener("EVENT_SET_AUDIO_MODE",function(e){e.audioMode&&t.changeAudioMode(e.audioMode)}),t.eventListener.addListener("EVENT_GET_AUDIO_MODES",function(e){t.state.allDevices?t.eventListener.emit("CallEvent",{type:"getAudioModesSuccess",audioModes:t.state.allDevices}):t.eventListener.emit("CallEvent",{type:"getAudioModesError",error:"No AudioMode Available..."})})},t.getDeviceByPriority=function(){return t.state.availableDevices[M.HEADPHONES]?M.HEADPHONES:t.state.availableDevices[M.BLUETOOTH]?M.BLUETOOTH:t.state.availableDevices[M.EARPIECE]?M.EARPIECE:M.SPEAKER},t.routeAudioToSpeaker=function(){v.default.setAudioDevice(M.SPEAKER)},t.routeAudioToDefaultMode=function(){console.log("this is it ",t.getDeviceByPriority()),v.default.setAudioDevice(t.getDeviceByPriority())},t.toggleMenu=function(){t.props.onAudioModeClicked()},t.renderIcon=function(e){if(t.props.isAudioOnly&&!v.AudioManager.userChanged&&!v.AudioManager.audioModeStarted&&!t.props.defaultAudioMode&&"ios"==s.Platform.OS&&t.state.allDevices){if(console.log("this.state.allDevices",t.state.allDevices),t.state.allDevices.length){var o=!1,n=!1;if(t.state.allDevices.map(function(e){e.type==M.BLUETOOTH?o=!0:e.type==M.HEADPHONES&&(n=!0)}),o)return t.renderBluetoothIcon();if(n)return t.renderHeadphoneIcon()}return t.renderEarPieceIcon()}switch(e){case M.SPEAKER:return t.renderSpeakerIcon();case M.BLUETOOTH:return t.renderBluetoothIcon();case M.HEADPHONES:return t.renderHeadphoneIcon();case M.EARPIECE:return t.renderEarPieceIcon();default:return t.renderSpeakerIcon()}},t.changeAudioMode=function(e){t.state.availableDevices[e]&&v.default.setAudioDevice(e)},t.style={lt_control_icon:{width:25,height:25},lt_control_view:{width:55,height:55,margin:1,backgroundColor:"#4d4c4f",borderRadius:50,alignItems:"center",justifyContent:"center"}},console.log("consturctor called","audio Mode",v.AudioManager.availableDevices),v.AudioManager.userChanged||(t.props.defaultAudioMode?(v.default.setMode(v.default.VIDEO_CALL),v.default.setAudioDevice(t.props.defaultAudioMode)):(t.props.isAudioOnly?(v.default.setMode(v.default.AUDIO_CALL),v.default.setAudioDevice(M.EARPIECE)):(v.default.setMode(v.default.VIDEO_CALL),v.default.setAudioDevice(M.SPEAKER)),"android"!=s.Platform.OS&&t.props.isAudioOnly||v.default.setAudioDevice(M.BLUETOOTH))),t.state={selectedDevice:v.AudioManager.selectedDevice,availableDevices:v.AudioManager.availableDevices,allDevices:v.AudioManager.allDevices,isMenuVisible:!1},t.addEventListener(),t}return(0,n.default)(y,[{key:"componentDidMount",value:function(){var e=this;console.log("componentDidMount called","audio Mode",v.AudioManager.availableDevices,this.state.availableDevices),v.AudioManager.listener=function(){console.log("liostener called"),e.setState({selectedDevice:v.AudioManager.selectedDevice,allDevices:v.AudioManager.allDevices,availableDevices:v.AudioManager.availableDevices})},O.addListener(v.default.DEVICE_CHANGE_EVENT,function(t){var o,n={};E.default.log(b,"device list ",t),t.forEach(function(e){n[e.type]=e,E.default.log(b,"device =  ",e),e.selected&&(o=e.type)}),e.setState({selectedDevice:o,allDevices:t,availableDevices:n}),o&&e.eventListener.emit("CallEvent",{type:"onAudioDeviceListChanged",audioDeviceList:t})})}},{key:"renderSpeakerIcon",value:function(){return this.props.onAudioModeChanged("speaker"),u.default.createElement(s.TouchableOpacity,{touchSoundDisabled:!0,onPress:this.toggleMenu},u.default.createElement(s.Image,{style:this.style.lt_control_icon,source:r(d[12])}))}},{key:"renderEarPieceIcon",value:function(){return this.props.onAudioModeChanged("ear piece"),u.default.createElement(s.TouchableOpacity,{touchSoundDisabled:!0,onPress:this.toggleMenu},u.default.createElement(s.Image,{style:this.style.lt_control_icon,source:r(d[13])}))}},{key:"renderHeadphoneIcon",value:function(){return this.props.onAudioModeChanged("head phone"),u.default.createElement(s.TouchableOpacity,{touchSoundDisabled:!0,onPress:this.toggleMenu},u.default.createElement(s.Image,{style:this.style.lt_control_icon,source:r(d[14])}))}},{key:"renderBluetoothIcon",value:function(){return this.props.onAudioModeChanged("bluetooth"),u.default.createElement(s.TouchableOpacity,{touchSoundDisabled:!0,onPress:this.toggleMenu},u.default.createElement(s.Image,{style:this.style.lt_control_icon,source:r(d[15])}))}},{key:"render",value:function(){var e=this;return this.props.renderButton?u.default.createElement(s.View,{style:{position:"relative"}},u.default.createElement(s.View,{style:D(D({},this.style.lt_control_view),{},{opacity:.7})},this.renderIcon(this.state.selectedDevice)),this.state.isMenuVisible&&u.default.createElement(s.View,{style:{width:140,position:"absolute",opacity:1,bottom:60,right:0,borderRadius:10,backgroundColor:"#4d4c4f",paddingVertical:2,shadowColor:"#fff",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41,elevation:2}},u.default.createElement(s.FlatList,{data:Object.values(this.state.availableDevices),renderItem:function(t){var o=t.item;return u.default.createElement(s.TouchableOpacity,{key:o.type,onPress:function(){e.changeAudioMode(o.type),e.setState({isMenuVisible:!1})},style:[{flexDirection:"row",alignItems:"center",paddingVertical:5,paddingHorizontal:10},o.selected?{backgroundColor:"#222"}:{}]},e.renderIcon(o.type),u.default.createElement(s.Text,{style:{color:"#fff",fontSize:12,marginLeft:5}},o.type))}}))):null}}]),y})(u.Component);_e.default=P},586,[1,34,2,3,4,6,9,10,14,576,577,560,579,580,581,582]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.spotlightMode=e.singleMode=e.options=e.initOptions=e.confOptionsLegacy=e.confOptions=e.TRYING_TO_STOP_START_SCREEN_RECORDING=e.TRYING_TO_START_SCREEN_RECORDING=e.SWITCH_TO_VIDEO_SESSION_RESPONSE=e.SWITCH_TO_VIDEO_SESSION_REQUEST=e.SWITCH_TO_VIDEO_SESSION_CONVERTED=e.STOP_SCREEN_RECORDING=e.START_SCREEN_RECORDING=e.SCREEN_SHARING_STOPPED=e.SCREEN_SHARING_STARTED=e.PARTICIPANT_MUTED=e.ON_USER_MUTED=e.ON_RECORDING_TOGGLED=void 0;e.SCREEN_SHARING_STARTED="SCREEN_SHARING_STARTED";e.SCREEN_SHARING_STOPPED="SCREEN_SHARING_STOPPED";e.SWITCH_TO_VIDEO_SESSION_REQUEST="CONVERT_TO_VIDEO_REQUEST";e.SWITCH_TO_VIDEO_SESSION_CONVERTED="SWITCH_TO_VIDEO_SESSION_CONVERTED";e.SWITCH_TO_VIDEO_SESSION_RESPONSE="CONVERT_TO_VIDEO_RESPONSE";e.START_SCREEN_RECORDING="START_SCREEN_RECORDING";e.STOP_SCREEN_RECORDING="stopScreenRecording";e.TRYING_TO_STOP_START_SCREEN_RECORDING="tryingToStopStartScreenRecording";e.ON_RECORDING_TOGGLED="onRecordingToggled";e.ON_USER_MUTED="onUserMuted";e.TRYING_TO_START_SCREEN_RECORDING="tryingToStartScreenRecording";e.PARTICIPANT_MUTED="participantMuted";e.initOptions={disableAudioLevels:!0};e.confOptions={channelLastN:10,openBridgeChannel:"websocket",websocketKeepAlive:-1,testing:{octo:{probability:1}},e2eping:{pingInterval:-1},deploymentInfo:{userRegion:"eu-west-1"},p2p:{enabled:!1}};e.confOptionsLegacy={openBridgeChannel:!0,enableNoisyMicDetection:!0,channelLastN:10,enableLayerSuspension:!0,enableTalkWhileMuted:!0,p2p:{enabled:!1}};e.singleMode="SINGLE";e.spotlightMode="SPOTLIGHT";e.options={hosts:{domain:"rtcb-test.cometchat.io",focus:"focus.rtcb-test.cometchat.io",muc:"conference.rtcb-test.cometchat.io"},websocket:"wss://xmpp.rtcb-test.cometchat.io/xmpp-websocket",bosh:"https://xmpp.rtcb-test.cometchat.io/http-bind"}},587,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t,n,o,u,l=e(r(d[1])),c=e(r(d[2])),f=e(r(d[3])),s=e(r(d[4])),p=e(r(d[5])),y=e(r(d[6])),v=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var c=u?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o})(r(d[7])),h=(e(r(d[8])),e(r(d[9])));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var w="CallingAnalytics",j=(function(e){(0,s.default)(I,e);var v,O,j=(v=I,O=P(),function(){var e,t=(0,y.default)(v);if(O){var n=(0,y.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,p.default)(this,e)});function I(e){var l;return(0,c.default)(this,I),(l=j.call(this,e)).stopPing=function(){clearInterval(l.interval)},t=e.user,n=e.appID,o=e.sessionID,u=e.analyticsSettings,l}return(0,f.default)(I,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){e.ping()},6e4)}},{key:"componentWillUnmount",value:function(){}},{key:"getAnalyticsUrl",value:function(){return"https://"+u.ANALYTICS_HOST+"/"+u.ANALYTICS_VERSION+"/calls/ping"}},{key:"ping",value:function(){var e,u,c,f;return l.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:(e=new Headers).append("appId",n),e.append("authorization","Beare "+t.jwt),e.append("Content-Type","application/json"),h.default.log(w,"Ping Headers => ",e),u={uts:Date.now(),wsId:t.resource,type:this.props.isAudioOnly?"audio":"video",sessionId:o,isRecording:!1},c=JSON.stringify(u),h.default.log(w,"Ping data = ",u),f={method:"POST",headers:e,body:c,redirect:"follow"},fetch(this.getAnalyticsUrl(),f).then(function(e){return e.json()}).then(function(e){return h.default.log(w,"Ping result => ",e.data)}).catch(function(e){return h.default.log(w,"Ping error =>",e)});case 10:case"end":return l.stop()}},null,this,null,Promise)}},{key:"render",value:function(){return null}}]),I})(v.Component);_e.default=j},588,[1,68,2,3,4,6,9,10,576,560]);
__d(function(g,r,_i2,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=w(n);if(u&&u.has(t))return u.get(t);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var c=o?Object.getOwnPropertyDescriptor(t,i):null;c&&(c.get||c.set)?Object.defineProperty(l,i,c):l[i]=t[i]}l.default=t,u&&u.set(t,l);return l})(r(d[2])),l=r(d[3]),o=t(r(d[4])),i=t(r(d[5])),c=t(r(d[6])),f=t(r(d[7])),s=t(r(d[8])),h=t(r(d[9])),p=(t(r(d[10])),t(r(d[11])),t(r(d[12])),t(r(d[13]))),y=t(r(d[14]));function w(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(w=function(t){return t?u:n})(t)}"android"===l.Platform.OS&&l.UIManager.setLayoutAnimationEnabledExperimental&&l.UIManager.setLayoutAnimationEnabledExperimental(!0);var E=u.default.memo(function(t){var w=t.isPortrait,E=t.connection,M=t.hidePauseVideoButton,b=t.isVideoMuted,v=t.onVideoMute,A=t.hideAudioMuteButton,V=t.isAudioMuted,C=t.onAudioMute,O=t.hideEndCallButton,S=t.onHangUp,j=t.hideAudioModeButton,P=t.defaultAudioMode,_=t.inPIPMode,B=t.onAudioModeChanged,k=t.isAudioOnly,x=t.hideVideoSwitchButton,D=t.onDoubleTap,I=t.hideSwitchToVideoCallButton,L=t.userLength,R=t.isAnyScreenShareUser,U=(t.isScreenShareOn,t.onScreenShareClicked,t.hideScreenShareButton,t.hideMenuButton,t.hideRecordButton),W=t.onRecordingClicked,F=t.isRecording,H=t.onAudioModeClicked;if(_)return!1;var T={justifyContent:"space-between"},q=(0,u.useState)(!1),z=(0,n.default)(q,2),G=z[0],J=(z[1],(0,u.useState)(0)),K=(0,n.default)(J,2),N=K[0],Q=K[1],X=function(){console.log("buttons");var t=[],n=O?null:u.default.createElement(l.View,{style:[h.default.button_container,G?T:{}]},u.default.createElement(c.default,{onHangUp:S})),y=!!E&&(M||k&&(I||L-R.length!=2)?null:u.default.createElement(l.View,{style:[h.default.button_container,G?T:{}]},u.default.createElement(o.default,{isAudioOnly:k,videoMute:b,onVideoMute:v}))),_=!!E&&(A?null:u.default.createElement(l.View,{style:[h.default.button_container,G?T:{}]},u.default.createElement(i.default,{audioMute:V,onAudioMute:C}))),q=!!E&&(x||k?null:u.default.createElement(l.View,{style:[h.default.button_container,G?T:{}]},u.default.createElement(s.default,{onSwitchCamera:D}))),z=!!E&&(j?null:(console.log("userLength",L),u.default.createElement(l.View,{pointerEvents:L>1?"auto":"none",style:[h.default.button_container,{opacity:L>1?1:.3}]},u.default.createElement(f.default,{defaultAudioMode:P,onAudioModeChanged:B,isAudioOnly:k,renderButton:!0,onAudioModeClicked:H,disabled:L<2})))),J=!!E&&(U?null:u.default.createElement(l.View,{style:[h.default.button_container,G?T:{}]},u.default.createElement(p.default,{isRecording:F,onRecordingClicked:function(){W()}})));if(n&&t.push(n),y&&t.push(y),_&&t.push(_),q&&t.push(q),z&&t.push(z),J&&t.push(J),setLength(t.length),t.length>4){for(var K=[],N=0;N<4;N++)K.push(t[N]);for(var Q=[],X=4;X<t.length;X++)Q.push(t[X]);return u.default.createElement(u.default.Fragment,null,u.default.createElement(l.View,{style:{flexDirection:w?"row":"column",justifyContent:"space-evenly",alignItems:"center"}},K),u.default.createElement(l.View,{style:{flexDirection:w?"row":"column",justifyContent:"center",alignItems:"center"}},Q))}return u.default.createElement(l.View,{style:{flexDirection:w?"row":"column",justifyContent:"center",alignItems:"center",flexWrap:"wrap"}},t.map(function(t){return u.default.createElement(u.default.Fragment,null,t)}))};setLength=function(t){t!=N&&Q(t)};return u.default.createElement(u.default.Fragment,null,u.default.createElement(y.default,{shouldOpen:N>4,isPortrait:w},u.default.createElement(l.View,{style:[h.default.container,{width:"100%",height:"100%"}]},u.default.createElement(l.View,{style:[{flexDirection:w?"column":"row",width:"100%",height:"100%"},N>4?{}:{justifyContent:"center",alignItems:"center"}]},X()))))});e.default=E},589,[1,41,10,14,590,593,595,586,597,599,600,603,605,607,610]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var u=o(n);if(u&&u.has(t))return u.get(t);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var s=c?Object.getOwnPropertyDescriptor(t,f):null;s&&(s.get||s.set)?Object.defineProperty(l,f,s):l[f]=t[f]}l.default=t,u&&u.set(t,l);return l})(r(d[0])),n=r(d[1]);function o(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,u=new WeakMap;return(o=function(t){return t?u:n})(t)}var u=t.default.memo(function(o){o.changeVideoState,o.onMuteVideo;var u=o.videoMute,c=o.onVideoMute,f=o.isAudioOnly;return t.default.createElement(n.View,{style:l.lt_control_view},f?t.default.createElement(n.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){return c()}},t.default.createElement(n.Image,{style:l.lt_control_icon,source:r(d[4])})):u?t.default.createElement(n.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){return c()}},t.default.createElement(n.Image,{style:l.lt_control_icon,source:r(d[2])})):t.default.createElement(n.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){return c()}},t.default.createElement(n.Image,{style:l.lt_control_icon,source:r(d[3])})))});e.default=u;var l=n.StyleSheet.create({lt_control_icon:{width:25,height:25},lt_control_view:{width:55,height:55,margin:1,backgroundColor:"#4d4c4f",borderRadius:50,alignItems:"center",justifyContent:"center"}})},590,[10,14,569,591,592]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:68,height:56,scales:[1],hash:"e45654cbff189a1f023e7d98b42b6ed1",name:"icon_video_unmute",type:"png"})},591,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:512,height:512,scales:[1],hash:"0264f29f71ee9e179bde04f8e5d2ce5a",name:"icon_switch_to_video_call",type:"png"})},592,[564]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=r(d[2]),u=o.default.memo(function(t){t.changeAudioState,t.onMuteAudio,t.onUnMuteAudio;var u=t.onAudioMute,c=t.audioMute;return o.default.createElement(n.View,{style:l.lt_control_view},c?o.default.createElement(n.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){return u()}},o.default.createElement(n.Image,{style:l.lt_control_icon,source:r(d[3])})):o.default.createElement(n.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){return u()}},o.default.createElement(n.Image,{style:l.lt_control_icon,source:r(d[4])})))});e.default=u;var l=n.StyleSheet.create({lt_control_icon:{width:25,height:25},lt_control_view:{width:55,height:55,margin:1,backgroundColor:"#4d4c4f",borderRadius:50,alignItems:"center",justifyContent:"center"}})},593,[1,10,14,568,594]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"3228065cbea444efe00a92981e420166",name:"icon_audio_unmute",type:"png"})},594,[564]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=u(n);if(o&&o.has(t))return o.get(t);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&Object.prototype.hasOwnProperty.call(t,f)){var s=c?Object.getOwnPropertyDescriptor(t,f):null;s&&(s.get||s.set)?Object.defineProperty(l,f,s):l[f]=t[f]}l.default=t,o&&o.set(t,l);return l})(r(d[1])),o=r(d[2]),l=t(r(d[3]));function u(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(u=function(t){return t?o:n})(t)}var c=n.default.memo(function(t){var u=t.onHangUp,c=new o.NativeEventEmitter(l.default),s=function(){c.emit("CallEvent",{type:"EndCallButtonPressed"}),'ios'===o.Platform.OS&&l.default.removeListener()};return n.default.createElement(o.View,{style:f.lt_control_view},n.default.createElement(o.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){return u(),void s()}},n.default.createElement(o.Image,{style:f.lt_control_icon,source:r(d[4])})))});e.default=c;var f=o.StyleSheet.create({lt_control_icon:{width:25,height:25},lt_control_view:{width:55,height:55,margin:1,backgroundColor:"#EB4E3D",borderRadius:50,alignItems:"center",justifyContent:"center"}})},595,[1,10,14,577,596]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"043a6f4b9d2cc23a5d32c1b1b76cd3da",name:"icon_hangup",type:"png"})},596,[564]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=r(d[2]),l=o.default.memo(function(t){var l=t.onSwitchCamera;return o.default.createElement(n.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){l()}},o.default.createElement(n.View,{style:c.lt_control_view},o.default.createElement(n.Image,{style:c.lt_control_icon,source:r(d[3])})))});e.default=l;var c=n.StyleSheet.create({lt_control_icon:{width:25,height:25},lt_control_view:{width:55,height:55,margin:1,backgroundColor:"#4d4c4f",borderRadius:50,alignItems:"center",justifyContent:"center"}})},597,[1,10,14,598]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:68,height:56,scales:[1],hash:"4c12203786a60ce8f462d9f33a390b44",name:"icon_switch_camera",type:"png"})},598,[564]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).StyleSheet.create({container:{backgroundColor:"#222",alignItems:"center",justifyContent:"center"},button_bar_container:{alignItems:"center",justifyContent:"center",flex:1,flexWrap:"wrap",backgroundColor:"#222",borderRadius:40},button_container:{alignItems:"center",margin:10,opacity:.7}});e.default=t},599,[14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),n=r(d[2]),o=l.default.memo(function(t){var o=t.onScreenShareClicked,u=t.isScreenShareOn;return l.default.createElement(n.View,{style:c.lt_control_view},l.default.createElement(n.TouchableOpacity,{touchSoundDisabled:!0,onPress:o},u?l.default.createElement(n.Image,{style:c.lt_control_icon,source:r(d[3])}):l.default.createElement(n.Image,{style:c.lt_control_icon,source:r(d[4])})))});e.default=o;var c=n.StyleSheet.create({lt_control_icon:{width:25,height:25},lt_control_view:{width:55,height:55,margin:1,backgroundColor:"#4d4c4f",borderRadius:50,alignItems:"center",justifyContent:"center"}})},600,[1,10,14,601,602]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:100,height:100,scales:[1],hash:"cb38fdcee342bf509fef53899cf2635d",name:"icon_screenSharingEnabled",type:"png"})},601,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:100,height:100,scales:[1],hash:"0be0d912f0741dc992ac1f53af278316",name:"icon_screenSharingDisabled",type:"png"})},602,[564]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),n=r(d[2]),o=l.default.memo(function(t){var o=t.onMenuClicked,u=t.isMenuOpen;return l.default.createElement(n.View,{style:c.lt_control_view},l.default.createElement(n.TouchableOpacity,{touchSoundDisabled:!0,onPress:o},u?l.default.createElement(n.Image,{style:c.lt_control_icon,source:r(d[3])}):l.default.createElement(n.Image,{style:c.lt_control_icon,source:r(d[4])})))});e.default=o;var c=n.StyleSheet.create({lt_control_icon:{width:25,height:25},lt_control_view:{width:55,height:55,margin:1,backgroundColor:"#4d4c4f",borderRadius:50,alignItems:"center",justifyContent:"center"}})},603,[1,10,14,596,604]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:100,height:100,scales:[1],hash:"751a21006ddbf0f9224107c4a8b34eb5",name:"icon_menu",type:"png"})},604,[564]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),n=r(d[2]),o=t(r(d[3])),c=function(t){var c=t.height,u=t.isPortrait,f=t.onMaskClicked,s=t.children;return l.default.createElement(n.View,{style:[o.default.container,u?{}:{flexDirection:"row",alignItems:"center"}]},l.default.createElement(n.TouchableOpacity,{style:o.default.mask,activeOpacity:1,onPress:f},l.default.createElement(n.Text,null," ")),l.default.createElement(n.View,{style:[o.default.secondContainer,u?{marginHorizontal:50,bottom:20}:{height:"90%",width:c,marginHorizontal:10,marginBottom:10,right:20}]},s))};e.default=c},605,[1,10,14,606]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).StyleSheet.create({mask:{flex:1},container:{flex:1,position:"absolute",height:"100%",width:"100%",justifyContent:"center"},secondContainer:{position:"absolute",elevation:4,zIndex:4,borderRadius:50}});e.default=t},606,[14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),l=r(d[2]),n=o.default.memo(function(t){var n=t.onRecordingClicked,u=t.isRecording;return o.default.createElement(l.View,{style:c.lt_control_view},o.default.createElement(l.TouchableOpacity,{touchSoundDisabled:!0,onPress:n},u?o.default.createElement(l.Image,{style:c.lt_control_icon,source:r(d[3])}):o.default.createElement(l.Image,{style:c.lt_control_icon,source:r(d[4])})))});e.default=n;var c=l.StyleSheet.create({lt_control_icon:{width:50,height:50},lt_control_view:{width:55,height:55,margin:1,backgroundColor:"#4d4c4f",borderRadius:50,alignItems:"center",justifyContent:"center"}})},607,[1,10,14,608,609]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"973e99f00082a0bca8325a9440ebc7f0",name:"icon_stop_recording",type:"png"})},608,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"1fa9da861efc9428d0bb5c53a776d9f8",name:"icon_record",type:"png"})},609,[564]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),p=e(r(d[4])),s=e(r(d[5])),l=e(r(d[6])),u=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=p?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o})(r(d[7])),h=e(r(d[8])),c=r(d[9]);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var P=.3,v=70,V=(function(e){(0,p.default)(R,e);var h,f,V=(h=R,f=y(),function(){var e,t=(0,l.default)(h);if(f){var n=(0,l.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,s.default)(this,e)});function R(e){var t;return(0,n.default)(this,R),(t=V.call(this,e)).toggleBottomSheet=function(){console.log("toggleBottomSheet"),c.LayoutAnimation.configureNext({duration:300,create:{type:"linear",property:"opacity"},update:{type:"spring",springDamping:.4},delete:{type:"linear",property:"opacity"}}),t.heightValue<125?(t.pan.setValue({x:0,y:t.props.isPortrait?200:190}),t.heightValue=t.props.isPortrait?200:190,t.setState({open:!1})):(t.pan.setValue({x:0,y:t.props.isPortrait?115:105}),t.heightValue=t.props.isPortrait?115:105,t.setState({open:!0}))},t.state={open:!1},t.pan=new c.Animated.ValueXY({x:0,y:0}),t.viewRef=u.default.createRef(),t.createPanResponder(e),t.heightValue=0,t}return(0,o.default)(R,[{key:"isValidSwipe",value:function(e,t,n,o){return Math.abs(e)>t&&Math.abs(n)<o}},{key:"_isValidVerticalSwipe",value:function(e){var t=e.vy,n=e.dx,o=P,p=v;return this.isValidSwipe(t,o,n,p)}},{key:"_getSwipeDirection",value:function(e){var t=e.dy,n=e.dx;return this.props.isPortrait?this._isValidVerticalSwipe(e)?t>0?"SWIPE_DOWN":"SWIPE_UP":null:n>0?"SWIPE_DOWN":"SWIPE_UP"}},{key:"createPanResponder",value:function(e){var t=this,n=this.state.pan;console.log(n),this.panResponder=c.PanResponder.create({onStartShouldSetPanResponder:function(){return!0},onMoveShouldSetPanResponder:function(e,t){return!0},onPanResponderMove:c.Animated.event([null,{dy:this.pan.y}]),onPanResponderMove:function(e,n){if(t.props.shouldOpen){var o=t.props.isPortrait?n.dy:n.dx;o>0?200-Math.abs(o)<t.heightValue&&(t.pan.setValue({x:0,y:200-Math.abs(o)}),t.heightValue=200-Math.abs(o),t.setState({open:!1})):115+Math.abs(o)>t.heightValue&&(t.pan.setValue({x:0,y:Math.abs(o)+115}),t.heightValue=Math.abs(o)+115,t.setState({open:!0}))}},onMoveShouldSetPanResponder:function(e,t){var n=t.dx,o=t.dy;return n>5||n<-5||o>5||o<-5},onPanResponderRelease:function(e,n){if(t.props.shouldOpen){var o=t.props.isPortrait?n.dy:n.dx;console.log("onPanResponderRelease",n,o),o>0?(c.LayoutAnimation.configureNext({duration:300,create:{type:"linear",property:"opacity"},update:{type:"spring",springDamping:.4},delete:{type:"linear",property:"opacity"}}),t.pan.setValue({x:0,y:t.props.isPortrait?115:105}),t.heightValue=t.props.isPortrait?115:105,console.log("onPanResponderRelease this.heightValue",t.heightValue)):(c.LayoutAnimation.configureNext({duration:300,create:{type:"linear",property:"opacity"},update:{type:"spring",springDamping:.4},delete:{type:"linear",property:"opacity"}}),t.pan.setValue({x:0,y:t.props.isPortrait?200:190}),t.heightValue=t.props.isPortrait?200:190),t.forceUpdate()}}})}},{key:"render",value:function(){var e=this.props.children;this.state.pan;return u.default.createElement(c.Animated.View,(0,t.default)({ref:this.viewRef},this.panResponder.panHandlers,{style:[this.props.isPortrait?{width:"100%",height:this.props.shouldOpen?this.pan.y:115,minHeight:115,maxHeight:200,backgroundColor:"#222",borderTopLeftRadius:30,borderTopRightRadius:30}:{backgroundColor:"#222",height:"100%",width:this.props.shouldOpen?this.pan.y:105,minWidth:105,maxWidth:190,flexDirection:"row"}]}),console.log(" this.pan.y",this.heightValue),this.props.shouldOpen?this.heightValue>125?u.default.createElement(c.TouchableOpacity,{onPress:this.toggleBottomSheet},u.default.createElement(c.View,{style:this.props.isPortrait?{backgroundColor:"#fff",height:5,width:60,borderRadius:5,margin:10,alignSelf:"center",opacity:.5}:{backgroundColor:"#fff",width:5,height:60,borderRadius:5,margin:10,alignSelf:"center",opacity:.5}})):u.default.createElement(c.TouchableOpacity,{onPress:this.toggleBottomSheet},u.default.createElement(c.Image,{style:this.props.isPortrait?{alignSelf:"center",justifyContent:"center",height:40,width:70,opacity:.5,marginTop:1,margin:-10}:{alignSelf:"center",justifyContent:"center",width:50,height:40,opacity:.5,margin:-15,transform:[{rotate:"-90deg"}]},resizeMode:"stretch",source:r(d[10])})):null,e)}}]),R})(u.Component);V.propTypes={children:h.default.node},V.defaultProps={children:u.default.createElement(c.View,null)};var R=V;_e.default=R},610,[1,13,2,3,4,6,9,10,191,14,611]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:96,height:96,scales:[1],hash:"3f890cd0d5aeb30fab1e7af117f7b812",name:"up-arrow",type:"png"})},611,[564]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n={configure:!0,fetch:!0,addEventListener:!0,useNetInfo:!0};e.addEventListener=w,e.configure=v,e.default=void 0,e.fetch=P,e.useNetInfo=h;var o=t(r(d[1])),u=t(r(d[2])),f=r(d[3]),c=t(r(d[4])),i=t(r(d[5])),l=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=p(n);if(o&&o.has(t))return o.get(t);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var i=f?Object.getOwnPropertyDescriptor(t,c):null;i&&(i.get||i.set)?Object.defineProperty(u,c,i):u[c]=t[c]}u.default=t,o&&o.set(t,u);return u})(r(d[6]));function p(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(p=function(t){return t?o:n})(t)}function s(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function O(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?s(Object(o),!0).forEach(function(n){(0,u.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===l[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))});var y=c.default,b=null,j=function(){return new i.default(y)};function v(t){y=O(O({},c.default),t),b&&(b.tearDown(),b=j())}function P(t){return b||(b=j()),b.latest(t)}function w(t){return b||(b=j()),b.add(t),function(){b&&b.remove(t)}}function h(t){t&&v(t);var n=(0,f.useState)({type:l.NetInfoStateType.unknown,isConnected:null,isInternetReachable:null,details:null}),u=(0,o.default)(n,2),c=u[0],i=u[1];return(0,f.useEffect)(function(){return w(i)},[]),c}var _={configure:v,fetch:P,addEventListener:w,useNetInfo:h};e.default=_},612,[1,41,34,10,613,614,619]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={reachabilityUrl:'https://clients3.google.com/generate_204',reachabilityTest:function(t){return Promise.resolve(204===t.status)},reachabilityShortTimeout:5e3,reachabilityLongTimeout:6e4,reachabilityRequestTimeout:15e3,reachabilityShouldRun:function(){return!0}};e.default=t},613,[]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),i=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),o=t(r(d[6])),l=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=f(n);if(i&&i.has(t))return i.get(t);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=u?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(c,s,o):c[s]=t[s]}c.default=t,i&&i.set(t,c);return c})(r(d[7]));function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,i=new WeakMap;return(f=function(t){return t?i:n})(t)}function p(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,c)}return i}function h(t){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?p(Object(c),!0).forEach(function(n){(0,i.default)(t,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):p(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}var _=(0,c.default)(function t(i){var c=this;(0,u.default)(this,t),this._nativeEventSubscription=null,this._subscriptions=new Set,this._latestState=null,this._handleNativeStateUpdate=function(t){c._internetReachability.update(t);var n=c._convertState(t);c._latestState=n,c._subscriptions.forEach(function(t){return t(n)})},this._handleInternetReachabilityUpdate=function(t){if(c._latestState){var n=h(h({},c._latestState),{},{isInternetReachable:t});c._latestState=n,c._subscriptions.forEach(function(t){return t(n)})}},this._fetchCurrentState=function(t){var i,u;return n.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.default.awrap(s.default.getCurrentState(t));case 2:return i=o.sent,c._internetReachability.update(i),u=c._convertState(i),t||(c._latestState=u),o.abrupt("return",u);case 7:case"end":return o.stop()}},null,null,null,Promise)},this._convertState=function(t){return'boolean'==typeof t.isInternetReachable?t:h(h({},t),{},{isInternetReachable:c._internetReachability.currentState()})},this.latest=function(t){return t?c._fetchCurrentState(t):c._latestState?Promise.resolve(c._latestState):c._fetchCurrentState()},this.add=function(t){c._subscriptions.add(t),c._latestState?t(c._latestState):c.latest().then(t)},this.remove=function(t){c._subscriptions.delete(t)},this.tearDown=function(){c._internetReachability&&c._internetReachability.tearDown(),c._nativeEventSubscription&&c._nativeEventSubscription.remove(),c._subscriptions.clear()},this._internetReachability=new o.default(i,this._handleInternetReachabilityUpdate),this._nativeEventSubscription=s.default.eventEmitter.addListener(l.DEVICE_CONNECTIVITY_EVENT,this._handleNativeStateUpdate),this._fetchCurrentState()});e.default=_},614,[1,68,34,3,2,615,617,618]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=r(d[2]),i=t(r(d[3]));function u(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}function c(t){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?u(Object(i),!0).forEach(function(o){(0,n.default)(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}if(!i.default)throw new Error("@react-native-community/netinfo: NativeModule.RNCNetInfo is null. To fix this issue try these steps:\n\n\u2022 Run `react-native link @react-native-community/netinfo` in the project root.\n\u2022 Rebuild and re-run the app.\n\u2022 If you are using CocoaPods on iOS, run `pod install` in the `ios` directory and then rebuild and re-run the app. You may also need to re-open Xcode to get the new pods.\n\u2022 Check that the library was linked correctly when you used the link command by running through the manual installation instructions in the README.\n* If you are getting this error while unit testing you need to mock the native module. Follow the guide in the README.\n\nIf none of these fix the issue, please open an issue on the Github repository: https://github.com/react-native-community/react-native-netinfo");var s=null,l=c(c({},i.default),{},{get eventEmitter(){return s||(s=new o.NativeEventEmitter(i.default)),s}});e.default=l},615,[1,34,14,616]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).NativeModules.RNCNetInfo;e.default=t},616,[14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),c=t(r(d[2])),l=(0,n.default)(function t(n,l){var u=this;(0,c.default)(this,t),this._isInternetReachable=void 0,this._currentInternetReachabilityCheckHandler=null,this._currentTimeoutHandle=null,this._setIsInternetReachable=function(t){u._isInternetReachable!==t&&(u._isInternetReachable=t,u._listener(u._isInternetReachable))},this._setExpectsConnection=function(t){null!==u._currentInternetReachabilityCheckHandler&&(u._currentInternetReachabilityCheckHandler.cancel(),u._currentInternetReachabilityCheckHandler=null),null!==u._currentTimeoutHandle&&(clearTimeout(u._currentTimeoutHandle),u._currentTimeoutHandle=null),t&&u._configuration.reachabilityShouldRun()?(u._isInternetReachable||u._setIsInternetReachable(null),u._currentInternetReachabilityCheckHandler=u._checkInternetReachability()):u._setIsInternetReachable(!1)},this._checkInternetReachability=function(){var t,n=fetch(u._configuration.reachabilityUrl,{method:'HEAD',cache:'no-cache'}),c=new Promise(function(n,c){t=setTimeout(function(){return c('timedout')},u._configuration.reachabilityRequestTimeout)}),l=function(){},o=new Promise(function(t,n){l=function(){return n('canceled')}});return{promise:Promise.race([n,c,o]).then(function(t){return u._configuration.reachabilityTest(t)}).then(function(t){u._setIsInternetReachable(t);var n=u._isInternetReachable?u._configuration.reachabilityLongTimeout:u._configuration.reachabilityShortTimeout;u._currentTimeoutHandle=setTimeout(u._checkInternetReachability,n)}).catch(function(t){'canceled'!==t&&(u._setIsInternetReachable(!1),u._currentTimeoutHandle=setTimeout(u._checkInternetReachability,u._configuration.reachabilityShortTimeout))}).then(function(){clearTimeout(t)},function(n){throw clearTimeout(t),n}),cancel:l}},this.update=function(t){'boolean'==typeof t.isInternetReachable?u._setIsInternetReachable(t.isInternetReachable):u._setExpectsConnection(t.isConnected)},this.currentState=function(){return u._isInternetReachable},this.tearDown=function(){null!==u._currentInternetReachabilityCheckHandler&&(u._currentInternetReachabilityCheckHandler.cancel(),u._currentInternetReachabilityCheckHandler=null),null!==u._currentTimeoutHandle&&(clearTimeout(u._currentTimeoutHandle),u._currentTimeoutHandle=null)},this._configuration=n,this._listener=l});e.default=l},617,[1,3,2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.DEVICE_CONNECTIVITY_EVENT=void 0;e.DEVICE_CONNECTIVITY_EVENT='netInfo.networkStatusDidChange'},618,[]);
__d(function(g,r,i,a,m,e,d){var n,t;Object.defineProperty(e,"__esModule",{value:!0}),e.NetInfoStateType=e.NetInfoCellularGeneration=void 0,e.NetInfoStateType=n,(function(n){n.unknown="unknown",n.none="none",n.cellular="cellular",n.wifi="wifi",n.bluetooth="bluetooth",n.ethernet="ethernet",n.wimax="wimax",n.vpn="vpn",n.other="other"})(n||(e.NetInfoStateType=n={})),e.NetInfoCellularGeneration=t,(function(n){n["2g"]="2g",n["3g"]="3g",n["4g"]="4g",n["5g"]="5g"})(t||(e.NetInfoCellularGeneration=t={}))},619,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),l=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=o?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(l,u,s):l[u]=e[u]}l.default=e,n&&n.set(e,l);return l})(r(d[3])),o=r(d[4]),u=e(r(d[5])),s=(e(r(d[6])),e(r(d[7]))),f=r(d[8]),c=(e(r(d[9])),e(r(d[10])));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var y=10,w=50,v=.7*o.Dimensions.get("window").width,p=.7*o.Dimensions.get("window").height;var b=function(e){var h=e.users,b=e.pinnedUserId,E=e.dominantSpeakerId,I=(e.isPortrait,e.unPinUser),R=e.pinUser,C=(e.flex1,e.recorderId),V=e.avatarMode,O=e.isAudioOnly,j=(0,l.useRef)(new o.Animated.ValueXY).current,x=(0,l.useRef)(o.PanResponder.create({onStartShouldSetPanResponder:function(){return!0},onMoveShouldSetPanResponder:function(e,t){return!0},onPanResponderGrant:function(e,t){j.setOffset({x:j.x._value,y:j.y._value})},onPanResponderMove:o.Animated.event([null,{dx:j.x,dy:j.y}]),onPanResponderRelease:function(e,t){var n,l=null==t?void 0:t.moveX,o=null==t?void 0:t.moveY,u=0;n=l<y?y:l>v?v:l,u=o<w?w:o>p?p:o,j.flattenOffset(),parseInt(n)==parseInt(l)&&parseInt(u)==parseInt(o)||j.setValue({x:n,y:u})}})).current;(0,l.useEffect)(function(){j.setValue({x:v,y:w})},[]);var k,_,M,T=(0,l.useState)(!1),z=(0,n.default)(T,2),P=z[0],S=z[1],U=(0,l.useState)(!1),F=(0,n.default)(U,2),L=F[0],A=F[1];return l.default.createElement(o.View,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#000"}},(function(){var e,t=null;if(L||1==h.length?t=h[0]:2==(null==h?void 0:h.length)?t=h[1]:(b?t=h.find(function(e){return e.id===b}):E&&(t=h.find(function(e){return e.id===E})),t||(t=h[1])),!t)return!1;var n,c,y=[];return h.length>2&&h.map(function(e,n){var o;0!=n&&e.id!=t.id&&!e.isAudioMuted&&e.audioTrack&&y.push(l.default.createElement(f.RTCView,{key:e.id,objectFit:"cover",streamURL:null==(o=e.audioTrack)?void 0:o.getOriginalStream().toURL(),style:u.default.zero_height_width,zOrder:-10}))}),t.videoTrack&&!t.isVideoMuted?l.default.createElement(o.View,{style:{flex:1,height:"100%",width:"100%"}},y.length?y.map(function(e){return l.default.createElement(l.default.Fragment,null,e)}):null,l.default.createElement(f.RTCView,{key:null==(n=t)?void 0:n.id,objectFit:"contain",streamURL:null==(c=t)?void 0:c.videoTrack.getOriginalStream().toURL(),style:u.default.full_height_width,zOrder:-10}),l.default.createElement(o.View,{style:{justifyContent:"flex-start",alignItems:"center",position:"absolute",left:5,bottom:5,zIndex:5,elevation:5,flexDirection:"row"}},l.default.createElement(o.Text,{style:{color:"#fff",fontSize:18,fontWeight:"bold"}},t.name),t.isAudioMuted?l.default.createElement(o.View,{style:{width:10,height:10,marginLeft:5,borderRadius:20,alignItems:"center",justifyContent:"center"}},l.default.createElement(o.Image,{style:{width:15,height:15},source:r(d[11])})):null,t.isVideoMuted&&!O?l.default.createElement(o.View,{style:{width:10,height:10,marginLeft:5,borderRadius:20,alignItems:"center",justifyContent:"center"}},l.default.createElement(o.Image,{style:{width:15,height:15},source:r(d[12])})):null)):l.default.createElement(o.View,{style:u.default.main_video_avatar_main_view},y.length?y.map(function(e){return l.default.createElement(l.default.Fragment,null,e)}):null,l.default.createElement(s.default,{backgroundColor:"#4d4c4f",textColor:"#FFF",size:100,type:V,avatar:t.avatar},t.name),console.log("test","fullscreen"==V),l.default.createElement(f.RTCView,{key:t.id,objectFit:"cover",streamURL:null==(e=t.audioTrack)?void 0:e.getOriginalStream().toURL(),style:u.default.zero_height_width,zOrder:0}),l.default.createElement(o.View,{style:{justifyContent:"flex-start",alignItems:"center",position:"absolute",left:5,bottom:5,zIndex:5,elevation:5,flexDirection:"row"}},l.default.createElement(o.Text,{style:{color:"#fff",fontSize:18,fontWeight:"bold"}},t.name),t.isAudioMuted?l.default.createElement(o.View,{style:{width:10,height:10,marginLeft:5,borderRadius:20,alignItems:"center",justifyContent:"center"}},l.default.createElement(o.Image,{style:{width:15,height:15},source:r(d[11])})):null,t.isVideoMuted&&!O?l.default.createElement(o.View,{style:{width:10,height:10,marginLeft:5,borderRadius:20,alignItems:"center",justifyContent:"center"}},l.default.createElement(o.Image,{style:{width:15,height:15},source:r(d[12])})):null))})(),l.default.createElement(o.Animated.View,(0,t.default)({style:{height:150,width:100,position:"absolute",top:"0%",left:"0%",transform:[{translateX:j.x},{translateY:j.y}]}},x.panHandlers),(M=null,L?2==(null==h?void 0:h.length)?M=h[1]:(b?M=h.find(function(e){return e.id===b}):E&&(M=h.find(function(e){return e.id===E})),M||(M=h[1])):M=h[0],M&&1!=h.length?M.videoTrack&&!M.isVideoMuted?l.default.createElement(o.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){return A(!L)},style:{height:"100%",width:"100%",backgroundColor:"#2E2F30",borderRadius:8}},l.default.createElement(o.View,{style:{justifyContent:"flex-start",alignItems:"center",position:"absolute",left:5,bottom:5,zIndex:5,elevation:5}},M.isAudioMuted?l.default.createElement(o.View,{style:{width:10,height:10,margin:2,borderRadius:20,alignItems:"center",justifyContent:"center"}},l.default.createElement(o.Image,{style:{width:15,height:15},source:r(d[11])})):null,M.isVideoMuted&&!O?l.default.createElement(o.View,{style:{width:10,height:10,margin:2,borderRadius:20,alignItems:"center",justifyContent:"center"}},l.default.createElement(o.Image,{style:{width:15,height:15},source:r(d[12])})):null),l.default.createElement(f.RTCView,{objectFit:"cover",streamURL:null==(_=M)?void 0:_.videoTrack.getOriginalStream().toURL(),style:u.default.full_height_width,zOrder:1})):l.default.createElement(o.TouchableOpacity,{touchSoundDisabled:!0,onPress:function(){return A(function(e){return!e})},style:{backgroundColor:"#2E2F30",height:"100%",width:"100%",borderRadius:8,justifyContent:"center",alignItems:"center"}},l.default.createElement(o.View,{style:{justifyContent:"flex-start",alignItems:"center",position:"absolute",right:5,bottom:5,zIndex:5,elevation:5}},M.isAudioMuted?l.default.createElement(o.View,{style:{width:10,height:10,margin:2,borderRadius:20,alignItems:"center",justifyContent:"center"}},l.default.createElement(o.Image,{style:{width:15,height:15},source:r(d[11])})):null),l.default.createElement(s.default,{backgroundColor:"#4d4c4f",textColor:"#FFF",size:30,type:V,avatar:M.avatar},M.name),l.default.createElement(o.Text,{numberOfLines:1,ellipsizeMode:"tail",style:[{fontSize:14,color:"#fff",padding:5},"fullscreen"==V?{position:"absolute",top:5,left:5}:{}]},M.name),l.default.createElement(f.RTCView,{key:M.id,objectFit:"cover",streamURL:null==(k=M.audioTrack)?void 0:k.getOriginalStream().toURL(),style:u.default.zero_height_width,zOrder:-10})):null)),h.length>2?l.default.createElement(o.TouchableOpacity,{onPress:function(){S(!P)},style:{position:"absolute",elevation:6,right:16,bottom:16,padding:8,borderRadius:50,backgroundColor:"rgba(46,47,48,0.8)"}},l.default.createElement(o.Image,{source:r(d[13]),style:{height:12,width:12}})):null,P?l.default.createElement(c.default,{pinnedUserId:b,unPinUser:I,pinUser:R,users:h,onCloseClick:function(){return S(!1)},recorderId:C}):null)};_e.default=b},620,[1,13,41,10,14,572,560,561,517,562,573,568,569,621]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:36,height:36,scales:[1],hash:"e63104be9e8839986fd956b1ec680a23",name:"icon_people",type:"png"})},621,[564]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var n=t.showUserList,c=t.dominantSpeakerId,p=t.pinnedUserId,y=t.users,b=t.isPortrait,O=t.isAudioOnly,w=t.fullScreen,P=t.resolutions,h=t.flex1,U=t.changeFullScreen,_=t.closeShowUserList,v=t.unPinUser,j=t.pinUser,E=t.toggleUserList,I=t.room,S=t.recorderId,V=t.avatarMode;return l.default.createElement(o.View,{style:f({},b?i.default.call_container_portrait:i.default.call_container_landscape)},l.default.createElement(o.View,{style:i.default.top_bar}),l.default.createElement(o.View,{style:i.default.main_video_container},l.default.createElement(o.View,{style:i.default.side_bar}),l.default.createElement(o.View,{style:i.default.main_video},l.default.createElement(s.default,{showUserList:n,onCloseClick:_,users:y,dominantSpeakerId:c,pinnedUserId:p,room:I,isAudioOnly:O,unPinUser:function(){v()},pinUser:function(t){j(t)},avatarMode:V})),b&&l.default.createElement(o.View,{style:i.default.side_bar}),l.default.createElement(o.TouchableOpacity,{touchSoundDisabled:!0,style:{position:"absolute",bottom:0,right:"5%",padding:10},onPress:U},l.default.createElement(o.Image,{style:{width:30,height:30},source:r(w?d[7]:d[8])}))),w?null:l.default.createElement(u.default,{isAudioOnly:O,toggleUserList:E,isPortrait:b,users:y,pinnedUserId:p,resolutions:P,unPinUser:function(){v()},pinUser:function(t){j(t)},flex1:h,recorderId:S,avatarMode:V}))};var n=t(r(d[1])),l=t(r(d[2])),o=r(d[3]),i=t(r(d[4])),s=t(r(d[5])),u=t(r(d[6]));function c(t,n){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),l.push.apply(l,o)}return l}function f(t){for(var l=1;l<arguments.length;l++){var o=null!=arguments[l]?arguments[l]:{};l%2?c(Object(o),!0).forEach(function(l){(0,n.default)(t,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}},622,[1,34,10,14,584,571,558,623,624]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:36,height:36,scales:[1],hash:"e15705b89a2cff96a4b58d0a2655fccd",name:"stopfullscreen",type:"png"})},623,[564]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/CallingComponent/icons",width:36,height:36,scales:[1],hash:"0af14aeef86cb38dc3f01261b403f6ce",name:"fullscreen",type:"png"})},624,[564]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),n=r(d[2]),o=t(r(d[3])),f=t(r(d[4])),u=r(d[5]),c=t(r(d[6]));var s=function(t){var s,v,h,y,_=t.users,b=t.pinnedUserId,k=t.dominantSpeakerId;return l.default.createElement(n.View,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#000"}},(y=null,1==_.length?y=_[0]:2==(null==_?void 0:_.length)?y=_[1]:(b?y=_.find(function(t){return t.id===b}):k&&(y=_.find(function(t){return t.id===k})),y||(y=_[1])),!!y&&(y.videoTrack&&!y.isVideoMuted?l.default.createElement(n.View,{style:{flex:1,height:"100%",width:"100%"}},l.default.createElement(u.RTCView,{key:null==(v=y)?void 0:v.id,objectFit:"contain",streamURL:null==(h=y)?void 0:h.videoTrack.getOriginalStream().toURL(),style:o.default.full_height_width,zOrder:-10}),l.default.createElement(n.Text,{numberOfLines:1,ellipsizeMode:"tail",style:{color:"#fff",fontSize:10,fontWeight:"bold",marginTop:6,marginHorizontal:5,position:"absolute",top:5,left:5}},y.name)):l.default.createElement(n.View,{style:o.default.main_video_avatar_main_view},l.default.createElement(f.default,{backgroundColor:"#4d4c4f",textColor:"#FFF",size:60,type:"circle",avatar:y.avatar},y.name),l.default.createElement(n.Text,{numberOfLines:1,ellipsizeMode:"tail",style:{color:"#fff",fontSize:10,fontWeight:"bold",marginTop:6,marginHorizontal:5}},y.name),l.default.createElement(c.default,{track:y.audioTrack}),l.default.createElement(u.RTCView,{key:y.id,objectFit:"cover",streamURL:null==(s=y.audioTrack)?void 0:s.getOriginalStream().toURL(),style:o.default.zero_height_width,zOrder:0})))))};e.default=s},625,[1,10,14,572,561,517,562]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.AudioToVideoRequested=e.AudioToVideoRequestModal=void 0;var n=t(r(d[1])),o=r(d[2]),l=t(r(d[3])),s=(o.Dimensions.get("window").screenHeight,function(t){var l=t.name,s=t.onResponse,u=t.visible,c=t.type;if(!u)return null;return n.default.createElement(o.View,{style:{position:"absolute",bottom:"0%",top:"0%",left:"0%",right:"0%",backgroundColor:"rgba(52, 52, 52, 0.8)",elevation:10,zIndex:10,justifyContent:"center",alignItems:"center"}},n.default.createElement(o.View,{style:{backgroundColor:"#fff",borderRadius:8,marginHorizontal:"5%"}},n.default.createElement(o.Text,{style:{fontSize:18,textAlign:"center",padding:16,color:"#000"}},"initial"==c?l+" wants to switch to video call":"This call was converted into a video call do you wish to continue?"),n.default.createElement(o.View,{style:{flexDirection:"row",justifyContent:"space-around"}},n.default.createElement(o.TouchableOpacity,{onPress:function(){s(!0)},touchSoundDisabled:!0,style:{width:"50%",padding:12,justifyContent:"center",alignItems:"center",elevation:1}},n.default.createElement(o.Text,{style:{color:"#000"}},"Accept")),n.default.createElement(o.TouchableOpacity,{onPress:function(){s(!1)},touchSoundDisabled:!0,style:{width:"50%",padding:12,justifyContent:"center",alignItems:"center",elevation:1}},n.default.createElement(o.Text,{style:{color:"#000"}},"Reject")))))});e.AudioToVideoRequestModal=s;e.AudioToVideoRequested=function(t){return t.visible?n.default.createElement(o.View,{style:{position:"absolute",bottom:"0%",top:"0%",left:"0%",right:"0%",backgroundColor:"rgba(52, 52, 52, 0.8)",elevation:10,zIndex:10,justifyContent:"center",alignItems:"center"}},n.default.createElement(o.ActivityIndicator,null),n.default.createElement(o.Text,{style:{fontSize:18,textAlign:"center",color:"#fff"}},"Waiting for other user's response")):null},s.propTypes={name:l.default.string,onResponse:l.default.func,type:l.default.string,visible:l.default.bool},s.defaultProps={name:"Someone",onResponse:function(){},type:"intial",visible:!1}},626,[1,10,14,191]);
__d(function(e,t,n,r,i,o,a){!(function(e,t){"use strict";"object"==typeof i&&"object"==typeof i.exports?i.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)})("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=Object.getPrototypeOf,i=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,s=n.indexOf,u={},l=u.toString,c=u.hasOwnProperty,f=c.toString,p=f.call(Object),d={},h=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},g=function(e){return null!=e&&e===e.window},v=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var r,i,o=(n=n||v).createElement("script");if(o.text=e,t)for(r in y)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[l.call(e)]||"object":typeof e}var b=function e(t,n){return new e.fn.init(t,n)};function w(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!h(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}b.fn=b.prototype={jquery:"3.5.1",constructor:b,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(b.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||h(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(b.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||b.isPlainObject(n)?n:{},i=!1,a[t]=b.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},b.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==l.call(e))&&(!(t=r(e))||"function"==typeof(n=c.call(t,"constructor")&&t.constructor)&&f.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){m(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(w(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?b.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,s=[];if(w(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return o(s)},guid:1,support:d}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var T=(function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,v,y,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ie(),A=ie(),S=ie(),k=ie(),N=function(e,t){return e===t&&(f=!0),0},D={}.hasOwnProperty,j=[],q=j.pop,L=j.push,H=j.push,O=j.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R=":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)",M=new RegExp("[\\x20\\t\\r\\n\\f]+","g"),F=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),I=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),$=new RegExp("[\\x20\\t\\r\\n\\f]|>"),B=new RegExp(R),_=new RegExp("^(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+$"),z={ID:new RegExp("^#((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)"),CLASS:new RegExp("^\\.((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)"),TAG:new RegExp("^((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+|[*])"),ATTR:new RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:new RegExp("^:((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},U=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ee=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},te=function(){p()},ne=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(j=O.call(w.childNodes),w.childNodes),j[w.childNodes.length].nodeType}catch(e){H={apply:j.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function re(e,t,r,i){var o,s,l,c,f,h,y,m=t&&t.ownerDocument,w=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return r;if(!i&&(p(t),t=t||d,g)){if(11!==w&&(f=Y.exec(e)))if(o=f[1]){if(9===w){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return H.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return H.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!k[e+" "]&&(!v||!v.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(y=e,m=t,1===w&&($.test(e)||W.test(e))){for((m=Q.test(e)&&de(t.parentNode)||t)===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(Z,ee):t.setAttribute("id",c=b)),s=(h=a(e)).length;s--;)h[s]=(c?"#"+c:":scope")+" "+ge(h[s]);y=h.join(",")}try{return H.apply(r,m.querySelectorAll(y)),r}catch(t){k(e,!0)}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(F,"$1"),t,r,i)}function ie(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function oe(e){return e[b]=!0,e}function ae(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ce(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ne(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return oe(function(t){return t=+t,oe(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function de(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=re.support={},o=re.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!U.test(t||n&&n.nodeName||"HTML")},p=re.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!=d&&9===a.nodeType&&a.documentElement?(h=(d=a).documentElement,g=!o(d),w!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",te,!1):i.attachEvent&&i.attachEvent("onunload",te)),n.scope=ae(function(e){return h.appendChild(e).appendChild(d.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),n.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ae(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=G.test(d.getElementsByClassName),n.getById=ae(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(J,K);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(J,K);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],v=[],(n.qsa=G.test(d.querySelectorAll))&&(ae(function(e){var t;h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),e.querySelectorAll("[id~="+b+"-]").length||v.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ae(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=G.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ae(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),y.push("!=",R)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),t=G.test(h.compareDocumentPosition),x=t||G.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==d||e.ownerDocument==w&&x(w,e)?-1:t==d||t.ownerDocument==w&&x(w,t)?1:c?P(c,e)-P(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==d?-1:t==d?1:i?-1:o?1:c?P(c,e)-P(c,t):0;if(i===o)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ue(a[r],s[r]):a[r]==w?-1:s[r]==w?1:0},d):d},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&g&&!k[t+" "]&&(!y||!y.test(t))&&(!v||!v.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){k(t,!0)}return re(t,d,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!=d&&p(e),x(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!=d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&D.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},re.escape=function(e){return(e+"").replace(Z,ee)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(N),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=re.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=re.selectors={cacheLength:50,createPseudo:oe,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,K),e[3]=(e[3]||e[4]||e[5]||"").replace(J,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&B.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=re.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(M," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&m){for(x=(d=(l=(c=(f=(p=v)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++x||(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=P(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:oe(function(e){var t=[],n=[],r=s(e.replace(F,"$1"));return r[b]?oe(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:oe(function(e){return function(t){return re(e,t).length>0}}),contains:oe(function(e){return e=e.replace(J,K),function(t){return(t.textContent||i(t)).indexOf(e)>-1}}),lang:oe(function(e){return _.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(J,K).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return V.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=le(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ce(t);function he(){}function ge(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=(f=t[b]||(t[b]={}))[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function ye(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function me(e,t,n){for(var r=0,i=t.length;r<i;r++)re(e,t[r],n);return n}function xe(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function be(e,t,n,r,i,o){return r&&!r[b]&&(r=be(r)),i&&!i[b]&&(i=be(i,o)),oe(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||me(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:xe(g,p,e,s,u),y=n?i||(o?e:h||r)?[]:a:v;if(n&&n(v,y,s,u),r)for(l=xe(y,d),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(y[d[c]]=!(v[d[c]]=f));if(o){if(i||e){if(i){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(v[c]=f);i(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&(l=i?P(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else y=xe(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)})}function we(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=ve(function(e){return e===t},s,!0),f=ve(function(e){return P(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[ve(ye(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return be(u>1&&ye(p),u>1&&ge(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(F,"$1"),n,u<i&&we(e.slice(u,i)),i<o&&we(e=e.slice(i)),i<o&&ge(e))}p.push(n)}return ye(p)}function Te(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,v,y=0,m="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,A=C.length;for(c&&(l=a==d||a||c);m!==A&&null!=(f=C[m]);m++){if(i&&f){for(h=0,a||f.ownerDocument==d||(p(f),s=!g);v=e[h++];)if(v(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!v&&f)&&y--,o&&x.push(f))}if(y+=m,n&&m!==y){for(h=0;v=t[h++];)v(x,b,a,s);if(o){if(y>0)for(;m--;)x[m]||b[m]||(b[m]=q.call(u));b=xe(b)}H.apply(u,b),c&&!o&&b.length>0&&y+t.length>1&&re.uniqueSort(u)}return c&&(T=E,l=w),x};return n?oe(o):o}return he.prototype=r.filters=r.pseudos,r.setFilters=new he,a=re.tokenize=function(e,t){var n,i,o,a,s,u,l,c=A[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=r.preFilter;s;){for(a in n&&!(i=I.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(F," ")}),s=s.slice(n.length)),r.filter)!(i=z[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?re.error(e):A(e,u).slice(0)},s=re.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)(o=we(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Te(i,r))).selector=e}return o},u=re.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(J,K),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=z.needsContext.test(e)?0:u.length;o--&&(l=u[o],!r.relative[c=l.type]);)if((f=r.find[c])&&(i=f(l.matches[0].replace(J,K),Q.test(u[0].type)&&de(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ge(u)))return H.apply(n,i),n;break}}return(p||s(e,d))(i,t,!g,n,!t||Q.test(e)&&de(t.parentNode)||t),n},n.sortStable=b.split("").sort(N).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||se("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||se("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||se("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),re})(e);b.find=T,b.expr=T.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=T.uniqueSort,b.text=T.getText,b.isXMLDoc=T.isXML,b.contains=T.contains,b.escapeSelector=T.escape;var C=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&b(e).is(n))break;r.push(e)}return r},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=b.expr.match.needsContext;function S(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(e,t,n){return h(t)?b.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?b.grep(e,function(e){return e===t!==n}):"string"!=typeof t?b.grep(e,function(e){return s.call(t,e)>-1!==n}):b.filter(t,e,n)}b.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?b.find.matchesSelector(r,e)?[r]:[]:b.find.matches(e,b.grep(t,function(e){return 1===e.nodeType}))},b.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(b(e).filter(function(){for(t=0;t<r;t++)if(b.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)b.find(e,i[t],n);return r>1?b.uniqueSort(n):n},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"==typeof e&&A.test(e)?b(e):e||[],!1).length}});var D,j=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:j.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof b?t[0]:t,b.merge(this,b.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:v,!0)),k.test(r[1])&&b.isPlainObject(t))for(r in t)h(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=v.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):h(e)?void 0!==n.ready?n.ready(e):e(b):b.makeArray(e,this)}).prototype=b.fn,D=b(v);var q=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function H(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}b.fn.extend({has:function(e){var t=b(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(b.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&b(e);if(!A.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?b.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(b(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return H(e,"nextSibling")},prev:function(e){return H(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(S(e,"template")&&(e=e.content||e),b.merge([],e.childNodes))}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),this.length>1&&(L[e]||b.uniqueSort(i),q.test(e)&&i.reverse()),this.pushStack(i)}});var O=/[^\x20\t\r\n\f]+/g;function P(e){var t={};return b.each(e.match(O)||[],function(e,n){t[n]=!0}),t}function R(e){return e}function M(e){throw e}function F(e,t,n,r){var i;try{e&&h(i=e.promise)?i.call(e).done(t).fail(n):e&&h(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}b.Callbacks=function(e){e="string"==typeof e?P(e):b.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),(function t(n){b.each(n,function(n,r){h(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})})(arguments),n&&!t&&u()),this},remove:function(){return b.each(arguments,function(e,t){for(var n;(n=b.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?b.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},b.extend({Deferred:function(t){var n=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return b.Deferred(function(t){b.each(n,function(n,r){var i=h(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&h(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,h(l)?i?l.call(e,a(o,n,R,i),a(o,n,M,i)):(o++,l.call(e,a(o,n,R,i),a(o,n,M,i),a(o,n,R,n.notifyWith))):(r!==R&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==M&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(b.Deferred.getStackHook&&(c.stackTrace=b.Deferred.getStackHook()),e.setTimeout(c))}}return b.Deferred(function(e){n[0][3].add(a(0,e,h(i)?i:R,e.notifyWith)),n[1][3].add(a(0,e,h(t)?t:R)),n[2][3].add(a(0,e,h(r)?r:M))}).promise()},promise:function(e){return null!=e?b.extend(e,i):i}},o={};return b.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),o=i.call(arguments),a=b.Deferred(),s=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?i.call(arguments):n,--t||a.resolveWith(r,o)}};if(t<=1&&(F(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||h(o[n]&&o[n].then)))return a.then();for(;n--;)F(o[n],s(n),a.reject);return a.promise()}});var I=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&I.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},b.readyException=function(t){e.setTimeout(function(){throw t})};var W=b.Deferred();function $(){v.removeEventListener("DOMContentLoaded",$),e.removeEventListener("load",$),b.ready()}b.fn.ready=function(e){return W.then(e).catch(function(e){b.readyException(e)}),this},b.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==e&&--b.readyWait>0||W.resolveWith(v,[b]))}}),b.ready.then=W.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?e.setTimeout(b.ready):(v.addEventListener("DOMContentLoaded",$),e.addEventListener("load",$));var B=function e(t,n,r,i,o,a,s){var u=0,l=t.length,c=null==r;if("object"===x(r))for(u in o=!0,r)e(t,n,u,r[u],!0,a,s);else if(void 0!==i&&(o=!0,h(i)||(s=!0),c&&(s?(n.call(t,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n))for(;u<l;u++)n(t[u],r,s?i:i.call(t[u],u,n(t[u],r)));return o?t:c?n.call(t):l?n(t[0],r):a},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=b.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(O)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||b.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!b.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:J.test(e)?JSON.parse(e):e)}function ee(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=Z(n)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}b.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),b.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=X(r.slice(5)),ee(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Q.set(this,e)}):B(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=Q.get(o,e))?n:void 0!==(n=ee(o,e))?n:void 0;this.each(function(){Q.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),b.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,b.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){b.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:b.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),b.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?b.queue(this[0],e):void 0===t?this:this.each(function(){var n=b.queue(this,e,t);b._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=b.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=v.documentElement,oe=function(e){return b.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(oe=function(e){return b.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===b.css(e,"display")};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return b.css(e,t,"")},u=s(),l=n&&n[3]||(b.cssNumber[t]?"":"px"),c=e.nodeType&&(b.cssNumber[t]||"px"!==l&&+u)&&ne.exec(b.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)b.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,b.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=b.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Y.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&se(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",Y.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}b.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?b(this).show():b(this).hide()})}});var pe,de,he=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;pe=v.createDocumentFragment().appendChild(v.createElement("div")),(de=v.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),pe.appendChild(de),d.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",d.option=!!pe.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&S(e,t)?b.merge([e],n):n}function xe(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,d.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function we(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))b.merge(p,o.nodeType?[o]:o);else if(be.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(ge.exec(o)||["",""])[1].toLowerCase(),u=ye[s]||ye._default,a.innerHTML=u[1]+b.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;b.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&b.inArray(o,r)>-1)i&&i.push(o);else if(l=oe(o),a=me(f.appendChild(o),"script"),l&&xe(a),n)for(c=0;o=a[c++];)ve.test(o.type||"")&&n.push(o);return f}var Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function Ae(){return!0}function Se(){return!1}function ke(e,t){return e===Ne()==("focus"===t)}function Ne(){try{return v.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return b().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=b.guid++)),e.each(function(){b.event.add(this,t,i,r,n)})}function je(e,t,n){n?(Y.set(e,t,!1),b.event.add(e,t,{namespace:!1,handler:function(e){var r,o,a=Y.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(b.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=i.call(arguments),Y.set(this,t,a),r=n(this,t),this[t](),a!==(o=Y.get(this,t))||r?Y.set(this,t,!1):o={},a!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else a.length&&(Y.set(this,t,{value:b.event.trigger(b.extend(a[0],b.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,t)&&b.event.add(e,t,Ae)}b.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(e);if(V(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&b.find.matchesSelector(ie,i),n.guid||(n.guid=b.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==b&&b.event.triggered!==t.type?b.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(O)||[""]).length;l--;)d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=b.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=b.event.special[d]||{},c=b.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&b.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),b.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(O)||[""]).length;l--;)if(d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=b.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||b.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)b.event.remove(e,d+t[l],n,r,!0);b.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=b.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=b.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=b.event.handlers.call(this,u,l),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((b.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?b(i,this).index(l)>-1:b.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(b.Event.prototype,e,{enumerable:!0,configurable:!0,get:h(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[b.expando]?e:new b.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&S(t,"input")&&je(t,"click",Ae),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&S(t,"input")&&je(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&S(t,"input")&&Y.get(t,"click")||S(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},b.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ae:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ae,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ae,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ae,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},b.event.addProp),b.each({focus:"focusin",blur:"focusout"},function(e,t){b.event.special[e]={setup:function(){return je(this,e,ke),!1},trigger:function(){return je(this,e),!0},delegateType:t}}),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||b.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),b.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,b(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){b.event.remove(this,e,n,t)})}});var qe=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return S(e,"table")&&S(11!==t.nodeType?t:t.firstChild,"tr")&&b(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)b.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=b.extend({},o),Q.set(t,a))}}function Fe(e,t,n,r){t=o(t);var i,a,s,u,l,c,f=0,p=e.length,g=p-1,v=t[0],y=h(v);if(y||p>1&&"string"==typeof v&&!d.checkClone&&Le.test(v))return e.each(function(i){var o=e.eq(i);y&&(t[0]=v.call(this,i,o.html())),Fe(o,t,n,r)});if(p&&(a=(i=we(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(u=(s=b.map(me(i,"script"),Pe)).length;f<p;f++)l=i,f!==g&&(l=b.clone(l,!0,!0),u&&b.merge(s,me(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,b.map(s,Re),f=0;f<u;f++)l=s[f],ve.test(l.type||"")&&!Y.access(l,"globalEval")&&b.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?b._evalUrl&&!l.noModule&&b._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):m(l.textContent.replace(He,""),l,c))}return e}function Ie(e,t,n){for(var r,i=t?b.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||b.cleanData(me(r)),r.parentNode&&(n&&oe(r)&&xe(me(r,"script")),r.parentNode.removeChild(r));return e}b.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=oe(e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(a=me(c),r=0,i=(o=me(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&he.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||me(e),a=a||me(c),r=0,i=o.length;r<i;r++)Me(o[r],a[r]);else Me(e,c);return(a=me(c,"script")).length>0&&xe(a,!f&&me(e,"script")),c},cleanData:function(e){for(var t,n,r,i=b.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?b.event.remove(n,r):b.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),b.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return B(this,function(e){return void 0===e?b.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Fe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Fe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(b.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!ye[(ge.exec(e)||["",""])[1].toLowerCase()]){e=b.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(b.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,function(t){var n=this.parentNode;b.inArray(this,e)<0&&(b.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){for(var n,r=[],i=b(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),b(i[s])[t](n),a.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},_e=new RegExp(re.join("|"),"i");function ze(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=b.style(e,t)),!d.pixelBoxStyles()&&We.test(a)&&_e.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!(function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);r="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",a=36===n(t.right),i=36===n(t.width),c.style.position="absolute",o=12===n(c.offsetWidth/3),ie.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,u,l=v.createElement("div"),c=v.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===c.style.backgroundClip,b.extend(d,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,r,i;return null==s&&(t=v.createElement("table"),n=v.createElement("tr"),r=v.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",r.style.height="9px",ie.appendChild(t).appendChild(n).appendChild(r),i=e.getComputedStyle(n),s=parseInt(i.height)>3,ie.removeChild(t)),s}}))})();var Xe=["Webkit","Moz","ms"],Ve=v.createElement("div").style,Ge={};function Ye(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;n--;)if((e=Xe[n]+t)in Ve)return e}function Qe(e){var t=b.cssProps[e]||Ge[e];return t||(e in Ve?e:Ge[e]=Ye(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,Ke=/^--/,Ze={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"};function tt(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function nt(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=b.css(e,n+re[a],!0,i)),r?("content"===n&&(u-=b.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(u-=b.css(e,"border"+re[a]+"Width",!0,i))):(u+=b.css(e,"padding"+re[a],!0,i),"padding"!==n?u+=b.css(e,"border"+re[a]+"Width",!0,i):s+=b.css(e,"border"+re[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function rt(e,t,n){var r=$e(e),i=(!d.boxSizingReliable()||n)&&"border-box"===b.css(e,"boxSizing",!1,r),o=i,a=ze(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(We.test(a)){if(!n)return a;a="auto"}return(!d.boxSizingReliable()&&i||!d.reliableTrDimensions()&&S(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===b.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===b.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+nt(e,t,n||(i?"border":"content"),o,r,a)+"px"}function it(e,t,n,r,i){return new it.prototype.init(e,t,n,r,i)}b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Ke.test(t),l=e.style;if(u||(t=Qe(s)),a=b.cssHooks[t]||b.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(b.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Ke.test(t)||(t=Qe(s)),(a=b.cssHooks[t]||b.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=ze(e,t,r)),"normal"===i&&t in et&&(i=et[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,n,r){if(n)return!Je.test(b.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?rt(e,t,r):Be(e,Ze,function(){return rt(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a=!d.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===b.css(e,"boxSizing",!1,o),u=r?nt(e,t,r,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-nt(e,t,"border",!1,o)-.5)),u&&(i=ne.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=b.css(e,t)),tt(0,n,u)}}}),b.cssHooks.marginLeft=Ue(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-Be(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+re[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(b.cssHooks[e+t].set=tt)}),b.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=b.css(e,t[a],!1,r);return o}return void 0!==n?b.style(e,t,n):b.css(e,t)},e,t,arguments.length>1)}}),b.Tween=it,it.prototype={constructor:it,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||b.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=b.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):1!==e.elem.nodeType||!b.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:b.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},b.fx=it.prototype.init,b.fx.step={};var ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function lt(){at&&(!1===v.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(lt):e.setTimeout(lt,b.fx.interval),b.fx.tick())}function ct(){return e.setTimeout(function(){ot=void 0}),ot=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=b.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function ht(e,t,n){var r,i,o=0,a=ht.prefilters.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=ot||ct(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(dt(c,l.opts.specialEasing);o<a;o++)if(r=ht.prefilters[o].call(l,e,c,l.opts))return h(r.stop)&&(b._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return b.map(c,pt,l),h(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}b.Animation=b.extend(ht,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){h(e)?(t=e,e=["*"]):e=e.match(O);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ht.tweeners[n]=ht.tweeners[n]||[],ht.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&se(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=b._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,b.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],st.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||b.style(e,r)}if((u=!b.isEmptyObject(t))||!b.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=b.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=b.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===b.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&fe([e],!0),p.done(function(){for(r in g||fe([e]),Y.remove(e,"fxshow"),d)b.style(e,r,d[r])})),u=pt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||h(e)&&e,duration:e,easing:n&&t||t&&!h(t)&&t};return b.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in b.fx.speeds?r.duration=b.fx.speeds[r.duration]:r.duration=b.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){h(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=ht(this,b.extend({},e),o);(i||Y.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=b.timers,a=Y.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ut.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||b.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Y.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ft(t,!0),e,r,i)}}),b.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.timers=[],b.fx.tick=function(){var e,t=0,n=b.timers;for(ot=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||b.fx.stop(),ot=void 0},b.fx.timer=function(e){b.timers.push(e),b.fx.start()},b.fx.interval=13,b.fx.start=function(){at||(at=!0,lt())},b.fx.stop=function(){at=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(t,n){return t=b.fx&&b.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},(function(){var e=v.createElement("input"),t=v.createElement("select").appendChild(v.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=t.selected,(e=v.createElement("input")).value="t",e.type="radio",d.radioValue="t"===e.value})();var gt,vt=b.expr.attrHandle;b.fn.extend({attr:function(e,t){return B(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})}}),b.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?b.prop(e,t,n):(1===o&&b.isXMLDoc(e)||(i=b.attrHooks[t.toLowerCase()]||(b.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void b.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=b.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&S(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(O);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?b.removeAttr(e,n):e.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vt[t]||b.find.attr;vt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=vt[a],vt[a]=i,i=null!=n(e,t,r)?a:null,vt[a]=o),i}});var yt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function xt(e){return(e.match(O)||[]).join(" ")}function bt(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(O)||[]}b.fn.extend({prop:function(e,t){return B(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[b.propFix[e]||e]})}}),b.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&b.isXMLDoc(e)||(t=b.propFix[t]||t,i=b.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=b.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(b.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(h(e))return this.each(function(t){b(this).addClass(e.call(this,t,bt(this)))});if((t=wt(e)).length)for(;n=this[u++];)if(i=bt(n),r=1===n.nodeType&&" "+xt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=xt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(h(e))return this.each(function(t){b(this).removeClass(e.call(this,t,bt(this)))});if(!arguments.length)return this.attr("class","");if((t=wt(e)).length)for(;n=this[u++];)if(i=bt(n),r=1===n.nodeType&&" "+xt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=xt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):h(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,bt(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=b(this),a=wt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=bt(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+xt(bt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Tt=/\r/g;b.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=h(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,b(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=b.map(i,function(e){return null==e?"":e+""})),(t=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=b.valHooks[i.type]||b.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Tt,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return null!=t?t:xt(b.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,"optgroup"))){if(t=b(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=b.makeArray(t),a=i.length;a--;)((r=i[a]).selected=b.inArray(b.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=b.inArray(b(e).val(),t)>-1}},d.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),d.focusin="onfocusin"in e;var Ct=/^(?:focusinfocus|focusoutblur)$/,Et=function(e){e.stopPropagation()};b.extend(b.event,{trigger:function(t,n,r,i){var o,a,s,u,l,f,p,d,y=[r||v],m=c.call(t,"type")?t.type:t,x=c.call(t,"namespace")?t.namespace.split("."):[];if(a=d=s=r=r||v,3!==r.nodeType&&8!==r.nodeType&&!Ct.test(m+b.event.triggered)&&(m.indexOf(".")>-1&&(m=(x=m.split(".")).shift(),x.sort()),l=m.indexOf(":")<0&&"on"+m,(t=t[b.expando]?t:new b.Event(m,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:b.makeArray(n,[t]),p=b.event.special[m]||{},i||!p.trigger||!1!==p.trigger.apply(r,n))){if(!i&&!p.noBubble&&!g(r)){for(u=p.delegateType||m,Ct.test(u+m)||(a=a.parentNode);a;a=a.parentNode)y.push(a),s=a;s===(r.ownerDocument||v)&&y.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=y[o++])&&!t.isPropagationStopped();)d=a,t.type=o>1?u:p.bindType||m,(f=(Y.get(a,"events")||Object.create(null))[t.type]&&Y.get(a,"handle"))&&f.apply(a,n),(f=l&&a[l])&&f.apply&&V(a)&&(t.result=f.apply(a,n),!1===t.result&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(y.pop(),n)||!V(r)||l&&h(r[m])&&!g(r)&&((s=r[l])&&(r[l]=null),b.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,Et),r[m](),t.isPropagationStopped()&&d.removeEventListener(m,Et),b.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=b.extend(new b.Event,n,{type:e,isSimulated:!0});b.event.trigger(r,null,t)}}),b.fn.extend({trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return b.event.trigger(e,t,n,!0)}}),d.focusin||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){b.event.simulate(t,e.target,b.event.fix(e))};b.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=Y.access(r,t);i||r.addEventListener(e,n,!0),Y.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Y.access(r,t)-1;i?Y.access(r,t,i):(r.removeEventListener(e,n,!0),Y.remove(r,t))}}});var At=e.location,St={guid:Date.now()},kt=/\?/;b.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+t),n};var Nt=/\[\]$/,Dt=/\r?\n/g,jt=/^(?:submit|button|image|reset|file)$/i,qt=/^(?:input|select|textarea|keygen)/i;function Lt(e,t,n,r){var i;if(Array.isArray(t))b.each(t,function(t,i){n||Nt.test(e)?r(e,i):Lt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)Lt(e+"["+i+"]",t[i],n,r)}b.param=function(e,t){var n,r=[],i=function(e,t){var n=h(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){i(this.name,this.value)});else for(n in e)Lt(n,e[n],t,i);return r.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&qt.test(this.nodeName)&&!jt.test(e)&&(this.checked||!he.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var Ht=/%20/g,Ot=/#.*$/,Pt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,Ft=/^\/\//,It={},Wt={},$t="*/".concat("*"),Bt=v.createElement("a");function _t(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(O)||[];if(h(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function zt(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,b.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Ut(e,t){var n,r,i=b.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&b.extend(!0,e,r),e}function Xt(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Vt(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}Bt.href=At.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,b.ajaxSettings),t):Ut(b.ajaxSettings,e)},ajaxPrefilter:_t(It),ajaxTransport:_t(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,i,o,a,s,u,l,c,f,p,d=b.ajaxSetup({},n),h=d.context||d,g=d.context&&(h.nodeType||h.jquery)?b(h):b.event,y=b.Deferred(),m=b.Callbacks("once memory"),x=d.statusCode||{},w={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=Rt.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),A(0,t),this}};if(y.promise(E),d.url=((t||d.url||At.href)+"").replace(Ft,At.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(O)||[""],null==d.crossDomain){u=v.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Bt.protocol+"//"+Bt.host!=u.protocol+"//"+u.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=b.param(d.data,d.traditional)),zt(It,d,n,E),l)return E;for(f in(c=b.event&&d.global)&&0==b.active++&&b.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Mt.test(d.type),i=d.url.replace(Ot,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ht,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(kt.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Pt,"$1"),p=(kt.test(i)?"&":"?")+"_="+St.guid+++p),d.url=i+p),d.ifModified&&(b.lastModified[i]&&E.setRequestHeader("If-Modified-Since",b.lastModified[i]),b.etag[i]&&E.setRequestHeader("If-None-Match",b.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", */*; q=0.01":""):d.accepts["*"]),d.headers)E.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,E,d)||l))return E.abort();if(C="abort",m.add(d.complete),E.done(d.success),E.fail(d.error),r=zt(Wt,d,n,E)){if(E.readyState=1,c&&g.trigger("ajaxSend",[E,d]),l)return E;d.async&&d.timeout>0&&(s=e.setTimeout(function(){E.abort("timeout")},d.timeout));try{l=!1,r.send(w,A)}catch(e){if(l)throw e;A(-1,e)}}else A(-1,"No Transport");function A(t,n,a,u){var f,p,v,w,T,C=n;l||(l=!0,s&&e.clearTimeout(s),r=void 0,o=u||"",E.readyState=t>0?4:0,f=t>=200&&t<300||304===t,a&&(w=Xt(d,E,a)),!f&&b.inArray("script",d.dataTypes)>-1&&(d.converters["text script"]=function(){}),w=Vt(d,w,E,f),f?(d.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(b.lastModified[i]=T),(T=E.getResponseHeader("etag"))&&(b.etag[i]=T)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=w.state,p=w.data,f=!(v=w.error))):(v=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",f?y.resolveWith(h,[p,C,E]):y.rejectWith(h,[E,C,v]),E.statusCode(x),x=void 0,c&&g.trigger(f?"ajaxSuccess":"ajaxError",[E,d,f?p:v]),m.fireWith(h,[E,C]),c&&(g.trigger("ajaxComplete",[E,d]),--b.active||b.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return b.get(e,t,n,"json")},getScript:function(e,t){return b.get(e,void 0,t,"script")}}),b.each(["get","post"],function(e,t){b[t]=function(e,n,r,i){return h(n)&&(i=i||r,r=n,n=void 0),b.ajax(b.extend({url:e,type:t,dataType:i,data:n,success:r},b.isPlainObject(e)&&e))}}),b.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),b._evalUrl=function(e,t,n){return b.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){b.globalEval(e,t,n)}})},b.fn.extend({wrapAll:function(e){var t;return this[0]&&(h(e)&&(e=e.call(this[0])),t=b(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return h(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(e){return!b.expr.pseudos.visible(e)},b.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Yt=b.ajaxSettings.xhr();d.cors=!!Yt&&"withCredentials"in Yt,d.ajax=Yt=!!Yt,b.ajaxTransport(function(t){var n,r;if(d.cors||Yt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Gt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),b.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),b.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=b("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),v.head.appendChild(t[0])},abort:function(){n&&n()}}});var Qt,Jt=[],Kt=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||b.expando+"_"+St.guid++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Kt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=h(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Kt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||b.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?b(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Jt.push(i)),a&&h(o)&&o(a[0]),a=o=void 0}),"script"}),d.createHTMLDocument=((Qt=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Qt.childNodes.length),b.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(d.createHTMLDocument?((r=(t=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,t.head.appendChild(r)):t=v),i=k.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&b(o).remove(),b.merge([],i.childNodes)));var r,i,o},b.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=xt(e.slice(s)),e=e.slice(0,s)),h(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&b.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?b("<div>").append(b.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},b.expr.pseudos.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length},b.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=b.css(e,"position"),c=b(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=b.css(e,"top"),u=b.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),h(t)&&(t=t.call(e,n,b.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),c.css(f))}},b.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){b.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===b.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===b.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=b(e).offset()).top+=b.css(e,"borderTopWidth",!0),i.left+=b.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-b.css(r,"marginTop",!0),left:t.left-i.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===b.css(e,"position");)e=e.offsetParent;return e||ie})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;b.fn[e]=function(r){return B(this,function(e,r,i){var o;if(g(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),b.each(["top","left"],function(e,t){b.cssHooks[t]=Ue(d.pixelPosition,function(e,n){if(n)return n=ze(e,t),We.test(n)?b(e).position()[t]+"px":n})}),b.each({Height:"height",Width:"width"},function(e,t){b.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){b.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return B(this,function(t,n,i){var o;return g(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?b.css(t,n,s):b.style(t,n,i,s)},t,a?i:void 0,a)}})}),b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var Zt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;b.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),h(e))return r=i.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(i.call(arguments)))}).guid=e.guid=e.guid||b.guid++,o},b.holdReady=function(e){e?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=S,b.isFunction=h,b.isWindow=g,b.camelCase=X,b.type=x,b.now=Date.now,b.isNumeric=function(e){var t=b.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},b.trim=function(e){return null==e?"":(e+"").replace(Zt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return b});var en=e.jQuery,tn=e.$;return b.noConflict=function(t){return e.$===b&&(e.$=tn),t&&e.jQuery===b&&(e.jQuery=en),b},void 0===t&&(e.jQuery=e.$=b),b})},627,[]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=e(r(d[1])),o=e(r(d[2])),t=e(r(d[3])),c=e(r(d[4])),i=e(r(d[5]));r(d[6]);var l=r(d[7]),s=r(d[8]),u=e(r(d[9])),f=e(r(d[10])),v=e(r(d[11])),E=e(r(d[12]));function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}!(function(e){if(void 0===e.$){var n=r(d[13]);n(e),e.$=n}})(g||window||this);var C="JitsiManager",h=(function(e){(0,t.default)(k,e);var l,s,h=(l=k,s=T(),function(){var e,n=(0,i.default)(l);if(s){var o=(0,i.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function k(){return(0,n.default)(this,k),h.apply(this,arguments)}return(0,o.default)(k,null,[{key:"onMuteAudio",value:function(){k.localTracks[0].mute()}},{key:"onUnmuteAudio",value:function(){k.localTracks[0].unmute()}},{key:"onMuteVideo",value:function(){k.localTracks[1].mute()}},{key:"onUnmuteVideo",value:function(){k.localTracks[1].unmute()}},{key:"setAudioModeSpeaker",value:function(){v.default.setAudoSourceSpeaker()}},{key:"setAudioModeEarpiece",value:function(){v.default.setAudoSourceEarPiece()}},{key:"getDomain",value:function(){var e="rtc-"+k.region+".cometchat.io";return E.default.log("RTC Domain = ",e),e}},{key:"getMUC",value:function(){var e="conference.rtc-"+k.region+".cometchat.io";return E.default.log("RTC MUC = ",e),e}},{key:"getBosh",value:function(){var e="https://rtc-"+k.region+".cometchat.io/http-bind";return E.default.log("RTC Bosh = ",e),e}},{key:"setCallObject",value:function(e,n,o,t){k.isInitiator=t,k.receiverObject=n,k.userObject=e,k.initiatorObject=o}},{key:"setRegion",value:function(e){k.region=e}},{key:"setAudioOnly",value:function(e){k.isAudioOnly=e}},{key:"onConnectionSuccess",value:function(){E.default.log("onConnectionSuccess Called"),k.room=k.connection.initJitsiConference(k.roomName,k.confOptions),E.default.log("Jitsi room User ID: ",k.room.myUserId()),k.room.on(u.default.events.conference.TRACK_ADDED,k.onRemoteTrack),k.room.on(u.default.events.conference.TRACK_REMOVED,k.onTrackRemoved),k.room.on(u.default.events.conference.CONFERENCE_JOINED,k.onConferenceJoined),k.room.on(u.default.events.conference.USER_JOINED,k.onUserJoined),k.room.on(u.default.events.conference.USER_LEFT,k.onUserLeft),k.room.on(u.default.events.conference.TRACK_MUTE_CHANGED,function(e){console.info("track")}),k.room.on(u.default.events.conference.DISPLAY_NAME_CHANGED,function(e,n){console.info("displayName")}),k.room.on(u.default.events.conference.TRACK_AUDIO_LEVEL_CHANGED,function(e,n){console.info("audioLevel")}),k.room.on(u.default.events.conference.LAST_N_ENDPOINTS_CHANGED,k.onLastNEndPointChanged),k.room.on(u.default.events.conference.DOMINANT_SPEAKER_CHANGED,k.onDominantSpeakerChanged),k.room.addCommandListener("RTCUserUid",function(e){var n,o=!1;for(n=0;n<k.users.length;n++)e.attributes.trackid==k.users[n].trackid&&(o=!0);o||k.users.push(e.attributes)}),k.room.setDisplayName(k.userObject.name),k.room.join()}},{key:"onLastNEndPointChanged",value:function(e,n){E.default.log(C,"LastN leavingIds ",e),E.default.log(C,"LastN enteringIds ",n)}},{key:"onDominantSpeakerChanged",value:function(e){E.default.log(C,"onDominantSpeakerChanged ",e),k.dispatch(f.default.updateDominantVideoId(e))}},{key:"onUserJoined",value:function(e,n){k.eventEmitter.emit("CallEvent",{type:"onConnectionSuccess"}),k.room.sendCommand("RTCUserUid",{attributes:{uid:k.userObject.uid,name:k.userObject.name,avatar:k.userObject.avatar,trackid:k.room.myUserId()}});var o={id:n.getId(),name:n.getDisplayName(),status:n._connectionStatus,isAudioMuted:void 0,isVideoMuted:void 0,videoTrack:void 0,audioTrack:void 0};E.default.log(C,"onUserJoined UserObject = ",o),k.dispatch(f.default.addUser(o))}}]),k})(l.Component);_e.default=h,h.localVideoUrl="",h.roomName=null,h.dispatch=null,h.region=null,h.isAudioOnly=null,h.connection=null,h.room=null,h.localTracks=[],h.isJoined=!0,h.users=[],h.removedTracks=[],h.MAX_VIDEO_STREAM_LIMIT=1,h.remoteTracks={},h.confOptions={openBridgeChannel:!0,channelLastN:h.MAX_VIDEO_STREAM_LIMIT},h.initOptions={disableAudioLevels:!0,desktopSharingChromeExtId:"mbocklcggfhnbahlnepmldehdhpjfcjp",desktopSharingChromeDisabled:!1,desktopSharingChromeSources:["screen","window"],desktopSharingChromeMinExtVersion:"0.1",desktopSharingFirefoxDisabled:!0},h.eventEmitter=new s.NativeEventEmitter(v.default),h.onUserLeft=function(e){E.default.log("onUserLeft id lol : ",e),h.dispatch(f.default.removeUser(e)),h.remoteTracks[e]&&h.dispatch(f.default.removeRemoteTrack(e))},h.onLocalTracks=function(e){h.localTracks=e,h.dispatch(f.default.addLocalTracks(h.localTracks));for(var n=0;n<h.localTracks.length;n++)h.localTracks[n].addEventListener(u.default.events.track.TRACK_AUDIO_LEVEL_CHANGED,function(e){return console.info("audioLevel")}),h.localTracks[n].addEventListener(u.default.events.track.TRACK_MUTE_CHANGED,function(){console.info("local track muted")}),h.localTracks[n].addEventListener(u.default.events.track.LOCAL_TRACK_STOPPED,function(){console.info("track stopped")}),h.localTracks[n].addEventListener(u.default.events.track.TRACK_AUDIO_OUTPUT_CHANGED,function(e){return console.info("deviceId")}),"video"===h.localTracks[n].getType()&&(h.dispatch(f.default.addLocalUrl(h.localTracks[n].getOriginalStream().toURL())),h.dispatch(f.default.addLocalTrackId(h.localTracks[n].ownerEndpointId)),E.default.log("Local tracks ownerEndpointId ",h.localTracks[n].ownerEndpointId))},h.onTrackRemoved=function(e){var n=e.ownerEndpointId;e.isLocal()||(h.removedTracks.push(n),h.dispatch(f.default.removeRemoteTrack(n)))},h.onRemoteTrack=function(e){if(!e.isLocal()){E.default.log(C,"onRemoteTrack Called..... ",e),h.dispatch(f.default.addRemoteTracks(e));var n=e.getParticipantId();h.remoteTracks[n]||(h.remoteTracks[n]=[]);var o=h.remoteTracks[n].push(e);e.addEventListener(u.default.events.track.TRACK_AUDIO_LEVEL_CHANGED,function(e){return console.info("audioLevel")}),e.addEventListener(u.default.events.track.TRACK_MUTE_CHANGED,function(){console.info("")}),e.addEventListener(u.default.events.track.LOCAL_TRACK_STOPPED,function(){console.info("")}),e.addEventListener(u.default.events.track.TRACK_AUDIO_OUTPUT_CHANGED,function(e){return console.info("deviceId")});e.getType();"video"===e.getType()&&h.dispatch(f.default.addRemoteUrl(e.getOriginalStream().toURL()))}},h.onConferenceJoined=function(){h.isJoined=!0,E.default.log(C,"Local Track to be published = ",h.localTracks);for(var e=0;e<h.localTracks.length;e++)h.room.addTrack(h.localTracks[e])},h.onConnectionFailed=function(){s.Alert.alert("Connection Failed","There was a problem reaching our server. Please Try Again Later.",[{text:"OK",onPress:function(){h.dispatch(f.default.connectionFailed(1))}}],{cancelable:!1})},h.init=function(e){E.default.log("Init called"),h.users=[],h.roomName=e,u.default.init(h.initOptions),u.default.setLogLevel(u.default.logLevels.ERROR)},h.makeConnection=function(){var e={hosts:{domain:h.getDomain(),muc:h.getMUC()},p2p:{enabled:!1},bosh:h.getBosh(),clientNode:"http://jitsi.org/jitsimeet"};h.connection=new u.default.JitsiConnection(null,null,e),h.connection.connect()},h.disconnect=function(){this.connection.removeEventListener(u.default.events.connection.CONNECTION_ESTABLISHED,h.onConnectionSuccess),this.connection.removeEventListener(u.default.events.connection.CONNECTION_FAILED,h.onConnectionFailed),this.connection.removeEventListener(u.default.events.connection.CONNECTION_DISCONNECTED,h.disconnect)},h.addEventListener=function(){this.connection.addEventListener(u.default.events.connection.CONNECTION_ESTABLISHED,h.onConnectionSuccess),this.connection.addEventListener(u.default.events.connection.CONNECTION_FAILED,h.onConnectionFailed),this.connection.addEventListener(u.default.events.connection.CONNECTION_DISCONNECTED,h.disconnect)},h.createLocalTracks=function(e){E.default.log("Create Local track called"),h.dispatch=e,h.isAudioOnly?u.default.createLocalTracks({devices:["audio"]}).then(h.onLocalTracks).catch(function(e){throw E.default.log("Create Local Track called.."),e}):u.default.createLocalTracks({devices:["audio","video"],facingMode:"user"}).then(h.onLocalTracks).catch(function(e){throw E.default.log("Create Local Track called.."),e})},h.onSwitchCamera=function(){for(var e=0;e<h.localTracks.length;e++)"video"===h.localTracks[e].getType()&&h.localTracks[e]._switchCamera()},h.unMount=function(){h.room&&this.room.leave().catch(function(e){})},h.reMount=function(){E.default.log(C,"Remount function called",""),E.default.log(C,"Connection object = ",h.connection)},h.onHangUp=function(){if(E.default.log("onHangup Called"),h.room&&(this.room.off(u.default.events.conference.TRACK_ADDED,h.onRemoteTrack),this.room.off(u.default.events.conference.TRACK_REMOVED,function(e){console.info("track")}),this.room.off(u.default.events.conference.CONFERENCE_JOINED,h.onConferenceJoined),this.room.off(u.default.events.conference.USER_JOINED,function(e){h.remoteTracks[e]=[]}),this.room.off(u.default.events.conference.USER_LEFT,h.onUserLeft),this.room.off(u.default.events.conference.TRACK_MUTE_CHANGED,function(e){console.info("track")}),this.room.off(u.default.events.conference.DISPLAY_NAME_CHANGED,function(e,n){console.info("displayName")}),this.room.off(u.default.events.conference.TRACK_AUDIO_LEVEL_CHANGED,function(e,n){console.info("audioLevel")}),this.room.leave().catch(function(e){}),this.room=null),this.connection&&(this.connection.removeEventListener(u.default.events.connection.CONNECTION_ESTABLISHED,h.onConnectionSuccess),this.connection.removeEventListener(u.default.events.connection.CONNECTION_FAILED,h.onConnectionFailed),this.connection.removeEventListener(u.default.events.connection.CONNECTION_DISCONNECTED,h.disconnect),this.connection.disconnect(),this.connection=null),null!==this.dispatch&&(this.dispatch(f.default.removeLocalTracks()),this.dispatch(f.default.removeRemoteTracks()),this.dispatch(f.default.addLocalUrl("")),this.dispatch(f.default.addRemoteUrl(""))),h.localTracks)for(var e=0;e<h.localTracks.length;e++)h.localTracks[e].dispose();h.dispatch&&h.dispatch(f.default.clearAllUsers()),h.eventEmitter&&h.eventEmitter.emit("CallEvent",{type:"EndCall"})}},628,[1,2,3,4,6,9,395,10,14,556,629,577,560,627]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={addLocalUrl:function(t){return{type:'ADD_LOCAL_URL',payload:{localUrl:t}}},addLocalTrackId:function(t){return{type:'ADD_LOCAL_TRACK_ID',payload:t}},addRemoteUrl:function(t){return{type:'ADD_REMOTE_URL',payload:{remoteUrl:t}}},addLocalTracks:function(t){return{type:'ADD_LOCAL_TRACK',payload:{localTracks:t}}},addRemoteTracks:function(t){return{type:'ADD_REMOTE_TRACK',payload:{remoteTracks:t}}},addUser:function(t){return{type:'ADD_USER',payload:{user:t}}},removeUser:function(t){return{type:'REMOVE_USER',payload:{userId:t}}},clearAllUsers:function(t){return{type:'CLEAR_USERS'}},changeReadyState:function(t){return{type:'CHANGE_READY_STATE',payload:{ready:t}}},changeRoomName:function(t){return{type:'CHANGE_ROOM_NAME',payload:{room:t}}},changeAudioState:function(t){return{type:'CHANGE_AUDIO_STATE',payload:{audioMute:t}}},changeAudioMode:function(t){return{type:'CHANGE_AUDIO_MODE',payload:{audioMode:t}}},changeVideoState:function(t){return{type:'CHANGE_VIDEO_STATE',payload:{videoMute:t}}},connectionFailed:function(t){return{type:'CONNECTION_FAILED',payload:{status:t}}},updateDominantVideoId:function(t){return{type:'UPDATE_DOMINANT_VIDEO_ID',payload:t}},updateDominantVideoTrack:function(t){return{type:'UPDATE_DOMINANT_VIDEO_TRACK',payload:t}},removeRemoteTrack:function(t){return{type:'REMOVE_REMOTE_TRACK',payload:t}},removeLocalTracks:function(){return{type:'REMOVE_LOCAL_TRACKS',payload:'localVideo'}},removeRemoteTracks:function(){return{type:'REMOVE_REMOTE_TRACKS',payload:'remoteVideo'}},dominantUserID:function(t){return{type:'DOMINANT_USER_ID',payload:t}}};e.default=t},629,[]);
__d(function(t,a,c,e,m,o,n){m.exports={name:"cometchatWRTC",displayName:"cometchatWRTC"}},630,[]);
__r(27);
__r(0);